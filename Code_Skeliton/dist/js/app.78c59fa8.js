(function(){"use strict";var n={5929:function(n,t,o){var e=o(5130),r=o(6768);function s(n,t,o,e,s,a){const i=(0,r.g2)("Layout");return(0,r.uX)(),(0,r.Wv)(i)}const a={key:0,class:"divLayout"},i={class:"hdrHeader"};function c(n,t,o,e,s,c){const u=(0,r.g2)("v-btn"),l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)(r.FK,null,[e.isLoginPage?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("header",i,[t[1]||(t[1]=(0,r.Lk)("p",{class:"projectName"},"SPA",-1)),(0,r.Lk)("div",null,[(0,r.bF)(u,{class:"btn btnLogout",onClick:c.handleClickLogoutButton},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)("Logout")]))),_:1},8,["onClick"])])]),(0,r.Lk)("main",null,[(0,r.bF)(l)])])),e.isLoginPage?((0,r.uX)(),(0,r.Wv)(l,{key:1})):(0,r.Q3)("",!0)],64)}o(4114);var u=o(1387),l={setup(){const n=(0,u.lq)(),t=(0,r.EW)((()=>"Login"===n.name));return{isLoginPage:t}},methods:{handleClickLogoutButton(){sessionStorage.removeItem("accessTokenInSessn"),this.$router.push("/")}}},p=o(1241);const d=(0,p.A)(l,[["render",c]]);var f=d,h={components:{Layout:f}};const g=(0,p.A)(h,[["render",s]]);var v=g;const L={class:"container"},b={class:"card"},k={class:"input-group"},m={class:"input-group"},w={class:"password-container"},y=["type"];function P(n,t,o,s,a,i){return(0,r.uX)(),(0,r.CE)("div",L,[(0,r.Lk)("div",b,[t[6]||(t[6]=(0,r.Lk)("h1",null,"SPA",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,e.D$)(((...n)=>i.handleLogin&&i.handleLogin(...n)),["prevent"]))},[(0,r.Lk)("div",k,[t[3]||(t[3]=(0,r.Lk)("label",{class:"labelLogin"},"Login Account",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>a.inpLoginAccnt=n),id:"inpLoginAccnt",required:""},null,512),[[e.Jo,a.inpLoginAccnt]])]),(0,r.Lk)("div",m,[t[4]||(t[4]=(0,r.Lk)("label",{class:"labelLogin"},"Password",-1)),(0,r.Lk)("div",w,[(0,r.bo)((0,r.Lk)("input",{type:a.showPassword?"text":"password","onUpdate:modelValue":t[1]||(t[1]=n=>a.inpPassword=n),id:"inpPassword",required:""},null,8,y),[[e.hp,a.inpPassword]])])]),t[5]||(t[5]=(0,r.Lk)("button",{type:"submit",class:"btn btnLogin"},"LOGIN",-1))],32)])])}const A="http://10.17.1.162:5000/api";var T={data(){return{inpLoginAccnt:"",inpPassword:"",showPassword:!1}},mounted(){sessionStorage.removeItem("accessTokenInSessn")},methods:{handleLogin(){this.processLogin()},async processLogin(){const n=`${A}/login`;let t=`${this.inpLoginAccnt}`,o=`${this.inpPassword}`;try{const e=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({loginAccount:t,password:o})});if(!e.ok)throw new Error(`${e.status}`);const r=await e.json();if(null==r)throw new Error("404");sessionStorage.setItem("accessTokenInSessn",r.accessToken),this.$router.push({name:"TransportCompanyTranslationTable"})}catch(e){switch(e.message){case"400":alert("Bad request");break;case"401":alert("Unauthorised / Incorrect url");break;case"404":alert("Invalid credentials");break;default:alert("Error in login process. Unable to connect to the API")}}}}};const I=(0,p.A)(T,[["render",P]]);var S=I;const C={class:"divBody"};function O(n,t,o,e,s,a){return(0,r.uX)(),(0,r.CE)("div",C)}var E={mounted(){null==sessionStorage.getItem("accessTokenInSessn")&&this.$router.push("/")}};const j=(0,p.A)(E,[["render",O]]);var $=j;const x=[{path:"/",name:"Login",component:S},{path:"/TransportCompanyTranslationTable",name:"TransportCompanyTranslationTable",component:$}],_=(0,u.aE)({history:(0,u.LA)(),routes:x});var U=_;const X=(0,e.Ef)(v);X.use(U),X.mount("#app")}},t={};function o(e){var r=t[e];if(void 0!==r)return r.exports;var s=t[e]={exports:{}};return n[e].call(s.exports,s,s.exports,o),s.exports}o.m=n,function(){var n=[];o.O=function(t,e,r,s){if(!e){var a=1/0;for(l=0;l<n.length;l++){e=n[l][0],r=n[l][1],s=n[l][2];for(var i=!0,c=0;c<e.length;c++)(!1&s||a>=s)&&Object.keys(o.O).every((function(n){return o.O[n](e[c])}))?e.splice(c--,1):(i=!1,s<a&&(a=s));if(i){n.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}s=s||0;for(var l=n.length;l>0&&n[l-1][2]>s;l--)n[l]=n[l-1];n[l]=[e,r,s]}}(),function(){o.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return o.d(t,{a:t}),t}}(),function(){o.d=function(n,t){for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){o.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)}}(),function(){var n={524:0};o.O.j=function(t){return 0===n[t]};var t=function(t,e){var r,s,a=e[0],i=e[1],c=e[2],u=0;if(a.some((function(t){return 0!==n[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(c)var l=c(o)}for(t&&t(e);u<a.length;u++)s=a[u],o.o(n,s)&&n[s]&&n[s][0](),n[s]=0;return o.O(l)},e=self["webpackChunkSPA_API_UI"]=self["webpackChunkSPA_API_UI"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=o.O(void 0,[504],(function(){return o(5929)}));e=o.O(e)})();
//# sourceMappingURL=app.78c59fa8.js.map