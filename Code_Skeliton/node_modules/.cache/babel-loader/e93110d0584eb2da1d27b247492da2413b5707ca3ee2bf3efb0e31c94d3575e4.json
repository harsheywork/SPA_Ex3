{"ast":null,"code":"import _defineProperty from\"D:/VS_Code/EMTR/jgs-assist/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";var _TableRegistry;import\"core-js/modules/es.array.push.js\";import\"core-js/modules/es.array-buffer.detached.js\";import\"core-js/modules/es.array-buffer.transfer.js\";import\"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";import\"core-js/modules/es.typed-array.to-reversed.js\";import\"core-js/modules/es.typed-array.to-sorted.js\";import\"core-js/modules/es.typed-array.with.js\";import\"core-js/modules/esnext.iterator.constructor.js\";import\"core-js/modules/esnext.iterator.every.js\";import\"core-js/modules/esnext.iterator.filter.js\";import\"core-js/modules/esnext.iterator.find.js\";import\"core-js/modules/esnext.iterator.for-each.js\";import\"core-js/modules/esnext.iterator.map.js\";import\"core-js/modules/esnext.iterator.reduce.js\";import\"core-js/modules/esnext.iterator.some.js\";import\"core-js/modules/web.url-search-params.delete.js\";import\"core-js/modules/web.url-search-params.has.js\";import\"core-js/modules/web.url-search-params.size.js\";/* Tabulator v6.3.0 (c) Oliver Folkerd 2024 */class CoreFeature{constructor(table){this.table=table;}//////////////////////////////////////////\n/////////////// DataLoad /////////////////\n//////////////////////////////////////////\nreloadData(data,silent,columnsChanged){return this.table.dataLoader.load(data,undefined,undefined,undefined,silent,columnsChanged);}//////////////////////////////////////////\n///////////// Localization ///////////////\n//////////////////////////////////////////\nlangText(){return this.table.modules.localize.getText(...arguments);}langBind(){return this.table.modules.localize.bind(...arguments);}langLocale(){return this.table.modules.localize.getLocale(...arguments);}//////////////////////////////////////////\n////////// Inter Table Comms /////////////\n//////////////////////////////////////////\ncommsConnections(){return this.table.modules.comms.getConnections(...arguments);}commsSend(){return this.table.modules.comms.send(...arguments);}//////////////////////////////////////////\n//////////////// Layout  /////////////////\n//////////////////////////////////////////\nlayoutMode(){return this.table.modules.layout.getMode();}layoutRefresh(force){return this.table.modules.layout.layout(force);}//////////////////////////////////////////\n/////////////// Event Bus ////////////////\n//////////////////////////////////////////\nsubscribe(){return this.table.eventBus.subscribe(...arguments);}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments);}subscribed(key){return this.table.eventBus.subscribed(key);}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments);}dispatch(){return this.table.eventBus.dispatch(...arguments);}chain(){return this.table.eventBus.chain(...arguments);}confirm(){return this.table.eventBus.confirm(...arguments);}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments);}subscribedExternal(key){return this.table.externalEvents.subscribed(key);}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments);}//////////////////////////////////////////\n//////////////// Options /////////////////\n//////////////////////////////////////////\noptions(key){return this.table.options[key];}setOption(key,value){if(typeof value!==\"undefined\"){this.table.options[key]=value;}return this.table.options[key];}//////////////////////////////////////////\n/////////// Deprecation Checks ///////////\n//////////////////////////////////////////\ndeprecationCheck(oldOption,newOption,convert){return this.table.deprecationAdvisor.check(oldOption,newOption,convert);}deprecationCheckMsg(oldOption,msg){return this.table.deprecationAdvisor.checkMsg(oldOption,msg);}deprecationMsg(msg){return this.table.deprecationAdvisor.msg(msg);}//////////////////////////////////////////\n//////////////// Modules /////////////////\n//////////////////////////////////////////\nmodule(key){return this.table.module(key);}}class Helpers{static elVisible(el){return!(el.offsetWidth<=0&&el.offsetHeight<=0);}static elOffset(el){var box=el.getBoundingClientRect();return{top:box.top+window.pageYOffset-document.documentElement.clientTop,left:box.left+window.pageXOffset-document.documentElement.clientLeft};}static retrieveNestedData(separator,field,data){var structure=separator?field.split(separator):[field],length=structure.length,output;for(let i=0;i<length;i++){data=data[structure[i]];output=data;if(!data){break;}}return output;}static deepClone(obj,clone,list=[]){var objectProto={}.__proto__,arrayProto=[].__proto__;if(!clone){clone=Object.assign(Array.isArray(obj)?[]:{},obj);}for(var i in obj){let subject=obj[i],match,copy;if(subject!=null&&typeof subject===\"object\"&&(subject.__proto__===objectProto||subject.__proto__===arrayProto)){match=list.findIndex(item=>{return item.subject===subject;});if(match>-1){clone[i]=list[match].copy;}else{copy=Object.assign(Array.isArray(subject)?[]:{},subject);list.unshift({subject,copy});clone[i]=this.deepClone(subject,copy,list);}}}return clone;}}let Popup$1=class Popup extends CoreFeature{constructor(table,element,parent){super(table);this.element=element;this.container=this._lookupContainer();this.parent=parent;this.reversedX=false;this.childPopup=null;this.blurable=false;this.blurCallback=null;this.blurEventsBound=false;this.renderedCallback=null;this.visible=false;this.hideable=true;this.element.classList.add(\"tabulator-popup-container\");this.blurEvent=this.hide.bind(this,false);this.escEvent=this._escapeCheck.bind(this);this.destroyBinding=this.tableDestroyed.bind(this);this.destroyed=false;}tableDestroyed(){this.destroyed=true;this.hide(true);}_lookupContainer(){var container=this.table.options.popupContainer;if(typeof container===\"string\"){container=document.querySelector(container);if(!container){console.warn(\"Menu Error - no container element found matching selector:\",this.table.options.popupContainer,\"(defaulting to document body)\");}}else if(container===true){container=this.table.element;}if(container&&!this._checkContainerIsParent(container)){container=false;console.warn(\"Menu Error - container element does not contain this table:\",this.table.options.popupContainer,\"(defaulting to document body)\");}if(!container){container=document.body;}return container;}_checkContainerIsParent(container,element=this.table.element){if(container===element){return true;}else{return element.parentNode?this._checkContainerIsParent(container,element.parentNode):false;}}renderCallback(callback){this.renderedCallback=callback;}containerEventCoords(e){var touch=!(e instanceof MouseEvent);var x=touch?e.touches[0].pageX:e.pageX;var y=touch?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let parentOffset=Helpers.elOffset(this.container);x-=parentOffset.left;y-=parentOffset.top;}return{x,y};}elementPositionCoords(element,position=\"right\"){var offset=Helpers.elOffset(element),containerOffset,x,y;if(this.container!==document.body){containerOffset=Helpers.elOffset(this.container);offset.left-=containerOffset.left;offset.top-=containerOffset.top;}switch(position){case\"right\":x=offset.left+element.offsetWidth;y=offset.top-1;break;case\"bottom\":x=offset.left;y=offset.top+element.offsetHeight;break;case\"left\":x=offset.left;y=offset.top-1;break;case\"top\":x=offset.left;y=offset.top;break;case\"center\":x=offset.left+element.offsetWidth/2;y=offset.top+element.offsetHeight/2;break;}return{x,y,offset};}show(origin,position){var x,y,parentEl,parentOffset,coords;if(this.destroyed||this.table.destroyed){return this;}if(origin instanceof HTMLElement){parentEl=origin;coords=this.elementPositionCoords(origin,position);parentOffset=coords.offset;x=coords.x;y=coords.y;}else if(typeof origin===\"number\"){parentOffset={top:0,left:0};x=origin;y=position;}else{coords=this.containerEventCoords(origin);x=coords.x;y=coords.y;this.reversedX=false;}this.element.style.top=y+\"px\";this.element.style.left=x+\"px\";this.container.appendChild(this.element);if(typeof this.renderedCallback===\"function\"){this.renderedCallback();}this._fitToScreen(x,y,parentEl,parentOffset,position);this.visible=true;this.subscribe(\"table-destroy\",this.destroyBinding);this.element.addEventListener(\"mousedown\",e=>{e.stopPropagation();});return this;}_fitToScreen(x,y,parentEl,parentOffset,position){var scrollTop=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;//move menu to start on right edge if it is too close to the edge of the screen\nif(x+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX){this.element.style.left=\"\";if(parentEl){this.element.style.right=this.container.offsetWidth-parentOffset.left+\"px\";}else{this.element.style.right=this.container.offsetWidth-x+\"px\";}this.reversedX=true;}//move menu to start on bottom edge if it is too close to the edge of the screen\nlet offsetHeight=Math.max(this.container.offsetHeight,scrollTop?this.container.scrollHeight:0);if(y+this.element.offsetHeight>offsetHeight){if(parentEl){switch(position){case\"bottom\":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-parentEl.offsetHeight-1+\"px\";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+parentEl.offsetHeight+1+\"px\";}}else{this.element.style.height=offsetHeight+\"px\";}}}isVisible(){return this.visible;}hideOnBlur(callback){this.blurable=true;if(this.visible){setTimeout(()=>{if(this.visible){this.table.rowManager.element.addEventListener(\"scroll\",this.blurEvent);this.subscribe(\"cell-editing\",this.blurEvent);document.body.addEventListener(\"click\",this.blurEvent);document.body.addEventListener(\"contextmenu\",this.blurEvent);document.body.addEventListener(\"mousedown\",this.blurEvent);window.addEventListener(\"resize\",this.blurEvent);document.body.addEventListener(\"keydown\",this.escEvent);this.blurEventsBound=true;}},100);this.blurCallback=callback;}return this;}_escapeCheck(e){if(e.keyCode==27){this.hide();}}blockHide(){this.hideable=false;}restoreHide(){this.hideable=true;}hide(silent=false){if(this.visible&&this.hideable){if(this.blurable&&this.blurEventsBound){document.body.removeEventListener(\"keydown\",this.escEvent);document.body.removeEventListener(\"click\",this.blurEvent);document.body.removeEventListener(\"contextmenu\",this.blurEvent);document.body.removeEventListener(\"mousedown\",this.blurEvent);window.removeEventListener(\"resize\",this.blurEvent);this.table.rowManager.element.removeEventListener(\"scroll\",this.blurEvent);this.unsubscribe(\"cell-editing\",this.blurEvent);this.blurEventsBound=false;}if(this.childPopup){this.childPopup.hide();}if(this.parent){this.parent.childPopup=null;}if(this.element.parentNode){this.element.parentNode.removeChild(this.element);}this.visible=false;if(this.blurCallback&&!silent){this.blurCallback();}this.unsubscribe(\"table-destroy\",this.destroyBinding);}return this;}child(element){if(this.childPopup){this.childPopup.hide();}this.childPopup=new Popup(this.table,element,this);return this.childPopup;}};class Module extends CoreFeature{constructor(table,name){super(table);this._handler=null;}initialize(){// setup module when table is initialized, to be overridden in module\n}///////////////////////////////////\n////// Options Registration ///////\n///////////////////////////////////\nregisterTableOption(key,value){this.table.optionsList.register(key,value);}registerColumnOption(key,value){this.table.columnManager.optionsList.register(key,value);}///////////////////////////////////\n/// Public Function Registration ///\n///////////////////////////////////\nregisterTableFunction(name,func){if(typeof this.table[name]===\"undefined\"){this.table[name]=(...args)=>{this.table.initGuard(name);return func(...args);};}else{console.warn(\"Unable to bind table function, name already in use\",name);}}registerComponentFunction(component,func,handler){return this.table.componentFunctionBinder.bind(component,func,handler);}///////////////////////////////////\n////////// Data Pipeline //////////\n///////////////////////////////////\nregisterDataHandler(handler,priority){this.table.rowManager.registerDataPipelineHandler(handler,priority);this._handler=handler;}registerDisplayHandler(handler,priority){this.table.rowManager.registerDisplayPipelineHandler(handler,priority);this._handler=handler;}displayRows(adjust){var index=this.table.rowManager.displayRows.length-1,lookupIndex;if(this._handler){lookupIndex=this.table.rowManager.displayPipeline.findIndex(item=>{return item.handler===this._handler;});if(lookupIndex>-1){index=lookupIndex;}}if(adjust){index=index+adjust;}if(this._handler){if(index>-1){return this.table.rowManager.getDisplayRows(index);}else{return this.activeRows();}}}activeRows(){return this.table.rowManager.activeRows;}refreshData(renderInPosition,handler){if(!handler){handler=this._handler;}if(handler){this.table.rowManager.refreshActiveData(handler,false,renderInPosition);}}///////////////////////////////////\n//////// Footer Management ////////\n///////////////////////////////////\nfooterAppend(element){return this.table.footerManager.append(element);}footerPrepend(element){return this.table.footerManager.prepend(element);}footerRemove(element){return this.table.footerManager.remove(element);}///////////////////////////////////\n//////// Popups Management ////////\n///////////////////////////////////\npopup(menuEl,menuContainer){return new Popup$1(this.table,menuEl,menuContainer);}///////////////////////////////////\n//////// Alert Management ////////\n///////////////////////////////////\nalert(content,type){return this.table.alertManager.alert(content,type);}clearAlert(){return this.table.alertManager.clear();}}var defaultAccessors={rownum:function(value,data,type,params,column,row){return row.getPosition();}};class Accessor extends Module{constructor(table){super(table);this.allowedTypes=[\"\",\"data\",\"download\",\"clipboard\",\"print\",\"htmlOutput\"];//list of accessor types\nthis.registerColumnOption(\"accessor\");this.registerColumnOption(\"accessorParams\");this.registerColumnOption(\"accessorData\");this.registerColumnOption(\"accessorDataParams\");this.registerColumnOption(\"accessorDownload\");this.registerColumnOption(\"accessorDownloadParams\");this.registerColumnOption(\"accessorClipboard\");this.registerColumnOption(\"accessorClipboardParams\");this.registerColumnOption(\"accessorPrint\");this.registerColumnOption(\"accessorPrintParams\");this.registerColumnOption(\"accessorHtmlOutput\");this.registerColumnOption(\"accessorHtmlOutputParams\");}initialize(){this.subscribe(\"column-layout\",this.initializeColumn.bind(this));this.subscribe(\"row-data-retrieve\",this.transformRow.bind(this));}//initialize column accessor\ninitializeColumn(column){var match=false,config={};this.allowedTypes.forEach(type=>{var key=\"accessor\"+(type.charAt(0).toUpperCase()+type.slice(1)),accessor;if(column.definition[key]){accessor=this.lookupAccessor(column.definition[key]);if(accessor){match=true;config[key]={accessor:accessor,params:column.definition[key+\"Params\"]||{}};}}});if(match){column.modules.accessor=config;}}lookupAccessor(value){var accessor=false;//set column accessor\nswitch(typeof value){case\"string\":if(Accessor.accessors[value]){accessor=Accessor.accessors[value];}else{console.warn(\"Accessor Error - No such accessor found, ignoring: \",value);}break;case\"function\":accessor=value;break;}return accessor;}//apply accessor to row\ntransformRow(row,type){var key=\"accessor\"+(type.charAt(0).toUpperCase()+type.slice(1)),rowComponent=row.getComponent();//clone data object with deep copy to isolate internal data from returned result\nvar data=Helpers.deepClone(row.data||{});this.table.columnManager.traverse(function(column){var value,accessor,params,colComponent;if(column.modules.accessor){accessor=column.modules.accessor[key]||column.modules.accessor.accessor||false;if(accessor){value=column.getFieldValue(data);if(value!=\"undefined\"){colComponent=column.getComponent();params=typeof accessor.params===\"function\"?accessor.params(value,data,type,colComponent,rowComponent):accessor.params;column.setFieldValue(data,accessor.accessor(value,data,type,params,colComponent,rowComponent));}}}});return data;}}_defineProperty(Accessor,\"moduleName\",\"accessor\");//load defaults\n_defineProperty(Accessor,\"accessors\",defaultAccessors);var defaultConfig={method:\"GET\"};function generateParamsList$1(data,prefix){var output=[];prefix=prefix||\"\";if(Array.isArray(data)){data.forEach((item,i)=>{output=output.concat(generateParamsList$1(item,prefix?prefix+\"[\"+i+\"]\":i));});}else if(typeof data===\"object\"){for(var key in data){output=output.concat(generateParamsList$1(data[key],prefix?prefix+\"[\"+key+\"]\":key));}}else{output.push({key:prefix,value:data});}return output;}function serializeParams(params){var output=generateParamsList$1(params),encoded=[];output.forEach(function(item){encoded.push(encodeURIComponent(item.key)+\"=\"+encodeURIComponent(item.value));});return encoded.join(\"&\");}function urlBuilder(url,config,params){if(url){if(params&&Object.keys(params).length){if(!config.method||config.method.toLowerCase()==\"get\"){config.method=\"get\";url+=(url.includes(\"?\")?\"&\":\"?\")+serializeParams(params);}}}return url;}function defaultLoaderPromise(url,config,params){var contentType;return new Promise((resolve,reject)=>{//set url\nurl=this.urlGenerator.call(this.table,url,config,params);//set body content if not GET request\nif(config.method.toUpperCase()!=\"GET\"){contentType=typeof this.table.options.ajaxContentType===\"object\"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType];if(contentType){for(var key in contentType.headers){if(!config.headers){config.headers={};}if(typeof config.headers[key]===\"undefined\"){config.headers[key]=contentType.headers[key];}}config.body=contentType.body.call(this,url,config,params);}else{console.warn(\"Ajax Error - Invalid ajaxContentType value:\",this.table.options.ajaxContentType);}}if(url){//configure headers\nif(typeof config.headers===\"undefined\"){config.headers={};}if(typeof config.headers.Accept===\"undefined\"){config.headers.Accept=\"application/json\";}if(typeof config.headers[\"X-Requested-With\"]===\"undefined\"){config.headers[\"X-Requested-With\"]=\"XMLHttpRequest\";}if(typeof config.mode===\"undefined\"){config.mode=\"cors\";}if(config.mode==\"cors\"){if(typeof config.headers[\"Origin\"]===\"undefined\"){config.headers[\"Origin\"]=window.location.origin;}if(typeof config.credentials===\"undefined\"){config.credentials='same-origin';}}else{if(typeof config.credentials===\"undefined\"){config.credentials='include';}}//send request\nfetch(url,config).then(response=>{if(response.ok){response.json().then(data=>{resolve(data);}).catch(error=>{reject(error);console.warn(\"Ajax Load Error - Invalid JSON returned\",error);});}else{console.error(\"Ajax Load Error - Connection Error: \"+response.status,response.statusText);reject(response);}}).catch(error=>{console.error(\"Ajax Load Error - Connection Error: \",error);reject(error);});}else{console.warn(\"Ajax Load Error - No URL Set\");resolve([]);}});}function generateParamsList(data,prefix){var output=[];prefix=prefix||\"\";if(Array.isArray(data)){data.forEach((item,i)=>{output=output.concat(generateParamsList(item,prefix?prefix+\"[\"+i+\"]\":i));});}else if(typeof data===\"object\"){for(var key in data){output=output.concat(generateParamsList(data[key],prefix?prefix+\"[\"+key+\"]\":key));}}else{output.push({key:prefix,value:data});}return output;}var defaultContentTypeFormatters={\"json\":{headers:{'Content-Type':'application/json'},body:function(url,config,params){return JSON.stringify(params);}},\"form\":{headers:{},body:function(url,config,params){var output=generateParamsList(params),form=new FormData();output.forEach(function(item){form.append(item.key,item.value);});return form;}}};class Ajax extends Module{constructor(table){super(table);this.config={};//hold config object for ajax request\nthis.url=\"\";//request URL\nthis.urlGenerator=false;this.params=false;//request parameters\nthis.loaderPromise=false;this.registerTableOption(\"ajaxURL\",false);//url for ajax loading\nthis.registerTableOption(\"ajaxURLGenerator\",false);this.registerTableOption(\"ajaxParams\",{});//params for ajax loading\nthis.registerTableOption(\"ajaxConfig\",\"get\");//ajax request type\nthis.registerTableOption(\"ajaxContentType\",\"form\");//ajax request type\nthis.registerTableOption(\"ajaxRequestFunc\",false);//promise function\nthis.registerTableOption(\"ajaxRequesting\",function(){});this.registerTableOption(\"ajaxResponse\",false);this.contentTypeFormatters=Ajax.contentTypeFormatters;}//initialize setup options\ninitialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||Ajax.defaultLoaderPromise;this.urlGenerator=this.table.options.ajaxURLGenerator||Ajax.defaultURLGenerator;if(this.table.options.ajaxURL){this.setUrl(this.table.options.ajaxURL);}this.setDefaultConfig(this.table.options.ajaxConfig);this.registerTableFunction(\"getAjaxUrl\",this.getUrl.bind(this));this.subscribe(\"data-loading\",this.requestDataCheck.bind(this));this.subscribe(\"data-params\",this.requestParams.bind(this));this.subscribe(\"data-load\",this.requestData.bind(this));}requestParams(data,config,silent,params){var ajaxParams=this.table.options.ajaxParams;if(ajaxParams){if(typeof ajaxParams===\"function\"){ajaxParams=ajaxParams.call(this.table);}params=Object.assign(Object.assign({},ajaxParams),params);}return params;}requestDataCheck(data,params,config,silent){return!!(!data&&this.url||typeof data===\"string\");}requestData(url,params,config,silent,previousData){var ajaxConfig;if(!previousData&&this.requestDataCheck(url)){if(url){this.setUrl(url);}ajaxConfig=this.generateConfig(config);return this.sendRequest(this.url,params,ajaxConfig);}else{return previousData;}}setDefaultConfig(config={}){this.config=Object.assign({},Ajax.defaultConfig);if(typeof config==\"string\"){this.config.method=config;}else{Object.assign(this.config,config);}}//load config object\ngenerateConfig(config={}){var ajaxConfig=Object.assign({},this.config);if(typeof config==\"string\"){ajaxConfig.method=config;}else{Object.assign(ajaxConfig,config);}return ajaxConfig;}//set request url\nsetUrl(url){this.url=url;}//get request url\ngetUrl(){return this.url;}//send ajax request\nsendRequest(url,params,config){if(this.table.options.ajaxRequesting.call(this.table,url,params)!==false){return this.loaderPromise(url,config,params).then(data=>{if(this.table.options.ajaxResponse){data=this.table.options.ajaxResponse.call(this.table,url,params,data);}return data;});}else{return Promise.reject();}}}_defineProperty(Ajax,\"moduleName\",\"ajax\");//load defaults\n_defineProperty(Ajax,\"defaultConfig\",defaultConfig);_defineProperty(Ajax,\"defaultURLGenerator\",urlBuilder);_defineProperty(Ajax,\"defaultLoaderPromise\",defaultLoaderPromise);_defineProperty(Ajax,\"contentTypeFormatters\",defaultContentTypeFormatters);var defaultPasteActions={replace:function(data){return this.table.setData(data);},update:function(data){return this.table.updateOrAddData(data);},insert:function(data){return this.table.addData(data);}};var defaultPasteParsers={table:function(clipboard){var data=[],headerFindSuccess=true,columns=this.table.columnManager.columns,columnMap=[],rows=[];//get data from clipboard into array of columns and rows.\nclipboard=clipboard.split(\"\\n\");clipboard.forEach(function(row){data.push(row.split(\"\\t\"));});if(data.length&&!(data.length===1&&data[0].length<2)){//check if headers are present by title\ndata[0].forEach(function(value){var column=columns.find(function(column){return value&&column.definition.title&&value.trim()&&column.definition.title.trim()===value.trim();});if(column){columnMap.push(column);}else{headerFindSuccess=false;}});//check if column headers are present by field\nif(!headerFindSuccess){headerFindSuccess=true;columnMap=[];data[0].forEach(function(value){var column=columns.find(function(column){return value&&column.field&&value.trim()&&column.field.trim()===value.trim();});if(column){columnMap.push(column);}else{headerFindSuccess=false;}});if(!headerFindSuccess){columnMap=this.table.columnManager.columnsByIndex;}}//remove header row if found\nif(headerFindSuccess){data.shift();}data.forEach(function(item){var row={};item.forEach(function(value,i){if(columnMap[i]){row[columnMap[i].field]=value;}});rows.push(row);});return rows;}else{return false;}}};var bindings$2={copyToClipboard:[\"ctrl + 67\",\"meta + 67\"]};var actions$2={copyToClipboard:function(e){if(!this.table.modules.edit.currentCell){if(this.table.modExists(\"clipboard\",true)){this.table.modules.clipboard.copy(false,true);}}}};var extensions$4={keybindings:{bindings:bindings$2,actions:actions$2}};class Clipboard extends Module{constructor(table){super(table);this.mode=true;this.pasteParser=function(){};this.pasteAction=function(){};this.customSelection=false;this.rowRange=false;this.blocked=true;//block copy actions not originating from this command\nthis.registerTableOption(\"clipboard\",false);//enable clipboard\nthis.registerTableOption(\"clipboardCopyStyled\",true);//formatted table data\nthis.registerTableOption(\"clipboardCopyConfig\",false);//clipboard config\nthis.registerTableOption(\"clipboardCopyFormatter\",false);//DEPRECATED - REMOVE in 5.0\nthis.registerTableOption(\"clipboardCopyRowRange\",\"active\");//restrict clipboard to visible rows only\nthis.registerTableOption(\"clipboardPasteParser\",\"table\");//convert pasted clipboard data to rows\nthis.registerTableOption(\"clipboardPasteAction\",\"insert\");//how to insert pasted data into the table\nthis.registerColumnOption(\"clipboard\");this.registerColumnOption(\"titleClipboard\");}initialize(){this.mode=this.table.options.clipboard;this.rowRange=this.table.options.clipboardCopyRowRange;if(this.mode===true||this.mode===\"copy\"){this.table.element.addEventListener(\"copy\",e=>{var plain,html,list;if(!this.blocked){e.preventDefault();if(this.customSelection){plain=this.customSelection;if(this.table.options.clipboardCopyFormatter){plain=this.table.options.clipboardCopyFormatter(\"plain\",plain);}}else{list=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,\"clipboard\");html=this.table.modules.export.generateHTMLTable(list);plain=html?this.generatePlainContent(list):\"\";if(this.table.options.clipboardCopyFormatter){plain=this.table.options.clipboardCopyFormatter(\"plain\",plain);html=this.table.options.clipboardCopyFormatter(\"html\",html);}}if(window.clipboardData&&window.clipboardData.setData){window.clipboardData.setData('Text',plain);}else if(e.clipboardData&&e.clipboardData.setData){e.clipboardData.setData('text/plain',plain);if(html){e.clipboardData.setData('text/html',html);}}else if(e.originalEvent&&e.originalEvent.clipboardData.setData){e.originalEvent.clipboardData.setData('text/plain',plain);if(html){e.originalEvent.clipboardData.setData('text/html',html);}}this.dispatchExternal(\"clipboardCopied\",plain,html);this.reset();}});}if(this.mode===true||this.mode===\"paste\"){this.table.element.addEventListener(\"paste\",e=>{this.paste(e);});}this.setPasteParser(this.table.options.clipboardPasteParser);this.setPasteAction(this.table.options.clipboardPasteAction);this.registerTableFunction(\"copyToClipboard\",this.copy.bind(this));}reset(){this.blocked=true;this.customSelection=false;}generatePlainContent(list){var output=[];list.forEach(row=>{var rowData=[];row.columns.forEach(col=>{var value=\"\";if(col){if(row.type===\"group\"){col.value=col.component.getKey();}if(col.value===null){value=\"\";}else{switch(typeof col.value){case\"object\":value=JSON.stringify(col.value);break;case\"undefined\":value=\"\";break;default:value=col.value;}}}rowData.push(value);});output.push(rowData.join(\"\\t\"));});return output.join(\"\\n\");}copy(range,internal){var sel,textRange;this.blocked=false;this.customSelection=false;if(this.mode===true||this.mode===\"copy\"){this.rowRange=range||this.table.options.clipboardCopyRowRange;if(typeof window.getSelection!=\"undefined\"&&typeof document.createRange!=\"undefined\"){range=document.createRange();range.selectNodeContents(this.table.element);sel=window.getSelection();if(sel.toString()&&internal){this.customSelection=sel.toString();}sel.removeAllRanges();sel.addRange(range);}else if(typeof document.selection!=\"undefined\"&&typeof document.body.createTextRange!=\"undefined\"){textRange=document.body.createTextRange();textRange.moveToElementText(this.table.element);textRange.select();}document.execCommand('copy');if(sel){sel.removeAllRanges();}}}//PASTE EVENT HANDLING\nsetPasteAction(action){switch(typeof action){case\"string\":this.pasteAction=Clipboard.pasteActions[action];if(!this.pasteAction){console.warn(\"Clipboard Error - No such paste action found:\",action);}break;case\"function\":this.pasteAction=action;break;}}setPasteParser(parser){switch(typeof parser){case\"string\":this.pasteParser=Clipboard.pasteParsers[parser];if(!this.pasteParser){console.warn(\"Clipboard Error - No such paste parser found:\",parser);}break;case\"function\":this.pasteParser=parser;break;}}paste(e){var data,rowData,rows;if(this.checkPasteOrigin(e)){data=this.getPasteData(e);rowData=this.pasteParser.call(this,data);if(rowData){e.preventDefault();if(this.table.modExists(\"mutator\")){rowData=this.mutateData(rowData);}rows=this.pasteAction.call(this,rowData);this.dispatchExternal(\"clipboardPasted\",data,rowData,rows);}else{this.dispatchExternal(\"clipboardPasteError\",data);}}}mutateData(data){var output=[];if(Array.isArray(data)){data.forEach(row=>{output.push(this.table.modules.mutator.transformRow(row,\"clipboard\"));});}else{output=data;}return output;}checkPasteOrigin(e){var valid=true;var blocked=this.confirm(\"clipboard-paste\",[e]);if(blocked||![\"DIV\",\"SPAN\"].includes(e.target.tagName)){valid=false;}return valid;}getPasteData(e){var data;if(window.clipboardData&&window.clipboardData.getData){data=window.clipboardData.getData('Text');}else if(e.clipboardData&&e.clipboardData.getData){data=e.clipboardData.getData('text/plain');}else if(e.originalEvent&&e.originalEvent.clipboardData.getData){data=e.originalEvent.clipboardData.getData('text/plain');}return data;}}_defineProperty(Clipboard,\"moduleName\",\"clipboard\");_defineProperty(Clipboard,\"moduleExtensions\",extensions$4);//load defaults\n_defineProperty(Clipboard,\"pasteActions\",defaultPasteActions);_defineProperty(Clipboard,\"pasteParsers\",defaultPasteParsers);class CalcComponent{constructor(row){this._row=row;return new Proxy(this,{get:function(target,name,receiver){if(typeof target[name]!==\"undefined\"){return target[name];}else{return target._row.table.componentFunctionBinder.handle(\"row\",target._row,name);}}});}getData(transform){return this._row.getData(transform);}getElement(){return this._row.getElement();}getTable(){return this._row.table;}getCells(){var cells=[];this._row.getCells().forEach(function(cell){cells.push(cell.getComponent());});return cells;}getCell(column){var cell=this._row.getCell(column);return cell?cell.getComponent():false;}_getSelf(){return this._row;}}//public cell object\nclass CellComponent{constructor(cell){this._cell=cell;return new Proxy(this,{get:function(target,name,receiver){if(typeof target[name]!==\"undefined\"){return target[name];}else{return target._cell.table.componentFunctionBinder.handle(\"cell\",target._cell,name);}}});}getValue(){return this._cell.getValue();}getOldValue(){return this._cell.getOldValue();}getInitialValue(){return this._cell.initialValue;}getElement(){return this._cell.getElement();}getRow(){return this._cell.row.getComponent();}getData(transform){return this._cell.row.getData(transform);}getType(){return\"cell\";}getField(){return this._cell.column.getField();}getColumn(){return this._cell.column.getComponent();}setValue(value,mutate){if(typeof mutate==\"undefined\"){mutate=true;}this._cell.setValue(value,mutate);}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue());}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue);}checkHeight(){this._cell.checkHeight();}getTable(){return this._cell.table;}_getSelf(){return this._cell;}}class Cell extends CoreFeature{constructor(column,row){super(column.table);this.table=column.table;this.column=column;this.row=row;this.element=null;this.value=null;this.initialValue;this.oldValue=null;this.modules={};this.height=null;this.width=null;this.minWidth=null;this.component=null;this.loaded=false;//track if the cell has been added to the DOM yet\nthis.build();}//////////////// Setup Functions /////////////////\n//generate element\nbuild(){this.generateElement();this.setWidth();this._configureCell();this.setValueActual(this.column.getFieldValue(this.row.data));this.initialValue=this.value;}generateElement(){this.element=document.createElement('div');this.element.className=\"tabulator-cell\";this.element.setAttribute(\"role\",\"gridcell\");if(this.column.isRowHeader){this.element.classList.add(\"tabulator-row-header\");}}_configureCell(){var element=this.element,field=this.column.getField(),vertAligns={top:\"flex-start\",bottom:\"flex-end\",middle:\"center\"},hozAligns={left:\"flex-start\",right:\"flex-end\",center:\"center\"};//set text alignment\nelement.style.textAlign=this.column.hozAlign;if(this.column.vertAlign){element.style.display=\"inline-flex\";element.style.alignItems=vertAligns[this.column.vertAlign]||\"\";if(this.column.hozAlign){element.style.justifyContent=hozAligns[this.column.hozAlign]||\"\";}}if(field){element.setAttribute(\"tabulator-field\",field);}//add class to cell if needed\nif(this.column.definition.cssClass){var classNames=this.column.definition.cssClass.split(\" \");classNames.forEach(className=>{element.classList.add(className);});}this.dispatch(\"cell-init\",this);//hide cell if not visible\nif(!this.column.visible){this.hide();}}//generate cell contents\n_generateContents(){var val;val=this.chain(\"cell-format\",this,null,()=>{return this.element.innerHTML=this.value;});switch(typeof val){case\"object\":if(val instanceof Node){//clear previous cell contents\nwhile(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.element.appendChild(val);}else{this.element.innerHTML=\"\";if(val!=null){console.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\",val);}}break;case\"undefined\":this.element.innerHTML=\"\";break;default:this.element.innerHTML=val;}}cellRendered(){this.dispatch(\"cell-rendered\",this);}//////////////////// Getters ////////////////////\ngetElement(containerOnly){if(!this.loaded){this.loaded=true;if(!containerOnly){this.layoutElement();}}return this.element;}getValue(){return this.value;}getOldValue(){return this.oldValue;}//////////////////// Actions ////////////////////\nsetValue(value,mutate,force){var changed=this.setValueProcessData(value,mutate,force);if(changed){this.dispatch(\"cell-value-updated\",this);this.cellRendered();if(this.column.definition.cellEdited){this.column.definition.cellEdited.call(this.table,this.getComponent());}this.dispatchExternal(\"cellEdited\",this.getComponent());if(this.subscribedExternal(\"dataChanged\")){this.dispatchExternal(\"dataChanged\",this.table.rowManager.getData());}}}setValueProcessData(value,mutate,force){var changed=false;if(this.value!==value||force){changed=true;if(mutate){value=this.chain(\"cell-value-changing\",[this,value],null,value);}}this.setValueActual(value);if(changed){this.dispatch(\"cell-value-changed\",this);}return changed;}setValueActual(value){this.oldValue=this.value;this.value=value;this.dispatch(\"cell-value-save-before\",this);this.column.setFieldValue(this.row.data,value);this.dispatch(\"cell-value-save-after\",this);if(this.loaded){this.layoutElement();}}layoutElement(){this._generateContents();this.dispatch(\"cell-layout\",this);}setWidth(){this.width=this.column.width;this.element.style.width=this.column.widthStyled;}clearWidth(){this.width=\"\";this.element.style.width=\"\";}getWidth(){return this.width||this.element.offsetWidth;}setMinWidth(){this.minWidth=this.column.minWidth;this.element.style.minWidth=this.column.minWidthStyled;}setMaxWidth(){this.maxWidth=this.column.maxWidth;this.element.style.maxWidth=this.column.maxWidthStyled;}checkHeight(){// var height = this.element.css(\"height\");\nthis.row.reinitializeHeight();}clearHeight(){this.element.style.height=\"\";this.height=null;this.dispatch(\"cell-height\",this,\"\");}setHeight(){this.height=this.row.height;this.element.style.height=this.row.heightStyled;this.dispatch(\"cell-height\",this,this.row.heightStyled);}getHeight(){return this.height||this.element.offsetHeight;}show(){this.element.style.display=this.column.vertAlign?\"inline-flex\":\"\";}hide(){this.element.style.display=\"none\";}delete(){this.dispatch(\"cell-delete\",this);if(!this.table.rowManager.redrawBlock&&this.element.parentNode){this.element.parentNode.removeChild(this.element);}this.element=false;this.column.deleteCell(this);this.row.deleteCell(this);this.calcs={};}getIndex(){return this.row.getCellIndex(this);}//////////////// Object Generation /////////////////\ngetComponent(){if(!this.component){this.component=new CellComponent(this);}return this.component;}}//public column object\nclass ColumnComponent{constructor(column){this._column=column;this.type=\"ColumnComponent\";return new Proxy(this,{get:function(target,name,receiver){if(typeof target[name]!==\"undefined\"){return target[name];}else{return target._column.table.componentFunctionBinder.handle(\"column\",target._column,name);}}});}getElement(){return this._column.getElement();}getDefinition(){return this._column.getDefinition();}getField(){return this._column.getField();}getTitleDownload(){return this._column.getTitleDownload();}getCells(){var cells=[];this._column.cells.forEach(function(cell){cells.push(cell.getComponent());});return cells;}isVisible(){return this._column.visible;}show(){if(this._column.isGroup){this._column.columns.forEach(function(column){column.show();});}else{this._column.show();}}hide(){if(this._column.isGroup){this._column.columns.forEach(function(column){column.hide();});}else{this._column.hide();}}toggle(){if(this._column.visible){this.hide();}else{this.show();}}delete(){return this._column.delete();}getSubColumns(){var output=[];if(this._column.columns.length){this._column.columns.forEach(function(column){output.push(column.getComponent());});}return output;}getParentColumn(){return this._column.getParentComponent();}_getSelf(){return this._column;}scrollTo(position,ifVisible){return this._column.table.columnManager.scrollToColumn(this._column,position,ifVisible);}getTable(){return this._column.table;}move(to,after){var toColumn=this._column.table.columnManager.findColumn(to);if(toColumn){this._column.table.columnManager.moveColumn(this._column,toColumn,after);}else{console.warn(\"Move Error - No matching column found:\",toColumn);}}getNextColumn(){var nextCol=this._column.nextColumn();return nextCol?nextCol.getComponent():false;}getPrevColumn(){var prevCol=this._column.prevColumn();return prevCol?prevCol.getComponent():false;}updateDefinition(updates){return this._column.updateDefinition(updates);}getWidth(){return this._column.getWidth();}setWidth(width){var result;if(width===true){result=this._column.reinitializeWidth(true);}else{result=this._column.setWidth(width);}this._column.table.columnManager.rerenderColumns(true);return result;}}var defaultColumnOptions={\"title\":undefined,\"field\":undefined,\"columns\":undefined,\"visible\":undefined,\"hozAlign\":undefined,\"vertAlign\":undefined,\"width\":undefined,\"minWidth\":40,\"maxWidth\":undefined,\"maxInitialWidth\":undefined,\"cssClass\":undefined,\"variableHeight\":undefined,\"headerVertical\":undefined,\"headerHozAlign\":undefined,\"headerWordWrap\":false,\"editableTitle\":undefined};class Column extends CoreFeature{constructor(def,parent,rowHeader){super(parent.table);this.definition=def;//column definition\nthis.parent=parent;//hold parent object\nthis.type=\"column\";//type of element\nthis.columns=[];//child columns\nthis.cells=[];//cells bound to this column\nthis.isGroup=false;this.isRowHeader=rowHeader;this.element=this.createElement();//column header element\nthis.contentElement=false;this.titleHolderElement=false;this.titleElement=false;this.groupElement=this.createGroupElement();//column group holder element\nthis.hozAlign=\"\";//horizontal text alignment\nthis.vertAlign=\"\";//vert text alignment\n//multi dimensional filed handling\nthis.field=\"\";this.fieldStructure=\"\";this.getFieldValue=\"\";this.setFieldValue=\"\";this.titleDownload=null;this.titleFormatterRendered=false;this.mapDefinitions();this.setField(this.definition.field);this.modules={};//hold module variables;\nthis.width=null;//column width\nthis.widthStyled=\"\";//column width pre-styled to improve render efficiency\nthis.maxWidth=null;//column maximum width\nthis.maxWidthStyled=\"\";//column maximum pre-styled to improve render efficiency\nthis.maxInitialWidth=null;this.minWidth=null;//column minimum width\nthis.minWidthStyled=\"\";//column minimum pre-styled to improve render efficiency\nthis.widthFixed=false;//user has specified a width for this column\nthis.visible=true;//default visible state\nthis.component=null;//initialize column\nif(this.definition.columns){this.isGroup=true;this.definition.columns.forEach((def,i)=>{var newCol=new Column(def,this);this.attachColumn(newCol);});this.checkColumnVisibility();}else{parent.registerColumnField(this);}this._initialize();}createElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-col\");el.setAttribute(\"role\",\"columnheader\");el.setAttribute(\"aria-sort\",\"none\");if(this.isRowHeader){el.classList.add(\"tabulator-row-header\");}switch(this.table.options.columnHeaderVertAlign){case\"middle\":el.style.justifyContent=\"center\";break;case\"bottom\":el.style.justifyContent=\"flex-end\";break;}return el;}createGroupElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-col-group-cols\");return el;}mapDefinitions(){var defaults=this.table.options.columnDefaults;//map columnDefaults onto column definitions\nif(defaults){for(let key in defaults){if(typeof this.definition[key]===\"undefined\"){this.definition[key]=defaults[key];}}}this.definition=this.table.columnManager.optionsList.generate(Column.defaultOptionList,this.definition);}checkDefinition(){Object.keys(this.definition).forEach(key=>{if(Column.defaultOptionList.indexOf(key)===-1){console.warn(\"Invalid column definition option in '\"+(this.field||this.definition.title)+\"' column:\",key);}});}setField(field){this.field=field;this.fieldStructure=field?this.table.options.nestedFieldSeparator?field.split(this.table.options.nestedFieldSeparator):[field]:[];this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData;this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData;}//register column position with column manager\nregisterColumnPosition(column){this.parent.registerColumnPosition(column);}//register column position with column manager\nregisterColumnField(column){this.parent.registerColumnField(column);}//trigger position registration\nreRegisterPosition(){if(this.isGroup){this.columns.forEach(function(column){column.reRegisterPosition();});}else{this.registerColumnPosition(this);}}//build header element\n_initialize(){var def=this.definition;while(this.element.firstChild)this.element.removeChild(this.element.firstChild);if(def.headerVertical){this.element.classList.add(\"tabulator-col-vertical\");if(def.headerVertical===\"flip\"){this.element.classList.add(\"tabulator-col-vertical-flip\");}}this.contentElement=this._buildColumnHeaderContent();this.element.appendChild(this.contentElement);if(this.isGroup){this._buildGroupHeader();}else{this._buildColumnHeader();}this.dispatch(\"column-init\",this);}//build header element for header\n_buildColumnHeader(){var def=this.definition;this.dispatch(\"column-layout\",this);//set column visibility\nif(typeof def.visible!=\"undefined\"){if(def.visible){this.show(true);}else{this.hide(true);}}//assign additional css classes to column header\nif(def.cssClass){var classNames=def.cssClass.split(\" \");classNames.forEach(className=>{this.element.classList.add(className);});}if(def.field){this.element.setAttribute(\"tabulator-field\",def.field);}//set min width if present\nthis.setMinWidth(parseInt(def.minWidth));if(def.maxInitialWidth){this.maxInitialWidth=parseInt(def.maxInitialWidth);}if(def.maxWidth){this.setMaxWidth(parseInt(def.maxWidth));}this.reinitializeWidth();//set horizontal text alignment\nthis.hozAlign=this.definition.hozAlign;this.vertAlign=this.definition.vertAlign;this.titleElement.style.textAlign=this.definition.headerHozAlign;}_buildColumnHeaderContent(){var contentElement=document.createElement(\"div\");contentElement.classList.add(\"tabulator-col-content\");this.titleHolderElement=document.createElement(\"div\");this.titleHolderElement.classList.add(\"tabulator-col-title-holder\");contentElement.appendChild(this.titleHolderElement);this.titleElement=this._buildColumnHeaderTitle();this.titleHolderElement.appendChild(this.titleElement);return contentElement;}//build title element of column\n_buildColumnHeaderTitle(){var def=this.definition;var titleHolderElement=document.createElement(\"div\");titleHolderElement.classList.add(\"tabulator-col-title\");if(def.headerWordWrap){titleHolderElement.classList.add(\"tabulator-col-title-wrap\");}if(def.editableTitle){var titleElement=document.createElement(\"input\");titleElement.classList.add(\"tabulator-title-editor\");titleElement.addEventListener(\"click\",e=>{e.stopPropagation();titleElement.focus();});titleElement.addEventListener(\"mousedown\",e=>{e.stopPropagation();});titleElement.addEventListener(\"change\",()=>{def.title=titleElement.value;this.dispatchExternal(\"columnTitleChanged\",this.getComponent());});titleHolderElement.appendChild(titleElement);if(def.field){this.langBind(\"columns|\"+def.field,text=>{titleElement.value=text||def.title||\"&nbsp;\";});}else{titleElement.value=def.title||\"&nbsp;\";}}else{if(def.field){this.langBind(\"columns|\"+def.field,text=>{this._formatColumnHeaderTitle(titleHolderElement,text||def.title||\"&nbsp;\");});}else{this._formatColumnHeaderTitle(titleHolderElement,def.title||\"&nbsp;\");}}return titleHolderElement;}_formatColumnHeaderTitle(el,title){var contents=this.chain(\"column-format\",[this,title,el],null,()=>{return title;});switch(typeof contents){case\"object\":if(contents instanceof Node){el.appendChild(contents);}else{el.innerHTML=\"\";console.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\",contents);}break;case\"undefined\":el.innerHTML=\"\";break;default:el.innerHTML=contents;}}//build header element for column group\n_buildGroupHeader(){this.element.classList.add(\"tabulator-col-group\");this.element.setAttribute(\"role\",\"columngroup\");this.element.setAttribute(\"aria-title\",this.definition.title);//asign additional css classes to column header\nif(this.definition.cssClass){var classNames=this.definition.cssClass.split(\" \");classNames.forEach(className=>{this.element.classList.add(className);});}this.titleElement.style.textAlign=this.definition.headerHozAlign;this.element.appendChild(this.groupElement);}//flat field lookup\n_getFlatData(data){return data[this.field];}//nested field lookup\n_getNestedData(data){var dataObj=data,structure=this.fieldStructure,length=structure.length,output;for(let i=0;i<length;i++){dataObj=dataObj[structure[i]];output=dataObj;if(!dataObj){break;}}return output;}//flat field set\n_setFlatData(data,value){if(this.field){data[this.field]=value;}}//nested field set\n_setNestedData(data,value){var dataObj=data,structure=this.fieldStructure,length=structure.length;for(let i=0;i<length;i++){if(i==length-1){dataObj[structure[i]]=value;}else{if(!dataObj[structure[i]]){if(typeof value!==\"undefined\"){dataObj[structure[i]]={};}else{break;}}dataObj=dataObj[structure[i]];}}}//attach column to this group\nattachColumn(column){if(this.groupElement){this.columns.push(column);this.groupElement.appendChild(column.getElement());column.columnRendered();}else{console.warn(\"Column Warning - Column being attached to another column instead of column group\");}}//vertically align header in column\nverticalAlign(alignment,height){//calculate height of column header and group holder element\nvar parentHeight=this.parent.isGroup?this.parent.getGroupElement().clientHeight:height||this.parent.getHeadersElement().clientHeight;// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\nthis.element.style.height=parentHeight+\"px\";this.dispatch(\"column-height\",this,this.element.style.height);if(this.isGroup){this.groupElement.style.minHeight=parentHeight-this.contentElement.offsetHeight+\"px\";}//vertically align cell contents\n// if(!this.isGroup && alignment !== \"top\"){\n// \tif(alignment === \"bottom\"){\n// \t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) + \"px\";\n// \t}else{\n// \t\tthis.element.style.paddingTop = ((this.element.clientHeight - this.contentElement.offsetHeight) / 2) + \"px\";\n// \t}\n// }\nthis.columns.forEach(function(column){column.verticalAlign(alignment);});}//clear vertical alignment\nclearVerticalAlign(){this.element.style.paddingTop=\"\";this.element.style.height=\"\";this.element.style.minHeight=\"\";this.groupElement.style.minHeight=\"\";this.columns.forEach(function(column){column.clearVerticalAlign();});this.dispatch(\"column-height\",this,\"\");}//// Retrieve Column Information ////\n//return column header element\ngetElement(){return this.element;}//return column group element\ngetGroupElement(){return this.groupElement;}//return field name\ngetField(){return this.field;}getTitleDownload(){return this.titleDownload;}//return the first column in a group\ngetFirstColumn(){if(!this.isGroup){return this;}else{if(this.columns.length){return this.columns[0].getFirstColumn();}else{return false;}}}//return the last column in a group\ngetLastColumn(){if(!this.isGroup){return this;}else{if(this.columns.length){return this.columns[this.columns.length-1].getLastColumn();}else{return false;}}}//return all columns in a group\ngetColumns(traverse){var columns=[];if(traverse){this.columns.forEach(column=>{columns.push(column);columns=columns.concat(column.getColumns(true));});}else{columns=this.columns;}return columns;}//return all columns in a group\ngetCells(){return this.cells;}//retrieve the top column in a group of columns\ngetTopColumn(){if(this.parent.isGroup){return this.parent.getTopColumn();}else{return this;}}//return column definition object\ngetDefinition(updateBranches){var colDefs=[];if(this.isGroup&&updateBranches){this.columns.forEach(function(column){colDefs.push(column.getDefinition(true));});this.definition.columns=colDefs;}return this.definition;}//////////////////// Actions ////////////////////\ncheckColumnVisibility(){var visible=false;this.columns.forEach(function(column){if(column.visible){visible=true;}});if(visible){this.show();this.dispatchExternal(\"columnVisibilityChanged\",this.getComponent(),false);}else{this.hide();}}//show column\nshow(silent,responsiveToggle){if(!this.visible){this.visible=true;this.element.style.display=\"\";if(this.parent.isGroup){this.parent.checkColumnVisibility();}this.cells.forEach(function(cell){cell.show();});if(!this.isGroup&&this.width===null){this.reinitializeWidth();}this.table.columnManager.verticalAlignHeaders();this.dispatch(\"column-show\",this,responsiveToggle);if(!silent){this.dispatchExternal(\"columnVisibilityChanged\",this.getComponent(),true);}if(this.parent.isGroup){this.parent.matchChildWidths();}if(!this.silent){this.table.columnManager.rerenderColumns();}}}//hide column\nhide(silent,responsiveToggle){if(this.visible){this.visible=false;this.element.style.display=\"none\";this.table.columnManager.verticalAlignHeaders();if(this.parent.isGroup){this.parent.checkColumnVisibility();}this.cells.forEach(function(cell){cell.hide();});this.dispatch(\"column-hide\",this,responsiveToggle);if(!silent){this.dispatchExternal(\"columnVisibilityChanged\",this.getComponent(),false);}if(this.parent.isGroup){this.parent.matchChildWidths();}if(!this.silent){this.table.columnManager.rerenderColumns();}}}matchChildWidths(){var childWidth=0;if(this.contentElement&&this.columns.length){this.columns.forEach(function(column){if(column.visible){childWidth+=column.getWidth();}});this.contentElement.style.maxWidth=childWidth-1+\"px\";if(this.table.initialized){this.element.style.width=childWidth+\"px\";}if(this.parent.isGroup){this.parent.matchChildWidths();}}}removeChild(child){var index=this.columns.indexOf(child);if(index>-1){this.columns.splice(index,1);}if(!this.columns.length){this.delete();}}setWidth(width){this.widthFixed=true;this.setWidthActual(width);}setWidthActual(width){if(isNaN(width)){width=Math.floor(this.table.element.clientWidth/100*parseInt(width));}width=Math.max(this.minWidth,width);if(this.maxWidth){width=Math.min(this.maxWidth,width);}this.width=width;this.widthStyled=width?width+\"px\":\"\";this.element.style.width=this.widthStyled;if(!this.isGroup){this.cells.forEach(function(cell){cell.setWidth();});}if(this.parent.isGroup){this.parent.matchChildWidths();}this.dispatch(\"column-width\",this);if(this.subscribedExternal(\"columnWidth\")){this.dispatchExternal(\"columnWidth\",this.getComponent());}}checkCellHeights(){var rows=[];this.cells.forEach(function(cell){if(cell.row.heightInitialized){if(cell.row.getElement().offsetParent!==null){rows.push(cell.row);cell.row.clearCellHeight();}else{cell.row.heightInitialized=false;}}});rows.forEach(function(row){row.calcHeight();});rows.forEach(function(row){row.setCellHeight();});}getWidth(){var width=0;if(this.isGroup){this.columns.forEach(function(column){if(column.visible){width+=column.getWidth();}});}else{width=this.width;}return width;}getLeftOffset(){var offset=this.element.offsetLeft;if(this.parent.isGroup){offset+=this.parent.getLeftOffset();}return offset;}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height);}setMinWidth(minWidth){if(this.maxWidth&&minWidth>this.maxWidth){minWidth=this.maxWidth;console.warn(\"the minWidth (\"+minWidth+\"px) for column '\"+this.field+\"' cannot be bigger that its maxWidth (\"+this.maxWidthStyled+\")\");}this.minWidth=minWidth;this.minWidthStyled=minWidth?minWidth+\"px\":\"\";this.element.style.minWidth=this.minWidthStyled;this.cells.forEach(function(cell){cell.setMinWidth();});}setMaxWidth(maxWidth){if(this.minWidth&&maxWidth<this.minWidth){maxWidth=this.minWidth;console.warn(\"the maxWidth (\"+maxWidth+\"px) for column '\"+this.field+\"' cannot be smaller that its minWidth (\"+this.minWidthStyled+\")\");}this.maxWidth=maxWidth;this.maxWidthStyled=maxWidth?maxWidth+\"px\":\"\";this.element.style.maxWidth=this.maxWidthStyled;this.cells.forEach(function(cell){cell.setMaxWidth();});}delete(){return new Promise((resolve,reject)=>{if(this.isGroup){this.columns.forEach(function(column){column.delete();});}this.dispatch(\"column-delete\",this);var cellCount=this.cells.length;for(let i=0;i<cellCount;i++){this.cells[0].delete();}if(this.element.parentNode){this.element.parentNode.removeChild(this.element);}this.element=false;this.contentElement=false;this.titleElement=false;this.groupElement=false;if(this.parent.isGroup){this.parent.removeChild(this);}this.table.columnManager.deregisterColumn(this);this.table.columnManager.rerenderColumns(true);this.dispatch(\"column-deleted\",this);resolve();});}columnRendered(){if(this.titleFormatterRendered){this.titleFormatterRendered();}this.dispatch(\"column-rendered\",this);}//////////////// Cell Management /////////////////\n//generate cell for this column\ngenerateCell(row){var cell=new Cell(this,row);this.cells.push(cell);return cell;}nextColumn(){var index=this.table.columnManager.findColumnIndex(this);return index>-1?this._nextVisibleColumn(index+1):false;}_nextVisibleColumn(index){var column=this.table.columnManager.getColumnByIndex(index);return!column||column.visible?column:this._nextVisibleColumn(index+1);}prevColumn(){var index=this.table.columnManager.findColumnIndex(this);return index>-1?this._prevVisibleColumn(index-1):false;}_prevVisibleColumn(index){var column=this.table.columnManager.getColumnByIndex(index);return!column||column.visible?column:this._prevVisibleColumn(index-1);}reinitializeWidth(force){this.widthFixed=false;//set width if present\nif(typeof this.definition.width!==\"undefined\"&&!force){// maxInitialWidth ignored here as width specified\nthis.setWidth(this.definition.width);}this.dispatch(\"column-width-fit-before\",this);this.fitToData(force);this.dispatch(\"column-width-fit-after\",this);}//set column width to maximum cell width for non group columns\nfitToData(force){if(this.isGroup){return;}if(!this.widthFixed){this.element.style.width=\"\";this.cells.forEach(cell=>{cell.clearWidth();});}var maxWidth=this.element.offsetWidth;if(!this.width||!this.widthFixed){this.cells.forEach(cell=>{var width=cell.getWidth();if(width>maxWidth){maxWidth=width;}});if(maxWidth){var setTo=maxWidth+1;if(this.maxInitialWidth&&!force){setTo=Math.min(setTo,this.maxInitialWidth);}this.setWidthActual(setTo);}}}updateDefinition(updates){var definition;if(!this.isGroup){if(!this.parent.isGroup){definition=Object.assign({},this.getDefinition());definition=Object.assign(definition,updates);return this.table.columnManager.addColumn(definition,false,this).then(column=>{if(definition.field==this.field){this.field=false;//clear field name to prevent deletion of duplicate column from arrays\n}return this.delete().then(()=>{return column.getComponent();});});}else{console.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");return Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");}}else{console.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");return Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");}}deleteCell(cell){var index=this.cells.indexOf(cell);if(index>-1){this.cells.splice(index,1);}}//////////////// Object Generation /////////////////\ngetComponent(){if(!this.component){this.component=new ColumnComponent(this);}return this.component;}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1;}getParentComponent(){return this.parent instanceof Column?this.parent.getComponent():false;}}//public row object\n_defineProperty(Column,\"defaultOptionList\",defaultColumnOptions);class RowComponent{constructor(row){this._row=row;return new Proxy(this,{get:function(target,name,receiver){if(typeof target[name]!==\"undefined\"){return target[name];}else{return target._row.table.componentFunctionBinder.handle(\"row\",target._row,name);}}});}getData(transform){return this._row.getData(transform);}getElement(){return this._row.getElement();}getCells(){var cells=[];this._row.getCells().forEach(function(cell){cells.push(cell.getComponent());});return cells;}getCell(column){var cell=this._row.getCell(column);return cell?cell.getComponent():false;}getIndex(){return this._row.getData(\"data\")[this._row.table.options.index];}getPosition(){return this._row.getPosition();}watchPosition(callback){return this._row.watchPosition(callback);}delete(){return this._row.delete();}scrollTo(position,ifVisible){return this._row.table.rowManager.scrollToRow(this._row,position,ifVisible);}move(to,after){this._row.moveToRow(to,after);}update(data){return this._row.updateData(data);}normalizeHeight(){this._row.normalizeHeight(true);}_getSelf(){return this._row;}reformat(){return this._row.reinitialize();}getTable(){return this._row.table;}getNextRow(){var row=this._row.nextRow();return row?row.getComponent():row;}getPrevRow(){var row=this._row.prevRow();return row?row.getComponent():row;}}class Row extends CoreFeature{constructor(data,parent,type=\"row\"){super(parent.table);this.parent=parent;this.data={};this.type=type;//type of element\nthis.element=false;this.modules={};//hold module variables;\nthis.cells=[];this.height=0;//hold element height\nthis.heightStyled=\"\";//hold element height pre-styled to improve render efficiency\nthis.manualHeight=false;//user has manually set row height\nthis.outerHeight=0;//hold elements outer height\nthis.initialized=false;//element has been rendered\nthis.heightInitialized=false;//element has resized cells to fit\nthis.position=0;//store position of element in row list\nthis.positionWatchers=[];this.component=null;this.created=false;this.setData(data);}create(){if(!this.created){this.created=true;this.generateElement();}}createElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-row\");el.setAttribute(\"role\",\"row\");this.element=el;}getElement(){this.create();return this.element;}detachElement(){if(this.element&&this.element.parentNode){this.element.parentNode.removeChild(this.element);}}generateElement(){this.createElement();this.dispatch(\"row-init\",this);}generateCells(){this.cells=this.table.columnManager.generateCells(this);}//functions to setup on first render\ninitialize(force,inFragment){this.create();if(!this.initialized||force){this.deleteCells();while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.dispatch(\"row-layout-before\",this);this.generateCells();this.initialized=true;this.table.columnManager.renderer.renderRowCells(this,inFragment);if(force){this.normalizeHeight();}this.dispatch(\"row-layout\",this);if(this.table.options.rowFormatter){this.table.options.rowFormatter(this.getComponent());}this.dispatch(\"row-layout-after\",this);}else{this.table.columnManager.renderer.rerenderRowCells(this,inFragment);}}rendered(){this.cells.forEach(cell=>{cell.cellRendered();});}reinitializeHeight(){this.heightInitialized=false;if(this.element&&this.element.offsetParent!==null){this.normalizeHeight(true);}}deinitialize(){this.initialized=false;}deinitializeHeight(){this.heightInitialized=false;}reinitialize(children){this.initialized=false;this.heightInitialized=false;if(!this.manualHeight){this.height=0;this.heightStyled=\"\";}if(this.element&&this.element.offsetParent!==null){this.initialize(true);}this.dispatch(\"row-relayout\",this);}//get heights when doing bulk row style calcs in virtual DOM\ncalcHeight(force){var maxHeight=0,minHeight=0;if(this.table.options.rowHeight){this.height=this.table.options.rowHeight;}else{minHeight=this.calcMinHeight();maxHeight=this.calcMaxHeight();if(force){this.height=Math.max(maxHeight,minHeight);}else{this.height=this.manualHeight?this.height:Math.max(maxHeight,minHeight);}}this.heightStyled=this.height?this.height+\"px\":\"\";this.outerHeight=this.element.offsetHeight;}calcMinHeight(){return this.table.options.resizableRows?this.element.clientHeight:0;}calcMaxHeight(){var maxHeight=0;this.cells.forEach(function(cell){var height=cell.getHeight();if(height>maxHeight){maxHeight=height;}});return maxHeight;}//set of cells\nsetCellHeight(){this.cells.forEach(function(cell){cell.setHeight();});this.heightInitialized=true;}clearCellHeight(){this.cells.forEach(function(cell){cell.clearHeight();});}//normalize the height of elements in the row\nnormalizeHeight(force){if(force&&!this.table.options.rowHeight){this.clearCellHeight();}this.calcHeight(force);this.setCellHeight();}//set height of rows\nsetHeight(height,force){if(this.height!=height||force){this.manualHeight=true;this.height=height;this.heightStyled=height?height+\"px\":\"\";this.setCellHeight();// this.outerHeight = this.element.outerHeight();\nthis.outerHeight=this.element.offsetHeight;if(this.subscribedExternal(\"rowHeight\")){this.dispatchExternal(\"rowHeight\",this.getComponent());}}}//return rows outer height\ngetHeight(){return this.outerHeight;}//return rows outer Width\ngetWidth(){return this.element.offsetWidth;}//////////////// Cell Management /////////////////\ndeleteCell(cell){var index=this.cells.indexOf(cell);if(index>-1){this.cells.splice(index,1);}}//////////////// Data Management /////////////////\nsetData(data){this.data=this.chain(\"row-data-init-before\",[this,data],undefined,data);this.dispatch(\"row-data-init-after\",this);}//update the rows data\nupdateData(updatedData){var visible=this.element&&Helpers.elVisible(this.element),tempData={},newRowData;return new Promise((resolve,reject)=>{if(typeof updatedData===\"string\"){updatedData=JSON.parse(updatedData);}this.dispatch(\"row-data-save-before\",this);if(this.subscribed(\"row-data-changing\")){tempData=Object.assign(tempData,this.data);tempData=Object.assign(tempData,updatedData);}newRowData=this.chain(\"row-data-changing\",[this,tempData,updatedData],null,updatedData);//set data\nfor(let attrname in newRowData){this.data[attrname]=newRowData[attrname];}this.dispatch(\"row-data-save-after\",this);//update affected cells only\nfor(let attrname in updatedData){let columns=this.table.columnManager.getColumnsByFieldRoot(attrname);columns.forEach(column=>{let cell=this.getCell(column.getField());if(cell){let value=column.getFieldValue(newRowData);if(cell.getValue()!==value){cell.setValueProcessData(value);if(visible){cell.cellRendered();}}}});}//Partial reinitialization if visible\nif(visible){this.normalizeHeight(true);if(this.table.options.rowFormatter){this.table.options.rowFormatter(this.getComponent());}}else{this.initialized=false;this.height=0;this.heightStyled=\"\";}this.dispatch(\"row-data-changed\",this,visible,updatedData);//this.reinitialize();\nthis.dispatchExternal(\"rowUpdated\",this.getComponent());if(this.subscribedExternal(\"dataChanged\")){this.dispatchExternal(\"dataChanged\",this.table.rowManager.getData());}resolve();});}getData(transform){if(transform){return this.chain(\"row-data-retrieve\",[this,transform],null,this.data);}return this.data;}getCell(column){var match=false;column=this.table.columnManager.findColumn(column);if(!this.initialized&&this.cells.length===0){this.generateCells();}match=this.cells.find(function(cell){return cell.column===column;});return match;}getCellIndex(findCell){return this.cells.findIndex(function(cell){return cell===findCell;});}findCell(subject){return this.cells.find(cell=>{return cell.element===subject;});}getCells(){if(!this.initialized&&this.cells.length===0){this.generateCells();}return this.cells;}nextRow(){var row=this.table.rowManager.nextDisplayRow(this,true);return row||false;}prevRow(){var row=this.table.rowManager.prevDisplayRow(this,true);return row||false;}moveToRow(to,before){var toRow=this.table.rowManager.findRow(to);if(toRow){this.table.rowManager.moveRowActual(this,toRow,!before);this.table.rowManager.refreshActiveData(\"display\",false,true);}else{console.warn(\"Move Error - No matching row found:\",to);}}///////////////////// Actions  /////////////////////\ndelete(){this.dispatch(\"row-delete\",this);this.deleteActual();return Promise.resolve();}deleteActual(blockRedraw){this.detachModules();this.table.rowManager.deleteRow(this,blockRedraw);this.deleteCells();this.initialized=false;this.heightInitialized=false;this.element=false;this.dispatch(\"row-deleted\",this);}detachModules(){this.dispatch(\"row-deleting\",this);}deleteCells(){var cellCount=this.cells.length;for(let i=0;i<cellCount;i++){this.cells[0].delete();}}wipe(){this.detachModules();this.deleteCells();if(this.element){while(this.element.firstChild)this.element.removeChild(this.element.firstChild);if(this.element.parentNode){this.element.parentNode.removeChild(this.element);}}this.element=false;this.modules={};}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this);}getPosition(){return this.isDisplayed()?this.position:false;}setPosition(position){if(position!=this.position){this.position=position;this.positionWatchers.forEach(callback=>{callback(this.position);});}}watchPosition(callback){this.positionWatchers.push(callback);callback(this.position);}getGroup(){return this.modules.group||false;}//////////////// Object Generation /////////////////\ngetComponent(){if(!this.component){this.component=new RowComponent(this);}return this.component;}}var defaultCalculations={\"avg\":function(values,data,calcParams){var output=0,precision=typeof calcParams.precision!==\"undefined\"?calcParams.precision:2;if(values.length){output=values.reduce(function(sum,value){return Number(sum)+Number(value);});output=output/values.length;output=precision!==false?output.toFixed(precision):output;}return parseFloat(output).toString();},\"max\":function(values,data,calcParams){var output=null,precision=typeof calcParams.precision!==\"undefined\"?calcParams.precision:false;values.forEach(function(value){value=Number(value);if(value>output||output===null){output=value;}});return output!==null?precision!==false?output.toFixed(precision):output:\"\";},\"min\":function(values,data,calcParams){var output=null,precision=typeof calcParams.precision!==\"undefined\"?calcParams.precision:false;values.forEach(function(value){value=Number(value);if(value<output||output===null){output=value;}});return output!==null?precision!==false?output.toFixed(precision):output:\"\";},\"sum\":function(values,data,calcParams){var output=0,precision=typeof calcParams.precision!==\"undefined\"?calcParams.precision:false;if(values.length){values.forEach(function(value){value=Number(value);output+=!isNaN(value)?Number(value):0;});}return precision!==false?output.toFixed(precision):output;},\"concat\":function(values,data,calcParams){var output=0;if(values.length){output=values.reduce(function(sum,value){return String(sum)+String(value);});}return output;},\"count\":function(values,data,calcParams){var output=0;if(values.length){values.forEach(function(value){if(value){output++;}});}return output;},\"unique\":function(values,data,calcParams){var unique=values.filter((value,index)=>{return(values||value===0)&&values.indexOf(value)===index;});return unique.length;}};class ColumnCalcs extends Module{constructor(table){super(table);this.topCalcs=[];this.botCalcs=[];this.genColumn=false;this.topElement=this.createElement();this.botElement=this.createElement();this.topRow=false;this.botRow=false;this.topInitialized=false;this.botInitialized=false;this.blocked=false;this.recalcAfterBlock=false;this.registerTableOption(\"columnCalcs\",true);this.registerColumnOption(\"topCalc\");this.registerColumnOption(\"topCalcParams\");this.registerColumnOption(\"topCalcFormatter\");this.registerColumnOption(\"topCalcFormatterParams\");this.registerColumnOption(\"bottomCalc\");this.registerColumnOption(\"bottomCalcParams\");this.registerColumnOption(\"bottomCalcFormatter\");this.registerColumnOption(\"bottomCalcFormatterParams\");}createElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-calcs-holder\");return el;}initialize(){this.genColumn=new Column({field:\"value\"},this);this.subscribe(\"cell-value-changed\",this.cellValueChanged.bind(this));this.subscribe(\"column-init\",this.initializeColumnCheck.bind(this));this.subscribe(\"row-deleted\",this.rowsUpdated.bind(this));this.subscribe(\"scroll-horizontal\",this.scrollHorizontal.bind(this));this.subscribe(\"row-added\",this.rowsUpdated.bind(this));this.subscribe(\"column-moved\",this.recalcActiveRows.bind(this));this.subscribe(\"column-add\",this.recalcActiveRows.bind(this));this.subscribe(\"data-refreshed\",this.recalcActiveRowsRefresh.bind(this));this.subscribe(\"table-redraw\",this.tableRedraw.bind(this));this.subscribe(\"rows-visible\",this.visibleRows.bind(this));this.subscribe(\"scrollbar-vertical\",this.adjustForScrollbar.bind(this));this.subscribe(\"redraw-blocked\",this.blockRedraw.bind(this));this.subscribe(\"redraw-restored\",this.restoreRedraw.bind(this));this.subscribe(\"table-redrawing\",this.resizeHolderWidth.bind(this));this.subscribe(\"column-resized\",this.resizeHolderWidth.bind(this));this.subscribe(\"column-show\",this.resizeHolderWidth.bind(this));this.subscribe(\"column-hide\",this.resizeHolderWidth.bind(this));this.registerTableFunction(\"getCalcResults\",this.getResults.bind(this));this.registerTableFunction(\"recalc\",this.userRecalc.bind(this));this.resizeHolderWidth();}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+\"px\";}tableRedraw(force){this.recalc(this.table.rowManager.activeRows);if(force){this.redraw();}}blockRedraw(){this.blocked=true;this.recalcAfterBlock=false;}restoreRedraw(){this.blocked=false;if(this.recalcAfterBlock){this.recalcAfterBlock=false;this.recalcActiveRowsRefresh();}}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\nuserRecalc(){this.recalc(this.table.rowManager.activeRows);}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\nblockCheck(){if(this.blocked){this.recalcAfterBlock=true;}return this.blocked;}visibleRows(viewable,rows){if(this.topRow){rows.unshift(this.topRow);}if(this.botRow){rows.push(this.botRow);}return rows;}rowsUpdated(row){if(this.table.options.groupBy){this.recalcRowGroup(row);}else{this.recalcActiveRows();}}recalcActiveRowsRefresh(){if(this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree){this.recalcAll();}else{this.recalcActiveRows();}}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows);}cellValueChanged(cell){if(cell.column.definition.topCalc||cell.column.definition.bottomCalc){if(this.table.options.groupBy){if(this.table.options.columnCalcs==\"table\"||this.table.options.columnCalcs==\"both\"){this.recalcActiveRows();}if(this.table.options.columnCalcs!=\"table\"){this.recalcRowGroup(cell.row);}}else{this.recalcActiveRows();}}}initializeColumnCheck(column){if(column.definition.topCalc||column.definition.bottomCalc){this.initializeColumn(column);}}//initialize column calcs\ninitializeColumn(column){var def=column.definition;var config={topCalcParams:def.topCalcParams||{},botCalcParams:def.bottomCalcParams||{}};if(def.topCalc){switch(typeof def.topCalc){case\"string\":if(ColumnCalcs.calculations[def.topCalc]){config.topCalc=ColumnCalcs.calculations[def.topCalc];}else{console.warn(\"Column Calc Error - No such calculation found, ignoring: \",def.topCalc);}break;case\"function\":config.topCalc=def.topCalc;break;}if(config.topCalc){column.modules.columnCalcs=config;this.topCalcs.push(column);if(this.table.options.columnCalcs!=\"group\"){this.initializeTopRow();}}}if(def.bottomCalc){switch(typeof def.bottomCalc){case\"string\":if(ColumnCalcs.calculations[def.bottomCalc]){config.botCalc=ColumnCalcs.calculations[def.bottomCalc];}else{console.warn(\"Column Calc Error - No such calculation found, ignoring: \",def.bottomCalc);}break;case\"function\":config.botCalc=def.bottomCalc;break;}if(config.botCalc){column.modules.columnCalcs=config;this.botCalcs.push(column);if(this.table.options.columnCalcs!=\"group\"){this.initializeBottomRow();}}}}//dummy functions to handle being mock column manager\nregisterColumnField(){}removeCalcs(){var changed=false;if(this.topInitialized){this.topInitialized=false;this.topElement.parentNode.removeChild(this.topElement);changed=true;}if(this.botInitialized){this.botInitialized=false;this.footerRemove(this.botElement);changed=true;}if(changed){this.table.rowManager.adjustTableSize();}}reinitializeCalcs(){if(this.topCalcs.length){this.initializeTopRow();}if(this.botCalcs.length){this.initializeBottomRow();}}initializeTopRow(){var fragment=document.createDocumentFragment();if(!this.topInitialized){fragment.appendChild(document.createElement(\"br\"));fragment.appendChild(this.topElement);this.table.columnManager.getContentsElement().insertBefore(fragment,this.table.columnManager.headersElement.nextSibling);this.topInitialized=true;}}initializeBottomRow(){if(!this.botInitialized){this.footerPrepend(this.botElement);this.botInitialized=true;}}scrollHorizontal(left){if(this.botInitialized&&this.botRow){this.botElement.scrollLeft=left;}}recalc(rows){var data,row;if(!this.blockCheck()){if(this.topInitialized||this.botInitialized){data=this.rowsToData(rows);if(this.topInitialized){if(this.topRow){this.topRow.deleteCells();}row=this.generateRow(\"top\",data);this.topRow=row;while(this.topElement.firstChild)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(row.getElement());row.initialize(true);}if(this.botInitialized){if(this.botRow){this.botRow.deleteCells();}row=this.generateRow(\"bottom\",data);this.botRow=row;while(this.botElement.firstChild)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(row.getElement());row.initialize(true);}this.table.rowManager.adjustTableSize();//set resizable handles\nif(this.table.modExists(\"frozenColumns\")){this.table.modules.frozenColumns.layout();}}}}recalcRowGroup(row){this.recalcGroup(this.table.modules.groupRows.getRowGroup(row));}recalcAll(){if(this.topCalcs.length||this.botCalcs.length){if(this.table.options.columnCalcs!==\"group\"){this.recalcActiveRows();}if(this.table.options.groupBy&&this.table.options.columnCalcs!==\"table\"){var groups=this.table.modules.groupRows.getChildGroups();groups.forEach(group=>{this.recalcGroup(group);});}}}recalcGroup(group){var data,rowData;if(!this.blockCheck()){if(group){if(group.calcs){if(group.calcs.bottom){data=this.rowsToData(group.rows);rowData=this.generateRowData(\"bottom\",data);group.calcs.bottom.updateData(rowData);group.calcs.bottom.reinitialize();}if(group.calcs.top){data=this.rowsToData(group.rows);rowData=this.generateRowData(\"top\",data);group.calcs.top.updateData(rowData);group.calcs.top.reinitialize();}}}}}//generate top stats row\ngenerateTopRow(rows){return this.generateRow(\"top\",this.rowsToData(rows));}//generate bottom stats row\ngenerateBottomRow(rows){return this.generateRow(\"bottom\",this.rowsToData(rows));}rowsToData(rows){var data=[],hasDataTreeColumnCalcs=this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs,dataTree=this.table.modules.dataTree;rows.forEach(row=>{data.push(row.getData());if(hasDataTreeColumnCalcs&&row.modules.dataTree?.open){this.rowsToData(dataTree.getFilteredTreeChildren(row)).forEach(dataRow=>{data.push(row);});}});return data;}//generate stats row\ngenerateRow(pos,data){var rowData=this.generateRowData(pos,data),row;if(this.table.modExists(\"mutator\")){this.table.modules.mutator.disable();}row=new Row(rowData,this,\"calc\");if(this.table.modExists(\"mutator\")){this.table.modules.mutator.enable();}row.getElement().classList.add(\"tabulator-calcs\",\"tabulator-calcs-\"+pos);row.component=false;row.getComponent=()=>{if(!row.component){row.component=new CalcComponent(row);}return row.component;};row.generateCells=()=>{var cells=[];this.table.columnManager.columnsByIndex.forEach(column=>{//set field name of mock column\nthis.genColumn.setField(column.getField());this.genColumn.hozAlign=column.hozAlign;if(column.definition[pos+\"CalcFormatter\"]&&this.table.modExists(\"format\")){this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter(column.definition[pos+\"CalcFormatter\"]),params:column.definition[pos+\"CalcFormatterParams\"]||{}};}else{this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter(\"plaintext\"),params:{}};}//ensure css class definition is replicated to calculation cell\nthis.genColumn.definition.cssClass=column.definition.cssClass;//generate cell and assign to correct column\nvar cell=new Cell(this.genColumn,row);cell.getElement();cell.column=column;cell.setWidth();column.cells.push(cell);cells.push(cell);if(!column.visible){cell.hide();}});row.cells=cells;};return row;}//generate stats row\ngenerateRowData(pos,data){var rowData={},calcs=pos==\"top\"?this.topCalcs:this.botCalcs,type=pos==\"top\"?\"topCalc\":\"botCalc\",params,paramKey;calcs.forEach(function(column){var values=[];if(column.modules.columnCalcs&&column.modules.columnCalcs[type]){data.forEach(function(item){values.push(column.getFieldValue(item));});paramKey=type+\"Params\";params=typeof column.modules.columnCalcs[paramKey]===\"function\"?column.modules.columnCalcs[paramKey](values,data):column.modules.columnCalcs[paramKey];column.setFieldValue(rowData,column.modules.columnCalcs[type](values,data,params));}});return rowData;}hasTopCalcs(){return!!this.topCalcs.length;}hasBottomCalcs(){return!!this.botCalcs.length;}//handle table redraw\nredraw(){if(this.topRow){this.topRow.normalizeHeight(true);}if(this.botRow){this.botRow.normalizeHeight(true);}}//return the calculated\ngetResults(){var results={},groups;if(this.table.options.groupBy&&this.table.modExists(\"groupRows\")){groups=this.table.modules.groupRows.getGroups(true);groups.forEach(group=>{results[group.getKey()]=this.getGroupResults(group);});}else{results={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}};}return results;}//get results from a group\ngetGroupResults(group){var groupObj=group._getSelf(),subGroups=group.getSubGroups(),subGroupResults={},results={};subGroups.forEach(subgroup=>{subGroupResults[subgroup.getKey()]=this.getGroupResults(subgroup);});results={top:groupObj.calcs.top?groupObj.calcs.top.getData():{},bottom:groupObj.calcs.bottom?groupObj.calcs.bottom.getData():{},groups:subGroupResults};return results;}adjustForScrollbar(width){if(this.botRow){if(this.table.rtl){this.botElement.style.paddingLeft=width+\"px\";}else{this.botElement.style.paddingRight=width+\"px\";}}}}_defineProperty(ColumnCalcs,\"moduleName\",\"columnCalcs\");//load defaults\n_defineProperty(ColumnCalcs,\"calculations\",defaultCalculations);class DataTree extends Module{constructor(table){super(table);this.indent=10;this.field=\"\";this.collapseEl=null;this.expandEl=null;this.branchEl=null;this.elementField=false;this.startOpen=function(){};this.registerTableOption(\"dataTree\",false);//enable data tree\nthis.registerTableOption(\"dataTreeFilter\",true);//filter child rows\nthis.registerTableOption(\"dataTreeSort\",true);//sort child rows\nthis.registerTableOption(\"dataTreeElementColumn\",false);this.registerTableOption(\"dataTreeBranchElement\",true);//show data tree branch element\nthis.registerTableOption(\"dataTreeChildIndent\",9);//data tree child indent in px\nthis.registerTableOption(\"dataTreeChildField\",\"_children\");//data tre column field to look for child rows\nthis.registerTableOption(\"dataTreeCollapseElement\",false);//data tree row collapse element\nthis.registerTableOption(\"dataTreeExpandElement\",false);//data tree row expand element\nthis.registerTableOption(\"dataTreeStartExpanded\",false);this.registerTableOption(\"dataTreeChildColumnCalcs\",false);//include visible data tree rows in column calculations\nthis.registerTableOption(\"dataTreeSelectPropagate\",false);//selecting a parent row selects its children\n//register component functions\nthis.registerComponentFunction(\"row\",\"treeCollapse\",this.collapseRow.bind(this));this.registerComponentFunction(\"row\",\"treeExpand\",this.expandRow.bind(this));this.registerComponentFunction(\"row\",\"treeToggle\",this.toggleRow.bind(this));this.registerComponentFunction(\"row\",\"getTreeParent\",this.getTreeParent.bind(this));this.registerComponentFunction(\"row\",\"getTreeChildren\",this.getRowChildren.bind(this));this.registerComponentFunction(\"row\",\"addTreeChild\",this.addTreeChildRow.bind(this));this.registerComponentFunction(\"row\",\"isTreeExpanded\",this.isRowExpanded.bind(this));}initialize(){if(this.table.options.dataTree){var dummyEl=null,options=this.table.options;this.field=options.dataTreeChildField;this.indent=options.dataTreeChildIndent;if(this.options(\"movableRows\")){console.warn(\"The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior\");}if(options.dataTreeBranchElement){if(options.dataTreeBranchElement===true){this.branchEl=document.createElement(\"div\");this.branchEl.classList.add(\"tabulator-data-tree-branch\");}else{if(typeof options.dataTreeBranchElement===\"string\"){dummyEl=document.createElement(\"div\");dummyEl.innerHTML=options.dataTreeBranchElement;this.branchEl=dummyEl.firstChild;}else{this.branchEl=options.dataTreeBranchElement;}}}else{this.branchEl=document.createElement(\"div\");this.branchEl.classList.add(\"tabulator-data-tree-branch-empty\");}if(options.dataTreeCollapseElement){if(typeof options.dataTreeCollapseElement===\"string\"){dummyEl=document.createElement(\"div\");dummyEl.innerHTML=options.dataTreeCollapseElement;this.collapseEl=dummyEl.firstChild;}else{this.collapseEl=options.dataTreeCollapseElement;}}else{this.collapseEl=document.createElement(\"div\");this.collapseEl.classList.add(\"tabulator-data-tree-control\");this.collapseEl.tabIndex=0;this.collapseEl.innerHTML=\"<div class='tabulator-data-tree-control-collapse'></div>\";}if(options.dataTreeExpandElement){if(typeof options.dataTreeExpandElement===\"string\"){dummyEl=document.createElement(\"div\");dummyEl.innerHTML=options.dataTreeExpandElement;this.expandEl=dummyEl.firstChild;}else{this.expandEl=options.dataTreeExpandElement;}}else{this.expandEl=document.createElement(\"div\");this.expandEl.classList.add(\"tabulator-data-tree-control\");this.expandEl.tabIndex=0;this.expandEl.innerHTML=\"<div class='tabulator-data-tree-control-expand'></div>\";}switch(typeof options.dataTreeStartExpanded){case\"boolean\":this.startOpen=function(row,index){return options.dataTreeStartExpanded;};break;case\"function\":this.startOpen=options.dataTreeStartExpanded;break;default:this.startOpen=function(row,index){return options.dataTreeStartExpanded[index];};break;}this.subscribe(\"row-init\",this.initializeRow.bind(this));this.subscribe(\"row-layout-after\",this.layoutRow.bind(this));this.subscribe(\"row-deleted\",this.rowDelete.bind(this),0);this.subscribe(\"row-data-changed\",this.rowDataChanged.bind(this),10);this.subscribe(\"cell-value-updated\",this.cellValueChanged.bind(this));this.subscribe(\"edit-cancelled\",this.cellValueChanged.bind(this));this.subscribe(\"column-moving-rows\",this.columnMoving.bind(this));this.subscribe(\"table-built\",this.initializeElementField.bind(this));this.subscribe(\"table-redrawing\",this.tableRedrawing.bind(this));this.registerDisplayHandler(this.getRows.bind(this),30);}}tableRedrawing(force){var rows;if(force){rows=this.table.rowManager.getRows();rows.forEach(row=>{this.reinitializeRowChildren(row);});}}initializeElementField(){var firstCol=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(firstCol?firstCol.field:false);}getRowChildren(row){return this.getTreeChildren(row,true);}columnMoving(){var rows=[];this.table.rowManager.rows.forEach(row=>{rows=rows.concat(this.getTreeChildren(row,false,true));});return rows;}rowDataChanged(row,visible,updatedData){if(this.redrawNeeded(updatedData)){this.initializeRow(row);if(visible){this.layoutRow(row);this.refreshData(true);}}}cellValueChanged(cell){var field=cell.column.getField();if(field===this.elementField){this.layoutRow(cell.row);}}initializeRow(row){var childArray=row.getData()[this.field];var isArray=Array.isArray(childArray);var children=isArray||!isArray&&typeof childArray===\"object\"&&childArray!==null;if(!children&&row.modules.dataTree&&row.modules.dataTree.branchEl){row.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);}if(!children&&row.modules.dataTree&&row.modules.dataTree.controlEl){row.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);}row.modules.dataTree={index:row.modules.dataTree?row.modules.dataTree.index:0,open:children?row.modules.dataTree?row.modules.dataTree.open:this.startOpen(row.getComponent(),0):false,controlEl:row.modules.dataTree&&children?row.modules.dataTree.controlEl:false,branchEl:row.modules.dataTree&&children?row.modules.dataTree.branchEl:false,parent:row.modules.dataTree?row.modules.dataTree.parent:false,children:children};}reinitializeRowChildren(row){var children=this.getTreeChildren(row,false,true);children.forEach(function(child){child.reinitialize(true);});}layoutRow(row){var cell=this.elementField?row.getCell(this.elementField):row.getCells()[0],el=cell.getElement(),config=row.modules.dataTree;if(config.branchEl){if(config.branchEl.parentNode){config.branchEl.parentNode.removeChild(config.branchEl);}config.branchEl=false;}if(config.controlEl){if(config.controlEl.parentNode){config.controlEl.parentNode.removeChild(config.controlEl);}config.controlEl=false;}this.generateControlElement(row,el);row.getElement().classList.add(\"tabulator-tree-level-\"+config.index);if(config.index){if(this.branchEl){config.branchEl=this.branchEl.cloneNode(true);el.insertBefore(config.branchEl,el.firstChild);if(this.table.rtl){config.branchEl.style.marginRight=(config.branchEl.offsetWidth+config.branchEl.style.marginLeft)*(config.index-1)+config.index*this.indent+\"px\";}else{config.branchEl.style.marginLeft=(config.branchEl.offsetWidth+config.branchEl.style.marginRight)*(config.index-1)+config.index*this.indent+\"px\";}}else{if(this.table.rtl){el.style.paddingRight=parseInt(window.getComputedStyle(el,null).getPropertyValue('padding-right'))+config.index*this.indent+\"px\";}else{el.style.paddingLeft=parseInt(window.getComputedStyle(el,null).getPropertyValue('padding-left'))+config.index*this.indent+\"px\";}}}}generateControlElement(row,el){var config=row.modules.dataTree,oldControl=config.controlEl;el=el||row.getCells()[0].getElement();if(config.children!==false){if(config.open){config.controlEl=this.collapseEl.cloneNode(true);config.controlEl.addEventListener(\"click\",e=>{e.stopPropagation();this.collapseRow(row);});}else{config.controlEl=this.expandEl.cloneNode(true);config.controlEl.addEventListener(\"click\",e=>{e.stopPropagation();this.expandRow(row);});}config.controlEl.addEventListener(\"mousedown\",e=>{e.stopPropagation();});if(oldControl&&oldControl.parentNode===el){oldControl.parentNode.replaceChild(config.controlEl,oldControl);}else{el.insertBefore(config.controlEl,el.firstChild);}}}getRows(rows){var output=[];rows.forEach((row,i)=>{var config,children;output.push(row);if(row instanceof Row){row.create();config=row.modules.dataTree;if(!config.index&&config.children!==false){children=this.getChildren(row,false,true);children.forEach(child=>{child.create();output.push(child);});}}});return output;}getChildren(row,allChildren,sortOnly){var config=row.modules.dataTree,children=[],output=[];if(config.children!==false&&(config.open||allChildren)){if(!Array.isArray(config.children)){config.children=this.generateChildren(row);}if(this.table.modExists(\"filter\")&&this.table.options.dataTreeFilter){children=this.table.modules.filter.filter(config.children);}else{children=config.children;}if(this.table.modExists(\"sort\")&&this.table.options.dataTreeSort){this.table.modules.sort.sort(children,sortOnly);}children.forEach(child=>{output.push(child);var subChildren=this.getChildren(child,false,true);subChildren.forEach(sub=>{output.push(sub);});});}return output;}generateChildren(row){var children=[];var childArray=row.getData()[this.field];if(!Array.isArray(childArray)){childArray=[childArray];}childArray.forEach(childData=>{var childRow=new Row(childData||{},this.table.rowManager);childRow.create();childRow.modules.dataTree.index=row.modules.dataTree.index+1;childRow.modules.dataTree.parent=row;if(childRow.modules.dataTree.children){childRow.modules.dataTree.open=this.startOpen(childRow.getComponent(),childRow.modules.dataTree.index);}children.push(childRow);});return children;}expandRow(row,silent){var config=row.modules.dataTree;if(config.children!==false){config.open=true;row.reinitialize();this.refreshData(true);this.dispatchExternal(\"dataTreeRowExpanded\",row.getComponent(),row.modules.dataTree.index);}}collapseRow(row){var config=row.modules.dataTree;if(config.children!==false){config.open=false;row.reinitialize();this.refreshData(true);this.dispatchExternal(\"dataTreeRowCollapsed\",row.getComponent(),row.modules.dataTree.index);}}toggleRow(row){var config=row.modules.dataTree;if(config.children!==false){if(config.open){this.collapseRow(row);}else{this.expandRow(row);}}}isRowExpanded(row){return row.modules.dataTree.open;}getTreeParent(row){return row.modules.dataTree.parent?row.modules.dataTree.parent.getComponent():false;}getTreeParentRoot(row){return row.modules.dataTree&&row.modules.dataTree.parent?this.getTreeParentRoot(row.modules.dataTree.parent):row;}getFilteredTreeChildren(row){var config=row.modules.dataTree,output=[],children;if(config.children){if(!Array.isArray(config.children)){config.children=this.generateChildren(row);}if(this.table.modExists(\"filter\")&&this.table.options.dataTreeFilter){children=this.table.modules.filter.filter(config.children);}else{children=config.children;}children.forEach(childRow=>{if(childRow instanceof Row){output.push(childRow);}});}return output;}rowDelete(row){var parent=row.modules.dataTree.parent,childIndex;if(parent){childIndex=this.findChildIndex(row,parent);if(childIndex!==false){parent.data[this.field].splice(childIndex,1);}if(!parent.data[this.field].length){delete parent.data[this.field];}this.initializeRow(parent);this.layoutRow(parent);}this.refreshData(true);}addTreeChildRow(row,data,top,index){var childIndex=false;if(typeof data===\"string\"){data=JSON.parse(data);}if(!Array.isArray(row.data[this.field])){row.data[this.field]=[];row.modules.dataTree.open=this.startOpen(row.getComponent(),row.modules.dataTree.index);}if(typeof index!==\"undefined\"){childIndex=this.findChildIndex(index,row);if(childIndex!==false){row.data[this.field].splice(top?childIndex:childIndex+1,0,data);}}if(childIndex===false){if(top){row.data[this.field].unshift(data);}else{row.data[this.field].push(data);}}this.initializeRow(row);this.layoutRow(row);this.refreshData(true);}findChildIndex(subject,parent){var match=false;if(typeof subject==\"object\"){if(subject instanceof Row){//subject is row element\nmatch=subject.data;}else if(subject instanceof RowComponent){//subject is public row component\nmatch=subject._getSelf().data;}else if(typeof HTMLElement!==\"undefined\"&&subject instanceof HTMLElement){if(parent.modules.dataTree){match=parent.modules.dataTree.children.find(childRow=>{return childRow instanceof Row?childRow.element===subject:false;});if(match){match=match.data;}}}else if(subject===null){match=false;}}else if(typeof subject==\"undefined\"){match=false;}else{//subject should be treated as the index of the row\nmatch=parent.data[this.field].find(row=>{return row.data[this.table.options.index]==subject;});}if(match){if(Array.isArray(parent.data[this.field])){match=parent.data[this.field].indexOf(match);}if(match==-1){match=false;}}//catch all for any other type of input\nreturn match;}getTreeChildren(row,component,recurse){var config=row.modules.dataTree,output=[];if(config&&config.children){if(!Array.isArray(config.children)){config.children=this.generateChildren(row);}config.children.forEach(childRow=>{if(childRow instanceof Row){output.push(component?childRow.getComponent():childRow);if(recurse){this.getTreeChildren(childRow,component,recurse).forEach(child=>{output.push(child);});}}});}return output;}getChildField(){return this.field;}redrawNeeded(data){return(this.field?typeof data[this.field]!==\"undefined\":false)||(this.elementField?typeof data[this.elementField]!==\"undefined\":false);}}_defineProperty(DataTree,\"moduleName\",\"dataTree\");function csv$1(list,options={},setFileContents){var delimiter=options.delimiter?options.delimiter:\",\",fileContents=[],headers=[];list.forEach(row=>{var item=[];switch(row.type){case\"group\":console.warn(\"Download Warning - CSV downloader cannot process row groups\");break;case\"calc\":console.warn(\"Download Warning - CSV downloader cannot process column calculations\");break;case\"header\":row.columns.forEach((col,i)=>{if(col&&col.depth===1){headers[i]=typeof col.value==\"undefined\"||col.value===null?\"\":'\"'+String(col.value).split('\"').join('\"\"')+'\"';}});break;case\"row\":row.columns.forEach(col=>{if(col){switch(typeof col.value){case\"object\":col.value=col.value!==null?JSON.stringify(col.value):\"\";break;case\"undefined\":col.value=\"\";break;}item.push('\"'+String(col.value).split('\"').join('\"\"')+'\"');}});fileContents.push(item.join(delimiter));break;}});if(headers.length){fileContents.unshift(headers.join(delimiter));}fileContents=fileContents.join(\"\\n\");if(options.bom){fileContents=\"\\ufeff\"+fileContents;}setFileContents(fileContents,\"text/csv\");}function json$2(list,options,setFileContents){var fileContents=[];list.forEach(row=>{var item={};switch(row.type){case\"header\":break;case\"group\":console.warn(\"Download Warning - JSON downloader cannot process row groups\");break;case\"calc\":console.warn(\"Download Warning - JSON downloader cannot process column calculations\");break;case\"row\":row.columns.forEach(col=>{if(col){item[col.component.getTitleDownload()||col.component.getField()]=col.value;}});fileContents.push(item);break;}});fileContents=JSON.stringify(fileContents,null,'\\t');setFileContents(fileContents,\"application/json\");}function pdf(list,options={},setFileContents){var header=[],body=[],autoTableParams={},rowGroupStyles=options.rowGroupStyles||{fontStyle:\"bold\",fontSize:12,cellPadding:6,fillColor:220},rowCalcStyles=options.rowCalcStyles||{fontStyle:\"bold\",fontSize:10,cellPadding:4,fillColor:232},jsPDFParams=options.jsPDF||{},title=options.title?options.title:\"\",jspdfLib,doc;if(!jsPDFParams.orientation){jsPDFParams.orientation=options.orientation||\"landscape\";}if(!jsPDFParams.unit){jsPDFParams.unit=\"pt\";}//parse row list\nlist.forEach(row=>{switch(row.type){case\"header\":header.push(parseRow(row));break;case\"group\":body.push(parseRow(row,rowGroupStyles));break;case\"calc\":body.push(parseRow(row,rowCalcStyles));break;case\"row\":body.push(parseRow(row));break;}});function parseRow(row,styles){var rowData=[];row.columns.forEach(col=>{var cell;if(col){switch(typeof col.value){case\"object\":col.value=col.value!==null?JSON.stringify(col.value):\"\";break;case\"undefined\":col.value=\"\";break;}cell={content:col.value,colSpan:col.width,rowSpan:col.height};if(styles){cell.styles=styles;}rowData.push(cell);}});return rowData;}//configure PDF\njspdfLib=this.dependencyRegistry.lookup(\"jspdf\",\"jsPDF\");doc=new jspdfLib(jsPDFParams);//set document to landscape, better for most tables\nif(options.autoTable){if(typeof options.autoTable===\"function\"){autoTableParams=options.autoTable(doc)||{};}else{autoTableParams=options.autoTable;}}if(title){autoTableParams.didDrawPage=function(data){doc.text(title,40,30);};}autoTableParams.head=header;autoTableParams.body=body;doc.autoTable(autoTableParams);if(options.documentProcessing){options.documentProcessing(doc);}setFileContents(doc.output(\"arraybuffer\"),\"application/pdf\");}function xlsx$1(list,options,setFileContents){var self=this,sheetName=options.sheetName||\"Sheet1\",XLSXLib=this.dependencyRegistry.lookup(\"XLSX\"),workbook=XLSXLib.utils.book_new(),tableFeatures=new CoreFeature(this),compression='compress'in options?options.compress:true,writeOptions=options.writeOptions||{bookType:'xlsx',bookSST:true,compression},output;writeOptions.type='binary';workbook.SheetNames=[];workbook.Sheets={};function generateSheet(){var rows=[],merges=[],worksheet={},range={s:{c:0,r:0},e:{c:list[0]?list[0].columns.reduce((a,b)=>a+(b&&b.width?b.width:1),0):0,r:list.length}};//parse row list\nlist.forEach((row,i)=>{var rowData=[];row.columns.forEach(function(col,j){if(col){rowData.push(!(col.value instanceof Date)&&typeof col.value===\"object\"?JSON.stringify(col.value):col.value);if(col.width>1||col.height>-1){if(col.height>1||col.width>1){merges.push({s:{r:i,c:j},e:{r:i+col.height-1,c:j+col.width-1}});}}}else{rowData.push(\"\");}});rows.push(rowData);});//convert rows to worksheet\nXLSXLib.utils.sheet_add_aoa(worksheet,rows);worksheet['!ref']=XLSXLib.utils.encode_range(range);if(merges.length){worksheet[\"!merges\"]=merges;}return worksheet;}if(options.sheetOnly){setFileContents(generateSheet());return;}if(options.sheets){for(var sheet in options.sheets){if(options.sheets[sheet]===true){workbook.SheetNames.push(sheet);workbook.Sheets[sheet]=generateSheet();}else{workbook.SheetNames.push(sheet);tableFeatures.commsSend(options.sheets[sheet],\"download\",\"intercept\",{type:\"xlsx\",options:{sheetOnly:true},active:self.active,intercept:function(data){workbook.Sheets[sheet]=data;}});}}}else{workbook.SheetNames.push(sheetName);workbook.Sheets[sheetName]=generateSheet();}if(options.documentProcessing){workbook=options.documentProcessing(workbook);}//convert workbook to binary array\nfunction s2ab(s){var buf=new ArrayBuffer(s.length);var view=new Uint8Array(buf);for(var i=0;i!=s.length;++i)view[i]=s.charCodeAt(i)&0xFF;return buf;}output=XLSXLib.write(workbook,writeOptions);setFileContents(s2ab(output),\"application/octet-stream\");}function html$1(list,options,setFileContents){if(this.modExists(\"export\",true)){setFileContents(this.modules.export.generateHTMLTable(list),\"text/html\");}}function jsonLines(list,options,setFileContents){const fileContents=[];list.forEach(row=>{const item={};switch(row.type){case\"header\":break;case\"group\":console.warn(\"Download Warning - JSON downloader cannot process row groups\");break;case\"calc\":console.warn(\"Download Warning - JSON downloader cannot process column calculations\");break;case\"row\":row.columns.forEach(col=>{if(col){item[col.component.getTitleDownload()||col.component.getField()]=col.value;}});fileContents.push(JSON.stringify(item));break;}});setFileContents(fileContents.join(\"\\n\"),\"application/x-ndjson\");}var defaultDownloaders={csv:csv$1,json:json$2,jsonLines:jsonLines,pdf:pdf,xlsx:xlsx$1,html:html$1};class Download extends Module{constructor(table){super(table);this.registerTableOption(\"downloadEncoder\",function(data,mimeType){return new Blob([data],{type:mimeType});});//function to manipulate download data\n// this.registerTableOption(\"downloadReady\", undefined); //warn of function deprecation\nthis.registerTableOption(\"downloadConfig\",{});//download config\nthis.registerTableOption(\"downloadRowRange\",\"active\");//restrict download to active rows only\nthis.registerColumnOption(\"download\");this.registerColumnOption(\"titleDownload\");}initialize(){this.deprecatedOptionsCheck();this.registerTableFunction(\"download\",this.download.bind(this));this.registerTableFunction(\"downloadToTab\",this.downloadToTab.bind(this));}deprecatedOptionsCheck(){// this.deprecationCheck(\"downloadReady\", \"downloadEncoder\");\n}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\ndownloadToTab(type,filename,options,active){this.download(type,filename,options,active,true);}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\n//trigger file download\ndownload(type,filename,options,range,interceptCallback){var downloadFunc=false;function buildLink(data,mime){if(interceptCallback){if(interceptCallback===true){this.triggerDownload(data,mime,type,filename,true);}else{interceptCallback(data);}}else{this.triggerDownload(data,mime,type,filename);}}if(typeof type==\"function\"){downloadFunc=type;}else{if(Download.downloaders[type]){downloadFunc=Download.downloaders[type];}else{console.warn(\"Download Error - No such download type found: \",type);}}if(downloadFunc){var list=this.generateExportList(range);downloadFunc.call(this.table,list,options||{},buildLink.bind(this));}}generateExportList(range){var list=this.table.modules.export.generateExportList(this.table.options.downloadConfig,false,range||this.table.options.downloadRowRange,\"download\");//assign group header formatter\nvar groupHeader=this.table.options.groupHeaderDownload;if(groupHeader&&!Array.isArray(groupHeader)){groupHeader=[groupHeader];}list.forEach(row=>{var group;if(row.type===\"group\"){group=row.columns[0];if(groupHeader&&groupHeader[row.indent]){group.value=groupHeader[row.indent](group.value,row.component._group.getRowCount(),row.component._group.getData(),row.component);}}});return list;}triggerDownload(data,mime,type,filename,newTab){var element=document.createElement('a'),blob=this.table.options.downloadEncoder(data,mime);if(blob){if(newTab){window.open(window.URL.createObjectURL(blob));}else{filename=filename||\"Tabulator.\"+(typeof type===\"function\"?\"txt\":type);if(navigator.msSaveOrOpenBlob){navigator.msSaveOrOpenBlob(blob,filename);}else{element.setAttribute('href',window.URL.createObjectURL(blob));//set file title\nelement.setAttribute('download',filename);//trigger download\nelement.style.display='none';document.body.appendChild(element);element.click();//remove temporary link element\ndocument.body.removeChild(element);}}this.dispatchExternal(\"downloadComplete\");}}commsReceived(table,action,data){switch(action){case\"intercept\":this.download(data.type,\"\",data.options,data.active,data.intercept);break;}}}_defineProperty(Download,\"moduleName\",\"download\");//load defaults\n_defineProperty(Download,\"downloaders\",defaultDownloaders);function maskInput(el,options){var mask=options.mask,maskLetter=typeof options.maskLetterChar!==\"undefined\"?options.maskLetterChar:\"A\",maskNumber=typeof options.maskNumberChar!==\"undefined\"?options.maskNumberChar:\"9\",maskWildcard=typeof options.maskWildcardChar!==\"undefined\"?options.maskWildcardChar:\"*\";function fillSymbols(index){var symbol=mask[index];if(typeof symbol!==\"undefined\"&&symbol!==maskWildcard&&symbol!==maskLetter&&symbol!==maskNumber){el.value=el.value+\"\"+symbol;fillSymbols(index+1);}}el.addEventListener(\"keydown\",e=>{var index=el.value.length,char=e.key;if(e.keyCode>46&&!e.ctrlKey&&!e.metaKey){if(index>=mask.length){e.preventDefault();e.stopPropagation();return false;}else{switch(mask[index]){case maskLetter:if(char.toUpperCase()==char.toLowerCase()){e.preventDefault();e.stopPropagation();return false;}break;case maskNumber:if(isNaN(char)){e.preventDefault();e.stopPropagation();return false;}break;case maskWildcard:break;default:if(char!==mask[index]){e.preventDefault();e.stopPropagation();return false;}}}}return;});el.addEventListener(\"keyup\",e=>{if(e.keyCode>46){if(options.maskAutoFill){fillSymbols(el.value.length);}}});if(!el.placeholder){el.placeholder=mask;}if(options.maskAutoFill){fillSymbols(el.value.length);}}//input element\nfunction input(cell,onRendered,success,cancel,editorParams){//create and style input\nvar cellValue=cell.getValue(),input=document.createElement(\"input\");input.setAttribute(\"type\",editorParams.search?\"search\":\"text\");input.style.padding=\"4px\";input.style.width=\"100%\";input.style.boxSizing=\"border-box\";if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);input.setAttribute(key,input.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{input.setAttribute(key,editorParams.elementAttributes[key]);}}}input.value=typeof cellValue!==\"undefined\"?cellValue:\"\";onRendered(function(){if(cell.getType()===\"cell\"){input.focus({preventScroll:true});input.style.height=\"100%\";if(editorParams.selectContents){input.select();}}});function onChange(e){if((cellValue===null||typeof cellValue===\"undefined\")&&input.value!==\"\"||input.value!==cellValue){if(success(input.value)){cellValue=input.value;//persist value if successfully validated incase editor is used as header filter\n}}else{cancel();}}//submit new value on blur or change\ninput.addEventListener(\"change\",onChange);input.addEventListener(\"blur\",onChange);//submit new value on enter\ninput.addEventListener(\"keydown\",function(e){switch(e.keyCode){// case 9:\ncase 13:onChange();break;case 27:cancel();break;case 35:case 36:e.stopPropagation();break;}});if(editorParams.mask){maskInput(input,editorParams);}return input;}//resizable text area element\nfunction textarea$1(cell,onRendered,success,cancel,editorParams){var cellValue=cell.getValue(),vertNav=editorParams.verticalNavigation||\"hybrid\",value=String(cellValue!==null&&typeof cellValue!==\"undefined\"?cellValue:\"\"),input=document.createElement(\"textarea\"),scrollHeight=0;//create and style input\ninput.style.display=\"block\";input.style.padding=\"2px\";input.style.height=\"100%\";input.style.width=\"100%\";input.style.boxSizing=\"border-box\";input.style.whiteSpace=\"pre-wrap\";input.style.resize=\"none\";if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);input.setAttribute(key,input.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{input.setAttribute(key,editorParams.elementAttributes[key]);}}}input.value=value;onRendered(function(){if(cell.getType()===\"cell\"){input.focus({preventScroll:true});input.style.height=\"100%\";input.scrollHeight;input.style.height=input.scrollHeight+\"px\";cell.getRow().normalizeHeight();if(editorParams.selectContents){input.select();}}});function onChange(e){if((cellValue===null||typeof cellValue===\"undefined\")&&input.value!==\"\"||input.value!==cellValue){if(success(input.value)){cellValue=input.value;//persist value if successfully validated incase editor is used as header filter\n}setTimeout(function(){cell.getRow().normalizeHeight();},300);}else{cancel();}}//submit new value on blur or change\ninput.addEventListener(\"change\",onChange);input.addEventListener(\"blur\",onChange);input.addEventListener(\"keyup\",function(){input.style.height=\"\";var heightNow=input.scrollHeight;input.style.height=heightNow+\"px\";if(heightNow!=scrollHeight){scrollHeight=heightNow;cell.getRow().normalizeHeight();}});input.addEventListener(\"keydown\",function(e){switch(e.keyCode){case 13:if(e.shiftKey&&editorParams.shiftEnterSubmit){onChange();}break;case 27:cancel();break;case 38://up arrow\nif(vertNav==\"editor\"||vertNav==\"hybrid\"&&input.selectionStart){e.stopImmediatePropagation();e.stopPropagation();}break;case 40://down arrow\nif(vertNav==\"editor\"||vertNav==\"hybrid\"&&input.selectionStart!==input.value.length){e.stopImmediatePropagation();e.stopPropagation();}break;case 35:case 36:e.stopPropagation();break;}});if(editorParams.mask){maskInput(input,editorParams);}return input;}//input element with type of number\nfunction number$1(cell,onRendered,success,cancel,editorParams){var cellValue=cell.getValue(),vertNav=editorParams.verticalNavigation||\"editor\",input=document.createElement(\"input\");input.setAttribute(\"type\",\"number\");if(typeof editorParams.max!=\"undefined\"){input.setAttribute(\"max\",editorParams.max);}if(typeof editorParams.min!=\"undefined\"){input.setAttribute(\"min\",editorParams.min);}if(typeof editorParams.step!=\"undefined\"){input.setAttribute(\"step\",editorParams.step);}//create and style input\ninput.style.padding=\"4px\";input.style.width=\"100%\";input.style.boxSizing=\"border-box\";if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);input.setAttribute(key,input.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{input.setAttribute(key,editorParams.elementAttributes[key]);}}}input.value=cellValue;var blurFunc=function(e){onChange();};onRendered(function(){if(cell.getType()===\"cell\"){//submit new value on blur\ninput.removeEventListener(\"blur\",blurFunc);input.focus({preventScroll:true});input.style.height=\"100%\";//submit new value on blur\ninput.addEventListener(\"blur\",blurFunc);if(editorParams.selectContents){input.select();}}});function onChange(){var value=input.value;if(!isNaN(value)&&value!==\"\"){value=Number(value);}if(value!==cellValue){if(success(value)){cellValue=value;//persist value if successfully validated incase editor is used as header filter\n}}else{cancel();}}//submit new value on enter\ninput.addEventListener(\"keydown\",function(e){switch(e.keyCode){case 13:// case 9:\nonChange();break;case 27:cancel();break;case 38://up arrow\ncase 40://down arrow\nif(vertNav==\"editor\"){e.stopImmediatePropagation();e.stopPropagation();}break;case 35:case 36:e.stopPropagation();break;}});if(editorParams.mask){maskInput(input,editorParams);}return input;}//input element with type of number\nfunction range(cell,onRendered,success,cancel,editorParams){var cellValue=cell.getValue(),input=document.createElement(\"input\");input.setAttribute(\"type\",\"range\");if(typeof editorParams.max!=\"undefined\"){input.setAttribute(\"max\",editorParams.max);}if(typeof editorParams.min!=\"undefined\"){input.setAttribute(\"min\",editorParams.min);}if(typeof editorParams.step!=\"undefined\"){input.setAttribute(\"step\",editorParams.step);}//create and style input\ninput.style.padding=\"4px\";input.style.width=\"100%\";input.style.boxSizing=\"border-box\";if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);input.setAttribute(key,input.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{input.setAttribute(key,editorParams.elementAttributes[key]);}}}input.value=cellValue;onRendered(function(){if(cell.getType()===\"cell\"){input.focus({preventScroll:true});input.style.height=\"100%\";}});function onChange(){var value=input.value;if(!isNaN(value)&&value!==\"\"){value=Number(value);}if(value!=cellValue){if(success(value)){cellValue=value;//persist value if successfully validated incase editor is used as header filter\n}}else{cancel();}}//submit new value on blur\ninput.addEventListener(\"blur\",function(e){onChange();});//submit new value on enter\ninput.addEventListener(\"keydown\",function(e){switch(e.keyCode){case 13:// case 9:\nonChange();break;case 27:cancel();break;}});return input;}//input element\nfunction date$1(cell,onRendered,success,cancel,editorParams){var inputFormat=editorParams.format,vertNav=editorParams.verticalNavigation||\"editor\",DT=inputFormat?window.DateTime||luxon.DateTime:null;//create and style input\nvar cellValue=cell.getValue(),input=document.createElement(\"input\");function convertDate(value){var newDatetime;if(DT.isDateTime(value)){newDatetime=value;}else if(inputFormat===\"iso\"){newDatetime=DT.fromISO(String(value));}else{newDatetime=DT.fromFormat(String(value),inputFormat);}return newDatetime.toFormat(\"yyyy-MM-dd\");}input.type=\"date\";input.style.padding=\"4px\";input.style.width=\"100%\";input.style.boxSizing=\"border-box\";if(editorParams.max){input.setAttribute(\"max\",inputFormat?convertDate(editorParams.max):editorParams.max);}if(editorParams.min){input.setAttribute(\"min\",inputFormat?convertDate(editorParams.min):editorParams.min);}if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);input.setAttribute(key,input.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{input.setAttribute(key,editorParams.elementAttributes[key]);}}}cellValue=typeof cellValue!==\"undefined\"?cellValue:\"\";if(inputFormat){if(DT){cellValue=convertDate(cellValue);}else{console.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");}}input.value=cellValue;onRendered(function(){if(cell.getType()===\"cell\"){input.focus({preventScroll:true});input.style.height=\"100%\";if(editorParams.selectContents){input.select();}}});function onChange(){var value=input.value,luxDate;if((cellValue===null||typeof cellValue===\"undefined\")&&value!==\"\"||value!==cellValue){if(value&&inputFormat){luxDate=DT.fromFormat(String(value),\"yyyy-MM-dd\");switch(inputFormat){case true:value=luxDate;break;case\"iso\":value=luxDate.toISO();break;default:value=luxDate.toFormat(inputFormat);}}if(success(value)){cellValue=input.value;//persist value if successfully validated incase editor is used as header filter\n}}else{cancel();}}//submit new value on blur\ninput.addEventListener(\"blur\",function(e){if(e.relatedTarget||e.rangeParent||e.explicitOriginalTarget!==input){onChange();// only on a \"true\" blur; not when focusing browser's date/time picker\n}});//submit new value on enter\ninput.addEventListener(\"keydown\",function(e){switch(e.keyCode){// case 9:\ncase 13:onChange();break;case 27:cancel();break;case 35:case 36:e.stopPropagation();break;case 38://up arrow\ncase 40://down arrow\nif(vertNav==\"editor\"){e.stopImmediatePropagation();e.stopPropagation();}break;}});return input;}//input element\nfunction time$1(cell,onRendered,success,cancel,editorParams){var inputFormat=editorParams.format,vertNav=editorParams.verticalNavigation||\"editor\",DT=inputFormat?window.DateTime||luxon.DateTime:null,newDatetime;//create and style input\nvar cellValue=cell.getValue(),input=document.createElement(\"input\");input.type=\"time\";input.style.padding=\"4px\";input.style.width=\"100%\";input.style.boxSizing=\"border-box\";if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);input.setAttribute(key,input.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{input.setAttribute(key,editorParams.elementAttributes[key]);}}}cellValue=typeof cellValue!==\"undefined\"?cellValue:\"\";if(inputFormat){if(DT){if(DT.isDateTime(cellValue)){newDatetime=cellValue;}else if(inputFormat===\"iso\"){newDatetime=DT.fromISO(String(cellValue));}else{newDatetime=DT.fromFormat(String(cellValue),inputFormat);}cellValue=newDatetime.toFormat(\"HH:mm\");}else{console.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");}}input.value=cellValue;onRendered(function(){if(cell.getType()==\"cell\"){input.focus({preventScroll:true});input.style.height=\"100%\";if(editorParams.selectContents){input.select();}}});function onChange(){var value=input.value,luxTime;if((cellValue===null||typeof cellValue===\"undefined\")&&value!==\"\"||value!==cellValue){if(value&&inputFormat){luxTime=DT.fromFormat(String(value),\"hh:mm\");switch(inputFormat){case true:value=luxTime;break;case\"iso\":value=luxTime.toISO();break;default:value=luxTime.toFormat(inputFormat);}}if(success(value)){cellValue=input.value;//persist value if successfully validated incase editor is used as header filter\n}}else{cancel();}}//submit new value on blur\ninput.addEventListener(\"blur\",function(e){if(e.relatedTarget||e.rangeParent||e.explicitOriginalTarget!==input){onChange();// only on a \"true\" blur; not when focusing browser's date/time picker\n}});//submit new value on enter\ninput.addEventListener(\"keydown\",function(e){switch(e.keyCode){// case 9:\ncase 13:onChange();break;case 27:cancel();break;case 35:case 36:e.stopPropagation();break;case 38://up arrow\ncase 40://down arrow\nif(vertNav==\"editor\"){e.stopImmediatePropagation();e.stopPropagation();}break;}});return input;}//input element\nfunction datetime$2(cell,onRendered,success,cancel,editorParams){var inputFormat=editorParams.format,vertNav=editorParams.verticalNavigation||\"editor\",DT=inputFormat?this.table.dependencyRegistry.lookup([\"luxon\",\"DateTime\"],\"DateTime\"):null,newDatetime;//create and style input\nvar cellValue=cell.getValue(),input=document.createElement(\"input\");input.type=\"datetime-local\";input.style.padding=\"4px\";input.style.width=\"100%\";input.style.boxSizing=\"border-box\";if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);input.setAttribute(key,input.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{input.setAttribute(key,editorParams.elementAttributes[key]);}}}cellValue=typeof cellValue!==\"undefined\"?cellValue:\"\";if(inputFormat){if(DT){if(DT.isDateTime(cellValue)){newDatetime=cellValue;}else if(inputFormat===\"iso\"){newDatetime=DT.fromISO(String(cellValue));}else{newDatetime=DT.fromFormat(String(cellValue),inputFormat);}cellValue=newDatetime.toFormat(\"yyyy-MM-dd\")+\"T\"+newDatetime.toFormat(\"HH:mm\");}else{console.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");}}input.value=cellValue;onRendered(function(){if(cell.getType()===\"cell\"){input.focus({preventScroll:true});input.style.height=\"100%\";if(editorParams.selectContents){input.select();}}});function onChange(){var value=input.value,luxDateTime;if((cellValue===null||typeof cellValue===\"undefined\")&&value!==\"\"||value!==cellValue){if(value&&inputFormat){luxDateTime=DT.fromISO(String(value));switch(inputFormat){case true:value=luxDateTime;break;case\"iso\":value=luxDateTime.toISO();break;default:value=luxDateTime.toFormat(inputFormat);}}if(success(value)){cellValue=input.value;//persist value if successfully validated incase editor is used as header filter\n}}else{cancel();}}//submit new value on blur\ninput.addEventListener(\"blur\",function(e){if(e.relatedTarget||e.rangeParent||e.explicitOriginalTarget!==input){onChange();// only on a \"true\" blur; not when focusing browser's date/time picker\n}});//submit new value on enter\ninput.addEventListener(\"keydown\",function(e){switch(e.keyCode){// case 9:\ncase 13:onChange();break;case 27:cancel();break;case 35:case 36:e.stopPropagation();break;case 38://up arrow\ncase 40://down arrow\nif(vertNav==\"editor\"){e.stopImmediatePropagation();e.stopPropagation();}break;}});return input;}let Edit$1=class Edit{constructor(editor,cell,onRendered,success,cancel,editorParams){this.edit=editor;this.table=editor.table;this.cell=cell;this.params=this._initializeParams(editorParams);this.data=[];this.displayItems=[];this.currentItems=[];this.focusedItem=null;this.input=this._createInputElement();this.listEl=this._createListElement();this.initialValues=null;this.isFilter=cell.getType()===\"header\";this.filterTimeout=null;this.filtered=false;this.typing=false;this.values=[];this.popup=null;this.listIteration=0;this.lastAction=\"\";this.filterTerm=\"\";this.blurable=true;this.actions={success:success,cancel:cancel};this._deprecatedOptionsCheck();this._initializeValue();onRendered(this._onRendered.bind(this));}_deprecatedOptionsCheck(){// if(this.params.listItemFormatter){\n// \tthis.cell.getTable().deprecationAdvisor.msg(\"The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options\");\n// }\n// if(this.params.sortValuesList){\n// \tthis.cell.getTable().deprecationAdvisor.msg(\"The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options\");\n// }\n// if(this.params.searchFunc){\n// \tthis.cell.getTable().deprecationAdvisor.msg(\"The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options\");\n// }\n// if(this.params.searchingPlaceholder){\n// \tthis.cell.getTable().deprecationAdvisor.msg(\"The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options\");\n// }\n}_initializeValue(){var initialValue=this.cell.getValue();if(typeof initialValue===\"undefined\"&&typeof this.params.defaultValue!==\"undefined\"){initialValue=this.params.defaultValue;}this.initialValues=this.params.multiselect?initialValue:[initialValue];if(this.isFilter){this.input.value=this.initialValues?this.initialValues.join(\",\"):\"\";this.headerFilterInitialListGen();}}_onRendered(){var cellEl=this.cell.getElement();function clickStop(e){e.stopPropagation();}if(!this.isFilter){this.input.style.height=\"100%\";this.input.focus({preventScroll:true});}cellEl.addEventListener(\"click\",clickStop);setTimeout(()=>{cellEl.removeEventListener(\"click\",clickStop);},1000);this.input.addEventListener(\"mousedown\",this._preventPopupBlur.bind(this));}_createListElement(){var listEl=document.createElement(\"div\");listEl.classList.add(\"tabulator-edit-list\");listEl.addEventListener(\"mousedown\",this._preventBlur.bind(this));listEl.addEventListener(\"keydown\",this._inputKeyDown.bind(this));return listEl;}_setListWidth(){var element=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=element.offsetWidth+\"px\";if(this.params.maxWidth){if(this.params.maxWidth===true){this.listEl.style.maxWidth=element.offsetWidth+\"px\";}else if(typeof this.params.maxWidth===\"number\"){this.listEl.style.maxWidth=this.params.maxWidth+\"px\";}else{this.listEl.style.maxWidth=this.params.maxWidth;}}}_createInputElement(){var attribs=this.params.elementAttributes;var input=document.createElement(\"input\");input.setAttribute(\"type\",this.params.clearable?\"search\":\"text\");input.style.padding=\"4px\";input.style.width=\"100%\";input.style.boxSizing=\"border-box\";if(!this.params.autocomplete){input.style.cursor=\"default\";input.style.caretColor=\"transparent\";// input.readOnly = (this.edit.currentCell != false);\n}if(attribs&&typeof attribs==\"object\"){for(let key in attribs){if(key.charAt(0)==\"+\"){key=key.slice(1);input.setAttribute(key,input.getAttribute(key)+attribs[\"+\"+key]);}else{input.setAttribute(key,attribs[key]);}}}if(this.params.mask){maskInput(input,this.params);}this._bindInputEvents(input);return input;}_initializeParams(params){var valueKeys=[\"values\",\"valuesURL\",\"valuesLookup\"],valueCheck;params=Object.assign({},params);params.verticalNavigation=params.verticalNavigation||\"editor\";params.placeholderLoading=typeof params.placeholderLoading===\"undefined\"?\"Searching ...\":params.placeholderLoading;params.placeholderEmpty=typeof params.placeholderEmpty===\"undefined\"?\"No Results Found\":params.placeholderEmpty;params.filterDelay=typeof params.filterDelay===\"undefined\"?300:params.filterDelay;params.emptyValue=Object.keys(params).includes(\"emptyValue\")?params.emptyValue:\"\";valueCheck=Object.keys(params).filter(key=>valueKeys.includes(key)).length;if(!valueCheck){console.warn(\"list editor config error - either the values, valuesURL, or valuesLookup option must be set\");}else if(valueCheck>1){console.warn(\"list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor\");}if(params.autocomplete){if(params.multiselect){params.multiselect=false;console.warn(\"list editor config error - multiselect option is not available when autocomplete is enabled\");}}else{if(params.freetext){params.freetext=false;console.warn(\"list editor config error - freetext option is only available when autocomplete is enabled\");}if(params.filterFunc){params.filterFunc=false;console.warn(\"list editor config error - filterFunc option is only available when autocomplete is enabled\");}if(params.filterRemote){params.filterRemote=false;console.warn(\"list editor config error - filterRemote option is only available when autocomplete is enabled\");}if(params.mask){params.mask=false;console.warn(\"list editor config error - mask option is only available when autocomplete is enabled\");}if(params.allowEmpty){params.allowEmpty=false;console.warn(\"list editor config error - allowEmpty option is only available when autocomplete is enabled\");}if(params.listOnEmpty){params.listOnEmpty=false;console.warn(\"list editor config error - listOnEmpty option is only available when autocomplete is enabled\");}}if(params.filterRemote&&!(typeof params.valuesLookup===\"function\"||params.valuesURL)){params.filterRemote=false;console.warn(\"list editor config error - filterRemote option should only be used when values list is populated from a remote source\");}return params;}//////////////////////////////////////\n////////// Event Handling ////////////\n//////////////////////////////////////\n_bindInputEvents(input){input.addEventListener(\"focus\",this._inputFocus.bind(this));input.addEventListener(\"click\",this._inputClick.bind(this));input.addEventListener(\"blur\",this._inputBlur.bind(this));input.addEventListener(\"keydown\",this._inputKeyDown.bind(this));input.addEventListener(\"search\",this._inputSearch.bind(this));if(this.params.autocomplete){input.addEventListener(\"keyup\",this._inputKeyUp.bind(this));}}_inputFocus(e){this.rebuildOptionsList();}_filter(){if(this.params.filterRemote){clearTimeout(this.filterTimeout);this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList();},this.params.filterDelay);}else{this._filterList();}}_inputClick(e){e.stopPropagation();}_inputBlur(e){if(this.blurable){if(this.popup){this.popup.hide();}else{this._resolveValue(true);}}}_inputSearch(){this._clearChoices();}_inputKeyDown(e){switch(e.keyCode){case 38://up arrow\nthis._keyUp(e);break;case 40://down arrow\nthis._keyDown(e);break;case 37://left arrow\ncase 39://right arrow\nthis._keySide(e);break;case 13://enter\nthis._keyEnter();break;case 27://escape\nthis._keyEsc();break;case 36://home\ncase 35://end\nthis._keyHomeEnd(e);break;case 9://tab\nthis._keyTab(e);break;default:this._keySelectLetter(e);}}_inputKeyUp(e){switch(e.keyCode){case 38://up arrow\ncase 37://left arrow\ncase 39://up arrow\ncase 40://right arrow\ncase 13://enter\ncase 27://escape\nbreak;default:this._keyAutoCompLetter(e);}}_preventPopupBlur(){if(this.popup){this.popup.blockHide();}setTimeout(()=>{if(this.popup){this.popup.restoreHide();}},10);}_preventBlur(){this.blurable=false;setTimeout(()=>{this.blurable=true;},10);}//////////////////////////////////////\n//////// Keyboard Navigation /////////\n//////////////////////////////////////\n_keyTab(e){if(this.params.autocomplete&&this.lastAction===\"typing\"){this._resolveValue(true);}else{if(this.focusedItem){this._chooseItem(this.focusedItem,true);}}}_keyUp(e){var index=this.displayItems.indexOf(this.focusedItem);if(this.params.verticalNavigation==\"editor\"||this.params.verticalNavigation==\"hybrid\"&&index){e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();if(index>0){this._focusItem(this.displayItems[index-1]);}}}_keyDown(e){var index=this.displayItems.indexOf(this.focusedItem);if(this.params.verticalNavigation==\"editor\"||this.params.verticalNavigation==\"hybrid\"&&index<this.displayItems.length-1){e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();if(index<this.displayItems.length-1){if(index==-1){this._focusItem(this.displayItems[0]);}else{this._focusItem(this.displayItems[index+1]);}}}}_keySide(e){if(!this.params.autocomplete){e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();}}_keyEnter(e){if(this.params.autocomplete&&this.lastAction===\"typing\"){this._resolveValue(true);}else{if(this.focusedItem){this._chooseItem(this.focusedItem);}}}_keyEsc(e){this._cancel();}_keyHomeEnd(e){if(this.params.autocomplete){//prevent table navigation while using input element\ne.stopImmediatePropagation();}}_keySelectLetter(e){if(!this.params.autocomplete){// if(this.edit.currentCell === false){\ne.preventDefault();// }\nif(e.keyCode>=38&&e.keyCode<=90){this._scrollToValue(e.keyCode);}}}_keyAutoCompLetter(e){this._filter();this.lastAction=\"typing\";this.typing=true;}_scrollToValue(char){clearTimeout(this.filterTimeout);var character=String.fromCharCode(char).toLowerCase();this.filterTerm+=character.toLowerCase();var match=this.displayItems.find(item=>{return typeof item.label!==\"undefined\"&&item.label.toLowerCase().startsWith(this.filterTerm);});if(match){this._focusItem(match);}this.filterTimeout=setTimeout(()=>{this.filterTerm=\"\";},800);}_focusItem(item){this.lastAction=\"focus\";if(this.focusedItem&&this.focusedItem.element){this.focusedItem.element.classList.remove(\"focused\");}this.focusedItem=item;if(item&&item.element){item.element.classList.add(\"focused\");item.element.scrollIntoView({behavior:'smooth',block:'nearest',inline:'start'});}}//////////////////////////////////////\n/////// Data List Generation /////////\n//////////////////////////////////////\nheaderFilterInitialListGen(){this._generateOptions(true);}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{if(!Number.isInteger(e)){console.error(\"List generation error\",e);}});}_filterList(){this._buildList(this._filterOptions());this._showList();}_generateOptions(silent){var values=[];var iteration=++this.listIteration;this.filtered=false;if(this.params.values){values=this.params.values;}else if(this.params.valuesURL){values=this._ajaxRequest(this.params.valuesURL,this.input.value);}else{if(typeof this.params.valuesLookup===\"function\"){values=this.params.valuesLookup(this.cell,this.input.value);}else if(this.params.valuesLookup){values=this._uniqueColumnValues(this.params.valuesLookupField);}}if(values instanceof Promise){if(!silent){this._addPlaceholder(this.params.placeholderLoading);}return values.then().then(responseValues=>{if(this.listIteration===iteration){return this._parseList(responseValues);}else{return Promise.reject(iteration);}});}else{return Promise.resolve(this._parseList(values));}}_addPlaceholder(contents){var placeholder=document.createElement(\"div\");if(typeof contents===\"function\"){contents=contents(this.cell.getComponent(),this.listEl);}if(contents){this._clearList();if(contents instanceof HTMLElement){placeholder=contents;}else{placeholder.classList.add(\"tabulator-edit-list-placeholder\");placeholder.innerHTML=contents;}this.listEl.appendChild(placeholder);this._showList();}}_ajaxRequest(url,term){var params=this.params.filterRemote?{term:term}:{};url=urlBuilder(url,{},params);return fetch(url).then(response=>{if(response.ok){return response.json().catch(error=>{console.warn(\"List Ajax Load Error - Invalid JSON returned\",error);return Promise.reject(error);});}else{console.error(\"List Ajax Load Error - Connection Error: \"+response.status,response.statusText);return Promise.reject(response);}}).catch(error=>{console.error(\"List Ajax Load Error - Connection Error: \",error);return Promise.reject(error);});}_uniqueColumnValues(field){var output={},data=this.table.getData(this.params.valuesLookup),column;if(field){column=this.table.columnManager.getColumnByField(field);}else{column=this.cell.getColumn()._getSelf();}if(column){data.forEach(row=>{var val=column.getFieldValue(row);if(!this._emptyValueCheck(val)){if(this.params.multiselect&&Array.isArray(val)){val.forEach(item=>{if(!this._emptyValueCheck(item)){output[item]=true;}});}else{output[val]=true;}}});}else{console.warn(\"unable to find matching column to create select lookup list:\",field);output=[];}return Object.keys(output);}_emptyValueCheck(value){return value===null||typeof value===\"undefined\"||value===\"\";}_parseList(inputValues){var data=[];if(!Array.isArray(inputValues)){inputValues=Object.entries(inputValues).map(([key,value])=>{return{label:value,value:key};});}inputValues.forEach(value=>{if(typeof value!==\"object\"){value={label:value,value:value};}this._parseListItem(value,data,0);});if(!this.currentItems.length&&this.params.freetext){this.input.value=this.initialValues;this.typing=true;this.lastAction=\"typing\";}this.data=data;return data;}_parseListItem(option,data,level){var item={};if(option.options){item=this._parseListGroup(option,level+1);}else{item={label:option.label,value:option.value,itemParams:option.itemParams,elementAttributes:option.elementAttributes,element:false,selected:false,visible:true,level:level,original:option};if(this.initialValues&&this.initialValues.indexOf(option.value)>-1){this._chooseItem(item,true);}}data.push(item);}_parseListGroup(option,level){var item={label:option.label,group:true,itemParams:option.itemParams,elementAttributes:option.elementAttributes,element:false,visible:true,level:level,options:[],original:option};option.options.forEach(child=>{this._parseListItem(child,item.options,level);});return item;}_sortOptions(options){var sorter;if(this.params.sort){sorter=typeof this.params.sort===\"function\"?this.params.sort:this._defaultSortFunction.bind(this);this._sortGroup(sorter,options);}return options;}_sortGroup(sorter,options){options.sort((a,b)=>{return sorter(a.label,b.label,a.value,b.value,a.original,b.original);});options.forEach(option=>{if(option.group){this._sortGroup(sorter,option.options);}});}_defaultSortFunction(as,bs){var a,b,a1,b1,i=0,L,rx=/(\\d+)|(\\D+)/g,rd=/\\d/;var emptyAlign=0;if(this.params.sort===\"desc\"){[as,bs]=[bs,as];}//handle empty values\nif(!as&&as!==0){emptyAlign=!bs&&bs!==0?0:-1;}else if(!bs&&bs!==0){emptyAlign=1;}else{if(isFinite(as)&&isFinite(bs))return as-bs;a=String(as).toLowerCase();b=String(bs).toLowerCase();if(a===b)return 0;if(!(rd.test(a)&&rd.test(b)))return a>b?1:-1;a=a.match(rx);b=b.match(rx);L=a.length>b.length?b.length:a.length;while(i<L){a1=a[i];b1=b[i++];if(a1!==b1){if(isFinite(a1)&&isFinite(b1)){if(a1.charAt(0)===\"0\")a1=\".\"+a1;if(b1.charAt(0)===\"0\")b1=\".\"+b1;return a1-b1;}else return a1>b1?1:-1;}}return a.length>b.length;}return emptyAlign;}_filterOptions(){var filterFunc=this.params.filterFunc||this._defaultFilterFunc,term=this.input.value;if(term){this.filtered=true;this.data.forEach(item=>{this._filterItem(filterFunc,term,item);});}else{this.filtered=false;}return this.data;}_filterItem(func,term,item){var matches=false;if(!item.group){item.visible=func(term,item.label,item.value,item.original);}else{item.options.forEach(option=>{if(this._filterItem(func,term,option)){matches=true;}});item.visible=matches;}return item.visible;}_defaultFilterFunc(term,label,value,item){term=String(term).toLowerCase();if(label!==null&&typeof label!==\"undefined\"){if(String(label).toLowerCase().indexOf(term)>-1||String(value).toLowerCase().indexOf(term)>-1){return true;}}return false;}//////////////////////////////////////\n/////////// Display List /////////////\n//////////////////////////////////////\n_clearList(){while(this.listEl.firstChild)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[];}_buildList(data){this._clearList();data.forEach(option=>{this._buildItem(option);});if(!this.displayItems.length){this._addPlaceholder(this.params.placeholderEmpty);}}_buildItem(item){var el=item.element,contents;if(!this.filtered||item.visible){if(!el){el=document.createElement(\"div\");el.tabIndex=0;contents=this.params.itemFormatter?this.params.itemFormatter(item.label,item.value,item.original,el):item.label;if(contents instanceof HTMLElement){el.appendChild(contents);}else{el.innerHTML=contents;}if(item.group){el.classList.add(\"tabulator-edit-list-group\");}else{el.classList.add(\"tabulator-edit-list-item\");}el.classList.add(\"tabulator-edit-list-group-level-\"+item.level);if(item.elementAttributes&&typeof item.elementAttributes==\"object\"){for(let key in item.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);el.setAttribute(key,this.input.getAttribute(key)+item.elementAttributes[\"+\"+key]);}else{el.setAttribute(key,item.elementAttributes[key]);}}}if(item.group){el.addEventListener(\"click\",this._groupClick.bind(this,item));}else{el.addEventListener(\"click\",this._itemClick.bind(this,item));}el.addEventListener(\"mousedown\",this._preventBlur.bind(this));item.element=el;}this._styleItem(item);this.listEl.appendChild(el);if(item.group){item.options.forEach(option=>{this._buildItem(option);});}else{this.displayItems.push(item);}}}_showList(){var startVis=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===\"\"&&!this.params.listOnEmpty){if(this.popup){this.popup.hide(true);}return;}this._setListWidth();if(!this.popup){this.popup=this.edit.popup(this.listEl);}this.popup.show(this.cell.getElement(),\"bottom\");if(!startVis){setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,true));},10);}}}_styleItem(item){if(item&&item.element){if(item.selected){item.element.classList.add(\"active\");}else{item.element.classList.remove(\"active\");}}}//////////////////////////////////////\n///////// User Interaction ///////////\n//////////////////////////////////////\n_itemClick(item,e){e.stopPropagation();this._chooseItem(item);}_groupClick(item,e){e.stopPropagation();}//////////////////////////////////////\n////// Current Item Management ///////\n//////////////////////////////////////\n_cancel(){this.popup.hide(true);this.actions.cancel();}_clearChoices(){this.typing=true;this.currentItems.forEach(item=>{item.selected=false;this._styleItem(item);});this.currentItems=[];this.focusedItem=null;}_chooseItem(item,silent){var index;this.typing=false;if(this.params.multiselect){index=this.currentItems.indexOf(item);if(index>-1){this.currentItems.splice(index,1);item.selected=false;}else{this.currentItems.push(item);item.selected=true;}this.input.value=this.currentItems.map(item=>item.label).join(\",\");this._styleItem(item);}else{this.currentItems=[item];item.selected=true;this.input.value=item.label;this._styleItem(item);if(!silent){this._resolveValue();}}this._focusItem(item);}_resolveValue(blur){var output,initialValue;if(this.popup){this.popup.hide(true);}if(this.params.multiselect){output=this.currentItems.map(item=>item.value);}else{if(blur&&this.params.autocomplete&&this.typing){if(this.params.freetext||this.params.allowEmpty&&this.input.value===\"\"){output=this.input.value;}else{this.actions.cancel();return;}}else{if(this.currentItems[0]){output=this.currentItems[0].value;}else{initialValue=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues;if(initialValue===null||typeof initialValue===\"undefined\"||initialValue===\"\"){output=initialValue;}else{output=this.params.emptyValue;}}}}if(output===\"\"){output=this.params.emptyValue;}this.actions.success(output);if(this.isFilter){this.initialValues=output&&!Array.isArray(output)?[output]:output;this.currentItems=[];}}};function list(cell,onRendered,success,cancel,editorParams){var list=new Edit$1(this,cell,onRendered,success,cancel,editorParams);return list.input;}//star rating\nfunction star$1(cell,onRendered,success,cancel,editorParams){var self=this,element=cell.getElement(),value=cell.getValue(),maxStars=element.getElementsByTagName(\"svg\").length||5,size=element.getElementsByTagName(\"svg\")[0]?element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\"):14,stars=[],starsHolder=document.createElement(\"div\"),star=document.createElementNS('http://www.w3.org/2000/svg',\"svg\");//change star type\nfunction starChange(val){stars.forEach(function(star,i){if(i<val){if(self.table.browser==\"ie\"){star.setAttribute(\"class\",\"tabulator-star-active\");}else{star.classList.replace(\"tabulator-star-inactive\",\"tabulator-star-active\");}star.innerHTML='<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';}else{if(self.table.browser==\"ie\"){star.setAttribute(\"class\",\"tabulator-star-inactive\");}else{star.classList.replace(\"tabulator-star-active\",\"tabulator-star-inactive\");}star.innerHTML='<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';}});}//build stars\nfunction buildStar(i){var starHolder=document.createElement(\"span\");var nextStar=star.cloneNode(true);stars.push(nextStar);starHolder.addEventListener(\"mouseenter\",function(e){e.stopPropagation();e.stopImmediatePropagation();starChange(i);});starHolder.addEventListener(\"mousemove\",function(e){e.stopPropagation();e.stopImmediatePropagation();});starHolder.addEventListener(\"click\",function(e){e.stopPropagation();e.stopImmediatePropagation();success(i);element.blur();});starHolder.appendChild(nextStar);starsHolder.appendChild(starHolder);}//handle keyboard navigation value change\nfunction changeValue(val){value=val;starChange(val);}//style cell\nelement.style.whiteSpace=\"nowrap\";element.style.overflow=\"hidden\";element.style.textOverflow=\"ellipsis\";//style holding element\nstarsHolder.style.verticalAlign=\"middle\";starsHolder.style.display=\"inline-block\";starsHolder.style.padding=\"4px\";//style star\nstar.setAttribute(\"width\",size);star.setAttribute(\"height\",size);star.setAttribute(\"viewBox\",\"0 0 512 512\");star.setAttribute(\"xml:space\",\"preserve\");star.style.padding=\"0 1px\";if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);starsHolder.setAttribute(key,starsHolder.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{starsHolder.setAttribute(key,editorParams.elementAttributes[key]);}}}//create correct number of stars\nfor(var i=1;i<=maxStars;i++){buildStar(i);}//ensure value does not exceed number of stars\nvalue=Math.min(parseInt(value),maxStars);// set initial styling of stars\nstarChange(value);starsHolder.addEventListener(\"mousemove\",function(e){starChange(0);});starsHolder.addEventListener(\"click\",function(e){success(0);});element.addEventListener(\"blur\",function(e){cancel();});//allow key based navigation\nelement.addEventListener(\"keydown\",function(e){switch(e.keyCode){case 39://right arrow\nchangeValue(value+1);break;case 37://left arrow\nchangeValue(value-1);break;case 13://enter\nsuccess(value);break;case 27://escape\ncancel();break;}});return starsHolder;}//draggable progress bar\nfunction progress$1(cell,onRendered,success,cancel,editorParams){var element=cell.getElement(),max=typeof editorParams.max===\"undefined\"?element.getElementsByTagName(\"div\")[0]&&element.getElementsByTagName(\"div\")[0].getAttribute(\"max\")||100:editorParams.max,min=typeof editorParams.min===\"undefined\"?element.getElementsByTagName(\"div\")[0]&&element.getElementsByTagName(\"div\")[0].getAttribute(\"min\")||0:editorParams.min,percent=(max-min)/100,value=cell.getValue()||0,handle=document.createElement(\"div\"),bar=document.createElement(\"div\"),mouseDrag,mouseDragWidth;//set new value\nfunction updateValue(){var style=window.getComputedStyle(element,null);var calcVal=percent*Math.round(bar.offsetWidth/((element.clientWidth-parseInt(style.getPropertyValue(\"padding-left\"))-parseInt(style.getPropertyValue(\"padding-right\")))/100))+min;success(calcVal);element.setAttribute(\"aria-valuenow\",calcVal);element.setAttribute(\"aria-label\",value);}//style handle\nhandle.style.position=\"absolute\";handle.style.right=\"0\";handle.style.top=\"0\";handle.style.bottom=\"0\";handle.style.width=\"5px\";handle.classList.add(\"tabulator-progress-handle\");//style bar\nbar.style.display=\"inline-block\";bar.style.position=\"relative\";// bar.style.top = \"8px\";\n// bar.style.bottom = \"8px\";\n// bar.style.left = \"4px\";\n// bar.style.marginRight = \"4px\";\nbar.style.height=\"100%\";bar.style.backgroundColor=\"#488CE9\";bar.style.maxWidth=\"100%\";bar.style.minWidth=\"0%\";if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);bar.setAttribute(key,bar.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{bar.setAttribute(key,editorParams.elementAttributes[key]);}}}//style cell\nelement.style.padding=\"4px 4px\";//make sure value is in range\nvalue=Math.min(parseFloat(value),max);value=Math.max(parseFloat(value),min);//workout percentage\nvalue=Math.round((value-min)/percent);// bar.style.right = value + \"%\";\nbar.style.width=value+\"%\";element.setAttribute(\"aria-valuemin\",min);element.setAttribute(\"aria-valuemax\",max);bar.appendChild(handle);handle.addEventListener(\"mousedown\",function(e){mouseDrag=e.screenX;mouseDragWidth=bar.offsetWidth;});handle.addEventListener(\"mouseover\",function(){handle.style.cursor=\"ew-resize\";});element.addEventListener(\"mousemove\",function(e){if(mouseDrag){bar.style.width=mouseDragWidth+e.screenX-mouseDrag+\"px\";}});element.addEventListener(\"mouseup\",function(e){if(mouseDrag){e.stopPropagation();e.stopImmediatePropagation();mouseDrag=false;mouseDragWidth=false;updateValue();}});//allow key based navigation\nelement.addEventListener(\"keydown\",function(e){switch(e.keyCode){case 39://right arrow\ne.preventDefault();bar.style.width=bar.clientWidth+element.clientWidth/100+\"px\";break;case 37://left arrow\ne.preventDefault();bar.style.width=bar.clientWidth-element.clientWidth/100+\"px\";break;case 9://tab\ncase 13://enter\nupdateValue();break;case 27://escape\ncancel();break;}});element.addEventListener(\"blur\",function(){cancel();});return bar;}//checkbox\nfunction tickCross$1(cell,onRendered,success,cancel,editorParams){var value=cell.getValue(),input=document.createElement(\"input\"),tristate=editorParams.tristate,indetermValue=typeof editorParams.indeterminateValue===\"undefined\"?null:editorParams.indeterminateValue,indetermState=false,trueValueSet=Object.keys(editorParams).includes(\"trueValue\"),falseValueSet=Object.keys(editorParams).includes(\"falseValue\");input.setAttribute(\"type\",\"checkbox\");input.style.marginTop=\"5px\";input.style.boxSizing=\"border-box\";if(editorParams.elementAttributes&&typeof editorParams.elementAttributes==\"object\"){for(let key in editorParams.elementAttributes){if(key.charAt(0)==\"+\"){key=key.slice(1);input.setAttribute(key,input.getAttribute(key)+editorParams.elementAttributes[\"+\"+key]);}else{input.setAttribute(key,editorParams.elementAttributes[key]);}}}input.value=value;if(tristate&&(typeof value===\"undefined\"||value===indetermValue||value===\"\")){indetermState=true;input.indeterminate=true;}if(this.table.browser!=\"firefox\"&&this.table.browser!=\"safari\"){//prevent blur issue on mac firefox\nonRendered(function(){if(cell.getType()===\"cell\"){input.focus({preventScroll:true});}});}input.checked=trueValueSet?value===editorParams.trueValue:value===true||value===\"true\"||value===\"True\"||value===1;function setValue(blur){var checkedValue=input.checked;if(trueValueSet&&checkedValue){checkedValue=editorParams.trueValue;}else if(falseValueSet&&!checkedValue){checkedValue=editorParams.falseValue;}if(tristate){if(!blur){if(input.checked&&!indetermState){input.checked=false;input.indeterminate=true;indetermState=true;return indetermValue;}else{indetermState=false;return checkedValue;}}else{if(indetermState){return indetermValue;}else{return checkedValue;}}}else{return checkedValue;}}//submit new value on blur\ninput.addEventListener(\"change\",function(e){success(setValue());});input.addEventListener(\"blur\",function(e){success(setValue(true));});//submit new value on enter\ninput.addEventListener(\"keydown\",function(e){if(e.keyCode==13){success(setValue());}if(e.keyCode==27){cancel();}});return input;}function adaptable$1(cell,onRendered,success,cancel,params){var column=cell._getSelf().column,lookup,editorFunc,editorParams;function defaultLookup(cell){var value=cell.getValue(),editor=\"input\";switch(typeof value){case\"number\":editor=\"number\";break;case\"boolean\":editor=\"tickCross\";break;case\"string\":if(value.includes(\"\\n\")){editor=\"textarea\";}break;}return editor;}lookup=params.editorLookup?params.editorLookup(cell):defaultLookup(cell);if(params.paramsLookup){editorParams=typeof params.paramsLookup===\"function\"?params.paramsLookup(lookup,cell):params.paramsLookup[lookup];}editorFunc=this.table.modules.edit.lookupEditor(lookup,column);return editorFunc.call(this,cell,onRendered,success,cancel,editorParams||{});}var defaultEditors={input:input,textarea:textarea$1,number:number$1,range:range,date:date$1,time:time$1,datetime:datetime$2,list:list,star:star$1,progress:progress$1,tickCross:tickCross$1,adaptable:adaptable$1};class Edit extends Module{constructor(table){super(table);this.currentCell=false;//hold currently editing cell\nthis.mouseClick=false;//hold mousedown state to prevent click binding being overridden by editor opening\nthis.recursionBlock=false;//prevent focus recursion\nthis.invalidEdit=false;this.editedCells=[];this.convertEmptyValues=false;this.editors=Edit.editors;this.registerTableOption(\"editTriggerEvent\",\"focus\");this.registerTableOption(\"editorEmptyValue\");this.registerTableOption(\"editorEmptyValueFunc\",this.emptyValueCheck.bind(this));this.registerColumnOption(\"editable\");this.registerColumnOption(\"editor\");this.registerColumnOption(\"editorParams\");this.registerColumnOption(\"editorEmptyValue\");this.registerColumnOption(\"editorEmptyValueFunc\");this.registerColumnOption(\"cellEditing\");this.registerColumnOption(\"cellEdited\");this.registerColumnOption(\"cellEditCancelled\");this.registerTableFunction(\"getEditedCells\",this.getEditedCells.bind(this));this.registerTableFunction(\"clearCellEdited\",this.clearCellEdited.bind(this));this.registerTableFunction(\"navigatePrev\",this.navigatePrev.bind(this));this.registerTableFunction(\"navigateNext\",this.navigateNext.bind(this));this.registerTableFunction(\"navigateLeft\",this.navigateLeft.bind(this));this.registerTableFunction(\"navigateRight\",this.navigateRight.bind(this));this.registerTableFunction(\"navigateUp\",this.navigateUp.bind(this));this.registerTableFunction(\"navigateDown\",this.navigateDown.bind(this));this.registerComponentFunction(\"cell\",\"isEdited\",this.cellIsEdited.bind(this));this.registerComponentFunction(\"cell\",\"clearEdited\",this.clearEdited.bind(this));this.registerComponentFunction(\"cell\",\"edit\",this.editCell.bind(this));this.registerComponentFunction(\"cell\",\"cancelEdit\",this.cellCancelEdit.bind(this));this.registerComponentFunction(\"cell\",\"navigatePrev\",this.navigatePrev.bind(this));this.registerComponentFunction(\"cell\",\"navigateNext\",this.navigateNext.bind(this));this.registerComponentFunction(\"cell\",\"navigateLeft\",this.navigateLeft.bind(this));this.registerComponentFunction(\"cell\",\"navigateRight\",this.navigateRight.bind(this));this.registerComponentFunction(\"cell\",\"navigateUp\",this.navigateUp.bind(this));this.registerComponentFunction(\"cell\",\"navigateDown\",this.navigateDown.bind(this));}initialize(){this.subscribe(\"cell-init\",this.bindEditor.bind(this));this.subscribe(\"cell-delete\",this.clearEdited.bind(this));this.subscribe(\"cell-value-changed\",this.updateCellClass.bind(this));this.subscribe(\"column-layout\",this.initializeColumnCheck.bind(this));this.subscribe(\"column-delete\",this.columnDeleteCheck.bind(this));this.subscribe(\"row-deleting\",this.rowDeleteCheck.bind(this));this.subscribe(\"row-layout\",this.rowEditableCheck.bind(this));this.subscribe(\"data-refreshing\",this.cancelEdit.bind(this));this.subscribe(\"clipboard-paste\",this.pasteBlocker.bind(this));this.subscribe(\"keybinding-nav-prev\",this.navigatePrev.bind(this,undefined));this.subscribe(\"keybinding-nav-next\",this.keybindingNavigateNext.bind(this));// this.subscribe(\"keybinding-nav-left\", this.navigateLeft.bind(this, undefined));\n// this.subscribe(\"keybinding-nav-right\", this.navigateRight.bind(this, undefined));\nthis.subscribe(\"keybinding-nav-up\",this.navigateUp.bind(this,undefined));this.subscribe(\"keybinding-nav-down\",this.navigateDown.bind(this,undefined));if(Object.keys(this.table.options).includes(\"editorEmptyValue\")){this.convertEmptyValues=true;}}///////////////////////////////////\n///////// Paste Negation //////////\n///////////////////////////////////\npasteBlocker(e){if(this.currentCell){return true;}}///////////////////////////////////\n////// Keybinding Functions ///////\n///////////////////////////////////\nkeybindingNavigateNext(e){var cell=this.currentCell,newRow=this.options(\"tabEndNewRow\");if(cell){if(!this.navigateNext(cell,e)){if(newRow){cell.getElement().firstChild.blur();if(!this.invalidEdit){if(newRow===true){newRow=this.table.addRow({});}else{if(typeof newRow==\"function\"){newRow=this.table.addRow(newRow(cell.row.getComponent()));}else{newRow=this.table.addRow(Object.assign({},newRow));}}newRow.then(()=>{setTimeout(()=>{cell.getComponent().navigateNext();});});}}}}}///////////////////////////////////\n///////// Cell Functions //////////\n///////////////////////////////////\ncellIsEdited(cell){return!!cell.modules.edit&&cell.modules.edit.edited;}cellCancelEdit(cell){if(cell===this.currentCell){this.table.modules.edit.cancelEdit();}else{console.warn(\"Cancel Editor Error - This cell is not currently being edited \");}}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\nupdateCellClass(cell){if(this.allowEdit(cell)){cell.getElement().classList.add(\"tabulator-editable\");}else{cell.getElement().classList.remove(\"tabulator-editable\");}}clearCellEdited(cells){if(!cells){cells=this.table.modules.edit.getEditedCells();}if(!Array.isArray(cells)){cells=[cells];}cells.forEach(cell=>{this.table.modules.edit.clearEdited(cell._getSelf());});}navigatePrev(cell=this.currentCell,e){var nextCell,prevRow;if(cell){if(e){e.preventDefault();}nextCell=this.navigateLeft();if(nextCell){return true;}else{prevRow=this.table.rowManager.prevDisplayRow(cell.row,true);if(prevRow){nextCell=this.findPrevEditableCell(prevRow,prevRow.cells.length);if(nextCell){nextCell.getComponent().edit();return true;}}}}return false;}navigateNext(cell=this.currentCell,e){var nextCell,nextRow;if(cell){if(e){e.preventDefault();}nextCell=this.navigateRight();if(nextCell){return true;}else{nextRow=this.table.rowManager.nextDisplayRow(cell.row,true);if(nextRow){nextCell=this.findNextEditableCell(nextRow,-1);if(nextCell){nextCell.getComponent().edit();return true;}}}}return false;}navigateLeft(cell=this.currentCell,e){var index,nextCell;if(cell){if(e){e.preventDefault();}index=cell.getIndex();nextCell=this.findPrevEditableCell(cell.row,index);if(nextCell){nextCell.getComponent().edit();return true;}}return false;}navigateRight(cell=this.currentCell,e){var index,nextCell;if(cell){if(e){e.preventDefault();}index=cell.getIndex();nextCell=this.findNextEditableCell(cell.row,index);if(nextCell){nextCell.getComponent().edit();return true;}}return false;}navigateUp(cell=this.currentCell,e){var index,nextRow;if(cell){if(e){e.preventDefault();}index=cell.getIndex();nextRow=this.table.rowManager.prevDisplayRow(cell.row,true);if(nextRow){nextRow.cells[index].getComponent().edit();return true;}}return false;}navigateDown(cell=this.currentCell,e){var index,nextRow;if(cell){if(e){e.preventDefault();}index=cell.getIndex();nextRow=this.table.rowManager.nextDisplayRow(cell.row,true);if(nextRow){nextRow.cells[index].getComponent().edit();return true;}}return false;}findNextEditableCell(row,index){var nextCell=false;if(index<row.cells.length-1){for(var i=index+1;i<row.cells.length;i++){let cell=row.cells[i];if(cell.column.modules.edit&&Helpers.elVisible(cell.getElement())){let allowEdit=this.allowEdit(cell);if(allowEdit){nextCell=cell;break;}}}}return nextCell;}findPrevEditableCell(row,index){var prevCell=false;if(index>0){for(var i=index-1;i>=0;i--){let cell=row.cells[i];if(cell.column.modules.edit&&Helpers.elVisible(cell.getElement())){let allowEdit=this.allowEdit(cell);if(allowEdit){prevCell=cell;break;}}}}return prevCell;}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\ninitializeColumnCheck(column){if(typeof column.definition.editor!==\"undefined\"){this.initializeColumn(column);}}columnDeleteCheck(column){if(this.currentCell&&this.currentCell.column===column){this.cancelEdit();}}rowDeleteCheck(row){if(this.currentCell&&this.currentCell.row===row){this.cancelEdit();}}rowEditableCheck(row){row.getCells().forEach(cell=>{if(cell.column.modules.edit&&typeof cell.column.modules.edit.check===\"function\"){this.updateCellClass(cell);}});}//initialize column editor\ninitializeColumn(column){var convertEmpty=Object.keys(column.definition).includes(\"editorEmptyValue\");var config={editor:false,blocked:false,check:column.definition.editable,params:column.definition.editorParams||{},convertEmptyValues:convertEmpty,editorEmptyValue:column.definition.editorEmptyValue,editorEmptyValueFunc:column.definition.editorEmptyValueFunc};//set column editor\nconfig.editor=this.lookupEditor(column.definition.editor,column);if(config.editor){column.modules.edit=config;}}lookupEditor(editor,column){var editorFunc;switch(typeof editor){case\"string\":if(this.editors[editor]){editorFunc=this.editors[editor];}else{console.warn(\"Editor Error - No such editor found: \",editor);}break;case\"function\":editorFunc=editor;break;case\"boolean\":if(editor===true){if(typeof column.definition.formatter!==\"function\"){if(this.editors[column.definition.formatter]){editorFunc=this.editors[column.definition.formatter];}else{editorFunc=this.editors[\"input\"];}}else{console.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \",column.definition.formatter);}}break;}return editorFunc;}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():false;}clearEditor(cancel){var cell=this.currentCell,cellEl;this.invalidEdit=false;if(cell){this.currentCell=false;cellEl=cell.getElement();this.dispatch(\"edit-editor-clear\",cell,cancel);cellEl.classList.remove(\"tabulator-editing\");while(cellEl.firstChild)cellEl.removeChild(cellEl.firstChild);cell.row.getElement().classList.remove(\"tabulator-editing\");cell.table.element.classList.remove(\"tabulator-editing\");}}cancelEdit(){if(this.currentCell){var cell=this.currentCell;var component=this.currentCell.getComponent();this.clearEditor(true);cell.setValueActual(cell.getValue());cell.cellRendered();if(cell.column.definition.editor==\"textarea\"||cell.column.definition.variableHeight){cell.row.normalizeHeight(true);}if(cell.column.definition.cellEditCancelled){cell.column.definition.cellEditCancelled.call(this.table,component);}this.dispatch(\"edit-cancelled\",cell);this.dispatchExternal(\"cellEditCancelled\",component);}}//return a formatted value for a cell\nbindEditor(cell){if(cell.column.modules.edit){var self=this,element=cell.getElement(true);this.updateCellClass(cell);element.setAttribute(\"tabindex\",0);element.addEventListener(\"mousedown\",function(e){if(e.button===2){e.preventDefault();}else{self.mouseClick=true;}});if(this.options(\"editTriggerEvent\")===\"dblclick\"){element.addEventListener(\"dblclick\",function(e){if(!element.classList.contains(\"tabulator-editing\")){element.focus({preventScroll:true});self.edit(cell,e,false);}});}if(this.options(\"editTriggerEvent\")===\"focus\"||this.options(\"editTriggerEvent\")===\"click\"){element.addEventListener(\"click\",function(e){if(!element.classList.contains(\"tabulator-editing\")){element.focus({preventScroll:true});self.edit(cell,e,false);}});}if(this.options(\"editTriggerEvent\")===\"focus\"){element.addEventListener(\"focus\",function(e){if(!self.recursionBlock){self.edit(cell,e,false);}});}}}focusCellNoEvent(cell,block){this.recursionBlock=true;if(!(block&&this.table.browser===\"ie\")){cell.getElement().focus({preventScroll:true});}this.recursionBlock=false;}editCell(cell,forceEdit){this.focusCellNoEvent(cell);this.edit(cell,false,forceEdit);}focusScrollAdjust(cell){if(this.table.rowManager.getRenderMode()==\"virtual\"){var topEdge=this.table.rowManager.element.scrollTop,bottomEdge=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,rowEl=cell.row.getElement();if(rowEl.offsetTop<topEdge){this.table.rowManager.element.scrollTop-=topEdge-rowEl.offsetTop;}else{if(rowEl.offsetTop+rowEl.offsetHeight>bottomEdge){this.table.rowManager.element.scrollTop+=rowEl.offsetTop+rowEl.offsetHeight-bottomEdge;}}var leftEdge=this.table.rowManager.element.scrollLeft,rightEdge=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,cellEl=cell.getElement();if(this.table.modExists(\"frozenColumns\")){leftEdge+=parseInt(this.table.modules.frozenColumns.leftMargin||0);rightEdge-=parseInt(this.table.modules.frozenColumns.rightMargin||0);}if(this.table.options.renderHorizontal===\"virtual\"){leftEdge-=parseInt(this.table.columnManager.renderer.vDomPadLeft);rightEdge-=parseInt(this.table.columnManager.renderer.vDomPadLeft);}if(cellEl.offsetLeft<leftEdge){this.table.rowManager.element.scrollLeft-=leftEdge-cellEl.offsetLeft;}else{if(cellEl.offsetLeft+cellEl.offsetWidth>rightEdge){this.table.rowManager.element.scrollLeft+=cellEl.offsetLeft+cellEl.offsetWidth-rightEdge;}}}}allowEdit(cell){var check=cell.column.modules.edit?true:false;if(cell.column.modules.edit){switch(typeof cell.column.modules.edit.check){case\"function\":if(cell.row.initialized){check=cell.column.modules.edit.check(cell.getComponent());}break;case\"string\":check=!!cell.row.data[cell.column.modules.edit.check];break;case\"boolean\":check=cell.column.modules.edit.check;break;}}return check;}edit(cell,e,forceEdit){var self=this,allowEdit=true,rendered=function(){},element=cell.getElement(),editFinished=false,cellEditor,component,params;//prevent editing if another cell is refusing to leave focus (eg. validation fail)\nif(this.currentCell){if(!this.invalidEdit&&this.currentCell!==cell){this.cancelEdit();}return;}//handle successful value change\nfunction success(value){if(self.currentCell===cell&&!editFinished){var valid=self.chain(\"edit-success\",[cell,value],true,true);if(valid===true||self.table.options.validationMode===\"highlight\"){editFinished=true;self.clearEditor();if(!cell.modules.edit){cell.modules.edit={};}cell.modules.edit.edited=true;if(self.editedCells.indexOf(cell)==-1){self.editedCells.push(cell);}value=self.transformEmptyValues(value,cell);cell.setValue(value,true);return valid===true;}else{editFinished=true;self.invalidEdit=true;self.focusCellNoEvent(cell,true);rendered();setTimeout(()=>{editFinished=false;},10);return false;}}}//handle aborted edit\nfunction cancel(){// editFinished = true;\nif(self.currentCell===cell&&!editFinished){self.cancelEdit();}}function onRendered(callback){rendered=callback;}if(!cell.column.modules.edit.blocked){if(e){e.stopPropagation();}allowEdit=this.allowEdit(cell);if(allowEdit||forceEdit){self.cancelEdit();self.currentCell=cell;this.focusScrollAdjust(cell);component=cell.getComponent();if(this.mouseClick){this.mouseClick=false;if(cell.column.definition.cellClick){cell.column.definition.cellClick.call(this.table,e,component);}}if(cell.column.definition.cellEditing){cell.column.definition.cellEditing.call(this.table,component);}this.dispatch(\"cell-editing\",cell);this.dispatchExternal(\"cellEditing\",component);params=typeof cell.column.modules.edit.params===\"function\"?cell.column.modules.edit.params(component):cell.column.modules.edit.params;cellEditor=cell.column.modules.edit.editor.call(self,component,onRendered,success,cancel,params);//if editor returned, add to DOM, if false, abort edit\nif(this.currentCell&&cellEditor!==false){if(cellEditor instanceof Node){element.classList.add(\"tabulator-editing\");cell.row.getElement().classList.add(\"tabulator-editing\");cell.table.element.classList.add(\"tabulator-editing\");while(element.firstChild)element.removeChild(element.firstChild);element.appendChild(cellEditor);//trigger onRendered Callback\nrendered();//prevent editing from triggering rowClick event\nvar children=element.children;for(var i=0;i<children.length;i++){children[i].addEventListener(\"click\",function(e){e.stopPropagation();});}}else{console.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\",cellEditor);this.blur(element);return false;}}else{this.blur(element);return false;}return true;}else{this.mouseClick=false;this.blur(element);return false;}}else{this.mouseClick=false;this.blur(element);return false;}}emptyValueCheck(value){return value===\"\"||value===null||typeof value===\"undefined\";}transformEmptyValues(value,cell){var mod=cell.column.modules.edit,convert=mod.convertEmptyValues||this.convertEmptyValues,checkFunc;if(convert){checkFunc=mod.editorEmptyValueFunc||this.options(\"editorEmptyValueFunc\");if(checkFunc&&checkFunc(value)){value=mod.convertEmptyValues?mod.editorEmptyValue:this.options(\"editorEmptyValue\");}}return value;}blur(element){if(!this.confirm(\"edit-blur\",[element])){element.blur();}}getEditedCells(){var output=[];this.editedCells.forEach(cell=>{output.push(cell.getComponent());});return output;}clearEdited(cell){var editIndex;if(cell.modules.edit&&cell.modules.edit.edited){cell.modules.edit.edited=false;this.dispatch(\"edit-edited-clear\",cell);}editIndex=this.editedCells.indexOf(cell);if(editIndex>-1){this.editedCells.splice(editIndex,1);}}}_defineProperty(Edit,\"moduleName\",\"edit\");//load defaults\n_defineProperty(Edit,\"editors\",defaultEditors);class ExportRow{constructor(type,columns,component,indent){this.type=type;this.columns=columns;this.component=component||false;this.indent=indent||0;}}class ExportColumn{constructor(value,component,width,height,depth){this.value=value;this.component=component||false;this.width=width;this.height=height;this.depth=depth;}}var columnLookups$1={};var rowLookups$1={visible:function(){return this.rowManager.getVisibleRows(false,true);},all:function(){return this.rowManager.rows;},selected:function(){return this.modules.selectRow.selectedRows;},active:function(){if(this.options.pagination){return this.rowManager.getDisplayRows(this.rowManager.displayRows.length-2);}else{return this.rowManager.getDisplayRows();}}};class Export extends Module{constructor(table){super(table);this.config={};this.cloneTableStyle=true;this.colVisProp=\"\";this.colVisPropAttach=\"\";this.registerTableOption(\"htmlOutputConfig\",false);//html output config\nthis.registerColumnOption(\"htmlOutput\");this.registerColumnOption(\"titleHtmlOutput\");}initialize(){this.registerTableFunction(\"getHtml\",this.getHtml.bind(this));}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\ngenerateExportList(config,style,range,colVisProp){var headers,body,columns,colLookup;this.cloneTableStyle=style;this.config=config||{};this.colVisProp=colVisProp;this.colVisPropAttach=this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1);colLookup=Export.columnLookups[range];if(colLookup){columns=colLookup.call(this.table);columns=columns.filter(col=>this.columnVisCheck(col));}headers=this.config.columnHeaders!==false?this.headersToExportRows(this.generateColumnGroupHeaders(columns)):[];if(columns){columns=columns.map(col=>col.getComponent());}body=this.bodyToExportRows(this.rowLookup(range),columns);return headers.concat(body);}generateTable(config,style,range,colVisProp){var list=this.generateExportList(config,style,range,colVisProp);return this.generateTableElement(list);}rowLookup(range){var rows=[],rowLookup;if(typeof range==\"function\"){range.call(this.table).forEach(row=>{row=this.table.rowManager.findRow(row);if(row){rows.push(row);}});}else{rowLookup=Export.rowLookups[range]||Export.rowLookups[\"active\"];rows=rowLookup.call(this.table);}return Object.assign([],rows);}generateColumnGroupHeaders(columns){var output=[];if(!columns){columns=this.config.columnGroups!==false?this.table.columnManager.columns:this.table.columnManager.columnsByIndex;}columns.forEach(column=>{var colData=this.processColumnGroup(column);if(colData){output.push(colData);}});return output;}processColumnGroup(column){var subGroups=column.columns,maxDepth=0,title=column.definition[\"title\"+this.colVisPropAttach]||column.definition.title;var groupData={title:title,column:column,depth:1};if(subGroups.length){groupData.subGroups=[];groupData.width=0;subGroups.forEach(subGroup=>{var subGroupData=this.processColumnGroup(subGroup);if(subGroupData){groupData.width+=subGroupData.width;groupData.subGroups.push(subGroupData);if(subGroupData.depth>maxDepth){maxDepth=subGroupData.depth;}}});groupData.depth+=maxDepth;if(!groupData.width){return false;}}else{if(this.columnVisCheck(column)){groupData.width=1;}else{return false;}}return groupData;}columnVisCheck(column){var visProp=column.definition[this.colVisProp];if(this.config.rowHeaders===false&&column.isRowHeader){return false;}if(typeof visProp===\"function\"){visProp=visProp.call(this.table,column.getComponent());}if(visProp===false||visProp===true){return visProp;}return column.visible&&column.field;}headersToExportRows(columns){var headers=[],headerDepth=0,exportRows=[];function parseColumnGroup(column,level){var depth=headerDepth-level;if(typeof headers[level]===\"undefined\"){headers[level]=[];}column.height=column.subGroups?1:depth-column.depth+1;headers[level].push(column);if(column.height>1){for(let i=1;i<column.height;i++){if(typeof headers[level+i]===\"undefined\"){headers[level+i]=[];}headers[level+i].push(false);}}if(column.width>1){for(let i=1;i<column.width;i++){headers[level].push(false);}}if(column.subGroups){column.subGroups.forEach(function(subGroup){parseColumnGroup(subGroup,level+1);});}}//calculate maximum header depth\ncolumns.forEach(function(column){if(column.depth>headerDepth){headerDepth=column.depth;}});columns.forEach(function(column){parseColumnGroup(column,0);});headers.forEach(header=>{var columns=[];header.forEach(col=>{if(col){let title=typeof col.title===\"undefined\"?\"\":col.title;columns.push(new ExportColumn(title,col.column.getComponent(),col.width,col.height,col.depth));}else{columns.push(null);}});exportRows.push(new ExportRow(\"header\",columns));});return exportRows;}bodyToExportRows(rows,columns=[]){var exportRows=[];if(columns.length===0){this.table.columnManager.columnsByIndex.forEach(column=>{if(this.columnVisCheck(column)){columns.push(column.getComponent());}});}if(this.config.columnCalcs!==false&&this.table.modExists(\"columnCalcs\")){if(this.table.modules.columnCalcs.topInitialized){rows.unshift(this.table.modules.columnCalcs.topRow);}if(this.table.modules.columnCalcs.botInitialized){rows.push(this.table.modules.columnCalcs.botRow);}}rows=rows.filter(row=>{switch(row.type){case\"group\":return this.config.rowGroups!==false;case\"calc\":return this.config.columnCalcs!==false;case\"row\":return!(this.table.options.dataTree&&this.config.dataTree===false&&row.modules.dataTree.parent);}return true;});rows.forEach((row,i)=>{var rowData=row.getData(this.colVisProp);var exportCols=[];var indent=0;switch(row.type){case\"group\":indent=row.level;exportCols.push(new ExportColumn(row.key,row.getComponent(),columns.length,1));break;case\"calc\":case\"row\":columns.forEach(col=>{exportCols.push(new ExportColumn(col._column.getFieldValue(rowData),col,1,1));});if(this.table.options.dataTree&&this.config.dataTree!==false){indent=row.modules.dataTree.index;}break;}exportRows.push(new ExportRow(row.type,exportCols,row.getComponent(),indent));});return exportRows;}generateTableElement(list){var table=document.createElement(\"table\"),headerEl=document.createElement(\"thead\"),bodyEl=document.createElement(\"tbody\"),styles=this.lookupTableStyles(),rowFormatter=this.table.options[\"rowFormatter\"+this.colVisPropAttach],setup={};setup.rowFormatter=rowFormatter!==null?rowFormatter:this.table.options.rowFormatter;if(this.table.options.dataTree&&this.config.dataTree!==false&&this.table.modExists(\"columnCalcs\")){setup.treeElementField=this.table.modules.dataTree.elementField;}//assign group header formatter\nsetup.groupHeader=this.table.options[\"groupHeader\"+this.colVisPropAttach];if(setup.groupHeader&&!Array.isArray(setup.groupHeader)){setup.groupHeader=[setup.groupHeader];}table.classList.add(\"tabulator-print-table\");this.mapElementStyles(this.table.columnManager.getHeadersElement(),headerEl,[\"border-top\",\"border-left\",\"border-right\",\"border-bottom\",\"background-color\",\"color\",\"font-weight\",\"font-family\",\"font-size\"]);if(list.length>1000){console.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");}list.forEach((row,i)=>{let rowEl;switch(row.type){case\"header\":headerEl.appendChild(this.generateHeaderElement(row,setup,styles));break;case\"group\":bodyEl.appendChild(this.generateGroupElement(row,setup,styles));break;case\"calc\":bodyEl.appendChild(this.generateCalcElement(row,setup,styles));break;case\"row\":rowEl=this.generateRowElement(row,setup,styles);this.mapElementStyles(i%2&&styles.evenRow?styles.evenRow:styles.oddRow,rowEl,[\"border-top\",\"border-left\",\"border-right\",\"border-bottom\",\"color\",\"font-weight\",\"font-family\",\"font-size\",\"background-color\"]);bodyEl.appendChild(rowEl);break;}});if(headerEl.innerHTML){table.appendChild(headerEl);}table.appendChild(bodyEl);this.mapElementStyles(this.table.element,table,[\"border-top\",\"border-left\",\"border-right\",\"border-bottom\"]);return table;}lookupTableStyles(){var styles={};//lookup row styles\nif(this.cloneTableStyle&&window.getComputedStyle){styles.oddRow=this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");styles.evenRow=this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");styles.calcRow=this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");styles.firstRow=this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");styles.firstGroup=this.table.element.getElementsByClassName(\"tabulator-group\")[0];if(styles.firstRow){styles.styleCells=styles.firstRow.getElementsByClassName(\"tabulator-cell\");styles.styleRowHeader=styles.firstRow.getElementsByClassName(\"tabulator-row-header\")[0];styles.firstCell=styles.styleCells[0];styles.lastCell=styles.styleCells[styles.styleCells.length-1];}}return styles;}generateHeaderElement(row,setup,styles){var rowEl=document.createElement(\"tr\");row.columns.forEach(column=>{if(column){var cellEl=document.createElement(\"th\");var classNames=column.component._column.definition.cssClass?column.component._column.definition.cssClass.split(\" \"):[];cellEl.colSpan=column.width;cellEl.rowSpan=column.height;cellEl.innerHTML=column.value;if(this.cloneTableStyle){cellEl.style.boxSizing=\"border-box\";}classNames.forEach(function(className){cellEl.classList.add(className);});this.mapElementStyles(column.component.getElement(),cellEl,[\"text-align\",\"border-left\",\"border-right\",\"background-color\",\"color\",\"font-weight\",\"font-family\",\"font-size\"]);this.mapElementStyles(column.component._column.contentElement,cellEl,[\"padding-top\",\"padding-left\",\"padding-right\",\"padding-bottom\"]);if(column.component._column.visible){this.mapElementStyles(column.component.getElement(),cellEl,[\"width\"]);}else{if(column.component._column.definition.width){cellEl.style.width=column.component._column.definition.width+\"px\";}}if(column.component._column.parent&&column.component._column.parent.isGroup){this.mapElementStyles(column.component._column.parent.groupElement,cellEl,[\"border-top\"]);}else{this.mapElementStyles(column.component.getElement(),cellEl,[\"border-top\"]);}if(column.component._column.isGroup){this.mapElementStyles(column.component.getElement(),cellEl,[\"border-bottom\"]);}else{this.mapElementStyles(this.table.columnManager.getElement(),cellEl,[\"border-bottom\"]);}rowEl.appendChild(cellEl);}});return rowEl;}generateGroupElement(row,setup,styles){var rowEl=document.createElement(\"tr\"),cellEl=document.createElement(\"td\"),group=row.columns[0];rowEl.classList.add(\"tabulator-print-table-row\");if(setup.groupHeader&&setup.groupHeader[row.indent]){group.value=setup.groupHeader[row.indent](group.value,row.component._group.getRowCount(),row.component._group.getData(),row.component);}else{if(setup.groupHeader!==false){group.value=row.component._group.generator(group.value,row.component._group.getRowCount(),row.component._group.getData(),row.component);}}cellEl.colSpan=group.width;cellEl.innerHTML=group.value;rowEl.classList.add(\"tabulator-print-table-group\");rowEl.classList.add(\"tabulator-group-level-\"+row.indent);if(group.component.isVisible()){rowEl.classList.add(\"tabulator-group-visible\");}this.mapElementStyles(styles.firstGroup,rowEl,[\"border-top\",\"border-left\",\"border-right\",\"border-bottom\",\"color\",\"font-weight\",\"font-family\",\"font-size\",\"background-color\"]);this.mapElementStyles(styles.firstGroup,cellEl,[\"padding-top\",\"padding-left\",\"padding-right\",\"padding-bottom\"]);rowEl.appendChild(cellEl);return rowEl;}generateCalcElement(row,setup,styles){var rowEl=this.generateRowElement(row,setup,styles);rowEl.classList.add(\"tabulator-print-table-calcs\");this.mapElementStyles(styles.calcRow,rowEl,[\"border-top\",\"border-left\",\"border-right\",\"border-bottom\",\"color\",\"font-weight\",\"font-family\",\"font-size\",\"background-color\"]);return rowEl;}generateRowElement(row,setup,styles){var rowEl=document.createElement(\"tr\");rowEl.classList.add(\"tabulator-print-table-row\");row.columns.forEach((col,i)=>{if(col){var cellEl=document.createElement(\"td\"),column=col.component._column,table=this.table,index=table.columnManager.findColumnIndex(column),value=col.value,cellStyle,styleProps;var cellWrapper={modules:{},getValue:function(){return value;},getField:function(){return column.definition.field;},getElement:function(){return cellEl;},getType:function(){return\"cell\";},getColumn:function(){return column.getComponent();},getData:function(){return row.component.getData();},getRow:function(){return row.component;},getTable:function(){return table;},getComponent:function(){return cellWrapper;},column:column};var classNames=column.definition.cssClass?column.definition.cssClass.split(\" \"):[];classNames.forEach(function(className){cellEl.classList.add(className);});if(this.table.modExists(\"format\")&&this.config.formatCells!==false){value=this.table.modules.format.formatExportValue(cellWrapper,this.colVisProp);}else{switch(typeof value){case\"object\":value=value!==null?JSON.stringify(value):\"\";break;case\"undefined\":value=\"\";break;}}if(value instanceof Node){cellEl.appendChild(value);}else{cellEl.innerHTML=value;}styleProps=[\"padding-top\",\"padding-left\",\"padding-right\",\"padding-bottom\",\"border-top\",\"border-left\",\"border-right\",\"border-bottom\",\"color\",\"font-weight\",\"font-family\",\"font-size\",\"text-align\"];if(column.isRowHeader){cellStyle=styles.styleRowHeader;styleProps.push(\"background-color\");}else{cellStyle=styles.styleCells&&styles.styleCells[index]?styles.styleCells[index]:styles.firstCell;}if(cellStyle){this.mapElementStyles(cellStyle,cellEl,styleProps);if(column.definition.align){cellEl.style.textAlign=column.definition.align;}}if(this.table.options.dataTree&&this.config.dataTree!==false){if(setup.treeElementField&&setup.treeElementField==column.field||!setup.treeElementField&&i==0){if(row.component._row.modules.dataTree.controlEl){cellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true),cellEl.firstChild);}if(row.component._row.modules.dataTree.branchEl){cellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true),cellEl.firstChild);}}}rowEl.appendChild(cellEl);if(cellWrapper.modules.format&&cellWrapper.modules.format.renderedCallback){cellWrapper.modules.format.renderedCallback();}}});if(setup.rowFormatter&&row.type===\"row\"&&this.config.formatCells!==false){let formatComponent=Object.assign(row.component);formatComponent.getElement=function(){return rowEl;};setup.rowFormatter(row.component);}return rowEl;}generateHTMLTable(list){var holder=document.createElement(\"div\");holder.appendChild(this.generateTableElement(list));return holder.innerHTML;}getHtml(visible,style,config,colVisProp){var list=this.generateExportList(config||this.table.options.htmlOutputConfig,style,visible,colVisProp||\"htmlOutput\");return this.generateHTMLTable(list);}mapElementStyles(from,to,props){if(this.cloneTableStyle&&from&&to){var lookup={\"background-color\":\"backgroundColor\",\"color\":\"fontColor\",\"width\":\"width\",\"font-weight\":\"fontWeight\",\"font-family\":\"fontFamily\",\"font-size\":\"fontSize\",\"text-align\":\"textAlign\",\"border-top\":\"borderTop\",\"border-left\":\"borderLeft\",\"border-right\":\"borderRight\",\"border-bottom\":\"borderBottom\",\"padding-top\":\"paddingTop\",\"padding-left\":\"paddingLeft\",\"padding-right\":\"paddingRight\",\"padding-bottom\":\"paddingBottom\"};if(window.getComputedStyle){var fromStyle=window.getComputedStyle(from);props.forEach(function(prop){if(!to.style[lookup[prop]]){to.style[lookup[prop]]=fromStyle.getPropertyValue(prop);}});}}}}_defineProperty(Export,\"moduleName\",\"export\");_defineProperty(Export,\"columnLookups\",columnLookups$1);_defineProperty(Export,\"rowLookups\",rowLookups$1);var defaultFilters={//equal to\n\"=\":function(filterVal,rowVal,rowData,filterParams){return rowVal==filterVal?true:false;},//less than\n\"<\":function(filterVal,rowVal,rowData,filterParams){return rowVal<filterVal?true:false;},//less than or equal to\n\"<=\":function(filterVal,rowVal,rowData,filterParams){return rowVal<=filterVal?true:false;},//greater than\n\">\":function(filterVal,rowVal,rowData,filterParams){return rowVal>filterVal?true:false;},//greater than or equal to\n\">=\":function(filterVal,rowVal,rowData,filterParams){return rowVal>=filterVal?true:false;},//not equal to\n\"!=\":function(filterVal,rowVal,rowData,filterParams){return rowVal!=filterVal?true:false;},\"regex\":function(filterVal,rowVal,rowData,filterParams){if(typeof filterVal==\"string\"){filterVal=new RegExp(filterVal);}return filterVal.test(rowVal);},//contains the string\n\"like\":function(filterVal,rowVal,rowData,filterParams){if(filterVal===null||typeof filterVal===\"undefined\"){return rowVal===filterVal?true:false;}else{if(typeof rowVal!=='undefined'&&rowVal!==null){return String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase())>-1;}else{return false;}}},//contains the keywords\n\"keywords\":function(filterVal,rowVal,rowData,filterParams){var keywords=filterVal.toLowerCase().split(typeof filterParams.separator===\"undefined\"?\" \":filterParams.separator),value=String(rowVal===null||typeof rowVal===\"undefined\"?\"\":rowVal).toLowerCase(),matches=[];keywords.forEach(keyword=>{if(value.includes(keyword)){matches.push(true);}});return filterParams.matchAll?matches.length===keywords.length:!!matches.length;},//starts with the string\n\"starts\":function(filterVal,rowVal,rowData,filterParams){if(filterVal===null||typeof filterVal===\"undefined\"){return rowVal===filterVal?true:false;}else{if(typeof rowVal!=='undefined'&&rowVal!==null){return String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());}else{return false;}}},//ends with the string\n\"ends\":function(filterVal,rowVal,rowData,filterParams){if(filterVal===null||typeof filterVal===\"undefined\"){return rowVal===filterVal?true:false;}else{if(typeof rowVal!=='undefined'&&rowVal!==null){return String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());}else{return false;}}},//in array\n\"in\":function(filterVal,rowVal,rowData,filterParams){if(Array.isArray(filterVal)){return filterVal.length?filterVal.indexOf(rowVal)>-1:true;}else{console.warn(\"Filter Error - filter value is not an array:\",filterVal);return false;}}};class Filter extends Module{constructor(table){super(table);this.filterList=[];//hold filter list\nthis.headerFilters={};//hold column filters\nthis.headerFilterColumns=[];//hold columns that use header filters\nthis.prevHeaderFilterChangeCheck=\"\";this.prevHeaderFilterChangeCheck=\"{}\";this.changed=false;//has filtering changed since last render\nthis.tableInitialized=false;this.registerTableOption(\"filterMode\",\"local\");//local or remote filtering\nthis.registerTableOption(\"initialFilter\",false);//initial filtering criteria\nthis.registerTableOption(\"initialHeaderFilter\",false);//initial header filtering criteria\nthis.registerTableOption(\"headerFilterLiveFilterDelay\",300);//delay before updating column after user types in header filter\nthis.registerTableOption(\"placeholderHeaderFilter\",false);//placeholder when header filter is empty\nthis.registerColumnOption(\"headerFilter\");this.registerColumnOption(\"headerFilterPlaceholder\");this.registerColumnOption(\"headerFilterParams\");this.registerColumnOption(\"headerFilterEmptyCheck\");this.registerColumnOption(\"headerFilterFunc\");this.registerColumnOption(\"headerFilterFuncParams\");this.registerColumnOption(\"headerFilterLiveFilter\");this.registerTableFunction(\"searchRows\",this.searchRows.bind(this));this.registerTableFunction(\"searchData\",this.searchData.bind(this));this.registerTableFunction(\"setFilter\",this.userSetFilter.bind(this));this.registerTableFunction(\"refreshFilter\",this.userRefreshFilter.bind(this));this.registerTableFunction(\"addFilter\",this.userAddFilter.bind(this));this.registerTableFunction(\"getFilters\",this.getFilters.bind(this));this.registerTableFunction(\"setHeaderFilterFocus\",this.userSetHeaderFilterFocus.bind(this));this.registerTableFunction(\"getHeaderFilterValue\",this.userGetHeaderFilterValue.bind(this));this.registerTableFunction(\"setHeaderFilterValue\",this.userSetHeaderFilterValue.bind(this));this.registerTableFunction(\"getHeaderFilters\",this.getHeaderFilters.bind(this));this.registerTableFunction(\"removeFilter\",this.userRemoveFilter.bind(this));this.registerTableFunction(\"clearFilter\",this.userClearFilter.bind(this));this.registerTableFunction(\"clearHeaderFilter\",this.userClearHeaderFilter.bind(this));this.registerComponentFunction(\"column\",\"headerFilterFocus\",this.setHeaderFilterFocus.bind(this));this.registerComponentFunction(\"column\",\"reloadHeaderFilter\",this.reloadHeaderFilter.bind(this));this.registerComponentFunction(\"column\",\"getHeaderFilterValue\",this.getHeaderFilterValue.bind(this));this.registerComponentFunction(\"column\",\"setHeaderFilterValue\",this.setHeaderFilterValue.bind(this));}initialize(){this.subscribe(\"column-init\",this.initializeColumnHeaderFilter.bind(this));this.subscribe(\"column-width-fit-before\",this.hideHeaderFilterElements.bind(this));this.subscribe(\"column-width-fit-after\",this.showHeaderFilterElements.bind(this));this.subscribe(\"table-built\",this.tableBuilt.bind(this));this.subscribe(\"placeholder\",this.generatePlaceholder.bind(this));if(this.table.options.filterMode===\"remote\"){this.subscribe(\"data-params\",this.remoteFilterParams.bind(this));}this.registerDataHandler(this.filter.bind(this),10);}tableBuilt(){if(this.table.options.initialFilter){this.setFilter(this.table.options.initialFilter);}if(this.table.options.initialHeaderFilter){this.table.options.initialHeaderFilter.forEach(item=>{var column=this.table.columnManager.findColumn(item.field);if(column){this.setHeaderFilterValue(column,item.value);}else{console.warn(\"Column Filter Error - No matching column found:\",item.field);return false;}});}this.tableInitialized=true;}remoteFilterParams(data,config,silent,params){params.filter=this.getFilters(true,true);return params;}generatePlaceholder(text){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length){return this.table.options.placeholderHeaderFilter;}}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\n//set standard filters\nuserSetFilter(field,type,value,params){this.setFilter(field,type,value,params);this.refreshFilter();}//set standard filters\nuserRefreshFilter(){this.refreshFilter();}//add filter to array\nuserAddFilter(field,type,value,params){this.addFilter(field,type,value,params);this.refreshFilter();}userSetHeaderFilterFocus(field){var column=this.table.columnManager.findColumn(field);if(column){this.setHeaderFilterFocus(column);}else{console.warn(\"Column Filter Focus Error - No matching column found:\",field);return false;}}userGetHeaderFilterValue(field){var column=this.table.columnManager.findColumn(field);if(column){return this.getHeaderFilterValue(column);}else{console.warn(\"Column Filter Error - No matching column found:\",field);}}userSetHeaderFilterValue(field,value){var column=this.table.columnManager.findColumn(field);if(column){this.setHeaderFilterValue(column,value);}else{console.warn(\"Column Filter Error - No matching column found:\",field);return false;}}//remove filter from array\nuserRemoveFilter(field,type,value){this.removeFilter(field,type,value);this.refreshFilter();}//clear filters\nuserClearFilter(all){this.clearFilter(all);this.refreshFilter();}//clear header filters\nuserClearHeaderFilter(){this.clearHeaderFilter();this.refreshFilter();}//search for specific row components\nsearchRows(field,type,value){return this.search(\"rows\",field,type,value);}//search for specific data\nsearchData(field,type,value){return this.search(\"data\",field,type,value);}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\ninitializeColumnHeaderFilter(column){var def=column.definition;if(def.headerFilter){this.initializeColumn(column);}}//initialize column header filter\ninitializeColumn(column,value){var self=this,field=column.getField();//handle successfully value change\nfunction success(value){var filterType=column.modules.filter.tagType==\"input\"&&column.modules.filter.attrType==\"text\"||column.modules.filter.tagType==\"textarea\"?\"partial\":\"match\",type=\"\",filterChangeCheck=\"\",filterFunc;if(typeof column.modules.filter.prevSuccess===\"undefined\"||column.modules.filter.prevSuccess!==value){column.modules.filter.prevSuccess=value;if(!column.modules.filter.emptyFunc(value)){column.modules.filter.value=value;switch(typeof column.definition.headerFilterFunc){case\"string\":if(Filter.filters[column.definition.headerFilterFunc]){type=column.definition.headerFilterFunc;filterFunc=function(data){var params=column.definition.headerFilterFuncParams||{};var fieldVal=column.getFieldValue(data);params=typeof params===\"function\"?params(value,fieldVal,data):params;return Filter.filters[column.definition.headerFilterFunc](value,fieldVal,data,params);};}else{console.warn(\"Header Filter Error - Matching filter function not found: \",column.definition.headerFilterFunc);}break;case\"function\":filterFunc=function(data){var params=column.definition.headerFilterFuncParams||{};var fieldVal=column.getFieldValue(data);params=typeof params===\"function\"?params(value,fieldVal,data):params;return column.definition.headerFilterFunc(value,fieldVal,data,params);};type=filterFunc;break;}if(!filterFunc){switch(filterType){case\"partial\":filterFunc=function(data){var colVal=column.getFieldValue(data);if(typeof colVal!=='undefined'&&colVal!==null){return String(colVal).toLowerCase().indexOf(String(value).toLowerCase())>-1;}else{return false;}};type=\"like\";break;default:filterFunc=function(data){return column.getFieldValue(data)==value;};type=\"=\";}}self.headerFilters[field]={value:value,func:filterFunc,type:type};}else{delete self.headerFilters[field];}column.modules.filter.value=value;filterChangeCheck=JSON.stringify(self.headerFilters);if(self.prevHeaderFilterChangeCheck!==filterChangeCheck){self.prevHeaderFilterChangeCheck=filterChangeCheck;self.trackChanges();self.refreshFilter();}}return true;}column.modules.filter={success:success,attrType:false,tagType:false,emptyFunc:false};this.generateHeaderFilterElement(column);}generateHeaderFilterElement(column,initialValue,reinitialize){var self=this,success=column.modules.filter.success,field=column.getField(),filterElement,editor,editorElement,cellWrapper,typingTimer,searchTrigger,params,onRenderedCallback;column.modules.filter.value=initialValue;//handle aborted edit\nfunction cancel(){}function onRendered(callback){onRenderedCallback=callback;}if(column.modules.filter.headerElement&&column.modules.filter.headerElement.parentNode){column.contentElement.removeChild(column.modules.filter.headerElement.parentNode);}if(field){//set empty value function\ncolumn.modules.filter.emptyFunc=column.definition.headerFilterEmptyCheck||function(value){return!value&&value!==0;};filterElement=document.createElement(\"div\");filterElement.classList.add(\"tabulator-header-filter\");//set column editor\nswitch(typeof column.definition.headerFilter){case\"string\":if(self.table.modules.edit.editors[column.definition.headerFilter]){editor=self.table.modules.edit.editors[column.definition.headerFilter];if((column.definition.headerFilter===\"tick\"||column.definition.headerFilter===\"tickCross\")&&!column.definition.headerFilterEmptyCheck){column.modules.filter.emptyFunc=function(value){return value!==true&&value!==false;};}}else{console.warn(\"Filter Error - Cannot build header filter, No such editor found: \",column.definition.editor);}break;case\"function\":editor=column.definition.headerFilter;break;case\"boolean\":if(column.modules.edit&&column.modules.edit.editor){editor=column.modules.edit.editor;}else{if(column.definition.formatter&&self.table.modules.edit.editors[column.definition.formatter]){editor=self.table.modules.edit.editors[column.definition.formatter];if((column.definition.formatter===\"tick\"||column.definition.formatter===\"tickCross\")&&!column.definition.headerFilterEmptyCheck){column.modules.filter.emptyFunc=function(value){return value!==true&&value!==false;};}}else{editor=self.table.modules.edit.editors[\"input\"];}}break;}if(editor){cellWrapper={getValue:function(){return typeof initialValue!==\"undefined\"?initialValue:\"\";},getField:function(){return column.definition.field;},getElement:function(){return filterElement;},getColumn:function(){return column.getComponent();},getTable:()=>{return this.table;},getType:()=>{return\"header\";},getRow:function(){return{normalizeHeight:function(){}};}};params=column.definition.headerFilterParams||{};params=typeof params===\"function\"?params.call(self.table,cellWrapper):params;editorElement=editor.call(this.table.modules.edit,cellWrapper,onRendered,success,cancel,params);if(!editorElement){console.warn(\"Filter Error - Cannot add filter to \"+field+\" column, editor returned a value of false\");return;}if(!(editorElement instanceof Node)){console.warn(\"Filter Error - Cannot add filter to \"+field+\" column, editor should return an instance of Node, the editor returned:\",editorElement);return;}//set Placeholder Text\nself.langBind(\"headerFilters|columns|\"+column.definition.field,function(value){editorElement.setAttribute(\"placeholder\",typeof value!==\"undefined\"&&value?value:column.definition.headerFilterPlaceholder||self.langText(\"headerFilters|default\"));});//focus on element on click\neditorElement.addEventListener(\"click\",function(e){e.stopPropagation();editorElement.focus();});editorElement.addEventListener(\"focus\",e=>{var left=this.table.columnManager.contentsElement.scrollLeft;var headerPos=this.table.rowManager.element.scrollLeft;if(left!==headerPos){this.table.rowManager.scrollHorizontal(left);this.table.columnManager.scrollHorizontal(left);}});//live update filters as user types\ntypingTimer=false;searchTrigger=function(e){if(typingTimer){clearTimeout(typingTimer);}typingTimer=setTimeout(function(){success(editorElement.value);},self.table.options.headerFilterLiveFilterDelay);};column.modules.filter.headerElement=editorElement;column.modules.filter.attrType=editorElement.hasAttribute(\"type\")?editorElement.getAttribute(\"type\").toLowerCase():\"\";column.modules.filter.tagType=editorElement.tagName.toLowerCase();if(column.definition.headerFilterLiveFilter!==false){if(!(column.definition.headerFilter==='autocomplete'||column.definition.headerFilter==='tickCross'||(column.definition.editor==='autocomplete'||column.definition.editor==='tickCross')&&column.definition.headerFilter===true)){editorElement.addEventListener(\"keyup\",searchTrigger);editorElement.addEventListener(\"search\",searchTrigger);//update number filtered columns on change\nif(column.modules.filter.attrType==\"number\"){editorElement.addEventListener(\"change\",function(e){success(editorElement.value);});}//change text inputs to search inputs to allow for clearing of field\nif(column.modules.filter.attrType==\"text\"&&this.table.browser!==\"ie\"){editorElement.setAttribute(\"type\",\"search\");// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\n}}//prevent input and select elements from propagating click to column sorters etc\nif(column.modules.filter.tagType==\"input\"||column.modules.filter.tagType==\"select\"||column.modules.filter.tagType==\"textarea\"){editorElement.addEventListener(\"mousedown\",function(e){e.stopPropagation();});}}filterElement.appendChild(editorElement);column.contentElement.appendChild(filterElement);if(!reinitialize){self.headerFilterColumns.push(column);}if(onRenderedCallback){onRenderedCallback();}}}else{console.warn(\"Filter Error - Cannot add header filter, column has no field set:\",column.definition.title);}}//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\nhideHeaderFilterElements(){this.headerFilterColumns.forEach(function(column){if(column.modules.filter&&column.modules.filter.headerElement){column.modules.filter.headerElement.style.display='none';}});}//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\nshowHeaderFilterElements(){this.headerFilterColumns.forEach(function(column){if(column.modules.filter&&column.modules.filter.headerElement){column.modules.filter.headerElement.style.display='';}});}//programmatically set focus of header filter\nsetHeaderFilterFocus(column){if(column.modules.filter&&column.modules.filter.headerElement){column.modules.filter.headerElement.focus();}else{console.warn(\"Column Filter Focus Error - No header filter set on column:\",column.getField());}}//programmatically get value of header filter\ngetHeaderFilterValue(column){if(column.modules.filter&&column.modules.filter.headerElement){return column.modules.filter.value;}else{console.warn(\"Column Filter Error - No header filter set on column:\",column.getField());}}//programmatically set value of header filter\nsetHeaderFilterValue(column,value){if(column){if(column.modules.filter&&column.modules.filter.headerElement){this.generateHeaderFilterElement(column,value,true);column.modules.filter.success(value);}else{console.warn(\"Column Filter Error - No header filter set on column:\",column.getField());}}}reloadHeaderFilter(column){if(column){if(column.modules.filter&&column.modules.filter.headerElement){this.generateHeaderFilterElement(column,column.modules.filter.value,true);}else{console.warn(\"Column Filter Error - No header filter set on column:\",column.getField());}}}refreshFilter(){if(this.tableInitialized){if(this.table.options.filterMode===\"remote\"){this.reloadData(null,false,false);}else{this.refreshData(true);}}//TODO - Persist left position of row manager\n// left = this.scrollLeft;\n// this.scrollHorizontal(left);\n}//check if the filters has changed since last use\ntrackChanges(){this.changed=true;this.dispatch(\"filter-changed\");}//check if the filters has changed since last use\nhasChanged(){var changed=this.changed;this.changed=false;return changed;}//set standard filters\nsetFilter(field,type,value,params){this.filterList=[];if(!Array.isArray(field)){field=[{field:field,type:type,value:value,params:params}];}this.addFilter(field);}//add filter to array\naddFilter(field,type,value,params){var changed=false;if(!Array.isArray(field)){field=[{field:field,type:type,value:value,params:params}];}field.forEach(filter=>{filter=this.findFilter(filter);if(filter){this.filterList.push(filter);changed=true;}});if(changed){this.trackChanges();}}findFilter(filter){var column;if(Array.isArray(filter)){return this.findSubFilters(filter);}var filterFunc=false;if(typeof filter.field==\"function\"){filterFunc=function(data){return filter.field(data,filter.type||{});// pass params to custom filter function\n};}else{if(Filter.filters[filter.type]){column=this.table.columnManager.getColumnByField(filter.field);if(column){filterFunc=function(data){return Filter.filters[filter.type](filter.value,column.getFieldValue(data),data,filter.params||{});};}else{filterFunc=function(data){return Filter.filters[filter.type](filter.value,data[filter.field],data,filter.params||{});};}}else{console.warn(\"Filter Error - No such filter type found, ignoring: \",filter.type);}}filter.func=filterFunc;return filter.func?filter:false;}findSubFilters(filters){var output=[];filters.forEach(filter=>{filter=this.findFilter(filter);if(filter){output.push(filter);}});return output.length?output:false;}//get all filters\ngetFilters(all,ajax){var output=[];if(all){output=this.getHeaderFilters();}if(ajax){output.forEach(function(item){if(typeof item.type==\"function\"){item.type=\"function\";}});}output=output.concat(this.filtersToArray(this.filterList,ajax));return output;}//filter to Object\nfiltersToArray(filterList,ajax){var output=[];filterList.forEach(filter=>{var item;if(Array.isArray(filter)){output.push(this.filtersToArray(filter,ajax));}else{item={field:filter.field,type:filter.type,value:filter.value};if(ajax){if(typeof item.type==\"function\"){item.type=\"function\";}}output.push(item);}});return output;}//get all filters\ngetHeaderFilters(){var output=[];for(var key in this.headerFilters){output.push({field:key,type:this.headerFilters[key].type,value:this.headerFilters[key].value});}return output;}//remove filter from array\nremoveFilter(field,type,value){if(!Array.isArray(field)){field=[{field:field,type:type,value:value}];}field.forEach(filter=>{var index=-1;if(typeof filter.field==\"object\"){index=this.filterList.findIndex(element=>{return filter===element;});}else{index=this.filterList.findIndex(element=>{return filter.field===element.field&&filter.type===element.type&&filter.value===element.value;});}if(index>-1){this.filterList.splice(index,1);}else{console.warn(\"Filter Error - No matching filter type found, ignoring: \",filter.type);}});this.trackChanges();}//clear filters\nclearFilter(all){this.filterList=[];if(all){this.clearHeaderFilter();}this.trackChanges();}//clear header filters\nclearHeaderFilter(){this.headerFilters={};this.prevHeaderFilterChangeCheck=\"{}\";this.headerFilterColumns.forEach(column=>{if(typeof column.modules.filter.value!==\"undefined\"){delete column.modules.filter.value;}column.modules.filter.prevSuccess=undefined;this.reloadHeaderFilter(column);});this.trackChanges();}//search data and return matching rows\nsearch(searchType,field,type,value){var activeRows=[],filterList=[];if(!Array.isArray(field)){field=[{field:field,type:type,value:value}];}field.forEach(filter=>{filter=this.findFilter(filter);if(filter){filterList.push(filter);}});this.table.rowManager.rows.forEach(row=>{var match=true;filterList.forEach(filter=>{if(!this.filterRecurse(filter,row.getData())){match=false;}});if(match){activeRows.push(searchType===\"data\"?row.getData(\"data\"):row.getComponent());}});return activeRows;}//filter row array\nfilter(rowList,filters){var activeRows=[],activeRowComponents=[];if(this.subscribedExternal(\"dataFiltering\")){this.dispatchExternal(\"dataFiltering\",this.getFilters(true));}if(this.table.options.filterMode!==\"remote\"&&(this.filterList.length||Object.keys(this.headerFilters).length)){rowList.forEach(row=>{if(this.filterRow(row)){activeRows.push(row);}});}else{activeRows=rowList.slice(0);}if(this.subscribedExternal(\"dataFiltered\")){activeRows.forEach(row=>{activeRowComponents.push(row.getComponent());});this.dispatchExternal(\"dataFiltered\",this.getFilters(true),activeRowComponents);}return activeRows;}//filter individual row\nfilterRow(row,filters){var match=true,data=row.getData();this.filterList.forEach(filter=>{if(!this.filterRecurse(filter,data)){match=false;}});for(var field in this.headerFilters){if(!this.headerFilters[field].func(data)){match=false;}}return match;}filterRecurse(filter,data){var match=false;if(Array.isArray(filter)){filter.forEach(subFilter=>{if(this.filterRecurse(subFilter,data)){match=true;}});}else{match=filter.func(data);}return match;}}_defineProperty(Filter,\"moduleName\",\"filter\");//load defaults\n_defineProperty(Filter,\"filters\",defaultFilters);function plaintext(cell,formatterParams,onRendered){return this.emptyToSpace(this.sanitizeHTML(cell.getValue()));}function html(cell,formatterParams,onRendered){return cell.getValue();}function textarea(cell,formatterParams,onRendered){cell.getElement().style.whiteSpace=\"pre-wrap\";return this.emptyToSpace(this.sanitizeHTML(cell.getValue()));}function money(cell,formatterParams,onRendered){var floatVal=parseFloat(cell.getValue()),sign=\"\",number,integer,decimal,rgx,value;var decimalSym=formatterParams.decimal||\".\";var thousandSym=formatterParams.thousand||\",\";var negativeSign=formatterParams.negativeSign||\"-\";var symbol=formatterParams.symbol||\"\";var after=!!formatterParams.symbolAfter;var precision=typeof formatterParams.precision!==\"undefined\"?formatterParams.precision:2;if(isNaN(floatVal)){return this.emptyToSpace(this.sanitizeHTML(cell.getValue()));}if(floatVal<0){floatVal=Math.abs(floatVal);sign=negativeSign;}number=precision!==false?floatVal.toFixed(precision):floatVal;number=String(number).split(\".\");integer=number[0];decimal=number.length>1?decimalSym+number[1]:\"\";if(formatterParams.thousand!==false){rgx=/(\\d+)(\\d{3})/;while(rgx.test(integer)){integer=integer.replace(rgx,\"$1\"+thousandSym+\"$2\");}}value=integer+decimal;if(sign===true){value=\"(\"+value+\")\";return after?value+symbol:symbol+value;}else{return after?sign+value+symbol:sign+symbol+value;}}function link(cell,formatterParams,onRendered){var value=cell.getValue(),urlPrefix=formatterParams.urlPrefix||\"\",download=formatterParams.download,label=value,el=document.createElement(\"a\"),data;function labelTraverse(path,data){var item=path.shift(),value=data[item];if(path.length&&typeof value===\"object\"){return labelTraverse(path,value);}return value;}if(formatterParams.labelField){data=cell.getData();label=labelTraverse(formatterParams.labelField.split(this.table.options.nestedFieldSeparator),data);}if(formatterParams.label){switch(typeof formatterParams.label){case\"string\":label=formatterParams.label;break;case\"function\":label=formatterParams.label(cell);break;}}if(label){if(formatterParams.urlField){data=cell.getData();value=Helpers.retrieveNestedData(this.table.options.nestedFieldSeparator,formatterParams.urlField,data);}if(formatterParams.url){switch(typeof formatterParams.url){case\"string\":value=formatterParams.url;break;case\"function\":value=formatterParams.url(cell);break;}}el.setAttribute(\"href\",urlPrefix+value);if(formatterParams.target){el.setAttribute(\"target\",formatterParams.target);}if(formatterParams.download){if(typeof download==\"function\"){download=download(cell);}else{download=download===true?\"\":download;}el.setAttribute(\"download\",download);}el.innerHTML=this.emptyToSpace(this.sanitizeHTML(label));return el;}else{return\"&nbsp;\";}}function image(cell,formatterParams,onRendered){var el=document.createElement(\"img\"),src=cell.getValue();if(formatterParams.urlPrefix){src=formatterParams.urlPrefix+cell.getValue();}if(formatterParams.urlSuffix){src=src+formatterParams.urlSuffix;}el.setAttribute(\"src\",src);switch(typeof formatterParams.height){case\"number\":el.style.height=formatterParams.height+\"px\";break;case\"string\":el.style.height=formatterParams.height;break;}switch(typeof formatterParams.width){case\"number\":el.style.width=formatterParams.width+\"px\";break;case\"string\":el.style.width=formatterParams.width;break;}el.addEventListener(\"load\",function(){cell.getRow().normalizeHeight();});return el;}function tickCross(cell,formatterParams,onRendered){var value=cell.getValue(),element=cell.getElement(),empty=formatterParams.allowEmpty,truthy=formatterParams.allowTruthy,trueValueSet=Object.keys(formatterParams).includes(\"trueValue\"),tick=typeof formatterParams.tickElement!==\"undefined\"?formatterParams.tickElement:'<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',cross=typeof formatterParams.crossElement!==\"undefined\"?formatterParams.crossElement:'<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';if(trueValueSet&&value===formatterParams.trueValue||!trueValueSet&&(truthy&&value||value===true||value===\"true\"||value===\"True\"||value===1||value===\"1\")){element.setAttribute(\"aria-checked\",true);return tick||\"\";}else{if(empty&&(value===\"null\"||value===\"\"||value===null||typeof value===\"undefined\")){element.setAttribute(\"aria-checked\",\"mixed\");return\"\";}else{element.setAttribute(\"aria-checked\",false);return cross||\"\";}}}function datetime$1(cell,formatterParams,onRendered){var DT=this.table.dependencyRegistry.lookup([\"luxon\",\"DateTime\"],\"DateTime\");var inputFormat=formatterParams.inputFormat||\"yyyy-MM-dd HH:mm:ss\";var outputFormat=formatterParams.outputFormat||\"dd/MM/yyyy HH:mm:ss\";var invalid=typeof formatterParams.invalidPlaceholder!==\"undefined\"?formatterParams.invalidPlaceholder:\"\";var value=cell.getValue();if(typeof DT!=\"undefined\"){var newDatetime;if(DT.isDateTime(value)){newDatetime=value;}else if(inputFormat===\"iso\"){newDatetime=DT.fromISO(String(value));}else{newDatetime=DT.fromFormat(String(value),inputFormat);}if(newDatetime.isValid){if(formatterParams.timezone){newDatetime=newDatetime.setZone(formatterParams.timezone);}return newDatetime.toFormat(outputFormat);}else{if(invalid===true||!value){return value;}else if(typeof invalid===\"function\"){return invalid(value);}else{return invalid;}}}else{console.error(\"Format Error - 'datetime' formatter is dependant on luxon.js\");}}function datetimediff(cell,formatterParams,onRendered){var DT=this.table.dependencyRegistry.lookup([\"luxon\",\"DateTime\"],\"DateTime\");var inputFormat=formatterParams.inputFormat||\"yyyy-MM-dd HH:mm:ss\";var invalid=typeof formatterParams.invalidPlaceholder!==\"undefined\"?formatterParams.invalidPlaceholder:\"\";var suffix=typeof formatterParams.suffix!==\"undefined\"?formatterParams.suffix:false;var unit=typeof formatterParams.unit!==\"undefined\"?formatterParams.unit:\"days\";var humanize=typeof formatterParams.humanize!==\"undefined\"?formatterParams.humanize:false;var date=typeof formatterParams.date!==\"undefined\"?formatterParams.date:DT.now();var value=cell.getValue();if(typeof DT!=\"undefined\"){var newDatetime;if(DT.isDateTime(value)){newDatetime=value;}else if(inputFormat===\"iso\"){newDatetime=DT.fromISO(String(value));}else{newDatetime=DT.fromFormat(String(value),inputFormat);}if(newDatetime.isValid){if(humanize){return newDatetime.diff(date,unit).toHuman()+(suffix?\" \"+suffix:\"\");}else{return parseInt(newDatetime.diff(date,unit)[unit])+(suffix?\" \"+suffix:\"\");}}else{if(invalid===true){return value;}else if(typeof invalid===\"function\"){return invalid(value);}else{return invalid;}}}else{console.error(\"Format Error - 'datetimediff' formatter is dependant on luxon.js\");}}function lookup(cell,formatterParams,onRendered){var value=cell.getValue();if(typeof formatterParams[value]===\"undefined\"){console.warn('Missing display value for '+value);return value;}return formatterParams[value];}function star(cell,formatterParams,onRendered){var value=cell.getValue(),element=cell.getElement(),maxStars=formatterParams&&formatterParams.stars?formatterParams.stars:5,stars=document.createElement(\"span\"),star=document.createElementNS('http://www.w3.org/2000/svg',\"svg\"),starActive='<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',starInactive='<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';//style stars holder\nstars.style.verticalAlign=\"middle\";//style star\nstar.setAttribute(\"width\",\"14\");star.setAttribute(\"height\",\"14\");star.setAttribute(\"viewBox\",\"0 0 512 512\");star.setAttribute(\"xml:space\",\"preserve\");star.style.padding=\"0 1px\";value=value&&!isNaN(value)?parseInt(value):0;value=Math.max(0,Math.min(value,maxStars));for(var i=1;i<=maxStars;i++){var nextStar=star.cloneNode(true);nextStar.innerHTML=i<=value?starActive:starInactive;stars.appendChild(nextStar);}element.style.whiteSpace=\"nowrap\";element.style.overflow=\"hidden\";element.style.textOverflow=\"ellipsis\";element.setAttribute(\"aria-label\",value);return stars;}function traffic(cell,formatterParams,onRendered){var value=this.sanitizeHTML(cell.getValue())||0,el=document.createElement(\"span\"),max=formatterParams&&formatterParams.max?formatterParams.max:100,min=formatterParams&&formatterParams.min?formatterParams.min:0,colors=formatterParams&&typeof formatterParams.color!==\"undefined\"?formatterParams.color:[\"red\",\"orange\",\"green\"],color=\"#666666\",percent,percentValue;if(isNaN(value)||typeof cell.getValue()===\"undefined\"){return;}el.classList.add(\"tabulator-traffic-light\");//make sure value is in range\npercentValue=parseFloat(value)<=max?parseFloat(value):max;percentValue=parseFloat(percentValue)>=min?parseFloat(percentValue):min;//workout percentage\npercent=(max-min)/100;percentValue=Math.round((percentValue-min)/percent);//set color\nswitch(typeof colors){case\"string\":color=colors;break;case\"function\":color=colors(value);break;case\"object\":if(Array.isArray(colors)){var unit=100/colors.length;var index=Math.floor(percentValue/unit);index=Math.min(index,colors.length-1);index=Math.max(index,0);color=colors[index];break;}}el.style.backgroundColor=color;return el;}function progress(cell,formatterParams={},onRendered){//progress bar\nvar value=this.sanitizeHTML(cell.getValue())||0,element=cell.getElement(),max=formatterParams.max?formatterParams.max:100,min=formatterParams.min?formatterParams.min:0,legendAlign=formatterParams.legendAlign?formatterParams.legendAlign:\"center\",percent,percentValue,color,legend,legendColor;//make sure value is in range\npercentValue=parseFloat(value)<=max?parseFloat(value):max;percentValue=parseFloat(percentValue)>=min?parseFloat(percentValue):min;//workout percentage\npercent=(max-min)/100;percentValue=Math.round((percentValue-min)/percent);//set bar color\nswitch(typeof formatterParams.color){case\"string\":color=formatterParams.color;break;case\"function\":color=formatterParams.color(value);break;case\"object\":if(Array.isArray(formatterParams.color)){let unit=100/formatterParams.color.length;let index=Math.floor(percentValue/unit);index=Math.min(index,formatterParams.color.length-1);index=Math.max(index,0);color=formatterParams.color[index];break;}default:color=\"#2DC214\";}//generate legend\nswitch(typeof formatterParams.legend){case\"string\":legend=formatterParams.legend;break;case\"function\":legend=formatterParams.legend(value);break;case\"boolean\":legend=value;break;default:legend=false;}//set legend color\nswitch(typeof formatterParams.legendColor){case\"string\":legendColor=formatterParams.legendColor;break;case\"function\":legendColor=formatterParams.legendColor(value);break;case\"object\":if(Array.isArray(formatterParams.legendColor)){let unit=100/formatterParams.legendColor.length;let index=Math.floor(percentValue/unit);index=Math.min(index,formatterParams.legendColor.length-1);index=Math.max(index,0);legendColor=formatterParams.legendColor[index];}break;default:legendColor=\"#000\";}element.style.minWidth=\"30px\";element.style.position=\"relative\";element.setAttribute(\"aria-label\",percentValue);var barEl=document.createElement(\"div\");barEl.style.display=\"inline-block\";barEl.style.width=percentValue+\"%\";barEl.style.backgroundColor=color;barEl.style.height=\"100%\";barEl.setAttribute('data-max',max);barEl.setAttribute('data-min',min);var barContainer=document.createElement(\"div\");barContainer.style.position=\"relative\";barContainer.style.width=\"100%\";barContainer.style.height=\"100%\";if(legend){var legendEl=document.createElement(\"div\");legendEl.style.position=\"absolute\";legendEl.style.top=0;legendEl.style.left=0;legendEl.style.textAlign=legendAlign;legendEl.style.width=\"100%\";legendEl.style.color=legendColor;legendEl.innerHTML=legend;}onRendered(function(){//handle custom element needed if formatter is to be included in printed/downloaded output\nif(!(cell instanceof CellComponent)){var holderEl=document.createElement(\"div\");holderEl.style.position=\"absolute\";holderEl.style.top=\"4px\";holderEl.style.bottom=\"4px\";holderEl.style.left=\"4px\";holderEl.style.right=\"4px\";element.appendChild(holderEl);element=holderEl;}element.appendChild(barContainer);barContainer.appendChild(barEl);if(legend){barContainer.appendChild(legendEl);}});return\"\";}function color(cell,formatterParams,onRendered){cell.getElement().style.backgroundColor=this.sanitizeHTML(cell.getValue());return\"\";}function buttonTick(cell,formatterParams,onRendered){return'<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';}function buttonCross(cell,formatterParams,onRendered){return'<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';}function toggle(cell,formatterParams,onRendered){var value=cell.getValue(),size=formatterParams.size||15,sizePx=size+\"px\",containEl,switchEl,onValue=formatterParams.hasOwnProperty(\"onValue\")?formatterParams.onValue:true,offValue=formatterParams.hasOwnProperty(\"offValue\")?formatterParams.offValue:false,state=formatterParams.onTruthy?value:value===onValue;containEl=document.createElement(\"div\");containEl.classList.add(\"tabulator-toggle\");if(state){containEl.classList.add(\"tabulator-toggle-on\");containEl.style.flexDirection=\"row-reverse\";if(formatterParams.onColor){containEl.style.background=formatterParams.onColor;}}else{if(formatterParams.offColor){containEl.style.background=formatterParams.offColor;}}containEl.style.width=2.5*size+\"px\";containEl.style.borderRadius=sizePx;if(formatterParams.clickable){containEl.addEventListener(\"click\",e=>{cell.setValue(state?offValue:onValue);});}switchEl=document.createElement(\"div\");switchEl.classList.add(\"tabulator-toggle-switch\");switchEl.style.height=sizePx;switchEl.style.width=sizePx;switchEl.style.borderRadius=sizePx;containEl.appendChild(switchEl);return containEl;}function rownum(cell,formatterParams,onRendered){var content=document.createElement(\"span\");var row=cell.getRow();var table=cell.getTable();row.watchPosition(position=>{if(formatterParams.relativeToPage){position+=table.modules.page.getPageSize()*(table.modules.page.getPage()-1);}content.innerText=position;});return content;}function handle(cell,formatterParams,onRendered){cell.getElement().classList.add(\"tabulator-row-handle\");return\"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";}function adaptable(cell,params,onRendered){var lookup,formatterFunc,formatterParams;function defaultLookup(cell){var value=cell.getValue(),formatter=\"plaintext\";switch(typeof value){case\"boolean\":formatter=\"tickCross\";break;case\"string\":if(value.includes(\"\\n\")){formatter=\"textarea\";}break;}return formatter;}lookup=params.formatterLookup?params.formatterLookup(cell):defaultLookup(cell);if(params.paramsLookup){formatterParams=typeof params.paramsLookup===\"function\"?params.paramsLookup(lookup,cell):params.paramsLookup[lookup];}formatterFunc=this.table.modules.format.lookupFormatter(lookup);return formatterFunc.call(this,cell,formatterParams||{},onRendered);}function array$2(cell,formatterParams,onRendered){var delimiter=formatterParams.delimiter||\",\",value=cell.getValue(),table=this.table,valueMap;if(formatterParams.valueMap){if(typeof formatterParams.valueMap===\"string\"){valueMap=function(value){return value.map(item=>{return Helpers.retrieveNestedData(table.options.nestedFieldSeparator,formatterParams.valueMap,item);});};}else{valueMap=formatterParams.valueMap;}}if(Array.isArray(value)){if(valueMap){value=valueMap(value);}return value.join(delimiter);}else{return value;}}function json$1(cell,formatterParams,onRendered){var indent=formatterParams.indent||\"\\t\",multiline=typeof formatterParams.multiline===\"undefined\"?true:formatterParams.multiline,replacer=formatterParams.replacer||null,value=cell.getValue();if(multiline){cell.getElement().style.whiteSpace=\"pre-wrap\";}return JSON.stringify(value,replacer,indent);}var defaultFormatters={plaintext:plaintext,html:html,textarea:textarea,money:money,link:link,image:image,tickCross:tickCross,datetime:datetime$1,datetimediff:datetimediff,lookup:lookup,star:star,traffic:traffic,progress:progress,color:color,buttonTick:buttonTick,buttonCross:buttonCross,toggle:toggle,rownum:rownum,handle:handle,adaptable:adaptable,array:array$2,json:json$1};class Format extends Module{constructor(table){super(table);this.registerColumnOption(\"formatter\");this.registerColumnOption(\"formatterParams\");this.registerColumnOption(\"formatterPrint\");this.registerColumnOption(\"formatterPrintParams\");this.registerColumnOption(\"formatterClipboard\");this.registerColumnOption(\"formatterClipboardParams\");this.registerColumnOption(\"formatterHtmlOutput\");this.registerColumnOption(\"formatterHtmlOutputParams\");this.registerColumnOption(\"titleFormatter\");this.registerColumnOption(\"titleFormatterParams\");}initialize(){this.subscribe(\"cell-format\",this.formatValue.bind(this));this.subscribe(\"cell-rendered\",this.cellRendered.bind(this));this.subscribe(\"column-layout\",this.initializeColumn.bind(this));this.subscribe(\"column-format\",this.formatHeader.bind(this));}//initialize column formatter\ninitializeColumn(column){column.modules.format=this.lookupTypeFormatter(column,\"\");if(typeof column.definition.formatterPrint!==\"undefined\"){column.modules.format.print=this.lookupTypeFormatter(column,\"Print\");}if(typeof column.definition.formatterClipboard!==\"undefined\"){column.modules.format.clipboard=this.lookupTypeFormatter(column,\"Clipboard\");}if(typeof column.definition.formatterHtmlOutput!==\"undefined\"){column.modules.format.htmlOutput=this.lookupTypeFormatter(column,\"HtmlOutput\");}}lookupTypeFormatter(column,type){var config={params:column.definition[\"formatter\"+type+\"Params\"]||{}},formatter=column.definition[\"formatter\"+type];config.formatter=this.lookupFormatter(formatter);return config;}lookupFormatter(formatter){var formatterFunc;//set column formatter\nswitch(typeof formatter){case\"string\":if(Format.formatters[formatter]){formatterFunc=Format.formatters[formatter];}else{console.warn(\"Formatter Error - No such formatter found: \",formatter);formatterFunc=Format.formatters.plaintext;}break;case\"function\":formatterFunc=formatter;break;default:formatterFunc=Format.formatters.plaintext;break;}return formatterFunc;}cellRendered(cell){if(cell.modules.format&&cell.modules.format.renderedCallback&&!cell.modules.format.rendered){cell.modules.format.renderedCallback();cell.modules.format.rendered=true;}}//return a formatted value for a column header\nformatHeader(column,title,el){var formatter,params,onRendered,mockCell;if(column.definition.titleFormatter){formatter=this.lookupFormatter(column.definition.titleFormatter);onRendered=callback=>{column.titleFormatterRendered=callback;};mockCell={getValue:function(){return title;},getElement:function(){return el;},getType:function(){return\"header\";},getColumn:function(){return column.getComponent();},getTable:()=>{return this.table;}};params=column.definition.titleFormatterParams||{};params=typeof params===\"function\"?params():params;return formatter.call(this,mockCell,params,onRendered);}else{return title;}}//return a formatted value for a cell\nformatValue(cell){var component=cell.getComponent(),params=typeof cell.column.modules.format.params===\"function\"?cell.column.modules.format.params(component):cell.column.modules.format.params;function onRendered(callback){if(!cell.modules.format){cell.modules.format={};}cell.modules.format.renderedCallback=callback;cell.modules.format.rendered=false;}return cell.column.modules.format.formatter.call(this,component,params,onRendered);}formatExportValue(cell,type){var formatter=cell.column.modules.format[type],params;if(formatter){params=typeof formatter.params===\"function\"?formatter.params(cell.getComponent()):formatter.params;function onRendered(callback){if(!cell.modules.format){cell.modules.format={};}cell.modules.format.renderedCallback=callback;cell.modules.format.rendered=false;}return formatter.formatter.call(this,cell.getComponent(),params,onRendered);}else{return this.formatValue(cell);}}sanitizeHTML(value){if(value){var entityMap={'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',\"'\":'&#39;','/':'&#x2F;','`':'&#x60;','=':'&#x3D;'};return String(value).replace(/[&<>\"'`=/]/g,function(s){return entityMap[s];});}else{return value;}}emptyToSpace(value){return value===null||typeof value===\"undefined\"||value===\"\"?\"&nbsp;\":value;}}_defineProperty(Format,\"moduleName\",\"format\");//load defaults\n_defineProperty(Format,\"formatters\",defaultFormatters);class FrozenColumns extends Module{constructor(table){super(table);this.leftColumns=[];this.rightColumns=[];this.initializationMode=\"left\";this.active=false;this.blocked=true;this.registerColumnOption(\"frozen\");}//reset initial state\nreset(){this.initializationMode=\"left\";this.leftColumns=[];this.rightColumns=[];this.active=false;}initialize(){this.subscribe(\"cell-layout\",this.layoutCell.bind(this));this.subscribe(\"column-init\",this.initializeColumn.bind(this));this.subscribe(\"column-width\",this.layout.bind(this));this.subscribe(\"row-layout-after\",this.layoutRow.bind(this));this.subscribe(\"table-layout\",this.layout.bind(this));this.subscribe(\"columns-loading\",this.reset.bind(this));this.subscribe(\"column-add\",this.reinitializeColumns.bind(this));this.subscribe(\"column-deleted\",this.reinitializeColumns.bind(this));this.subscribe(\"column-hide\",this.reinitializeColumns.bind(this));this.subscribe(\"column-show\",this.reinitializeColumns.bind(this));this.subscribe(\"columns-loaded\",this.reinitializeColumns.bind(this));this.subscribe(\"table-redraw\",this.layout.bind(this));this.subscribe(\"layout-refreshing\",this.blockLayout.bind(this));this.subscribe(\"layout-refreshed\",this.unblockLayout.bind(this));this.subscribe(\"scrollbar-vertical\",this.adjustForScrollbar.bind(this));}blockLayout(){this.blocked=true;}unblockLayout(){this.blocked=false;}layoutCell(cell){this.layoutElement(cell.element,cell.column);}reinitializeColumns(){this.reset();this.table.columnManager.columnsByIndex.forEach(column=>{this.initializeColumn(column);});this.layout();}//initialize specific column\ninitializeColumn(column){var config={margin:0,edge:false};if(!column.isGroup){if(this.frozenCheck(column)){config.position=this.initializationMode;if(this.initializationMode==\"left\"){this.leftColumns.push(column);}else{this.rightColumns.unshift(column);}this.active=true;column.modules.frozen=config;}else{this.initializationMode=\"right\";}}}frozenCheck(column){if(column.parent.isGroup&&column.definition.frozen){console.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");}if(column.parent.isGroup){return this.frozenCheck(column.parent);}else{return column.definition.frozen;}}//layout calculation rows\nlayoutCalcRows(){if(this.table.modExists(\"columnCalcs\")){if(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow){this.layoutRow(this.table.modules.columnCalcs.topRow);}if(this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow){this.layoutRow(this.table.modules.columnCalcs.botRow);}if(this.table.modExists(\"groupRows\")){this.layoutGroupCalcs(this.table.modules.groupRows.getGroups());}}}layoutGroupCalcs(groups){groups.forEach(group=>{if(group.calcs.top){this.layoutRow(group.calcs.top);}if(group.calcs.bottom){this.layoutRow(group.calcs.bottom);}if(group.groupList&&group.groupList.length){this.layoutGroupCalcs(group.groupList);}});}//calculate column positions and layout headers\nlayoutColumnPosition(allCells){var leftParents=[];var leftMargin=0;var rightMargin=0;this.leftColumns.forEach((column,i)=>{column.modules.frozen.marginValue=leftMargin;column.modules.frozen.margin=column.modules.frozen.marginValue+\"px\";if(column.visible){leftMargin+=column.getWidth();}if(i==this.leftColumns.length-1){column.modules.frozen.edge=true;}else{column.modules.frozen.edge=false;}if(column.parent.isGroup){var parentEl=this.getColGroupParentElement(column);if(!leftParents.includes(parentEl)){this.layoutElement(parentEl,column);leftParents.push(parentEl);}parentEl.classList.toggle(\"tabulator-frozen-left\",column.modules.frozen.edge&&column.modules.frozen.position===\"left\");parentEl.classList.toggle(\"tabulator-frozen-right\",column.modules.frozen.edge&&column.modules.frozen.position===\"right\");}else{this.layoutElement(column.getElement(),column);}if(allCells){column.cells.forEach(cell=>{this.layoutElement(cell.getElement(true),column);});}});this.rightColumns.forEach((column,i)=>{column.modules.frozen.marginValue=rightMargin;column.modules.frozen.margin=column.modules.frozen.marginValue+\"px\";if(column.visible){rightMargin+=column.getWidth();}if(i==this.rightColumns.length-1){column.modules.frozen.edge=true;}else{column.modules.frozen.edge=false;}if(column.parent.isGroup){this.layoutElement(this.getColGroupParentElement(column),column);}else{this.layoutElement(column.getElement(),column);}if(allCells){column.cells.forEach(cell=>{this.layoutElement(cell.getElement(true),column);});}});}getColGroupParentElement(column){return column.parent.isGroup?this.getColGroupParentElement(column.parent):column.getElement();}//layout columns appropriately\nlayout(){if(this.active&&!this.blocked){//calculate left columns\nthis.layoutColumnPosition();this.reinitializeRows();this.layoutCalcRows();}}reinitializeRows(){var visibleRows=this.table.rowManager.getVisibleRows(true);var otherRows=this.table.rowManager.getRows().filter(row=>!visibleRows.includes(row));otherRows.forEach(row=>{row.deinitialize();});visibleRows.forEach(row=>{if(row.type===\"row\"){this.layoutRow(row);}});}layoutRow(row){if(this.table.options.layout===\"fitDataFill\"&&this.rightColumns.length){this.table.rowManager.getTableElement().style.minWidth=\"calc(100% - \"+this.rightMargin+\")\";}this.leftColumns.forEach(column=>{var cell=row.getCell(column);if(cell){this.layoutElement(cell.getElement(true),column);}});this.rightColumns.forEach(column=>{var cell=row.getCell(column);if(cell){this.layoutElement(cell.getElement(true),column);}});}layoutElement(element,column){var position;if(column.modules.frozen&&element){element.style.position=\"sticky\";if(this.table.rtl){position=column.modules.frozen.position===\"left\"?\"right\":\"left\";}else{position=column.modules.frozen.position;}element.style[position]=column.modules.frozen.margin;element.classList.add(\"tabulator-frozen\");element.classList.toggle(\"tabulator-frozen-left\",column.modules.frozen.edge&&column.modules.frozen.position===\"left\");element.classList.toggle(\"tabulator-frozen-right\",column.modules.frozen.edge&&column.modules.frozen.position===\"right\");}}adjustForScrollbar(width){if(this.rightColumns.length){this.table.columnManager.getContentsElement().style.width=\"calc(100% - \"+width+\"px)\";}}getFrozenColumns(){return this.leftColumns.concat(this.rightColumns);}_calcSpace(columns,index){var width=0;for(let i=0;i<index;i++){if(columns[i].visible){width+=columns[i].getWidth();}}return width;}}_defineProperty(FrozenColumns,\"moduleName\",\"frozenColumns\");class FrozenRows extends Module{constructor(table){super(table);this.topElement=document.createElement(\"div\");this.rows=[];//register component functions\nthis.registerComponentFunction(\"row\",\"freeze\",this.freezeRow.bind(this));this.registerComponentFunction(\"row\",\"unfreeze\",this.unfreezeRow.bind(this));this.registerComponentFunction(\"row\",\"isFrozen\",this.isRowFrozen.bind(this));//register table options\nthis.registerTableOption(\"frozenRowsField\",\"id\");//field to choose frozen rows by\nthis.registerTableOption(\"frozenRows\",false);//holder for frozen row identifiers\n}initialize(){var fragment=document.createDocumentFragment();this.rows=[];this.topElement.classList.add(\"tabulator-frozen-rows-holder\");fragment.appendChild(document.createElement(\"br\"));fragment.appendChild(this.topElement);// this.table.columnManager.element.append(this.topElement);\nthis.table.columnManager.getContentsElement().insertBefore(fragment,this.table.columnManager.headersElement.nextSibling);this.subscribe(\"row-deleting\",this.detachRow.bind(this));this.subscribe(\"rows-visible\",this.visibleRows.bind(this));this.registerDisplayHandler(this.getRows.bind(this),10);if(this.table.options.frozenRows){this.subscribe(\"data-processed\",this.initializeRows.bind(this));this.subscribe(\"row-added\",this.initializeRow.bind(this));this.subscribe(\"table-redrawing\",this.resizeHolderWidth.bind(this));this.subscribe(\"column-resized\",this.resizeHolderWidth.bind(this));this.subscribe(\"column-show\",this.resizeHolderWidth.bind(this));this.subscribe(\"column-hide\",this.resizeHolderWidth.bind(this));}this.resizeHolderWidth();}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+\"px\";}initializeRows(){this.table.rowManager.getRows().forEach(row=>{this.initializeRow(row);});}initializeRow(row){var frozenRows=this.table.options.frozenRows,rowType=typeof frozenRows;if(rowType===\"number\"){if(row.getPosition()&&row.getPosition()+this.rows.length<=frozenRows){this.freezeRow(row);}}else if(rowType===\"function\"){if(frozenRows.call(this.table,row.getComponent())){this.freezeRow(row);}}else if(Array.isArray(frozenRows)){if(frozenRows.includes(row.data[this.options(\"frozenRowsField\")])){this.freezeRow(row);}}}isRowFrozen(row){var index=this.rows.indexOf(row);return index>-1;}isFrozen(){return!!this.rows.length;}visibleRows(viewable,rows){this.rows.forEach(row=>{rows.push(row);});return rows;}//filter frozen rows out of display data\ngetRows(rows){var output=rows.slice(0);this.rows.forEach(function(row){var index=output.indexOf(row);if(index>-1){output.splice(index,1);}});return output;}freezeRow(row){if(!row.modules.frozen){row.modules.frozen=true;this.topElement.appendChild(row.getElement());row.initialize();row.normalizeHeight();this.rows.push(row);this.refreshData(false,\"display\");this.table.rowManager.adjustTableSize();this.styleRows();}else{console.warn(\"Freeze Error - Row is already frozen\");}}unfreezeRow(row){if(row.modules.frozen){row.modules.frozen=false;this.detachRow(row);this.table.rowManager.adjustTableSize();this.refreshData(false,\"display\");if(this.rows.length){this.styleRows();}}else{console.warn(\"Freeze Error - Row is already unfrozen\");}}detachRow(row){var index=this.rows.indexOf(row);if(index>-1){var rowEl=row.getElement();if(rowEl.parentNode){rowEl.parentNode.removeChild(rowEl);}this.rows.splice(index,1);}}styleRows(row){this.rows.forEach((row,i)=>{this.table.rowManager.styleRow(row,i);});}}//public group object\n_defineProperty(FrozenRows,\"moduleName\",\"frozenRows\");class GroupComponent{constructor(group){this._group=group;this.type=\"GroupComponent\";return new Proxy(this,{get:function(target,name,receiver){if(typeof target[name]!==\"undefined\"){return target[name];}else{return target._group.groupManager.table.componentFunctionBinder.handle(\"group\",target._group,name);}}});}getKey(){return this._group.key;}getField(){return this._group.field;}getElement(){return this._group.element;}getRows(){return this._group.getRows(true);}getSubGroups(){return this._group.getSubGroups(true);}getParentGroup(){return this._group.parent?this._group.parent.getComponent():false;}isVisible(){return this._group.visible;}show(){this._group.show();}hide(){this._group.hide();}toggle(){this._group.toggleVisibility();}scrollTo(position,ifVisible){return this._group.groupManager.table.rowManager.scrollToRow(this._group,position,ifVisible);}_getSelf(){return this._group;}getTable(){return this._group.groupManager.table;}}//Group functions\nclass Group{constructor(groupManager,parent,level,key,field,generator,oldGroup){this.groupManager=groupManager;this.parent=parent;this.key=key;this.level=level;this.field=field;this.hasSubGroups=level<groupManager.groupIDLookups.length-1;this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow;this.type=\"group\";//type of element\nthis.old=oldGroup;this.rows=[];this.groups=[];this.groupList=[];this.generator=generator;this.element=false;this.elementContents=false;this.height=0;this.outerHeight=0;this.initialized=false;this.calcs={};this.initialized=false;this.modules={};this.arrowElement=false;this.visible=oldGroup?oldGroup.visible:typeof groupManager.startOpen[level]!==\"undefined\"?groupManager.startOpen[level]:groupManager.startOpen[0];this.component=null;this.createElements();this.addBindings();this.createValueGroups();}wipe(elementsOnly){if(!elementsOnly){if(this.groupList.length){this.groupList.forEach(function(group){group.wipe();});}else{this.rows.forEach(row=>{if(row.modules){delete row.modules.group;}});}}this.element=false;this.arrowElement=false;this.elementContents=false;}createElements(){var arrow=document.createElement(\"div\");arrow.classList.add(\"tabulator-arrow\");this.element=document.createElement(\"div\");this.element.classList.add(\"tabulator-row\");this.element.classList.add(\"tabulator-group\");this.element.classList.add(\"tabulator-group-level-\"+this.level);this.element.setAttribute(\"role\",\"rowgroup\");this.arrowElement=document.createElement(\"div\");this.arrowElement.classList.add(\"tabulator-group-toggle\");this.arrowElement.appendChild(arrow);//setup movable rows\nif(this.groupManager.table.options.movableRows!==false&&this.groupManager.table.modExists(\"moveRow\")){this.groupManager.table.modules.moveRow.initializeGroupHeader(this);}}createValueGroups(){var level=this.level+1;if(this.groupManager.allowedValues&&this.groupManager.allowedValues[level]){this.groupManager.allowedValues[level].forEach(value=>{this._createGroup(value,level);});}}addBindings(){var toggleElement;if(this.groupManager.table.options.groupToggleElement){toggleElement=this.groupManager.table.options.groupToggleElement==\"arrow\"?this.arrowElement:this.element;toggleElement.addEventListener(\"click\",e=>{if(this.groupManager.table.options.groupToggleElement===\"arrow\"){e.stopPropagation();e.stopImmediatePropagation();}//allow click event to propagate before toggling visibility\nsetTimeout(()=>{this.toggleVisibility();});});}}_createGroup(groupID,level){var groupKey=level+\"_\"+groupID;var group=new Group(this.groupManager,this,level,groupID,this.groupManager.groupIDLookups[level].field,this.groupManager.headerGenerator[level]||this.groupManager.headerGenerator[0],this.old?this.old.groups[groupKey]:false);this.groups[groupKey]=group;this.groupList.push(group);}_addRowToGroup(row){var level=this.level+1;if(this.hasSubGroups){var groupID=this.groupManager.groupIDLookups[level].func(row.getData()),groupKey=level+\"_\"+groupID;if(this.groupManager.allowedValues&&this.groupManager.allowedValues[level]){if(this.groups[groupKey]){this.groups[groupKey].addRow(row);}}else{if(!this.groups[groupKey]){this._createGroup(groupID,level);}this.groups[groupKey].addRow(row);}}}_addRow(row){this.rows.push(row);row.modules.group=this;}insertRow(row,to,after){var data=this.conformRowData({});row.updateData(data);var toIndex=this.rows.indexOf(to);if(toIndex>-1){if(after){this.rows.splice(toIndex+1,0,row);}else{this.rows.splice(toIndex,0,row);}}else{if(after){this.rows.push(row);}else{this.rows.unshift(row);}}row.modules.group=this;// this.generateGroupHeaderContents();\nif(this.groupManager.table.modExists(\"columnCalcs\")&&this.groupManager.table.options.columnCalcs!=\"table\"){this.groupManager.table.modules.columnCalcs.recalcGroup(this);}this.groupManager.updateGroupRows(true);}scrollHeader(left){if(this.arrowElement){this.arrowElement.style.marginLeft=left;this.groupList.forEach(function(child){child.scrollHeader(left);});}}getRowIndex(row){}//update row data to match grouping constraints\nconformRowData(data){if(this.field){data[this.field]=this.key;}else{console.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");}if(this.parent){data=this.parent.conformRowData(data);}return data;}removeRow(row){var index=this.rows.indexOf(row);var el=row.getElement();if(index>-1){this.rows.splice(index,1);}if(!this.groupManager.table.options.groupValues&&!this.rows.length){if(this.parent){this.parent.removeGroup(this);}else{this.groupManager.removeGroup(this);}this.groupManager.updateGroupRows(true);}else{if(el.parentNode){el.parentNode.removeChild(el);}if(!this.groupManager.blockRedraw){this.generateGroupHeaderContents();if(this.groupManager.table.modExists(\"columnCalcs\")&&this.groupManager.table.options.columnCalcs!=\"table\"){this.groupManager.table.modules.columnCalcs.recalcGroup(this);}}}}removeGroup(group){var groupKey=group.level+\"_\"+group.key,index;if(this.groups[groupKey]){delete this.groups[groupKey];index=this.groupList.indexOf(group);if(index>-1){this.groupList.splice(index,1);}if(!this.groupList.length){if(this.parent){this.parent.removeGroup(this);}else{this.groupManager.removeGroup(this);}}}}getHeadersAndRows(){var output=[];output.push(this);this._visSet();if(this.calcs.top){this.calcs.top.detachElement();this.calcs.top.deleteCells();}if(this.calcs.bottom){this.calcs.bottom.detachElement();this.calcs.bottom.deleteCells();}if(this.visible){if(this.groupList.length){this.groupList.forEach(function(group){output=output.concat(group.getHeadersAndRows());});}else{if(this.groupManager.table.options.columnCalcs!=\"table\"&&this.groupManager.table.modExists(\"columnCalcs\")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()){this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);output.push(this.calcs.top);}output=output.concat(this.rows);if(this.groupManager.table.options.columnCalcs!=\"table\"&&this.groupManager.table.modExists(\"columnCalcs\")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);output.push(this.calcs.bottom);}}}else{if(!this.groupList.length&&this.groupManager.table.options.columnCalcs!=\"table\"){if(this.groupManager.table.modExists(\"columnCalcs\")){if(this.groupManager.table.modules.columnCalcs.hasTopCalcs()){if(this.groupManager.table.options.groupClosedShowCalcs){this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);output.push(this.calcs.top);}}if(this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){if(this.groupManager.table.options.groupClosedShowCalcs){this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);output.push(this.calcs.bottom);}}}}}return output;}getData(visible,transform){var output=[];this._visSet();if(!visible||visible&&this.visible){this.rows.forEach(row=>{output.push(row.getData(transform||\"data\"));});}return output;}getRowCount(){var count=0;if(this.groupList.length){this.groupList.forEach(group=>{count+=group.getRowCount();});}else{count=this.rows.length;}return count;}toggleVisibility(){if(this.visible){this.hide();}else{this.show();}}hide(){this.visible=false;if(this.groupManager.table.rowManager.getRenderMode()==\"basic\"&&!this.groupManager.table.options.pagination){this.element.classList.remove(\"tabulator-group-visible\");if(this.groupList.length){this.groupList.forEach(group=>{var rows=group.getHeadersAndRows();rows.forEach(row=>{row.detachElement();});});}else{this.rows.forEach(row=>{var rowEl=row.getElement();rowEl.parentNode.removeChild(rowEl);});}this.groupManager.updateGroupRows(true);}else{this.groupManager.updateGroupRows(true);}this.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\",this.getComponent(),false);}show(){this.visible=true;if(this.groupManager.table.rowManager.getRenderMode()==\"basic\"&&!this.groupManager.table.options.pagination){this.element.classList.add(\"tabulator-group-visible\");var prev=this.generateElement();if(this.groupList.length){this.groupList.forEach(group=>{var rows=group.getHeadersAndRows();rows.forEach(row=>{var rowEl=row.getElement();prev.parentNode.insertBefore(rowEl,prev.nextSibling);row.initialize();prev=rowEl;});});}else{this.rows.forEach(row=>{var rowEl=row.getElement();prev.parentNode.insertBefore(rowEl,prev.nextSibling);row.initialize();prev=rowEl;});}this.groupManager.updateGroupRows(true);}else{this.groupManager.updateGroupRows(true);}this.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\",this.getComponent(),true);}_visSet(){var data=[];if(typeof this.visible==\"function\"){this.rows.forEach(function(row){data.push(row.getData());});this.visible=this.visible(this.key,this.getRowCount(),data,this.getComponent());}}getRowGroup(row){var match=false;if(this.groupList.length){this.groupList.forEach(function(group){var result=group.getRowGroup(row);if(result){match=result;}});}else{if(this.rows.find(function(item){return item===row;})){match=this;}}return match;}getSubGroups(component){var output=[];this.groupList.forEach(function(child){output.push(component?child.getComponent():child);});return output;}getRows(component,includeChildren){var output=[];if(includeChildren&&this.groupList.length){this.groupList.forEach(group=>{output=output.concat(group.getRows(component,includeChildren));});}else{this.rows.forEach(function(row){output.push(component?row.getComponent():row);});}return output;}generateGroupHeaderContents(){var data=[];var rows=this.getRows(false,true);rows.forEach(function(row){data.push(row.getData());});this.elementContents=this.generator(this.key,this.getRowCount(),data,this.getComponent());while(this.element.firstChild)this.element.removeChild(this.element.firstChild);if(typeof this.elementContents===\"string\"){this.element.innerHTML=this.elementContents;}else{this.element.appendChild(this.elementContents);}this.element.insertBefore(this.arrowElement,this.element.firstChild);}getPath(path=[]){path.unshift(this.key);if(this.parent){this.parent.getPath(path);}return path;}////////////// Standard Row Functions //////////////\ngetElement(){return this.elementContents?this.element:this.generateElement();}generateElement(){this.addBindings=false;this._visSet();if(this.visible){this.element.classList.add(\"tabulator-group-visible\");}else{this.element.classList.remove(\"tabulator-group-visible\");}for(var i=0;i<this.element.childNodes.length;++i){this.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);}this.generateGroupHeaderContents();// this.addBindings();\nreturn this.element;}detachElement(){if(this.element&&this.element.parentNode){this.element.parentNode.removeChild(this.element);}}//normalize the height of elements in the row\nnormalizeHeight(){this.setHeight(this.element.clientHeight);}initialize(force){if(!this.initialized||force){this.normalizeHeight();this.initialized=true;}}reinitialize(){this.initialized=false;this.height=0;if(Helpers.elVisible(this.element)){this.initialize(true);}}setHeight(height){if(this.height!=height){this.height=height;this.outerHeight=this.element.offsetHeight;}}//return rows outer height\ngetHeight(){return this.outerHeight;}getGroup(){return this;}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}//////////////// Object Generation /////////////////\ngetComponent(){if(!this.component){this.component=new GroupComponent(this);}return this.component;}}class GroupRows extends Module{constructor(table){super(table);this.groupIDLookups=false;//enable table grouping and set field to group by\nthis.startOpen=[function(){return false;}];//starting state of group\nthis.headerGenerator=[function(){return\"\";}];this.groupList=[];//ordered list of groups\nthis.allowedValues=false;this.groups={};//hold row groups\nthis.displayHandler=this.getRows.bind(this);this.blockRedraw=false;//register table options\nthis.registerTableOption(\"groupBy\",false);//enable table grouping and set field to group by\nthis.registerTableOption(\"groupStartOpen\",true);//starting state of group\nthis.registerTableOption(\"groupValues\",false);this.registerTableOption(\"groupUpdateOnCellEdit\",false);this.registerTableOption(\"groupHeader\",false);//header generation function\nthis.registerTableOption(\"groupHeaderPrint\",null);this.registerTableOption(\"groupHeaderClipboard\",null);this.registerTableOption(\"groupHeaderHtmlOutput\",null);this.registerTableOption(\"groupHeaderDownload\",null);this.registerTableOption(\"groupToggleElement\",\"arrow\");this.registerTableOption(\"groupClosedShowCalcs\",false);//register table functions\nthis.registerTableFunction(\"setGroupBy\",this.setGroupBy.bind(this));this.registerTableFunction(\"setGroupValues\",this.setGroupValues.bind(this));this.registerTableFunction(\"setGroupStartOpen\",this.setGroupStartOpen.bind(this));this.registerTableFunction(\"setGroupHeader\",this.setGroupHeader.bind(this));this.registerTableFunction(\"getGroups\",this.userGetGroups.bind(this));this.registerTableFunction(\"getGroupedData\",this.userGetGroupedData.bind(this));//register component functions\nthis.registerComponentFunction(\"row\",\"getGroup\",this.rowGetGroup.bind(this));}//initialize group configuration\ninitialize(){this.subscribe(\"table-destroy\",this._blockRedrawing.bind(this));this.subscribe(\"rows-wipe\",this._blockRedrawing.bind(this));this.subscribe(\"rows-wiped\",this._restore_redrawing.bind(this));if(this.table.options.groupBy){if(this.table.options.groupUpdateOnCellEdit){this.subscribe(\"cell-value-updated\",this.cellUpdated.bind(this));this.subscribe(\"row-data-changed\",this.reassignRowToGroup.bind(this),0);}this.subscribe(\"table-built\",this.configureGroupSetup.bind(this));this.subscribe(\"row-deleting\",this.rowDeleting.bind(this));this.subscribe(\"row-deleted\",this.rowsUpdated.bind(this));this.subscribe(\"scroll-horizontal\",this.scrollHeaders.bind(this));this.subscribe(\"rows-wipe\",this.wipe.bind(this));this.subscribe(\"rows-added\",this.rowsUpdated.bind(this));this.subscribe(\"row-moving\",this.rowMoving.bind(this));this.subscribe(\"row-adding-index\",this.rowAddingIndex.bind(this));this.subscribe(\"rows-sample\",this.rowSample.bind(this));this.subscribe(\"render-virtual-fill\",this.virtualRenderFill.bind(this));this.registerDisplayHandler(this.displayHandler,20);this.initialized=true;}}_blockRedrawing(){this.blockRedraw=true;}_restore_redrawing(){this.blockRedraw=false;}configureGroupSetup(){if(this.table.options.groupBy){var groupBy=this.table.options.groupBy,startOpen=this.table.options.groupStartOpen,groupHeader=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues;if(Array.isArray(groupBy)&&Array.isArray(groupHeader)&&groupBy.length>groupHeader.length){console.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");}this.headerGenerator=[function(){return\"\";}];this.startOpen=[function(){return false;}];//starting state of group\nthis.langBind(\"groups|item\",(langValue,lang)=>{this.headerGenerator[0]=(value,count,data)=>{//header layout function\nreturn(typeof value===\"undefined\"?\"\":value)+\"<span>(\"+count+\" \"+(count===1?langValue:lang.groups.items)+\")</span>\";};});this.groupIDLookups=[];if(groupBy){if(this.table.modExists(\"columnCalcs\")&&this.table.options.columnCalcs!=\"table\"&&this.table.options.columnCalcs!=\"both\"){this.table.modules.columnCalcs.removeCalcs();}}else{if(this.table.modExists(\"columnCalcs\")&&this.table.options.columnCalcs!=\"group\"){var cols=this.table.columnManager.getRealColumns();cols.forEach(col=>{if(col.definition.topCalc){this.table.modules.columnCalcs.initializeTopRow();}if(col.definition.bottomCalc){this.table.modules.columnCalcs.initializeBottomRow();}});}}if(!Array.isArray(groupBy)){groupBy=[groupBy];}groupBy.forEach((group,i)=>{var lookupFunc,column;if(typeof group==\"function\"){lookupFunc=group;}else{column=this.table.columnManager.getColumnByField(group);if(column){lookupFunc=function(data){return column.getFieldValue(data);};}else{lookupFunc=function(data){return data[group];};}}this.groupIDLookups.push({field:typeof group===\"function\"?false:group,func:lookupFunc,values:this.allowedValues?this.allowedValues[i]:false});});if(startOpen){if(!Array.isArray(startOpen)){startOpen=[startOpen];}startOpen.forEach(level=>{});this.startOpen=startOpen;}if(groupHeader){this.headerGenerator=Array.isArray(groupHeader)?groupHeader:[groupHeader];}}else{this.groupList=[];this.groups={};}}rowSample(rows,prevValue){if(this.table.options.groupBy){var group=this.getGroups(false)[0];prevValue.push(group.getRows(false)[0]);}return prevValue;}virtualRenderFill(){var el=this.table.rowManager.tableElement;var rows=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy){rows=rows.filter(row=>{return row.type!==\"group\";});el.style.minWidth=!rows.length?this.table.columnManager.getWidth()+\"px\":\"\";}else{return rows;}}rowAddingIndex(row,index,top){if(this.table.options.groupBy){this.assignRowToGroup(row);var groupRows=row.modules.group.rows;if(groupRows.length>1){if(!index||index&&groupRows.indexOf(index)==-1){if(top){if(groupRows[0]!==row){index=groupRows[0];this.table.rowManager.moveRowInArray(row.modules.group.rows,row,index,!top);}}else{if(groupRows[groupRows.length-1]!==row){index=groupRows[groupRows.length-1];this.table.rowManager.moveRowInArray(row.modules.group.rows,row,index,!top);}}}else{this.table.rowManager.moveRowInArray(row.modules.group.rows,row,index,!top);}}return index;}}trackChanges(){this.dispatch(\"group-changed\");}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\nsetGroupBy(groups){this.table.options.groupBy=groups;if(!this.initialized){this.initialize();}this.configureGroupSetup();if(!groups&&this.table.modExists(\"columnCalcs\")&&this.table.options.columnCalcs===true){this.table.modules.columnCalcs.reinitializeCalcs();}this.refreshData();this.trackChanges();}setGroupValues(groupValues){this.table.options.groupValues=groupValues;this.configureGroupSetup();this.refreshData();this.trackChanges();}setGroupStartOpen(values){this.table.options.groupStartOpen=values;this.configureGroupSetup();if(this.table.options.groupBy){this.refreshData();this.trackChanges();}else{console.warn(\"Grouping Update - cant refresh view, no groups have been set\");}}setGroupHeader(values){this.table.options.groupHeader=values;this.configureGroupSetup();if(this.table.options.groupBy){this.refreshData();this.trackChanges();}else{console.warn(\"Grouping Update - cant refresh view, no groups have been set\");}}userGetGroups(values){return this.getGroups(true);}// get grouped table data in the same format as getData()\nuserGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData();}///////////////////////////////////////\n///////// Component Functions /////////\n///////////////////////////////////////\nrowGetGroup(row){return row.modules.group?row.modules.group.getComponent():false;}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\nrowMoving(from,to,after){if(this.table.options.groupBy){if(!after&&to instanceof Group){to=this.table.rowManager.prevDisplayRow(from)||to;}var toGroup=to instanceof Group?to:to.modules.group;var fromGroup=from instanceof Group?from:from.modules.group;if(toGroup===fromGroup){this.table.rowManager.moveRowInArray(toGroup.rows,from,to,after);}else{if(fromGroup){fromGroup.removeRow(from);}toGroup.insertRow(from,to,after);}}}rowDeleting(row){//remove from group\nif(this.table.options.groupBy&&row.modules.group){row.modules.group.removeRow(row);}}rowsUpdated(row){if(this.table.options.groupBy){this.updateGroupRows(true);}}cellUpdated(cell){if(this.table.options.groupBy){this.reassignRowToGroup(cell.row);}}//return appropriate rows with group headers\ngetRows(rows){if(this.table.options.groupBy&&this.groupIDLookups.length){this.dispatchExternal(\"dataGrouping\");this.generateGroups(rows);if(this.subscribedExternal(\"dataGrouped\")){this.dispatchExternal(\"dataGrouped\",this.getGroups(true));}return this.updateGroupRows();}else{return rows.slice(0);}}getGroups(component){var groupComponents=[];this.groupList.forEach(function(group){groupComponents.push(component?group.getComponent():group);});return groupComponents;}getChildGroups(group){var groupComponents=[];if(!group){group=this;}group.groupList.forEach(child=>{if(child.groupList.length){groupComponents=groupComponents.concat(this.getChildGroups(child));}else{groupComponents.push(child);}});return groupComponents;}wipe(){if(this.table.options.groupBy){this.groupList.forEach(function(group){group.wipe();});this.groupList=[];this.groups={};}}pullGroupListData(groupList){var groupListData=[];groupList.forEach(group=>{var groupHeader={};groupHeader.level=0;groupHeader.rowCount=0;groupHeader.headerContent=\"\";var childData=[];if(group.hasSubGroups){childData=this.pullGroupListData(group.groupList);groupHeader.level=group.level;groupHeader.rowCount=childData.length-group.groupList.length;// data length minus number of sub-headers\ngroupHeader.headerContent=group.generator(group.key,groupHeader.rowCount,group.rows,group);groupListData.push(groupHeader);groupListData=groupListData.concat(childData);}else{groupHeader.level=group.level;groupHeader.headerContent=group.generator(group.key,group.rows.length,group.rows,group);groupHeader.rowCount=group.getRows().length;groupListData.push(groupHeader);group.getRows().forEach(row=>{groupListData.push(row.getData(\"data\"));});}});return groupListData;}getGroupedData(){return this.pullGroupListData(this.groupList);}getRowGroup(row){var match=false;if(this.options(\"dataTree\")){row=this.table.modules.dataTree.getTreeParentRoot(row);}this.groupList.forEach(group=>{var result=group.getRowGroup(row);if(result){match=result;}});return match;}countGroups(){return this.groupList.length;}generateGroups(rows){var oldGroups=this.groups;this.groups={};this.groupList=[];if(this.allowedValues&&this.allowedValues[0]){this.allowedValues[0].forEach(value=>{this.createGroup(value,0,oldGroups);});rows.forEach(row=>{this.assignRowToExistingGroup(row,oldGroups);});}else{rows.forEach(row=>{this.assignRowToGroup(row,oldGroups);});}Object.values(oldGroups).forEach(group=>{group.wipe(true);});}createGroup(groupID,level,oldGroups){var groupKey=level+\"_\"+groupID,group;oldGroups=oldGroups||[];group=new Group(this,false,level,groupID,this.groupIDLookups[0].field,this.headerGenerator[0],oldGroups[groupKey]);this.groups[groupKey]=group;this.groupList.push(group);}assignRowToExistingGroup(row,oldGroups){var groupID=this.groupIDLookups[0].func(row.getData()),groupKey=\"0_\"+groupID;if(this.groups[groupKey]){this.groups[groupKey].addRow(row);}}assignRowToGroup(row,oldGroups){var groupID=this.groupIDLookups[0].func(row.getData()),newGroupNeeded=!this.groups[\"0_\"+groupID];if(newGroupNeeded){this.createGroup(groupID,0,oldGroups);}this.groups[\"0_\"+groupID].addRow(row);return!newGroupNeeded;}reassignRowToGroup(row){if(row.type===\"row\"){var oldRowGroup=row.modules.group,oldGroupPath=oldRowGroup.getPath(),newGroupPath=this.getExpectedPath(row),samePath;// figure out if new group path is the same as old group path\nsamePath=oldGroupPath.length==newGroupPath.length&&oldGroupPath.every((element,index)=>{return element===newGroupPath[index];});// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\nif(!samePath){oldRowGroup.removeRow(row);this.assignRowToGroup(row,this.groups);this.refreshData(true);}}}getExpectedPath(row){var groupPath=[],rowData=row.getData();this.groupIDLookups.forEach(groupId=>{groupPath.push(groupId.func(rowData));});return groupPath;}updateGroupRows(force){var output=[];if(!this.blockRedraw){this.groupList.forEach(group=>{output=output.concat(group.getHeadersAndRows());});if(force){this.refreshData(true);}}return output;}scrollHeaders(left){if(this.table.options.groupBy){if(this.table.options.renderHorizontal===\"virtual\"){left-=this.table.columnManager.renderer.vDomPadLeft;}left=left+\"px\";this.groupList.forEach(group=>{group.scrollHeader(left);});}}removeGroup(group){var groupKey=group.level+\"_\"+group.key,index;if(this.groups[groupKey]){delete this.groups[groupKey];index=this.groupList.indexOf(group);if(index>-1){this.groupList.splice(index,1);}}}checkBasicModeGroupHeaderWidth(){var element=this.table.rowManager.tableElement,onlyGroupHeaders=true;this.table.rowManager.getDisplayRows().forEach((row,index)=>{this.table.rowManager.styleRow(row,index);element.appendChild(row.getElement());row.initialize(true);if(row.type!==\"group\"){onlyGroupHeaders=false;}});if(onlyGroupHeaders){element.style.minWidth=this.table.columnManager.getWidth()+\"px\";}else{element.style.minWidth=\"\";}}}_defineProperty(GroupRows,\"moduleName\",\"groupRows\");var defaultUndoers={cellEdit:function(action){action.component.setValueProcessData(action.data.oldValue);action.component.cellRendered();},rowAdd:function(action){action.component.deleteActual();this.table.rowManager.checkPlaceholder();},rowDelete:function(action){var newRow=this.table.rowManager.addRowActual(action.data.data,action.data.pos,action.data.index);if(this.table.options.groupBy&&this.table.modExists(\"groupRows\")){this.table.modules.groupRows.updateGroupRows(true);}this._rebindRow(action.component,newRow);this.table.rowManager.checkPlaceholder();},rowMove:function(action){var after=action.data.posFrom-action.data.posTo>0;this.table.rowManager.moveRowActual(action.component,this.table.rowManager.getRowFromPosition(action.data.posFrom),after);this.table.rowManager.regenerateRowPositions();this.table.rowManager.reRenderInPosition();}};var defaultRedoers={cellEdit:function(action){action.component.setValueProcessData(action.data.newValue);action.component.cellRendered();},rowAdd:function(action){var newRow=this.table.rowManager.addRowActual(action.data.data,action.data.pos,action.data.index);if(this.table.options.groupBy&&this.table.modExists(\"groupRows\")){this.table.modules.groupRows.updateGroupRows(true);}this._rebindRow(action.component,newRow);this.table.rowManager.checkPlaceholder();},rowDelete:function(action){action.component.deleteActual();this.table.rowManager.checkPlaceholder();},rowMove:function(action){this.table.rowManager.moveRowActual(action.component,this.table.rowManager.getRowFromPosition(action.data.posTo),action.data.after);this.table.rowManager.regenerateRowPositions();this.table.rowManager.reRenderInPosition();}};var bindings$1={undo:[\"ctrl + 90\",\"meta + 90\"],redo:[\"ctrl + 89\",\"meta + 89\"]};var actions$1={undo:function(e){var cell=false;if(this.table.options.history&&this.table.modExists(\"history\")&&this.table.modExists(\"edit\")){cell=this.table.modules.edit.currentCell;if(!cell){e.preventDefault();this.table.modules.history.undo();}}},redo:function(e){var cell=false;if(this.table.options.history&&this.table.modExists(\"history\")&&this.table.modExists(\"edit\")){cell=this.table.modules.edit.currentCell;if(!cell){e.preventDefault();this.table.modules.history.redo();}}}};var extensions$3={keybindings:{bindings:bindings$1,actions:actions$1}};class History extends Module{constructor(table){super(table);this.history=[];this.index=-1;this.registerTableOption(\"history\",false);//enable edit history\n}initialize(){if(this.table.options.history){this.subscribe(\"cell-value-updated\",this.cellUpdated.bind(this));this.subscribe(\"cell-delete\",this.clearComponentHistory.bind(this));this.subscribe(\"row-delete\",this.rowDeleted.bind(this));this.subscribe(\"rows-wipe\",this.clear.bind(this));this.subscribe(\"row-added\",this.rowAdded.bind(this));this.subscribe(\"row-move\",this.rowMoved.bind(this));}this.registerTableFunction(\"undo\",this.undo.bind(this));this.registerTableFunction(\"redo\",this.redo.bind(this));this.registerTableFunction(\"getHistoryUndoSize\",this.getHistoryUndoSize.bind(this));this.registerTableFunction(\"getHistoryRedoSize\",this.getHistoryRedoSize.bind(this));this.registerTableFunction(\"clearHistory\",this.clear.bind(this));}rowMoved(from,to,after){this.action(\"rowMove\",from,{posFrom:from.getPosition(),posTo:to.getPosition(),to:to,after:after});}rowAdded(row,data,pos,index){this.action(\"rowAdd\",row,{data:data,pos:pos,index:index});}rowDeleted(row){var index,rows;if(this.table.options.groupBy){rows=row.getComponent().getGroup()._getSelf().rows;index=rows.indexOf(row);if(index){index=rows[index-1];}}else{index=row.table.rowManager.getRowIndex(row);if(index){index=row.table.rowManager.rows[index-1];}}this.action(\"rowDelete\",row,{data:row.getData(),pos:!index,index:index});}cellUpdated(cell){this.action(\"cellEdit\",cell,{oldValue:cell.oldValue,newValue:cell.value});}clear(){this.history=[];this.index=-1;}action(type,component,data){this.history=this.history.slice(0,this.index+1);this.history.push({type:type,component:component,data:data});this.index++;}getHistoryUndoSize(){return this.index+1;}getHistoryRedoSize(){return this.history.length-(this.index+1);}clearComponentHistory(component){var index=this.history.findIndex(function(item){return item.component===component;});if(index>-1){this.history.splice(index,1);if(index<=this.index){this.index--;}this.clearComponentHistory(component);}}undo(){if(this.index>-1){let action=this.history[this.index];History.undoers[action.type].call(this,action);this.index--;this.dispatchExternal(\"historyUndo\",action.type,action.component.getComponent(),action.data);return true;}else{console.warn(this.options(\"history\")?\"History Undo Error - No more history to undo\":\"History module not enabled\");return false;}}redo(){if(this.history.length-1>this.index){this.index++;let action=this.history[this.index];History.redoers[action.type].call(this,action);this.dispatchExternal(\"historyRedo\",action.type,action.component.getComponent(),action.data);return true;}else{console.warn(this.options(\"history\")?\"History Redo Error - No more history to redo\":\"History module not enabled\");return false;}}//rebind rows to new element after deletion\n_rebindRow(oldRow,newRow){this.history.forEach(function(action){if(action.component instanceof Row){if(action.component===oldRow){action.component=newRow;}}else if(action.component instanceof Cell){if(action.component.row===oldRow){var field=action.component.column.getField();if(field){action.component=newRow.getCell(field);}}}});}}_defineProperty(History,\"moduleName\",\"history\");_defineProperty(History,\"moduleExtensions\",extensions$3);//load defaults\n_defineProperty(History,\"undoers\",defaultUndoers);_defineProperty(History,\"redoers\",defaultRedoers);class HtmlTableImport extends Module{constructor(table){super(table);this.fieldIndex=[];this.hasIndex=false;}initialize(){this.tableElementCheck();}tableElementCheck(){if(this.table.originalElement&&this.table.originalElement.tagName===\"TABLE\"){if(this.table.originalElement.childNodes.length){this.parseTable();}else{console.warn(\"Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element.\");}}}parseTable(){var element=this.table.originalElement,options=this.table.options,headers=element.getElementsByTagName(\"th\"),rows=element.getElementsByTagName(\"tbody\")[0],data=[];this.hasIndex=false;this.dispatchExternal(\"htmlImporting\");rows=rows?rows.getElementsByTagName(\"tr\"):[];//check for Tabulator inline options\nthis._extractOptions(element,options);if(headers.length){this._extractHeaders(headers,rows);}else{this._generateBlankHeaders(headers,rows);}//iterate through table rows and build data set\nfor(var index=0;index<rows.length;index++){var row=rows[index],cells=row.getElementsByTagName(\"td\"),item={};//create index if the don't exist in table\nif(!this.hasIndex){item[options.index]=index;}for(var i=0;i<cells.length;i++){var cell=cells[i];if(typeof this.fieldIndex[i]!==\"undefined\"){item[this.fieldIndex[i]]=cell.innerHTML;}}//add row data to item\ndata.push(item);}options.data=data;this.dispatchExternal(\"htmlImported\");}//extract tabulator attribute options\n_extractOptions(element,options,defaultOptions){var attributes=element.attributes;var optionsArr=defaultOptions?Object.keys(defaultOptions):Object.keys(options);var optionsList={};optionsArr.forEach(item=>{optionsList[item.toLowerCase()]=item;});for(var index in attributes){var attrib=attributes[index];var name;if(attrib&&typeof attrib==\"object\"&&attrib.name&&attrib.name.indexOf(\"tabulator-\")===0){name=attrib.name.replace(\"tabulator-\",\"\");if(typeof optionsList[name]!==\"undefined\"){options[optionsList[name]]=this._attribValue(attrib.value);}}}}//get value of attribute\n_attribValue(value){if(value===\"true\"){return true;}if(value===\"false\"){return false;}return value;}//find column if it has already been defined\n_findCol(title){var match=this.table.options.columns.find(column=>{return column.title===title;});return match||false;}//extract column from headers\n_extractHeaders(headers,rows){for(var index=0;index<headers.length;index++){var header=headers[index],exists=false,col=this._findCol(header.textContent),width;if(col){exists=true;}else{col={title:header.textContent.trim()};}if(!col.field){col.field=header.textContent.trim().toLowerCase().replaceAll(\" \",\"_\");}width=header.getAttribute(\"width\");if(width&&!col.width){col.width=width;}//check for Tabulator inline options\nthis._extractOptions(header,col,this.table.columnManager.optionsList.registeredDefaults);this.fieldIndex[index]=col.field;if(col.field==this.table.options.index){this.hasIndex=true;}if(!exists){this.table.options.columns.push(col);}}}//generate blank headers\n_generateBlankHeaders(headers,rows){for(var index=0;index<headers.length;index++){var header=headers[index],col={title:\"\",field:\"col\"+index};this.fieldIndex[index]=col.field;var width=header.getAttribute(\"width\");if(width){col.width=width;}this.table.options.columns.push(col);}}}_defineProperty(HtmlTableImport,\"moduleName\",\"htmlTableImport\");function csv(input){var data=[],row=0,col=0,inQuote=false;//Iterate over each character\nfor(let index=0;index<input.length;index++){let char=input[index],nextChar=input[index+1];//Initialize empty row\nif(!data[row]){data[row]=[];}//Initialize empty column\nif(!data[row][col]){data[row][col]=\"\";}//Handle quotation mark inside string\nif(char=='\"'&&inQuote&&nextChar=='\"'){data[row][col]+=char;index++;continue;}//Begin / End Quote\nif(char=='\"'){inQuote=!inQuote;continue;}//Next column (if not in quote)\nif(char==','&&!inQuote){col++;continue;}//New row if new line and not in quote (CRLF) \nif(char=='\\r'&&nextChar=='\\n'&&!inQuote){col=0;row++;index++;continue;}//New row if new line and not in quote (CR or LF) \nif((char=='\\r'||char=='\\n')&&!inQuote){col=0;row++;continue;}//Normal Character, append to column\ndata[row][col]+=char;}return data;}function json(input){try{return JSON.parse(input);}catch(e){console.warn(\"JSON Import Error - File contents is invalid JSON\",e);return Promise.reject();}}function array$1(input){return input;}function xlsx(input){var XLSXLib=this.dependencyRegistry.lookup(\"XLSX\"),workbook2=XLSXLib.read(input),sheet=workbook2.Sheets[workbook2.SheetNames[0]];return XLSXLib.utils.sheet_to_json(sheet,{header:1});}var defaultImporters={csv:csv,json:json,array:array$1,xlsx:xlsx};class Import extends Module{constructor(table){super(table);this.registerTableOption(\"importFormat\");this.registerTableOption(\"importReader\",\"text\");this.registerTableOption(\"importHeaderTransform\");this.registerTableOption(\"importValueTransform\");this.registerTableOption(\"importDataValidator\");this.registerTableOption(\"importFileValidator\");}initialize(){this.registerTableFunction(\"import\",this.importFromFile.bind(this));if(this.table.options.importFormat){this.subscribe(\"data-loading\",this.loadDataCheck.bind(this),10);this.subscribe(\"data-load\",this.loadData.bind(this),10);}}loadDataCheck(data){return this.table.options.importFormat&&(typeof data===\"string\"||Array.isArray(data)&&data.length&&Array.isArray(data));}loadData(data,params,config,silent,previousData){return this.importData(this.lookupImporter(),data).then(this.structureData.bind(this)).catch(err=>{console.error(\"Import Error:\",err||\"Unable to import data\");return Promise.reject(err);});}lookupImporter(importFormat){var importer;if(!importFormat){importFormat=this.table.options.importFormat;}if(typeof importFormat===\"string\"){importer=Import.importers[importFormat];}else{importer=importFormat;}if(!importer){console.error(\"Import Error - Importer not found:\",importFormat);}return importer;}importFromFile(importFormat,extension,importReader){var importer=this.lookupImporter(importFormat);if(importer){return this.pickFile(extension,importReader).then(this.importData.bind(this,importer)).then(this.structureData.bind(this)).then(this.mutateData.bind(this)).then(this.validateData.bind(this)).then(this.setData.bind(this)).catch(err=>{this.dispatch(\"import-error\",err);this.dispatchExternal(\"importError\",err);console.error(\"Import Error:\",err||\"Unable to import file\");this.table.dataLoader.alertError();setTimeout(()=>{this.table.dataLoader.clearAlert();},3000);return Promise.reject(err);});}}pickFile(extensions,importReader){return new Promise((resolve,reject)=>{var input=document.createElement(\"input\");input.type=\"file\";input.accept=extensions;input.addEventListener(\"change\",e=>{var file=input.files[0],reader=new FileReader(),valid=this.validateFile(file);if(valid===true){this.dispatch(\"import-importing\",input.files);this.dispatchExternal(\"importImporting\",input.files);switch(importReader||this.table.options.importReader){case\"buffer\":reader.readAsArrayBuffer(file);break;case\"binary\":reader.readAsBinaryString(file);break;case\"url\":reader.readAsDataURL(file);break;case\"text\":default:reader.readAsText(file);}reader.onload=e=>{resolve(reader.result);};reader.onerror=e=>{console.warn(\"File Load Error - Unable to read file\");reject(e);};}else{reject(valid);}});this.dispatch(\"import-choose\");this.dispatchExternal(\"importChoose\");input.click();});}importData(importer,fileContents){var data;this.table.dataLoader.alertLoader();return new Promise((resolve,reject)=>{setTimeout(()=>{data=importer.call(this.table,fileContents);if(data instanceof Promise){resolve(data);}else{data?resolve(data):reject();}},10);});}structureData(parsedData){var data=[];if(Array.isArray(parsedData)&&parsedData.length&&Array.isArray(parsedData[0])){if(this.table.options.autoColumns){data=this.structureArrayToObject(parsedData);}else{data=this.structureArrayToColumns(parsedData);}return data;}else{return parsedData;}}mutateData(data){var output=[];if(Array.isArray(data)){data.forEach(row=>{output.push(this.table.modules.mutator.transformRow(row,\"import\"));});}else{output=data;}return output;}transformHeader(headers){var output=[];if(this.table.options.importHeaderTransform){headers.forEach(item=>{output.push(this.table.options.importHeaderTransform.call(this.table,item,headers));});}else{return headers;}return output;}transformData(row){var output=[];if(this.table.options.importValueTransform){row.forEach(item=>{output.push(this.table.options.importValueTransform.call(this.table,item,row));});}else{return row;}return output;}structureArrayToObject(parsedData){var columns=this.transformHeader(parsedData.shift());var data=parsedData.map(values=>{var row={};values=this.transformData(values);columns.forEach((key,i)=>{row[key]=values[i];});return row;});return data;}structureArrayToColumns(parsedData){var data=[],firstRow=this.transformHeader(parsedData[0]),columns=this.table.getColumns();//remove first row if it is the column names\nif(columns[0]&&firstRow[0]){if(columns[0].getDefinition().title===firstRow[0]){parsedData.shift();}}//convert row arrays to objects\nparsedData.forEach(rowData=>{var row={};rowData=this.transformData(rowData);rowData.forEach((value,index)=>{var column=columns[index];if(column){row[column.getField()]=value;}});data.push(row);});return data;}validateFile(file){if(this.table.options.importFileValidator){return this.table.options.importFileValidator.call(this.table,file);}return true;}validateData(data){var result;if(this.table.options.importDataValidator){result=this.table.options.importDataValidator.call(this.table,data);if(result===true){return data;}else{return Promise.reject(result);}}return data;}setData(data){this.dispatch(\"import-imported\",data);this.dispatchExternal(\"importImported\",data);this.table.dataLoader.clearAlert();return this.table.setData(data);}}_defineProperty(Import,\"moduleName\",\"import\");//load defaults\n_defineProperty(Import,\"importers\",defaultImporters);class Interaction extends Module{constructor(table){super(table);this.eventMap={//row events\nrowClick:\"row-click\",rowDblClick:\"row-dblclick\",rowContext:\"row-contextmenu\",rowMouseEnter:\"row-mouseenter\",rowMouseLeave:\"row-mouseleave\",rowMouseOver:\"row-mouseover\",rowMouseOut:\"row-mouseout\",rowMouseMove:\"row-mousemove\",rowMouseDown:\"row-mousedown\",rowMouseUp:\"row-mouseup\",rowTap:\"row\",rowDblTap:\"row\",rowTapHold:\"row\",//cell events\ncellClick:\"cell-click\",cellDblClick:\"cell-dblclick\",cellContext:\"cell-contextmenu\",cellMouseEnter:\"cell-mouseenter\",cellMouseLeave:\"cell-mouseleave\",cellMouseOver:\"cell-mouseover\",cellMouseOut:\"cell-mouseout\",cellMouseMove:\"cell-mousemove\",cellMouseDown:\"cell-mousedown\",cellMouseUp:\"cell-mouseup\",cellTap:\"cell\",cellDblTap:\"cell\",cellTapHold:\"cell\",//column header events\nheaderClick:\"column-click\",headerDblClick:\"column-dblclick\",headerContext:\"column-contextmenu\",headerMouseEnter:\"column-mouseenter\",headerMouseLeave:\"column-mouseleave\",headerMouseOver:\"column-mouseover\",headerMouseOut:\"column-mouseout\",headerMouseMove:\"column-mousemove\",headerMouseDown:\"column-mousedown\",headerMouseUp:\"column-mouseup\",headerTap:\"column\",headerDblTap:\"column\",headerTapHold:\"column\",//group header\ngroupClick:\"group-click\",groupDblClick:\"group-dblclick\",groupContext:\"group-contextmenu\",groupMouseEnter:\"group-mouseenter\",groupMouseLeave:\"group-mouseleave\",groupMouseOver:\"group-mouseover\",groupMouseOut:\"group-mouseout\",groupMouseMove:\"group-mousemove\",groupMouseDown:\"group-mousedown\",groupMouseUp:\"group-mouseup\",groupTap:\"group\",groupDblTap:\"group\",groupTapHold:\"group\"};this.subscribers={};this.touchSubscribers={};this.columnSubscribers={};this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}};this.registerColumnOption(\"headerClick\");this.registerColumnOption(\"headerDblClick\");this.registerColumnOption(\"headerContext\");this.registerColumnOption(\"headerMouseEnter\");this.registerColumnOption(\"headerMouseLeave\");this.registerColumnOption(\"headerMouseOver\");this.registerColumnOption(\"headerMouseOut\");this.registerColumnOption(\"headerMouseMove\");this.registerColumnOption(\"headerMouseDown\");this.registerColumnOption(\"headerMouseUp\");this.registerColumnOption(\"headerTap\");this.registerColumnOption(\"headerDblTap\");this.registerColumnOption(\"headerTapHold\");this.registerColumnOption(\"cellClick\");this.registerColumnOption(\"cellDblClick\");this.registerColumnOption(\"cellContext\");this.registerColumnOption(\"cellMouseEnter\");this.registerColumnOption(\"cellMouseLeave\");this.registerColumnOption(\"cellMouseOver\");this.registerColumnOption(\"cellMouseOut\");this.registerColumnOption(\"cellMouseMove\");this.registerColumnOption(\"cellMouseDown\");this.registerColumnOption(\"cellMouseUp\");this.registerColumnOption(\"cellTap\");this.registerColumnOption(\"cellDblTap\");this.registerColumnOption(\"cellTapHold\");}initialize(){this.initializeExternalEvents();this.subscribe(\"column-init\",this.initializeColumn.bind(this));this.subscribe(\"cell-dblclick\",this.cellContentsSelectionFixer.bind(this));this.subscribe(\"scroll-horizontal\",this.clearTouchWatchers.bind(this));this.subscribe(\"scroll-vertical\",this.clearTouchWatchers.bind(this));}clearTouchWatchers(){var types=Object.values(this.touchWatchers);types.forEach(type=>{for(let key in type){type[key]=null;}});}cellContentsSelectionFixer(e,cell){var range;if(this.table.modExists(\"edit\")){if(this.table.modules.edit.currentCell===cell){return;//prevent instant selection of editor content\n}}e.preventDefault();try{if(document.selection){// IE\nrange=document.body.createTextRange();range.moveToElementText(cell.getElement());range.select();}else if(window.getSelection){range=document.createRange();range.selectNode(cell.getElement());window.getSelection().removeAllRanges();window.getSelection().addRange(range);}}catch(e){}}initializeExternalEvents(){for(let key in this.eventMap){this.subscriptionChangeExternal(key,this.subscriptionChanged.bind(this,key));}}subscriptionChanged(key,added){if(added){if(!this.subscribers[key]){if(this.eventMap[key].includes(\"-\")){this.subscribers[key]=this.handle.bind(this,key);this.subscribe(this.eventMap[key],this.subscribers[key]);}else{this.subscribeTouchEvents(key);}}}else{if(this.eventMap[key].includes(\"-\")){if(this.subscribers[key]&&!this.columnSubscribers[key]&&!this.subscribedExternal(key)){this.unsubscribe(this.eventMap[key],this.subscribers[key]);delete this.subscribers[key];}}else{this.unsubscribeTouchEvents(key);}}}subscribeTouchEvents(key){var type=this.eventMap[key];if(!this.touchSubscribers[type+\"-touchstart\"]){this.touchSubscribers[type+\"-touchstart\"]=this.handleTouch.bind(this,type,\"start\");this.touchSubscribers[type+\"-touchend\"]=this.handleTouch.bind(this,type,\"end\");this.subscribe(type+\"-touchstart\",this.touchSubscribers[type+\"-touchstart\"]);this.subscribe(type+\"-touchend\",this.touchSubscribers[type+\"-touchend\"]);}this.subscribers[key]=true;}unsubscribeTouchEvents(key){var noTouch=true,type=this.eventMap[key];if(this.subscribers[key]&&!this.subscribedExternal(key)){delete this.subscribers[key];for(let i in this.eventMap){if(this.eventMap[i]===type){if(this.subscribers[i]){noTouch=false;}}}if(noTouch){this.unsubscribe(type+\"-touchstart\",this.touchSubscribers[type+\"-touchstart\"]);this.unsubscribe(type+\"-touchend\",this.touchSubscribers[type+\"-touchend\"]);delete this.touchSubscribers[type+\"-touchstart\"];delete this.touchSubscribers[type+\"-touchend\"];}}}initializeColumn(column){var def=column.definition;for(let key in this.eventMap){if(def[key]){this.subscriptionChanged(key,true);if(!this.columnSubscribers[key]){this.columnSubscribers[key]=[];}this.columnSubscribers[key].push(column);}}}handle(action,e,component){this.dispatchEvent(action,e,component);}handleTouch(type,action,e,component){var watchers=this.touchWatchers[type];if(type===\"column\"){type=\"header\";}switch(action){case\"start\":watchers.tap=true;clearTimeout(watchers.tapHold);watchers.tapHold=setTimeout(()=>{clearTimeout(watchers.tapHold);watchers.tapHold=null;watchers.tap=null;clearTimeout(watchers.tapDbl);watchers.tapDbl=null;this.dispatchEvent(type+\"TapHold\",e,component);},1000);break;case\"end\":if(watchers.tap){watchers.tap=null;this.dispatchEvent(type+\"Tap\",e,component);}if(watchers.tapDbl){clearTimeout(watchers.tapDbl);watchers.tapDbl=null;this.dispatchEvent(type+\"DblTap\",e,component);}else{watchers.tapDbl=setTimeout(()=>{clearTimeout(watchers.tapDbl);watchers.tapDbl=null;},300);}clearTimeout(watchers.tapHold);watchers.tapHold=null;break;}}dispatchEvent(action,e,component){var componentObj=component.getComponent(),callback;if(this.columnSubscribers[action]){if(component instanceof Cell){callback=component.column.definition[action];}else if(component instanceof Column){callback=component.definition[action];}if(callback){callback(e,componentObj);}}this.dispatchExternal(action,e,componentObj);}}_defineProperty(Interaction,\"moduleName\",\"interaction\");var defaultBindings={navPrev:\"shift + 9\",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35};var defaultActions={keyBlock:function(e){e.stopPropagation();e.preventDefault();},scrollPageUp:function(e){var rowManager=this.table.rowManager,newPos=rowManager.scrollTop-rowManager.element.clientHeight;e.preventDefault();if(rowManager.displayRowsCount){if(newPos>=0){rowManager.element.scrollTop=newPos;}else{rowManager.scrollToRow(rowManager.getDisplayRows()[0]);}}this.table.element.focus();},scrollPageDown:function(e){var rowManager=this.table.rowManager,newPos=rowManager.scrollTop+rowManager.element.clientHeight,scrollMax=rowManager.element.scrollHeight;e.preventDefault();if(rowManager.displayRowsCount){if(newPos<=scrollMax){rowManager.element.scrollTop=newPos;}else{rowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount-1]);}}this.table.element.focus();},scrollToStart:function(e){var rowManager=this.table.rowManager;e.preventDefault();if(rowManager.displayRowsCount){rowManager.scrollToRow(rowManager.getDisplayRows()[0]);}this.table.element.focus();},scrollToEnd:function(e){var rowManager=this.table.rowManager;e.preventDefault();if(rowManager.displayRowsCount){rowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount-1]);}this.table.element.focus();},navPrev:function(e){this.dispatch(\"keybinding-nav-prev\",e);},navNext:function(e){this.dispatch(\"keybinding-nav-next\",e);},navLeft:function(e){this.dispatch(\"keybinding-nav-left\",e);},navRight:function(e){this.dispatch(\"keybinding-nav-right\",e);},navUp:function(e){this.dispatch(\"keybinding-nav-up\",e);},navDown:function(e){this.dispatch(\"keybinding-nav-down\",e);}};class Keybindings extends Module{constructor(table){super(table);this.watchKeys=null;this.pressedKeys=null;this.keyupBinding=false;this.keydownBinding=false;this.registerTableOption(\"keybindings\",{});//array for keybindings\nthis.registerTableOption(\"tabEndNewRow\",false);//create new row when tab to end of table\n}initialize(){var bindings=this.table.options.keybindings,mergedBindings={};this.watchKeys={};this.pressedKeys=[];if(bindings!==false){Object.assign(mergedBindings,Keybindings.bindings);Object.assign(mergedBindings,bindings);this.mapBindings(mergedBindings);this.bindEvents();}this.subscribe(\"table-destroy\",this.clearBindings.bind(this));}mapBindings(bindings){for(let key in bindings){if(Keybindings.actions[key]){if(bindings[key]){if(typeof bindings[key]!==\"object\"){bindings[key]=[bindings[key]];}bindings[key].forEach(binding=>{var bindingList=Array.isArray(binding)?binding:[binding];bindingList.forEach(item=>{this.mapBinding(key,item);});});}}else{console.warn(\"Key Binding Error - no such action:\",key);}}}mapBinding(action,symbolsList){var binding={action:Keybindings.actions[action],keys:[],ctrl:false,shift:false,meta:false};var symbols=symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");symbols.forEach(symbol=>{switch(symbol){case\"ctrl\":binding.ctrl=true;break;case\"shift\":binding.shift=true;break;case\"meta\":binding.meta=true;break;default:symbol=isNaN(symbol)?symbol.toUpperCase().charCodeAt(0):parseInt(symbol);binding.keys.push(symbol);if(!this.watchKeys[symbol]){this.watchKeys[symbol]=[];}this.watchKeys[symbol].push(binding);}});}bindEvents(){var self=this;this.keyupBinding=function(e){var code=e.keyCode;var bindings=self.watchKeys[code];if(bindings){self.pressedKeys.push(code);bindings.forEach(function(binding){self.checkBinding(e,binding);});}};this.keydownBinding=function(e){var code=e.keyCode;var bindings=self.watchKeys[code];if(bindings){var index=self.pressedKeys.indexOf(code);if(index>-1){self.pressedKeys.splice(index,1);}}};this.table.element.addEventListener(\"keydown\",this.keyupBinding);this.table.element.addEventListener(\"keyup\",this.keydownBinding);}clearBindings(){if(this.keyupBinding){this.table.element.removeEventListener(\"keydown\",this.keyupBinding);}if(this.keydownBinding){this.table.element.removeEventListener(\"keyup\",this.keydownBinding);}}checkBinding(e,binding){var match=true;if(e.ctrlKey==binding.ctrl&&e.shiftKey==binding.shift&&e.metaKey==binding.meta){binding.keys.forEach(key=>{var index=this.pressedKeys.indexOf(key);if(index==-1){match=false;}});if(match){binding.action.call(this,e);}return true;}return false;}}_defineProperty(Keybindings,\"moduleName\",\"keybindings\");//load defaults\n_defineProperty(Keybindings,\"bindings\",defaultBindings);_defineProperty(Keybindings,\"actions\",defaultActions);class Menu extends Module{constructor(table){super(table);this.menuContainer=null;this.nestedMenuBlock=false;this.currentComponent=null;this.rootPopup=null;this.columnSubscribers={};// this.registerTableOption(\"menuContainer\", undefined); //deprecated\nthis.registerTableOption(\"rowContextMenu\",false);this.registerTableOption(\"rowClickMenu\",false);this.registerTableOption(\"rowDblClickMenu\",false);this.registerTableOption(\"groupContextMenu\",false);this.registerTableOption(\"groupClickMenu\",false);this.registerTableOption(\"groupDblClickMenu\",false);this.registerColumnOption(\"headerContextMenu\");this.registerColumnOption(\"headerClickMenu\");this.registerColumnOption(\"headerDblClickMenu\");this.registerColumnOption(\"headerMenu\");this.registerColumnOption(\"headerMenuIcon\");this.registerColumnOption(\"contextMenu\");this.registerColumnOption(\"clickMenu\");this.registerColumnOption(\"dblClickMenu\");}initialize(){this.deprecatedOptionsCheck();this.initializeRowWatchers();this.initializeGroupWatchers();this.subscribe(\"column-init\",this.initializeColumn.bind(this));}deprecatedOptionsCheck(){// if(!this.deprecationCheck(\"menuContainer\", \"popupContainer\")){\n// \tthis.table.options.popupContainer = this.table.options.menuContainer;\n// }\n}initializeRowWatchers(){if(this.table.options.rowContextMenu){this.subscribe(\"row-contextmenu\",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu));this.table.on(\"rowTapHold\",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu));}if(this.table.options.rowClickMenu){this.subscribe(\"row-click\",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu));}if(this.table.options.rowDblClickMenu){this.subscribe(\"row-dblclick\",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu));}}initializeGroupWatchers(){if(this.table.options.groupContextMenu){this.subscribe(\"group-contextmenu\",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu));this.table.on(\"groupTapHold\",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu));}if(this.table.options.groupClickMenu){this.subscribe(\"group-click\",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu));}if(this.table.options.groupDblClickMenu){this.subscribe(\"group-dblclick\",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu));}}initializeColumn(column){var def=column.definition;//handle column events\nif(def.headerContextMenu&&!this.columnSubscribers.headerContextMenu){this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,\"headerContextMenu\");this.subscribe(\"column-contextmenu\",this.columnSubscribers.headerContextMenu);this.table.on(\"headerTapHold\",this.loadMenuTableColumnEvent.bind(this,\"headerContextMenu\"));}if(def.headerClickMenu&&!this.columnSubscribers.headerClickMenu){this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,\"headerClickMenu\");this.subscribe(\"column-click\",this.columnSubscribers.headerClickMenu);}if(def.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu){this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,\"headerDblClickMenu\");this.subscribe(\"column-dblclick\",this.columnSubscribers.headerDblClickMenu);}if(def.headerMenu){this.initializeColumnHeaderMenu(column);}//handle cell events\nif(def.contextMenu&&!this.columnSubscribers.contextMenu){this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,\"contextMenu\");this.subscribe(\"cell-contextmenu\",this.columnSubscribers.contextMenu);this.table.on(\"cellTapHold\",this.loadMenuTableCellEvent.bind(this,\"contextMenu\"));}if(def.clickMenu&&!this.columnSubscribers.clickMenu){this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,\"clickMenu\");this.subscribe(\"cell-click\",this.columnSubscribers.clickMenu);}if(def.dblClickMenu&&!this.columnSubscribers.dblClickMenu){this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,\"dblClickMenu\");this.subscribe(\"cell-dblclick\",this.columnSubscribers.dblClickMenu);}}initializeColumnHeaderMenu(column){var icon=column.definition.headerMenuIcon,headerMenuEl;headerMenuEl=document.createElement(\"span\");headerMenuEl.classList.add(\"tabulator-header-popup-button\");if(icon){if(typeof icon===\"function\"){icon=icon(column.getComponent());}if(icon instanceof HTMLElement){headerMenuEl.appendChild(icon);}else{headerMenuEl.innerHTML=icon;}}else{headerMenuEl.innerHTML=\"&vellip;\";}headerMenuEl.addEventListener(\"click\",e=>{e.stopPropagation();e.preventDefault();this.loadMenuEvent(column.definition.headerMenu,e,column);});column.titleElement.insertBefore(headerMenuEl,column.titleElement.firstChild);}loadMenuTableCellEvent(option,e,cell){if(cell._cell){cell=cell._cell;}if(cell.column.definition[option]){this.loadMenuEvent(cell.column.definition[option],e,cell);}}loadMenuTableColumnEvent(option,e,column){if(column._column){column=column._column;}if(column.definition[option]){this.loadMenuEvent(column.definition[option],e,column);}}loadMenuEvent(menu,e,component){if(component._group){component=component._group;}else if(component._row){component=component._row;}menu=typeof menu==\"function\"?menu.call(this.table,e,component.getComponent()):menu;this.loadMenu(e,component,menu);}loadMenu(e,component,menu,parentEl,parentPopup){var touch=!(e instanceof MouseEvent),menuEl=document.createElement(\"div\"),popup;menuEl.classList.add(\"tabulator-menu\");if(!touch){e.preventDefault();}//abort if no menu set\nif(!menu||!menu.length){return;}if(!parentEl){if(this.nestedMenuBlock){//abort if child menu already open\nif(this.rootPopup){return;}}else{this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=false;},100);}if(this.rootPopup){this.rootPopup.hide();}this.rootPopup=popup=this.popup(menuEl);}else{popup=parentPopup.child(menuEl);}menu.forEach(item=>{var itemEl=document.createElement(\"div\"),label=item.label,disabled=item.disabled;if(item.separator){itemEl.classList.add(\"tabulator-menu-separator\");}else{itemEl.classList.add(\"tabulator-menu-item\");if(typeof label==\"function\"){label=label.call(this.table,component.getComponent());}if(label instanceof Node){itemEl.appendChild(label);}else{itemEl.innerHTML=label;}if(typeof disabled==\"function\"){disabled=disabled.call(this.table,component.getComponent());}if(disabled){itemEl.classList.add(\"tabulator-menu-item-disabled\");itemEl.addEventListener(\"click\",e=>{e.stopPropagation();});}else{if(item.menu&&item.menu.length){itemEl.addEventListener(\"click\",e=>{e.stopPropagation();this.loadMenu(e,component,item.menu,itemEl,popup);});}else{if(item.action){itemEl.addEventListener(\"click\",e=>{item.action(e,component.getComponent());});}}}if(item.menu&&item.menu.length){itemEl.classList.add(\"tabulator-menu-item-submenu\");}}menuEl.appendChild(itemEl);});menuEl.addEventListener(\"click\",e=>{if(this.rootPopup){this.rootPopup.hide();}});popup.show(parentEl||e);if(popup===this.rootPopup){this.rootPopup.hideOnBlur(()=>{this.rootPopup=null;if(this.currentComponent){this.dispatch(\"menu-closed\",menu,popup);this.dispatchExternal(\"menuClosed\",this.currentComponent.getComponent());this.currentComponent=null;}});this.currentComponent=component;this.dispatch(\"menu-opened\",menu,popup);this.dispatchExternal(\"menuOpened\",component.getComponent());}}}_defineProperty(Menu,\"moduleName\",\"menu\");class MoveColumns extends Module{constructor(table){super(table);this.placeholderElement=this.createPlaceholderElement();this.hoverElement=false;//floating column header element\nthis.checkTimeout=false;//click check timeout holder\nthis.checkPeriod=250;//period to wait on mousedown to consider this a move and not a click\nthis.moving=false;//currently moving column\nthis.toCol=false;//destination column\nthis.toColAfter=false;//position of moving column relative to the destination column\nthis.startX=0;//starting position within header element\nthis.autoScrollMargin=40;//auto scroll on edge when within margin\nthis.autoScrollStep=5;//auto scroll distance in pixels\nthis.autoScrollTimeout=false;//auto scroll timeout\nthis.touchMove=false;this.moveHover=this.moveHover.bind(this);this.endMove=this.endMove.bind(this);this.registerTableOption(\"movableColumns\",false);//enable movable columns\n}createPlaceholderElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-col\");el.classList.add(\"tabulator-col-placeholder\");return el;}initialize(){if(this.table.options.movableColumns){this.subscribe(\"column-init\",this.initializeColumn.bind(this));this.subscribe(\"alert-show\",this.abortMove.bind(this));}}abortMove(){clearTimeout(this.checkTimeout);}initializeColumn(column){var self=this,config={},colEl;if(!column.modules.frozen&&!column.isGroup&&!column.isRowHeader){colEl=column.getElement();config.mousemove=function(e){if(column.parent===self.moving.parent){if((self.touchMove?e.touches[0].pageX:e.pageX)-Helpers.elOffset(colEl).left+self.table.columnManager.contentsElement.scrollLeft>column.getWidth()/2){if(self.toCol!==column||!self.toColAfter){colEl.parentNode.insertBefore(self.placeholderElement,colEl.nextSibling);self.moveColumn(column,true);}}else{if(self.toCol!==column||self.toColAfter){colEl.parentNode.insertBefore(self.placeholderElement,colEl);self.moveColumn(column,false);}}}}.bind(self);colEl.addEventListener(\"mousedown\",function(e){self.touchMove=false;if(e.which===1){self.checkTimeout=setTimeout(function(){self.startMove(e,column);},self.checkPeriod);}});colEl.addEventListener(\"mouseup\",function(e){if(e.which===1){if(self.checkTimeout){clearTimeout(self.checkTimeout);}}});self.bindTouchEvents(column);}column.modules.moveColumn=config;}bindTouchEvents(column){var colEl=column.getElement(),startXMove=false,//shifting center position of the cell\nnextCol,prevCol,nextColWidth,prevColWidth,nextColWidthLast,prevColWidthLast;colEl.addEventListener(\"touchstart\",e=>{this.checkTimeout=setTimeout(()=>{this.touchMove=true;nextCol=column.nextColumn();nextColWidth=nextCol?nextCol.getWidth()/2:0;prevCol=column.prevColumn();prevColWidth=prevCol?prevCol.getWidth()/2:0;nextColWidthLast=0;prevColWidthLast=0;startXMove=false;this.startMove(e,column);},this.checkPeriod);},{passive:true});colEl.addEventListener(\"touchmove\",e=>{var diff,moveToCol;if(this.moving){this.moveHover(e);if(!startXMove){startXMove=e.touches[0].pageX;}diff=e.touches[0].pageX-startXMove;if(diff>0){if(nextCol&&diff-nextColWidthLast>nextColWidth){moveToCol=nextCol;if(moveToCol!==column){startXMove=e.touches[0].pageX;moveToCol.getElement().parentNode.insertBefore(this.placeholderElement,moveToCol.getElement().nextSibling);this.moveColumn(moveToCol,true);}}}else{if(prevCol&&-diff-prevColWidthLast>prevColWidth){moveToCol=prevCol;if(moveToCol!==column){startXMove=e.touches[0].pageX;moveToCol.getElement().parentNode.insertBefore(this.placeholderElement,moveToCol.getElement());this.moveColumn(moveToCol,false);}}}if(moveToCol){nextCol=moveToCol.nextColumn();nextColWidthLast=nextColWidth;nextColWidth=nextCol?nextCol.getWidth()/2:0;prevCol=moveToCol.prevColumn();prevColWidthLast=prevColWidth;prevColWidth=prevCol?prevCol.getWidth()/2:0;}}},{passive:true});colEl.addEventListener(\"touchend\",e=>{if(this.checkTimeout){clearTimeout(this.checkTimeout);}if(this.moving){this.endMove(e);}});}startMove(e,column){var element=column.getElement(),headerElement=this.table.columnManager.getContentsElement(),headersElement=this.table.columnManager.getHeadersElement();//Prevent moving columns when range selection is active\nif(this.table.modules.selectRange&&this.table.modules.selectRange.columnSelection){if(this.table.modules.selectRange.mousedown&&this.table.modules.selectRange.selecting===\"column\"){return;}}this.moving=column;this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-Helpers.elOffset(element).left;this.table.element.classList.add(\"tabulator-block-select\");//create placeholder\nthis.placeholderElement.style.width=column.getWidth()+\"px\";this.placeholderElement.style.height=column.getHeight()+\"px\";element.parentNode.insertBefore(this.placeholderElement,element);element.parentNode.removeChild(element);//create hover element\nthis.hoverElement=element.cloneNode(true);this.hoverElement.classList.add(\"tabulator-moving\");headerElement.appendChild(this.hoverElement);this.hoverElement.style.left=\"0\";this.hoverElement.style.bottom=headerElement.clientHeight-headersElement.offsetHeight+\"px\";if(!this.touchMove){this._bindMouseMove();document.body.addEventListener(\"mousemove\",this.moveHover);document.body.addEventListener(\"mouseup\",this.endMove);}this.moveHover(e);this.dispatch(\"column-moving\",e,this.moving);}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(column){if(column.modules.moveColumn.mousemove){column.getElement().addEventListener(\"mousemove\",column.modules.moveColumn.mousemove);}});}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(column){if(column.modules.moveColumn.mousemove){column.getElement().removeEventListener(\"mousemove\",column.modules.moveColumn.mousemove);}});}moveColumn(column,after){var movingCells=this.moving.getCells();this.toCol=column;this.toColAfter=after;if(after){column.getCells().forEach(function(cell,i){var cellEl=cell.getElement(true);if(cellEl.parentNode&&movingCells[i]){cellEl.parentNode.insertBefore(movingCells[i].getElement(),cellEl.nextSibling);}});}else{column.getCells().forEach(function(cell,i){var cellEl=cell.getElement(true);if(cellEl.parentNode&&movingCells[i]){cellEl.parentNode.insertBefore(movingCells[i].getElement(),cellEl);}});}}endMove(e){if(e.which===1||this.touchMove){this._unbindMouseMove();this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling);this.placeholderElement.parentNode.removeChild(this.placeholderElement);this.hoverElement.parentNode.removeChild(this.hoverElement);this.table.element.classList.remove(\"tabulator-block-select\");if(this.toCol){this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter);}this.moving=false;this.toCol=false;this.toColAfter=false;if(!this.touchMove){document.body.removeEventListener(\"mousemove\",this.moveHover);document.body.removeEventListener(\"mouseup\",this.endMove);}}}moveHover(e){var columnHolder=this.table.columnManager.getContentsElement(),scrollLeft=columnHolder.scrollLeft,xPos=(this.touchMove?e.touches[0].pageX:e.pageX)-Helpers.elOffset(columnHolder).left+scrollLeft,scrollPos;this.hoverElement.style.left=xPos-this.startX+\"px\";if(xPos-scrollLeft<this.autoScrollMargin){if(!this.autoScrollTimeout){this.autoScrollTimeout=setTimeout(()=>{scrollPos=Math.max(0,scrollLeft-5);this.table.rowManager.getElement().scrollLeft=scrollPos;this.autoScrollTimeout=false;},1);}}if(scrollLeft+columnHolder.clientWidth-xPos<this.autoScrollMargin){if(!this.autoScrollTimeout){this.autoScrollTimeout=setTimeout(()=>{scrollPos=Math.min(columnHolder.clientWidth,scrollLeft+5);this.table.rowManager.getElement().scrollLeft=scrollPos;this.autoScrollTimeout=false;},1);}}}}_defineProperty(MoveColumns,\"moduleName\",\"moveColumn\");var defaultSenders={delete:function(fromRow,toRow,toTable){fromRow.delete();}};var defaultReceivers={insert:function(fromRow,toRow,fromTable){this.table.addRow(fromRow.getData(),undefined,toRow);return true;},add:function(fromRow,toRow,fromTable){this.table.addRow(fromRow.getData());return true;},update:function(fromRow,toRow,fromTable){if(toRow){toRow.update(fromRow.getData());return true;}return false;},replace:function(fromRow,toRow,fromTable){if(toRow){this.table.addRow(fromRow.getData(),undefined,toRow);toRow.delete();return true;}return false;}};class MoveRows extends Module{constructor(table){super(table);this.placeholderElement=this.createPlaceholderElement();this.hoverElement=false;//floating row header element\nthis.checkTimeout=false;//click check timeout holder\nthis.checkPeriod=150;//period to wait on mousedown to consider this a move and not a click\nthis.moving=false;//currently moving row\nthis.toRow=false;//destination row\nthis.toRowAfter=false;//position of moving row relative to the destination row\nthis.hasHandle=false;//row has handle instead of fully movable row\nthis.startY=0;//starting Y position within header element\nthis.startX=0;//starting X position within header element\nthis.moveHover=this.moveHover.bind(this);this.endMove=this.endMove.bind(this);this.tableRowDropEvent=false;this.touchMove=false;this.connection=false;this.connectionSelectorsTables=false;this.connectionSelectorsElements=false;this.connectionElements=[];this.connections=[];this.connectedTable=false;this.connectedRow=false;this.registerTableOption(\"movableRows\",false);//enable movable rows\nthis.registerTableOption(\"movableRowsConnectedTables\",false);//tables for movable rows to be connected to\nthis.registerTableOption(\"movableRowsConnectedElements\",false);//other elements for movable rows to be connected to\nthis.registerTableOption(\"movableRowsSender\",false);this.registerTableOption(\"movableRowsReceiver\",\"insert\");this.registerColumnOption(\"rowHandle\");}createPlaceholderElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-row\");el.classList.add(\"tabulator-row-placeholder\");return el;}initialize(){if(this.table.options.movableRows){this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables;this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements;this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements;this.subscribe(\"cell-init\",this.initializeCell.bind(this));this.subscribe(\"column-init\",this.initializeColumn.bind(this));this.subscribe(\"row-init\",this.initializeRow.bind(this));}}initializeGroupHeader(group){var self=this,config={};//inter table drag drop\nconfig.mouseup=function(e){self.tableRowDrop(e,group);}.bind(self);//same table drag drop\nconfig.mousemove=function(e){var rowEl;if(e.pageY-Helpers.elOffset(group.element).top+self.table.rowManager.element.scrollTop>group.getHeight()/2){if(self.toRow!==group||!self.toRowAfter){rowEl=group.getElement();rowEl.parentNode.insertBefore(self.placeholderElement,rowEl.nextSibling);self.moveRow(group,true);}}else{if(self.toRow!==group||self.toRowAfter){rowEl=group.getElement();if(rowEl.previousSibling){rowEl.parentNode.insertBefore(self.placeholderElement,rowEl);self.moveRow(group,false);}}}}.bind(self);group.modules.moveRow=config;}initializeRow(row){var self=this,config={},rowEl;//inter table drag drop\nconfig.mouseup=function(e){self.tableRowDrop(e,row);}.bind(self);//same table drag drop\nconfig.mousemove=function(e){var rowEl=row.getElement();if(e.pageY-Helpers.elOffset(rowEl).top+self.table.rowManager.element.scrollTop>row.getHeight()/2){if(self.toRow!==row||!self.toRowAfter){rowEl.parentNode.insertBefore(self.placeholderElement,rowEl.nextSibling);self.moveRow(row,true);}}else{if(self.toRow!==row||self.toRowAfter){rowEl.parentNode.insertBefore(self.placeholderElement,rowEl);self.moveRow(row,false);}}}.bind(self);if(!this.hasHandle){rowEl=row.getElement();rowEl.addEventListener(\"mousedown\",function(e){if(e.which===1){self.checkTimeout=setTimeout(function(){self.startMove(e,row);},self.checkPeriod);}});rowEl.addEventListener(\"mouseup\",function(e){if(e.which===1){if(self.checkTimeout){clearTimeout(self.checkTimeout);}}});this.bindTouchEvents(row,row.getElement());}row.modules.moveRow=config;}initializeColumn(column){if(column.definition.rowHandle&&this.table.options.movableRows!==false){this.hasHandle=true;}}initializeCell(cell){if(cell.column.definition.rowHandle&&this.table.options.movableRows!==false){var self=this,cellEl=cell.getElement(true);cellEl.addEventListener(\"mousedown\",function(e){if(e.which===1){self.checkTimeout=setTimeout(function(){self.startMove(e,cell.row);},self.checkPeriod);}});cellEl.addEventListener(\"mouseup\",function(e){if(e.which===1){if(self.checkTimeout){clearTimeout(self.checkTimeout);}}});this.bindTouchEvents(cell.row,cellEl);}}bindTouchEvents(row,element){var startYMove=false,//shifting center position of the cell\nnextRow,prevRow,nextRowHeight,prevRowHeight,nextRowHeightLast,prevRowHeightLast;element.addEventListener(\"touchstart\",e=>{this.checkTimeout=setTimeout(()=>{this.touchMove=true;nextRow=row.nextRow();nextRowHeight=nextRow?nextRow.getHeight()/2:0;prevRow=row.prevRow();prevRowHeight=prevRow?prevRow.getHeight()/2:0;nextRowHeightLast=0;prevRowHeightLast=0;startYMove=false;this.startMove(e,row);},this.checkPeriod);},{passive:true});this.moving,this.toRow,this.toRowAfter;element.addEventListener(\"touchmove\",e=>{var diff,moveToRow;if(this.moving){e.preventDefault();this.moveHover(e);if(!startYMove){startYMove=e.touches[0].pageY;}diff=e.touches[0].pageY-startYMove;if(diff>0){if(nextRow&&diff-nextRowHeightLast>nextRowHeight){moveToRow=nextRow;if(moveToRow!==row){startYMove=e.touches[0].pageY;moveToRow.getElement().parentNode.insertBefore(this.placeholderElement,moveToRow.getElement().nextSibling);this.moveRow(moveToRow,true);}}}else{if(prevRow&&-diff-prevRowHeightLast>prevRowHeight){moveToRow=prevRow;if(moveToRow!==row){startYMove=e.touches[0].pageY;moveToRow.getElement().parentNode.insertBefore(this.placeholderElement,moveToRow.getElement());this.moveRow(moveToRow,false);}}}if(moveToRow){nextRow=moveToRow.nextRow();nextRowHeightLast=nextRowHeight;nextRowHeight=nextRow?nextRow.getHeight()/2:0;prevRow=moveToRow.prevRow();prevRowHeightLast=prevRowHeight;prevRowHeight=prevRow?prevRow.getHeight()/2:0;}}});element.addEventListener(\"touchend\",e=>{if(this.checkTimeout){clearTimeout(this.checkTimeout);}if(this.moving){this.endMove(e);this.touchMove=false;}});}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(row=>{if((row.type===\"row\"||row.type===\"group\")&&row.modules.moveRow&&row.modules.moveRow.mousemove){row.getElement().addEventListener(\"mousemove\",row.modules.moveRow.mousemove);}});}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(row=>{if((row.type===\"row\"||row.type===\"group\")&&row.modules.moveRow&&row.modules.moveRow.mousemove){row.getElement().removeEventListener(\"mousemove\",row.modules.moveRow.mousemove);}});}startMove(e,row){var element=row.getElement();this.setStartPosition(e,row);this.moving=row;this.table.element.classList.add(\"tabulator-block-select\");//create placeholder\nthis.placeholderElement.style.width=row.getWidth()+\"px\";this.placeholderElement.style.height=row.getHeight()+\"px\";if(!this.connection){element.parentNode.insertBefore(this.placeholderElement,element);element.parentNode.removeChild(element);}else{this.table.element.classList.add(\"tabulator-movingrow-sending\");this.connectToTables(row);}//create hover element\nthis.hoverElement=element.cloneNode(true);this.hoverElement.classList.add(\"tabulator-moving\");if(this.connection){document.body.appendChild(this.hoverElement);this.hoverElement.style.left=\"0\";this.hoverElement.style.top=\"0\";this.hoverElement.style.width=this.table.element.clientWidth+\"px\";this.hoverElement.style.whiteSpace=\"nowrap\";this.hoverElement.style.overflow=\"hidden\";this.hoverElement.style.pointerEvents=\"none\";}else{this.table.rowManager.getTableElement().appendChild(this.hoverElement);this.hoverElement.style.left=\"0\";this.hoverElement.style.top=\"0\";this._bindMouseMove();}document.body.addEventListener(\"mousemove\",this.moveHover);document.body.addEventListener(\"mouseup\",this.endMove);this.dispatchExternal(\"rowMoving\",row.getComponent());this.moveHover(e);}setStartPosition(e,row){var pageX=this.touchMove?e.touches[0].pageX:e.pageX,pageY=this.touchMove?e.touches[0].pageY:e.pageY,element,position;element=row.getElement();if(this.connection){position=element.getBoundingClientRect();this.startX=position.left-pageX+window.pageXOffset;this.startY=position.top-pageY+window.pageYOffset;}else{this.startY=pageY-element.getBoundingClientRect().top;}}endMove(e){if(!e||e.which===1||this.touchMove){this._unbindMouseMove();if(!this.connection){this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling);this.placeholderElement.parentNode.removeChild(this.placeholderElement);}this.hoverElement.parentNode.removeChild(this.hoverElement);this.table.element.classList.remove(\"tabulator-block-select\");if(this.toRow){this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter);}else{this.dispatchExternal(\"rowMoveCancelled\",this.moving.getComponent());}this.moving=false;this.toRow=false;this.toRowAfter=false;document.body.removeEventListener(\"mousemove\",this.moveHover);document.body.removeEventListener(\"mouseup\",this.endMove);if(this.connection){this.table.element.classList.remove(\"tabulator-movingrow-sending\");this.disconnectFromTables();}}}moveRow(row,after){this.toRow=row;this.toRowAfter=after;}moveHover(e){if(this.connection){this.moveHoverConnections.call(this,e);}else{this.moveHoverTable.call(this,e);}}moveHoverTable(e){var rowHolder=this.table.rowManager.getElement(),scrollTop=rowHolder.scrollTop,yPos=(this.touchMove?e.touches[0].pageY:e.pageY)-rowHolder.getBoundingClientRect().top+scrollTop;this.hoverElement.style.top=Math.min(yPos-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+\"px\";}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+\"px\";this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+\"px\";}elementRowDrop(e,element,row){this.dispatchExternal(\"movableRowsElementDrop\",e,element,row?row.getComponent():false);}//establish connection with other tables\nconnectToTables(row){var connectionTables;if(this.connectionSelectorsTables){connectionTables=this.commsConnections(this.connectionSelectorsTables);this.dispatchExternal(\"movableRowsSendingStart\",connectionTables);this.commsSend(this.connectionSelectorsTables,\"moveRow\",\"connect\",{row:row});}if(this.connectionSelectorsElements){this.connectionElements=[];if(!Array.isArray(this.connectionSelectorsElements)){this.connectionSelectorsElements=[this.connectionSelectorsElements];}this.connectionSelectorsElements.forEach(query=>{if(typeof query===\"string\"){this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));}else{this.connectionElements.push(query);}});this.connectionElements.forEach(element=>{var dropEvent=e=>{this.elementRowDrop(e,element,this.moving);};element.addEventListener(\"mouseup\",dropEvent);element.tabulatorElementDropEvent=dropEvent;element.classList.add(\"tabulator-movingrow-receiving\");});}}//disconnect from other tables\ndisconnectFromTables(){var connectionTables;if(this.connectionSelectorsTables){connectionTables=this.commsConnections(this.connectionSelectorsTables);this.dispatchExternal(\"movableRowsSendingStop\",connectionTables);this.commsSend(this.connectionSelectorsTables,\"moveRow\",\"disconnect\");}this.connectionElements.forEach(element=>{element.classList.remove(\"tabulator-movingrow-receiving\");element.removeEventListener(\"mouseup\",element.tabulatorElementDropEvent);delete element.tabulatorElementDropEvent;});}//accept incomming connection\nconnect(table,row){if(!this.connectedTable){this.connectedTable=table;this.connectedRow=row;this.table.element.classList.add(\"tabulator-movingrow-receiving\");this.table.rowManager.getDisplayRows().forEach(row=>{if(row.type===\"row\"&&row.modules.moveRow&&row.modules.moveRow.mouseup){row.getElement().addEventListener(\"mouseup\",row.modules.moveRow.mouseup);}});this.tableRowDropEvent=this.tableRowDrop.bind(this);this.table.element.addEventListener(\"mouseup\",this.tableRowDropEvent);this.dispatchExternal(\"movableRowsReceivingStart\",row,table);return true;}else{console.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\",this.connectedTable);return false;}}//close incoming connection\ndisconnect(table){if(table===this.connectedTable){this.connectedTable=false;this.connectedRow=false;this.table.element.classList.remove(\"tabulator-movingrow-receiving\");this.table.rowManager.getDisplayRows().forEach(row=>{if(row.type===\"row\"&&row.modules.moveRow&&row.modules.moveRow.mouseup){row.getElement().removeEventListener(\"mouseup\",row.modules.moveRow.mouseup);}});this.table.element.removeEventListener(\"mouseup\",this.tableRowDropEvent);this.dispatchExternal(\"movableRowsReceivingStop\",table);}else{console.warn(\"Move Row Error - trying to disconnect from non connected table\");}}dropComplete(table,row,success){var sender=false;if(success){switch(typeof this.table.options.movableRowsSender){case\"string\":sender=MoveRows.senders[this.table.options.movableRowsSender];break;case\"function\":sender=this.table.options.movableRowsSender;break;}if(sender){sender.call(this,this.moving?this.moving.getComponent():undefined,row?row.getComponent():undefined,table);}else{if(this.table.options.movableRowsSender){console.warn(\"Mover Row Error - no matching sender found:\",this.table.options.movableRowsSender);}}this.dispatchExternal(\"movableRowsSent\",this.moving.getComponent(),row?row.getComponent():undefined,table);}else{this.dispatchExternal(\"movableRowsSentFailed\",this.moving.getComponent(),row?row.getComponent():undefined,table);}this.endMove();}tableRowDrop(e,row){var receiver=false,success=false;e.stopImmediatePropagation();switch(typeof this.table.options.movableRowsReceiver){case\"string\":receiver=MoveRows.receivers[this.table.options.movableRowsReceiver];break;case\"function\":receiver=this.table.options.movableRowsReceiver;break;}if(receiver){success=receiver.call(this,this.connectedRow.getComponent(),row?row.getComponent():undefined,this.connectedTable);}else{console.warn(\"Mover Row Error - no matching receiver found:\",this.table.options.movableRowsReceiver);}if(success){this.dispatchExternal(\"movableRowsReceived\",this.connectedRow.getComponent(),row?row.getComponent():undefined,this.connectedTable);}else{this.dispatchExternal(\"movableRowsReceivedFailed\",this.connectedRow.getComponent(),row?row.getComponent():undefined,this.connectedTable);}this.commsSend(this.connectedTable,\"moveRow\",\"dropcomplete\",{row:row,success:success});}commsReceived(table,action,data){switch(action){case\"connect\":return this.connect(table,data.row);case\"disconnect\":return this.disconnect(table);case\"dropcomplete\":return this.dropComplete(table,data.row,data.success);}}}_defineProperty(MoveRows,\"moduleName\",\"moveRow\");//load defaults\n_defineProperty(MoveRows,\"senders\",defaultSenders);_defineProperty(MoveRows,\"receivers\",defaultReceivers);var defaultMutators={};class Mutator extends Module{constructor(table){super(table);this.allowedTypes=[\"\",\"data\",\"edit\",\"clipboard\",\"import\"];//list of mutation types\nthis.enabled=true;this.registerColumnOption(\"mutator\");this.registerColumnOption(\"mutatorParams\");this.registerColumnOption(\"mutatorData\");this.registerColumnOption(\"mutatorDataParams\");this.registerColumnOption(\"mutatorEdit\");this.registerColumnOption(\"mutatorEditParams\");this.registerColumnOption(\"mutatorClipboard\");this.registerColumnOption(\"mutatorClipboardParams\");this.registerColumnOption(\"mutatorImport\");this.registerColumnOption(\"mutatorImportParams\");this.registerColumnOption(\"mutateLink\");}initialize(){this.subscribe(\"cell-value-changing\",this.transformCell.bind(this));this.subscribe(\"cell-value-changed\",this.mutateLink.bind(this));this.subscribe(\"column-layout\",this.initializeColumn.bind(this));this.subscribe(\"row-data-init-before\",this.rowDataChanged.bind(this));this.subscribe(\"row-data-changing\",this.rowDataChanged.bind(this));}rowDataChanged(row,tempData,updatedData){return this.transformRow(tempData,\"data\",updatedData);}//initialize column mutator\ninitializeColumn(column){var match=false,config={};this.allowedTypes.forEach(type=>{var key=\"mutator\"+(type.charAt(0).toUpperCase()+type.slice(1)),mutator;if(column.definition[key]){mutator=this.lookupMutator(column.definition[key]);if(mutator){match=true;config[key]={mutator:mutator,params:column.definition[key+\"Params\"]||{}};}}});if(match){column.modules.mutate=config;}}lookupMutator(value){var mutator=false;//set column mutator\nswitch(typeof value){case\"string\":if(Mutator.mutators[value]){mutator=Mutator.mutators[value];}else{console.warn(\"Mutator Error - No such mutator found, ignoring: \",value);}break;case\"function\":mutator=value;break;}return mutator;}//apply mutator to row\ntransformRow(data,type,updatedData){var key=\"mutator\"+(type.charAt(0).toUpperCase()+type.slice(1)),value;// console.log(\"key\", key)\nif(this.enabled){this.table.columnManager.traverse(column=>{var mutator,params,component;if(column.modules.mutate){mutator=column.modules.mutate[key]||column.modules.mutate.mutator||false;if(mutator){value=column.getFieldValue(typeof updatedData!==\"undefined\"?updatedData:data);if(type==\"data\"&&!updatedData||typeof value!==\"undefined\"){component=column.getComponent();params=typeof mutator.params===\"function\"?mutator.params(value,data,type,component):mutator.params;column.setFieldValue(data,mutator.mutator(value,data,type,params,component));}}}});}return data;}//apply mutator to new cell value\ntransformCell(cell,value){if(cell.column.modules.mutate){var mutator=cell.column.modules.mutate.mutatorEdit||cell.column.modules.mutate.mutator||false,tempData={};if(mutator){tempData=Object.assign(tempData,cell.row.getData());cell.column.setFieldValue(tempData,value);return mutator.mutator(value,tempData,\"edit\",mutator.params,cell.getComponent());}}return value;}mutateLink(cell){var links=cell.column.definition.mutateLink;if(links){if(!Array.isArray(links)){links=[links];}links.forEach(link=>{var linkCell=cell.row.getCell(link);if(linkCell){linkCell.setValue(linkCell.getValue(),true,true);}});}}enable(){this.enabled=true;}disable(){this.enabled=false;}}_defineProperty(Mutator,\"moduleName\",\"mutator\");//load defaults\n_defineProperty(Mutator,\"mutators\",defaultMutators);function rows(pageSize,currentRow,currentPage,totalRows,totalPages){var el=document.createElement(\"span\"),showingEl=document.createElement(\"span\"),valueEl=document.createElement(\"span\"),ofEl=document.createElement(\"span\"),totalEl=document.createElement(\"span\"),rowsEl=document.createElement(\"span\");this.table.modules.localize.langBind(\"pagination|counter|showing\",value=>{showingEl.innerHTML=value;});this.table.modules.localize.langBind(\"pagination|counter|of\",value=>{ofEl.innerHTML=value;});this.table.modules.localize.langBind(\"pagination|counter|rows\",value=>{rowsEl.innerHTML=value;});if(totalRows){valueEl.innerHTML=\" \"+currentRow+\"-\"+Math.min(currentRow+pageSize-1,totalRows)+\" \";totalEl.innerHTML=\" \"+totalRows+\" \";el.appendChild(showingEl);el.appendChild(valueEl);el.appendChild(ofEl);el.appendChild(totalEl);el.appendChild(rowsEl);}else{valueEl.innerHTML=\" 0 \";el.appendChild(showingEl);el.appendChild(valueEl);el.appendChild(rowsEl);}return el;}function pages(pageSize,currentRow,currentPage,totalRows,totalPages){var el=document.createElement(\"span\"),showingEl=document.createElement(\"span\"),valueEl=document.createElement(\"span\"),ofEl=document.createElement(\"span\"),totalEl=document.createElement(\"span\"),rowsEl=document.createElement(\"span\");this.table.modules.localize.langBind(\"pagination|counter|showing\",value=>{showingEl.innerHTML=value;});valueEl.innerHTML=\" \"+currentPage+\" \";this.table.modules.localize.langBind(\"pagination|counter|of\",value=>{ofEl.innerHTML=value;});totalEl.innerHTML=\" \"+totalPages+\" \";this.table.modules.localize.langBind(\"pagination|counter|pages\",value=>{rowsEl.innerHTML=value;});el.appendChild(showingEl);el.appendChild(valueEl);el.appendChild(ofEl);el.appendChild(totalEl);el.appendChild(rowsEl);return el;}var defaultPageCounters={rows:rows,pages:pages};class Page extends Module{constructor(table){super(table);this.mode=\"local\";this.progressiveLoad=false;this.element=null;this.pageCounterElement=null;this.pageCounter=null;this.size=0;this.page=1;this.count=5;this.max=1;this.remoteRowCountEstimate=null;this.initialLoad=true;this.dataChanging=false;//flag to check if data is being changed by this module\nthis.pageSizes=[];this.registerTableOption(\"pagination\",false);//set pagination type\nthis.registerTableOption(\"paginationMode\",\"local\");//local or remote pagination\nthis.registerTableOption(\"paginationSize\",false);//set number of rows to a page\nthis.registerTableOption(\"paginationInitialPage\",1);//initial page to show on load\nthis.registerTableOption(\"paginationCounter\",false);// set pagination counter\nthis.registerTableOption(\"paginationCounterElement\",false);// set pagination counter\nthis.registerTableOption(\"paginationButtonCount\",5);// set count of page button\nthis.registerTableOption(\"paginationSizeSelector\",false);//add pagination size selector element\nthis.registerTableOption(\"paginationElement\",false);//element to hold pagination numbers\n// this.registerTableOption(\"paginationDataSent\", {}); //pagination data sent to the server\n// this.registerTableOption(\"paginationDataReceived\", {}); //pagination data received from the server\nthis.registerTableOption(\"paginationAddRow\",\"page\");//add rows on table or page\nthis.registerTableOption(\"paginationOutOfRange\",false);//reset the current page when the last page < this.page, values: false|function|any value accepted by setPage()\nthis.registerTableOption(\"progressiveLoad\",false);//progressive loading\nthis.registerTableOption(\"progressiveLoadDelay\",0);//delay between requests\nthis.registerTableOption(\"progressiveLoadScrollMargin\",0);//margin before scroll begins\nthis.registerTableFunction(\"setMaxPage\",this.setMaxPage.bind(this));this.registerTableFunction(\"setPage\",this.setPage.bind(this));this.registerTableFunction(\"setPageToRow\",this.userSetPageToRow.bind(this));this.registerTableFunction(\"setPageSize\",this.userSetPageSize.bind(this));this.registerTableFunction(\"getPageSize\",this.getPageSize.bind(this));this.registerTableFunction(\"previousPage\",this.previousPage.bind(this));this.registerTableFunction(\"nextPage\",this.nextPage.bind(this));this.registerTableFunction(\"getPage\",this.getPage.bind(this));this.registerTableFunction(\"getPageMax\",this.getPageMax.bind(this));//register component functions\nthis.registerComponentFunction(\"row\",\"pageTo\",this.setPageToRow.bind(this));}initialize(){if(this.table.options.pagination){this.subscribe(\"row-deleted\",this.rowsUpdated.bind(this));this.subscribe(\"row-added\",this.rowsUpdated.bind(this));this.subscribe(\"data-processed\",this.initialLoadComplete.bind(this));this.subscribe(\"table-built\",this.calculatePageSizes.bind(this));this.subscribe(\"footer-redraw\",this.footerRedraw.bind(this));if(this.table.options.paginationAddRow==\"page\"){this.subscribe(\"row-adding-position\",this.rowAddingPosition.bind(this));}if(this.table.options.paginationMode===\"remote\"){this.subscribe(\"data-params\",this.remotePageParams.bind(this));this.subscribe(\"data-loaded\",this._parseRemoteData.bind(this));}if(this.table.options.progressiveLoad){console.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");}this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40);this.registerDisplayHandler(this.getRows.bind(this),50);this.createElements();this.initializePageCounter();this.initializePaginator();}else if(this.table.options.progressiveLoad){this.subscribe(\"data-params\",this.remotePageParams.bind(this));this.subscribe(\"data-loaded\",this._parseRemoteData.bind(this));this.subscribe(\"table-built\",this.calculatePageSizes.bind(this));this.subscribe(\"data-processed\",this.initialLoadComplete.bind(this));this.initializeProgressive(this.table.options.progressiveLoad);if(this.table.options.progressiveLoad===\"scroll\"){this.subscribe(\"scroll-vertical\",this.scrollVertical.bind(this));}}}rowAddingPosition(row,top){var rowManager=this.table.rowManager,displayRows=rowManager.getDisplayRows(),index;if(top){if(displayRows.length){index=displayRows[0];}else{if(rowManager.activeRows.length){index=rowManager.activeRows[rowManager.activeRows.length-1];top=false;}}}else{if(displayRows.length){index=displayRows[displayRows.length-1];top=displayRows.length<this.size?false:true;}}return{index,top};}calculatePageSizes(){var testElRow,testElCell;if(this.table.options.paginationSize){this.size=this.table.options.paginationSize;}else{testElRow=document.createElement(\"div\");testElRow.classList.add(\"tabulator-row\");testElRow.style.visibility=\"hidden\";testElCell=document.createElement(\"div\");testElCell.classList.add(\"tabulator-cell\");testElCell.innerHTML=\"Page Row Test\";testElRow.appendChild(testElCell);this.table.rowManager.getTableElement().appendChild(testElRow);this.size=Math.floor(this.table.rowManager.getElement().clientHeight/testElRow.offsetHeight);this.table.rowManager.getTableElement().removeChild(testElRow);}this.dispatchExternal(\"pageSizeChanged\",this.size);this.generatePageSizeSelectList();}initialLoadComplete(){this.initialLoad=false;}remotePageParams(data,config,silent,params){if(!this.initialLoad){if(this.progressiveLoad&&!silent||!this.progressiveLoad&&!this.dataChanging){this.reset(true);}}//configure request params\nparams.page=this.page;//set page size if defined\nif(this.size){params.size=this.size;}return params;}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\nuserSetPageToRow(row){if(this.table.options.pagination){row=this.table.rowManager.findRow(row);if(row){return this.setPageToRow(row);}}return Promise.reject();}userSetPageSize(size){if(this.table.options.pagination){this.setPageSize(size);return this.setPage(1);}else{return false;}}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\nscrollVertical(top,dir){var element,diff,margin;if(!dir&&!this.table.dataLoader.loading){element=this.table.rowManager.getElement();diff=element.scrollHeight-element.clientHeight-top;margin=this.table.options.progressiveLoadScrollMargin||element.clientHeight*2;if(diff<margin){this.nextPage().catch(()=>{});//consume the exception thrown when on the last page\n}}}restOnRenderBefore(rows,renderInPosition){if(!renderInPosition){if(this.mode===\"local\"){this.reset();}}return rows;}rowsUpdated(){this.refreshData(true,\"all\");}createElements(){var button;this.element=document.createElement(\"span\");this.element.classList.add(\"tabulator-paginator\");this.pagesElement=document.createElement(\"span\");this.pagesElement.classList.add(\"tabulator-pages\");button=document.createElement(\"button\");button.classList.add(\"tabulator-page\");button.setAttribute(\"type\",\"button\");button.setAttribute(\"role\",\"button\");button.setAttribute(\"aria-label\",\"\");button.setAttribute(\"title\",\"\");this.firstBut=button.cloneNode(true);this.firstBut.setAttribute(\"data-page\",\"first\");this.prevBut=button.cloneNode(true);this.prevBut.setAttribute(\"data-page\",\"prev\");this.nextBut=button.cloneNode(true);this.nextBut.setAttribute(\"data-page\",\"next\");this.lastBut=button.cloneNode(true);this.lastBut.setAttribute(\"data-page\",\"last\");if(this.table.options.paginationSizeSelector){this.pageSizeSelect=document.createElement(\"select\");this.pageSizeSelect.classList.add(\"tabulator-page-size\");}}generatePageSizeSelectList(){var pageSizes=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector)){pageSizes=this.table.options.paginationSizeSelector;this.pageSizes=pageSizes;if(this.pageSizes.indexOf(this.size)==-1){pageSizes.unshift(this.size);}}else{if(this.pageSizes.indexOf(this.size)==-1){pageSizes=[];for(let i=1;i<5;i++){pageSizes.push(this.size*i);}this.pageSizes=pageSizes;}else{pageSizes=this.pageSizes;}}while(this.pageSizeSelect.firstChild)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);pageSizes.forEach(item=>{var itemEl=document.createElement(\"option\");itemEl.value=item;if(item===true){this.langBind(\"pagination|all\",function(value){itemEl.innerHTML=value;});}else{itemEl.innerHTML=item;}this.pageSizeSelect.appendChild(itemEl);});this.pageSizeSelect.value=this.size;}}initializePageCounter(){var counter=this.table.options.paginationCounter,pageCounter=null;if(counter){if(typeof counter===\"function\"){pageCounter=counter;}else{pageCounter=Page.pageCounters[counter];}if(pageCounter){this.pageCounter=pageCounter;this.pageCounterElement=document.createElement(\"span\");this.pageCounterElement.classList.add(\"tabulator-page-counter\");}else{console.warn(\"Pagination Error - No such page counter found: \",counter);}}}//setup pagination\ninitializePaginator(hidden){var pageSelectLabel,paginationCounterHolder;if(!hidden){//build pagination element\n//bind localizations\nthis.langBind(\"pagination|first\",value=>{this.firstBut.innerHTML=value;});this.langBind(\"pagination|first_title\",value=>{this.firstBut.setAttribute(\"aria-label\",value);this.firstBut.setAttribute(\"title\",value);});this.langBind(\"pagination|prev\",value=>{this.prevBut.innerHTML=value;});this.langBind(\"pagination|prev_title\",value=>{this.prevBut.setAttribute(\"aria-label\",value);this.prevBut.setAttribute(\"title\",value);});this.langBind(\"pagination|next\",value=>{this.nextBut.innerHTML=value;});this.langBind(\"pagination|next_title\",value=>{this.nextBut.setAttribute(\"aria-label\",value);this.nextBut.setAttribute(\"title\",value);});this.langBind(\"pagination|last\",value=>{this.lastBut.innerHTML=value;});this.langBind(\"pagination|last_title\",value=>{this.lastBut.setAttribute(\"aria-label\",value);this.lastBut.setAttribute(\"title\",value);});//click bindings\nthis.firstBut.addEventListener(\"click\",()=>{this.setPage(1);});this.prevBut.addEventListener(\"click\",()=>{this.previousPage();});this.nextBut.addEventListener(\"click\",()=>{this.nextPage();});this.lastBut.addEventListener(\"click\",()=>{this.setPage(this.max);});if(this.table.options.paginationElement){this.element=this.table.options.paginationElement;}if(this.pageSizeSelect){pageSelectLabel=document.createElement(\"label\");this.langBind(\"pagination|page_size\",value=>{this.pageSizeSelect.setAttribute(\"aria-label\",value);this.pageSizeSelect.setAttribute(\"title\",value);pageSelectLabel.innerHTML=value;});this.element.appendChild(pageSelectLabel);this.element.appendChild(this.pageSizeSelect);this.pageSizeSelect.addEventListener(\"change\",e=>{this.setPageSize(this.pageSizeSelect.value==\"true\"?true:this.pageSizeSelect.value);this.setPage(1);});}//append to DOM\nthis.element.appendChild(this.firstBut);this.element.appendChild(this.prevBut);this.element.appendChild(this.pagesElement);this.element.appendChild(this.nextBut);this.element.appendChild(this.lastBut);if(!this.table.options.paginationElement){if(this.table.options.paginationCounter){if(this.table.options.paginationCounterElement){if(this.table.options.paginationCounterElement instanceof HTMLElement){this.table.options.paginationCounterElement.appendChild(this.pageCounterElement);}else if(typeof this.table.options.paginationCounterElement===\"string\"){paginationCounterHolder=document.querySelector(this.table.options.paginationCounterElement);if(paginationCounterHolder){paginationCounterHolder.appendChild(this.pageCounterElement);}else{console.warn(\"Pagination Error - Unable to find element matching paginationCounterElement selector:\",this.table.options.paginationCounterElement);}}}else{this.footerAppend(this.pageCounterElement);}}this.footerAppend(this.element);}this.page=this.table.options.paginationInitialPage;this.count=this.table.options.paginationButtonCount;}//set default values\nthis.mode=this.table.options.paginationMode;}initializeProgressive(mode){this.initializePaginator(true);this.mode=\"progressive_\"+mode;this.progressiveLoad=true;}trackChanges(){this.dispatch(\"page-changed\");}//calculate maximum page from number of rows\nsetMaxRows(rowCount){if(!rowCount){this.max=1;}else{this.max=this.size===true?1:Math.ceil(rowCount/this.size);}if(this.page>this.max){this.page=this.max;}}//reset to first page without triggering action\nreset(force){if(!this.initialLoad){if(this.mode==\"local\"||force){this.page=1;this.trackChanges();}}}//set the maximum page\nsetMaxPage(max){max=parseInt(max);this.max=max||1;if(this.page>this.max){this.page=this.max;this.trigger();}}//set current page number\nsetPage(page){switch(page){case\"first\":return this.setPage(1);case\"prev\":return this.previousPage();case\"next\":return this.nextPage();case\"last\":return this.setPage(this.max);}page=parseInt(page);if(page>0&&page<=this.max||this.mode!==\"local\"){this.page=page;this.trackChanges();return this.trigger();}else{console.warn(\"Pagination Error - Requested page is out of range of 1 - \"+this.max+\":\",page);return Promise.reject();}}setPageToRow(row){var rows=this.displayRows(-1);var index=rows.indexOf(row);if(index>-1){var page=this.size===true?1:Math.ceil((index+1)/this.size);return this.setPage(page);}else{console.warn(\"Pagination Error - Requested row is not visible\");return Promise.reject();}}setPageSize(size){if(size!==true){size=parseInt(size);}if(size>0){this.size=size;this.dispatchExternal(\"pageSizeChanged\",size);}if(this.pageSizeSelect){// this.pageSizeSelect.value = size;\nthis.generatePageSizeSelectList();}this.trackChanges();}_setPageCounter(totalRows,size,currentRow){var content;if(this.pageCounter){if(this.mode===\"remote\"){size=this.size;currentRow=(this.page-1)*this.size+1;totalRows=this.remoteRowCountEstimate;}content=this.pageCounter.call(this,size,currentRow,this.page,totalRows,this.max);switch(typeof content){case\"object\":if(content instanceof Node){//clear previous cell contents\nwhile(this.pageCounterElement.firstChild)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(content);}else{this.pageCounterElement.innerHTML=\"\";if(content!=null){console.warn(\"Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:\",content);}}break;case\"undefined\":this.pageCounterElement.innerHTML=\"\";break;default:this.pageCounterElement.innerHTML=content;}}}//setup the pagination buttons\n_setPageButtons(){let leftSize=Math.floor((this.count-1)/2);let rightSize=Math.ceil((this.count-1)/2);let min=this.max-this.page+leftSize+1<this.count?this.max-this.count+1:Math.max(this.page-leftSize,1);let max=this.page<=rightSize?Math.min(this.count,this.max):Math.min(this.page+rightSize,this.max);while(this.pagesElement.firstChild)this.pagesElement.removeChild(this.pagesElement.firstChild);if(this.page==1){this.firstBut.disabled=true;this.prevBut.disabled=true;}else{this.firstBut.disabled=false;this.prevBut.disabled=false;}if(this.page==this.max){this.lastBut.disabled=true;this.nextBut.disabled=true;}else{this.lastBut.disabled=false;this.nextBut.disabled=false;}for(let i=min;i<=max;i++){if(i>0&&i<=this.max){this.pagesElement.appendChild(this._generatePageButton(i));}}this.footerRedraw();}_generatePageButton(page){var button=document.createElement(\"button\");button.classList.add(\"tabulator-page\");if(page==this.page){button.classList.add(\"active\");}button.setAttribute(\"type\",\"button\");button.setAttribute(\"role\",\"button\");this.langBind(\"pagination|page_title\",value=>{button.setAttribute(\"aria-label\",value+\" \"+page);button.setAttribute(\"title\",value+\" \"+page);});button.setAttribute(\"data-page\",page);button.textContent=page;button.addEventListener(\"click\",e=>{this.setPage(page);});return button;}//previous page\npreviousPage(){if(this.page>1){this.page--;this.trackChanges();return this.trigger();}else{console.warn(\"Pagination Error - Previous page would be less than page 1:\",0);return Promise.reject();}}//next page\nnextPage(){if(this.page<this.max){this.page++;this.trackChanges();return this.trigger();}else{if(!this.progressiveLoad){console.warn(\"Pagination Error - Next page would be greater than maximum page of \"+this.max+\":\",this.max+1);}return Promise.reject();}}//return current page number\ngetPage(){return this.page;}//return max page number\ngetPageMax(){return this.max;}getPageSize(size){return this.size;}getMode(){return this.mode;}//return appropriate rows for current page\ngetRows(data){var actualRowPageSize=0,output,start,end,actualStartRow;var actualRows=data.filter(row=>{return row.type===\"row\";});if(this.mode==\"local\"){output=[];this.setMaxRows(data.length);if(this.size===true){start=0;end=data.length;}else{start=this.size*(this.page-1);end=start+parseInt(this.size);}this._setPageButtons();for(let i=start;i<end;i++){let row=data[i];if(row){output.push(row);if(row.type===\"row\"){if(!actualStartRow){actualStartRow=row;}actualRowPageSize++;}}}this._setPageCounter(actualRows.length,actualRowPageSize,actualStartRow?actualRows.indexOf(actualStartRow)+1:0);return output;}else{this._setPageButtons();this._setPageCounter(actualRows.length);return data.slice(0);}}trigger(){var left;switch(this.mode){case\"local\":left=this.table.rowManager.scrollLeft;this.refreshData();this.table.rowManager.scrollHorizontal(left);this.dispatchExternal(\"pageLoaded\",this.getPage());return Promise.resolve();case\"remote\":this.dataChanging=true;return this.reloadData(null).finally(()=>{this.dataChanging=false;});case\"progressive_load\":case\"progressive_scroll\":return this.reloadData(null,true);default:console.warn(\"Pagination Error - no such pagination mode:\",this.mode);return Promise.reject();}}_parseRemoteData(data){var margin,paginationOutOfRange;if(typeof data.last_page===\"undefined\"){console.warn(\"Remote Pagination Error - Server response missing '\"+(this.options(\"dataReceiveParams\").last_page||\"last_page\")+\"' property\");}if(data.data){this.max=parseInt(data.last_page)||1;this.remoteRowCountEstimate=typeof data.last_row!==\"undefined\"?data.last_row:data.last_page*this.size-(this.page==data.last_page?this.size-data.data.length:0);if(this.progressiveLoad){switch(this.mode){case\"progressive_load\":if(this.page==1){this.table.rowManager.setData(data.data,false,this.page==1);}else{this.table.rowManager.addRows(data.data);}if(this.page<this.max){setTimeout(()=>{this.nextPage();},this.table.options.progressiveLoadDelay);}break;case\"progressive_scroll\":data=this.page===1?data.data:this.table.rowManager.getData().concat(data.data);this.table.rowManager.setData(data,this.page!==1,this.page==1);margin=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2;if(this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+margin){if(this.page<this.max){setTimeout(()=>{this.nextPage();});}}break;}return false;}else{if(this.page>this.max){console.warn(\"Remote Pagination Error - Server returned last page value lower than the current page\");paginationOutOfRange=this.options('paginationOutOfRange');if(paginationOutOfRange){return this.setPage(typeof paginationOutOfRange==='function'?paginationOutOfRange.call(this,this.page,this.max):paginationOutOfRange);}}// left = this.table.rowManager.scrollLeft;\nthis.dispatchExternal(\"pageLoaded\",this.getPage());// this.table.rowManager.scrollHorizontal(left);\n// this.table.columnManager.scrollHorizontal(left);\n}}else{console.warn(\"Remote Pagination Error - Server response missing '\"+(this.options(\"dataReceiveParams\").data||\"data\")+\"' property\");}return data.data;}//handle the footer element being redrawn\nfooterRedraw(){var footer=this.table.footerManager.containerElement;if(Math.ceil(footer.clientWidth)-footer.scrollWidth<0){this.pagesElement.style.display='none';}else{this.pagesElement.style.display='';if(Math.ceil(footer.clientWidth)-footer.scrollWidth<0){this.pagesElement.style.display='none';}}}}// read persistance information from storage\n_defineProperty(Page,\"moduleName\",\"page\");//load defaults\n_defineProperty(Page,\"pageCounters\",defaultPageCounters);var defaultReaders={local:function(id,type){var data=localStorage.getItem(id+\"-\"+type);return data?JSON.parse(data):false;},cookie:function(id,type){var cookie=document.cookie,key=id+\"-\"+type,cookiePos=cookie.indexOf(key+\"=\"),end,data;//if cookie exists, decode and load column data into tabulator\nif(cookiePos>-1){cookie=cookie.slice(cookiePos);end=cookie.indexOf(\";\");if(end>-1){cookie=cookie.slice(0,end);}data=cookie.replace(key+\"=\",\"\");}return data?JSON.parse(data):false;}};//write persistence information to storage\nvar defaultWriters={local:function(id,type,data){localStorage.setItem(id+\"-\"+type,JSON.stringify(data));},cookie:function(id,type,data){var expireDate=new Date();expireDate.setDate(expireDate.getDate()+10000);document.cookie=id+\"-\"+type+\"=\"+JSON.stringify(data)+\"; expires=\"+expireDate.toUTCString();}};class Persistence extends Module{constructor(table){super(table);this.mode=\"\";this.id=\"\";// this.persistProps = [\"field\", \"width\", \"visible\"];\nthis.defWatcherBlock=false;this.config={};this.readFunc=false;this.writeFunc=false;this.registerTableOption(\"persistence\",false);this.registerTableOption(\"persistenceID\",\"\");//key for persistent storage\nthis.registerTableOption(\"persistenceMode\",true);//mode for storing persistence information\nthis.registerTableOption(\"persistenceReaderFunc\",false);//function for handling persistence data reading\nthis.registerTableOption(\"persistenceWriterFunc\",false);//function for handling persistence data writing\n}// Test for whether localStorage is available for use.\nlocalStorageTest(){var testKey=\"_tabulator_test\";try{window.localStorage.setItem(testKey,testKey);window.localStorage.removeItem(testKey);return true;}catch(e){return false;}}//setup parameters\ninitialize(){if(this.table.options.persistence){//determine persistent layout storage type\nvar mode=this.table.options.persistenceMode,id=this.table.options.persistenceID,retrievedData;this.mode=mode!==true?mode:this.localStorageTest()?\"local\":\"cookie\";if(this.table.options.persistenceReaderFunc){if(typeof this.table.options.persistenceReaderFunc===\"function\"){this.readFunc=this.table.options.persistenceReaderFunc;}else{if(Persistence.readers[this.table.options.persistenceReaderFunc]){this.readFunc=Persistence.readers[this.table.options.persistenceReaderFunc];}else{console.warn(\"Persistence Read Error - invalid reader set\",this.table.options.persistenceReaderFunc);}}}else{if(Persistence.readers[this.mode]){this.readFunc=Persistence.readers[this.mode];}else{console.warn(\"Persistence Read Error - invalid reader set\",this.mode);}}if(this.table.options.persistenceWriterFunc){if(typeof this.table.options.persistenceWriterFunc===\"function\"){this.writeFunc=this.table.options.persistenceWriterFunc;}else{if(Persistence.writers[this.table.options.persistenceWriterFunc]){this.writeFunc=Persistence.writers[this.table.options.persistenceWriterFunc];}else{console.warn(\"Persistence Write Error - invalid reader set\",this.table.options.persistenceWriterFunc);}}}else{if(Persistence.writers[this.mode]){this.writeFunc=Persistence.writers[this.mode];}else{console.warn(\"Persistence Write Error - invalid writer set\",this.mode);}}//set storage tag\nthis.id=\"tabulator-\"+(id||this.table.element.getAttribute(\"id\")||\"\");this.config={sort:this.table.options.persistence===true||this.table.options.persistence.sort,filter:this.table.options.persistence===true||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===true||this.table.options.persistence.headerFilter,group:this.table.options.persistence===true||this.table.options.persistence.group,page:this.table.options.persistence===true||this.table.options.persistence.page,columns:this.table.options.persistence===true?[\"title\",\"width\",\"visible\"]:this.table.options.persistence.columns};//load pagination data if needed\nif(this.config.page){retrievedData=this.retrieveData(\"page\");if(retrievedData){if(typeof retrievedData.paginationSize!==\"undefined\"&&(this.config.page===true||this.config.page.size)){this.table.options.paginationSize=retrievedData.paginationSize;}if(typeof retrievedData.paginationInitialPage!==\"undefined\"&&(this.config.page===true||this.config.page.page)){this.table.options.paginationInitialPage=retrievedData.paginationInitialPage;}}}//load group data if needed\nif(this.config.group){retrievedData=this.retrieveData(\"group\");if(retrievedData){if(typeof retrievedData.groupBy!==\"undefined\"&&(this.config.group===true||this.config.group.groupBy)){this.table.options.groupBy=retrievedData.groupBy;}if(typeof retrievedData.groupStartOpen!==\"undefined\"&&(this.config.group===true||this.config.group.groupStartOpen)){this.table.options.groupStartOpen=retrievedData.groupStartOpen;}if(typeof retrievedData.groupHeader!==\"undefined\"&&(this.config.group===true||this.config.group.groupHeader)){this.table.options.groupHeader=retrievedData.groupHeader;}}}if(this.config.columns){this.table.options.columns=this.load(\"columns\",this.table.options.columns);this.subscribe(\"column-init\",this.initializeColumn.bind(this));this.subscribe(\"column-show\",this.save.bind(this,\"columns\"));this.subscribe(\"column-hide\",this.save.bind(this,\"columns\"));this.subscribe(\"column-moved\",this.save.bind(this,\"columns\"));}this.subscribe(\"table-built\",this.tableBuilt.bind(this),0);this.subscribe(\"table-redraw\",this.tableRedraw.bind(this));this.subscribe(\"filter-changed\",this.eventSave.bind(this,\"filter\"));this.subscribe(\"filter-changed\",this.eventSave.bind(this,\"headerFilter\"));this.subscribe(\"sort-changed\",this.eventSave.bind(this,\"sort\"));this.subscribe(\"group-changed\",this.eventSave.bind(this,\"group\"));this.subscribe(\"page-changed\",this.eventSave.bind(this,\"page\"));this.subscribe(\"column-resized\",this.eventSave.bind(this,\"columns\"));this.subscribe(\"column-width\",this.eventSave.bind(this,\"columns\"));this.subscribe(\"layout-refreshed\",this.eventSave.bind(this,\"columns\"));}this.registerTableFunction(\"getColumnLayout\",this.getColumnLayout.bind(this));this.registerTableFunction(\"setColumnLayout\",this.setColumnLayout.bind(this));}eventSave(type){if(this.config[type]){this.save(type);}}tableBuilt(){var sorters,filters,headerFilters;if(this.config.sort){sorters=this.load(\"sort\");if(!sorters===false){this.table.options.initialSort=sorters;}}if(this.config.filter){filters=this.load(\"filter\");if(!filters===false){this.table.options.initialFilter=filters;}}if(this.config.headerFilter){headerFilters=this.load(\"headerFilter\");if(!headerFilters===false){this.table.options.initialHeaderFilter=headerFilters;}}}tableRedraw(force){if(force&&this.config.columns){this.save(\"columns\");}}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\ngetColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns());}setColumnLayout(layout){this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,layout,true));return true;}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\ninitializeColumn(column){var def,keys;if(this.config.columns){this.defWatcherBlock=true;def=column.getDefinition();keys=this.config.columns===true?Object.keys(def):this.config.columns;keys.forEach(key=>{var props=Object.getOwnPropertyDescriptor(def,key);var value=def[key];if(props){Object.defineProperty(def,key,{set:newValue=>{value=newValue;if(!this.defWatcherBlock){this.save(\"columns\");}if(props.set){props.set(newValue);}},get:()=>{if(props.get){props.get();}return value;}});}});this.defWatcherBlock=false;}}//load saved definitions\nload(type,current){var data=this.retrieveData(type);if(current){data=data?this.mergeDefinition(current,data):current;}return data;}//retrieve data from memory\nretrieveData(type){return this.readFunc?this.readFunc(this.id,type):false;}//merge old and new column definitions\nmergeDefinition(oldCols,newCols,mergeAllNew){var output=[];newCols=newCols||[];newCols.forEach((column,to)=>{var from=this._findColumn(oldCols,column),keys;if(from){if(mergeAllNew){keys=Object.keys(column);}else if(this.config.columns===true||this.config.columns==undefined){keys=Object.keys(from);keys.push(\"width\");}else{keys=this.config.columns;}keys.forEach(key=>{if(key!==\"columns\"&&typeof column[key]!==\"undefined\"){from[key]=column[key];}});if(from.columns){from.columns=this.mergeDefinition(from.columns,column.columns);}output.push(from);}});oldCols.forEach((column,i)=>{var from=this._findColumn(newCols,column);if(!from){if(output.length>i){output.splice(i,0,column);}else{output.push(column);}}});return output;}//find matching columns\n_findColumn(columns,subject){var type=subject.columns?\"group\":subject.field?\"field\":\"object\";return columns.find(function(col){switch(type){case\"group\":return col.title===subject.title&&col.columns.length===subject.columns.length;case\"field\":return col.field===subject.field;case\"object\":return col===subject;}});}//save data\nsave(type){var data={};switch(type){case\"columns\":data=this.parseColumns(this.table.columnManager.getColumns());break;case\"filter\":data=this.table.modules.filter.getFilters();break;case\"headerFilter\":data=this.table.modules.filter.getHeaderFilters();break;case\"sort\":data=this.validateSorters(this.table.modules.sort.getSort());break;case\"group\":data=this.getGroupConfig();break;case\"page\":data=this.getPageConfig();break;}if(this.writeFunc){this.writeFunc(this.id,type,data);}}//ensure sorters contain no function data\nvalidateSorters(data){data.forEach(function(item){item.column=item.field;delete item.field;});return data;}getGroupConfig(){var data={};if(this.config.group){if(this.config.group===true||this.config.group.groupBy){data.groupBy=this.table.options.groupBy;}if(this.config.group===true||this.config.group.groupStartOpen){data.groupStartOpen=this.table.options.groupStartOpen;}if(this.config.group===true||this.config.group.groupHeader){data.groupHeader=this.table.options.groupHeader;}}return data;}getPageConfig(){var data={};if(this.config.page){if(this.config.page===true||this.config.page.size){data.paginationSize=this.table.modules.page.getPageSize();}if(this.config.page===true||this.config.page.page){data.paginationInitialPage=this.table.modules.page.getPage();}}return data;}//parse columns for data to store\nparseColumns(columns){var definitions=[],excludedKeys=[\"headerContextMenu\",\"headerMenu\",\"contextMenu\",\"clickMenu\"];columns.forEach(column=>{var defStore={},colDef=column.getDefinition(),keys;if(column.isGroup){defStore.title=colDef.title;defStore.columns=this.parseColumns(column.getColumns());}else{defStore.field=column.getField();if(this.config.columns===true||this.config.columns==undefined){keys=Object.keys(colDef);keys.push(\"width\");keys.push(\"visible\");}else{keys=this.config.columns;}keys.forEach(key=>{switch(key){case\"width\":defStore.width=column.getWidth();break;case\"visible\":defStore.visible=column.visible;break;default:if(typeof colDef[key]!==\"function\"&&excludedKeys.indexOf(key)===-1){defStore[key]=colDef[key];}}});}definitions.push(defStore);});return definitions;}}_defineProperty(Persistence,\"moduleName\",\"persistence\");_defineProperty(Persistence,\"moduleInitOrder\",-10);//load defaults\n_defineProperty(Persistence,\"readers\",defaultReaders);_defineProperty(Persistence,\"writers\",defaultWriters);class Popup extends Module{constructor(table){super(table);this.columnSubscribers={};this.registerTableOption(\"rowContextPopup\",false);this.registerTableOption(\"rowClickPopup\",false);this.registerTableOption(\"rowDblClickPopup\",false);this.registerTableOption(\"groupContextPopup\",false);this.registerTableOption(\"groupClickPopup\",false);this.registerTableOption(\"groupDblClickPopup\",false);this.registerColumnOption(\"headerContextPopup\");this.registerColumnOption(\"headerClickPopup\");this.registerColumnOption(\"headerDblClickPopup\");this.registerColumnOption(\"headerPopup\");this.registerColumnOption(\"headerPopupIcon\");this.registerColumnOption(\"contextPopup\");this.registerColumnOption(\"clickPopup\");this.registerColumnOption(\"dblClickPopup\");this.registerComponentFunction(\"cell\",\"popup\",this._componentPopupCall.bind(this));this.registerComponentFunction(\"column\",\"popup\",this._componentPopupCall.bind(this));this.registerComponentFunction(\"row\",\"popup\",this._componentPopupCall.bind(this));this.registerComponentFunction(\"group\",\"popup\",this._componentPopupCall.bind(this));}initialize(){this.initializeRowWatchers();this.initializeGroupWatchers();this.subscribe(\"column-init\",this.initializeColumn.bind(this));}_componentPopupCall(component,contents,position){this.loadPopupEvent(contents,null,component,position);}initializeRowWatchers(){if(this.table.options.rowContextPopup){this.subscribe(\"row-contextmenu\",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup));this.table.on(\"rowTapHold\",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup));}if(this.table.options.rowClickPopup){this.subscribe(\"row-click\",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup));}if(this.table.options.rowDblClickPopup){this.subscribe(\"row-dblclick\",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup));}}initializeGroupWatchers(){if(this.table.options.groupContextPopup){this.subscribe(\"group-contextmenu\",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup));this.table.on(\"groupTapHold\",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup));}if(this.table.options.groupClickPopup){this.subscribe(\"group-click\",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup));}if(this.table.options.groupDblClickPopup){this.subscribe(\"group-dblclick\",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup));}}initializeColumn(column){var def=column.definition;//handle column events\nif(def.headerContextPopup&&!this.columnSubscribers.headerContextPopup){this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,\"headerContextPopup\");this.subscribe(\"column-contextmenu\",this.columnSubscribers.headerContextPopup);this.table.on(\"headerTapHold\",this.loadPopupTableColumnEvent.bind(this,\"headerContextPopup\"));}if(def.headerClickPopup&&!this.columnSubscribers.headerClickPopup){this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,\"headerClickPopup\");this.subscribe(\"column-click\",this.columnSubscribers.headerClickPopup);}if(def.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup){this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,\"headerDblClickPopup\");this.subscribe(\"column-dblclick\",this.columnSubscribers.headerDblClickPopup);}if(def.headerPopup){this.initializeColumnHeaderPopup(column);}//handle cell events\nif(def.contextPopup&&!this.columnSubscribers.contextPopup){this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,\"contextPopup\");this.subscribe(\"cell-contextmenu\",this.columnSubscribers.contextPopup);this.table.on(\"cellTapHold\",this.loadPopupTableCellEvent.bind(this,\"contextPopup\"));}if(def.clickPopup&&!this.columnSubscribers.clickPopup){this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,\"clickPopup\");this.subscribe(\"cell-click\",this.columnSubscribers.clickPopup);}if(def.dblClickPopup&&!this.columnSubscribers.dblClickPopup){this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,\"dblClickPopup\");this.subscribe(\"cell-click\",this.columnSubscribers.dblClickPopup);}}initializeColumnHeaderPopup(column){var icon=column.definition.headerPopupIcon,headerPopupEl;headerPopupEl=document.createElement(\"span\");headerPopupEl.classList.add(\"tabulator-header-popup-button\");if(icon){if(typeof icon===\"function\"){icon=icon(column.getComponent());}if(icon instanceof HTMLElement){headerPopupEl.appendChild(icon);}else{headerPopupEl.innerHTML=icon;}}else{headerPopupEl.innerHTML=\"&vellip;\";}headerPopupEl.addEventListener(\"click\",e=>{e.stopPropagation();e.preventDefault();this.loadPopupEvent(column.definition.headerPopup,e,column);});column.titleElement.insertBefore(headerPopupEl,column.titleElement.firstChild);}loadPopupTableCellEvent(option,e,cell){if(cell._cell){cell=cell._cell;}if(cell.column.definition[option]){this.loadPopupEvent(cell.column.definition[option],e,cell);}}loadPopupTableColumnEvent(option,e,column){if(column._column){column=column._column;}if(column.definition[option]){this.loadPopupEvent(column.definition[option],e,column);}}loadPopupEvent(contents,e,component,position){var renderedCallback;function onRendered(callback){renderedCallback=callback;}if(component._group){component=component._group;}else if(component._row){component=component._row;}contents=typeof contents==\"function\"?contents.call(this.table,e,component.getComponent(),onRendered):contents;this.loadPopup(e,component,contents,renderedCallback,position);}loadPopup(e,component,contents,renderedCallback,position){var touch=!(e instanceof MouseEvent),contentsEl,popup;if(contents instanceof HTMLElement){contentsEl=contents;}else{contentsEl=document.createElement(\"div\");contentsEl.innerHTML=contents;}contentsEl.classList.add(\"tabulator-popup\");contentsEl.addEventListener(\"click\",e=>{e.stopPropagation();});if(!touch){e.preventDefault();}popup=this.popup(contentsEl);if(typeof renderedCallback===\"function\"){popup.renderCallback(renderedCallback);}if(e){popup.show(e);}else{popup.show(component.getElement(),position||\"center\");}popup.hideOnBlur(()=>{this.dispatchExternal(\"popupClosed\",component.getComponent());});this.dispatchExternal(\"popupOpened\",component.getComponent());}}_defineProperty(Popup,\"moduleName\",\"popup\");class Print extends Module{constructor(table){super(table);this.element=false;this.manualBlock=false;this.beforeprintEventHandler=null;this.afterprintEventHandler=null;this.registerTableOption(\"printAsHtml\",false);//enable print as html\nthis.registerTableOption(\"printFormatter\",false);//printing page formatter\nthis.registerTableOption(\"printHeader\",false);//page header contents\nthis.registerTableOption(\"printFooter\",false);//page footer contents\nthis.registerTableOption(\"printStyled\",true);//enable print as html styling\nthis.registerTableOption(\"printRowRange\",\"visible\");//restrict print to visible rows only\nthis.registerTableOption(\"printConfig\",{});//print config options\nthis.registerColumnOption(\"print\");this.registerColumnOption(\"titlePrint\");}initialize(){if(this.table.options.printAsHtml){this.beforeprintEventHandler=this.replaceTable.bind(this);this.afterprintEventHandler=this.cleanup.bind(this);window.addEventListener(\"beforeprint\",this.beforeprintEventHandler);window.addEventListener(\"afterprint\",this.afterprintEventHandler);this.subscribe(\"table-destroy\",this.destroy.bind(this));}this.registerTableFunction(\"print\",this.printFullscreen.bind(this));}destroy(){if(this.table.options.printAsHtml){window.removeEventListener(\"beforeprint\",this.beforeprintEventHandler);window.removeEventListener(\"afterprint\",this.afterprintEventHandler);}}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\n///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\nreplaceTable(){if(!this.manualBlock){this.element=document.createElement(\"div\");this.element.classList.add(\"tabulator-print-table\");this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,\"print\"));this.table.element.style.display=\"none\";this.table.element.parentNode.insertBefore(this.element,this.table.element);}}cleanup(){document.body.classList.remove(\"tabulator-print-fullscreen-hide\");if(this.element&&this.element.parentNode){this.element.parentNode.removeChild(this.element);this.table.element.style.display=\"\";}}printFullscreen(visible,style,config){var scrollX=window.scrollX,scrollY=window.scrollY,headerEl=document.createElement(\"div\"),footerEl=document.createElement(\"div\"),tableEl=this.table.modules.export.generateTable(typeof config!=\"undefined\"?config:this.table.options.printConfig,typeof style!=\"undefined\"?style:this.table.options.printStyled,visible||this.table.options.printRowRange,\"print\"),headerContent,footerContent;this.manualBlock=true;this.element=document.createElement(\"div\");this.element.classList.add(\"tabulator-print-fullscreen\");if(this.table.options.printHeader){headerEl.classList.add(\"tabulator-print-header\");headerContent=typeof this.table.options.printHeader==\"function\"?this.table.options.printHeader.call(this.table):this.table.options.printHeader;if(typeof headerContent==\"string\"){headerEl.innerHTML=headerContent;}else{headerEl.appendChild(headerContent);}this.element.appendChild(headerEl);}this.element.appendChild(tableEl);if(this.table.options.printFooter){footerEl.classList.add(\"tabulator-print-footer\");footerContent=typeof this.table.options.printFooter==\"function\"?this.table.options.printFooter.call(this.table):this.table.options.printFooter;if(typeof footerContent==\"string\"){footerEl.innerHTML=footerContent;}else{footerEl.appendChild(footerContent);}this.element.appendChild(footerEl);}document.body.classList.add(\"tabulator-print-fullscreen-hide\");document.body.appendChild(this.element);if(this.table.options.printFormatter){this.table.options.printFormatter(this.element,tableEl);}window.print();this.cleanup();window.scrollTo(scrollX,scrollY);this.manualBlock=false;}}_defineProperty(Print,\"moduleName\",\"print\");class ReactiveData extends Module{constructor(table){super(table);this.data=false;this.blocked=false;//block reactivity while performing update\nthis.origFuncs={};// hold original data array functions to allow replacement after data is done with\nthis.currentVersion=0;this.registerTableOption(\"reactiveData\",false);//enable data reactivity\n}initialize(){if(this.table.options.reactiveData){this.subscribe(\"cell-value-save-before\",this.block.bind(this,\"cellsave\"));this.subscribe(\"cell-value-save-after\",this.unblock.bind(this,\"cellsave\"));this.subscribe(\"row-data-save-before\",this.block.bind(this,\"rowsave\"));this.subscribe(\"row-data-save-after\",this.unblock.bind(this,\"rowsave\"));this.subscribe(\"row-data-init-after\",this.watchRow.bind(this));this.subscribe(\"data-processing\",this.watchData.bind(this));this.subscribe(\"table-destroy\",this.unwatchData.bind(this));}}watchData(data){var self=this,version;this.currentVersion++;version=this.currentVersion;this.unwatchData();this.data=data;//override array push function\nthis.origFuncs.push=data.push;Object.defineProperty(this.data,\"push\",{enumerable:false,configurable:true,value:function(){var args=Array.from(arguments),result;if(!self.blocked&&version===self.currentVersion){self.block(\"data-push\");args.forEach(arg=>{self.table.rowManager.addRowActual(arg,false);});result=self.origFuncs.push.apply(data,arguments);self.unblock(\"data-push\");}return result;}});//override array unshift function\nthis.origFuncs.unshift=data.unshift;Object.defineProperty(this.data,\"unshift\",{enumerable:false,configurable:true,value:function(){var args=Array.from(arguments),result;if(!self.blocked&&version===self.currentVersion){self.block(\"data-unshift\");args.forEach(arg=>{self.table.rowManager.addRowActual(arg,true);});result=self.origFuncs.unshift.apply(data,arguments);self.unblock(\"data-unshift\");}return result;}});//override array shift function\nthis.origFuncs.shift=data.shift;Object.defineProperty(this.data,\"shift\",{enumerable:false,configurable:true,value:function(){var row,result;if(!self.blocked&&version===self.currentVersion){self.block(\"data-shift\");if(self.data.length){row=self.table.rowManager.getRowFromDataObject(self.data[0]);if(row){row.deleteActual();}}result=self.origFuncs.shift.call(data);self.unblock(\"data-shift\");}return result;}});//override array pop function\nthis.origFuncs.pop=data.pop;Object.defineProperty(this.data,\"pop\",{enumerable:false,configurable:true,value:function(){var row,result;if(!self.blocked&&version===self.currentVersion){self.block(\"data-pop\");if(self.data.length){row=self.table.rowManager.getRowFromDataObject(self.data[self.data.length-1]);if(row){row.deleteActual();}}result=self.origFuncs.pop.call(data);self.unblock(\"data-pop\");}return result;}});//override array splice function\nthis.origFuncs.splice=data.splice;Object.defineProperty(this.data,\"splice\",{enumerable:false,configurable:true,value:function(){var args=Array.from(arguments),start=args[0]<0?data.length+args[0]:args[0],end=args[1],newRows=args[2]?args.slice(2):false,startRow,result;if(!self.blocked&&version===self.currentVersion){self.block(\"data-splice\");//add new rows\nif(newRows){startRow=data[start]?self.table.rowManager.getRowFromDataObject(data[start]):false;if(startRow){newRows.forEach(rowData=>{self.table.rowManager.addRowActual(rowData,true,startRow,true);});}else{newRows=newRows.slice().reverse();newRows.forEach(rowData=>{self.table.rowManager.addRowActual(rowData,true,false,true);});}}//delete removed rows\nif(end!==0){var oldRows=data.slice(start,typeof args[1]===\"undefined\"?args[1]:start+end);oldRows.forEach((rowData,i)=>{var row=self.table.rowManager.getRowFromDataObject(rowData);if(row){row.deleteActual(i!==oldRows.length-1);}});}if(newRows||end!==0){self.table.rowManager.reRenderInPosition();}result=self.origFuncs.splice.apply(data,arguments);self.unblock(\"data-splice\");}return result;}});}unwatchData(){if(this.data!==false){for(var key in this.origFuncs){Object.defineProperty(this.data,key,{enumerable:true,configurable:true,writable:true,value:this.origFuncs.key});}}}watchRow(row){var data=row.getData();for(var key in data){this.watchKey(row,data,key);}if(this.table.options.dataTree){this.watchTreeChildren(row);}}watchTreeChildren(row){var self=this,childField=row.getData()[this.table.options.dataTreeChildField],origFuncs={};if(childField){origFuncs.push=childField.push;Object.defineProperty(childField,\"push\",{enumerable:false,configurable:true,value:()=>{if(!self.blocked){self.block(\"tree-push\");var result=origFuncs.push.apply(childField,arguments);this.rebuildTree(row);self.unblock(\"tree-push\");}return result;}});origFuncs.unshift=childField.unshift;Object.defineProperty(childField,\"unshift\",{enumerable:false,configurable:true,value:()=>{if(!self.blocked){self.block(\"tree-unshift\");var result=origFuncs.unshift.apply(childField,arguments);this.rebuildTree(row);self.unblock(\"tree-unshift\");}return result;}});origFuncs.shift=childField.shift;Object.defineProperty(childField,\"shift\",{enumerable:false,configurable:true,value:()=>{if(!self.blocked){self.block(\"tree-shift\");var result=origFuncs.shift.call(childField);this.rebuildTree(row);self.unblock(\"tree-shift\");}return result;}});origFuncs.pop=childField.pop;Object.defineProperty(childField,\"pop\",{enumerable:false,configurable:true,value:()=>{if(!self.blocked){self.block(\"tree-pop\");var result=origFuncs.pop.call(childField);this.rebuildTree(row);self.unblock(\"tree-pop\");}return result;}});origFuncs.splice=childField.splice;Object.defineProperty(childField,\"splice\",{enumerable:false,configurable:true,value:()=>{if(!self.blocked){self.block(\"tree-splice\");var result=origFuncs.splice.apply(childField,arguments);this.rebuildTree(row);self.unblock(\"tree-splice\");}return result;}});}}rebuildTree(row){this.table.modules.dataTree.initializeRow(row);this.table.modules.dataTree.layoutRow(row);this.table.rowManager.refreshActiveData(\"tree\",false,true);}watchKey(row,data,key){var self=this,props=Object.getOwnPropertyDescriptor(data,key),value=data[key],version=this.currentVersion;Object.defineProperty(data,key,{set:newValue=>{value=newValue;if(!self.blocked&&version===self.currentVersion){self.block(\"key\");var update={};update[key]=newValue;row.updateData(update);self.unblock(\"key\");}if(props.set){props.set(newValue);}},get:()=>{if(props.get){props.get();}return value;}});}unwatchRow(row){var data=row.getData();for(var key in data){Object.defineProperty(data,key,{value:data[key]});}}block(key){if(!this.blocked){this.blocked=key;}}unblock(key){if(this.blocked===key){this.blocked=false;}}}_defineProperty(ReactiveData,\"moduleName\",\"reactiveData\");class ResizeColumns extends Module{constructor(table){super(table);this.startColumn=false;this.startX=false;this.startWidth=false;this.latestX=false;this.handle=null;this.initialNextColumn=null;this.nextColumn=null;this.initialized=false;this.registerColumnOption(\"resizable\",true);this.registerTableOption(\"resizableColumnFit\",false);this.registerTableOption(\"resizableColumnGuide\",false);}initialize(){this.subscribe(\"column-rendered\",this.layoutColumnHeader.bind(this));}initializeEventWatchers(){if(!this.initialized){this.subscribe(\"cell-rendered\",this.layoutCellHandles.bind(this));this.subscribe(\"cell-delete\",this.deInitializeComponent.bind(this));this.subscribe(\"cell-height\",this.resizeHandle.bind(this));this.subscribe(\"column-moved\",this.columnLayoutUpdated.bind(this));this.subscribe(\"column-hide\",this.deInitializeColumn.bind(this));this.subscribe(\"column-show\",this.columnLayoutUpdated.bind(this));this.subscribe(\"column-width\",this.columnWidthUpdated.bind(this));this.subscribe(\"column-delete\",this.deInitializeComponent.bind(this));this.subscribe(\"column-height\",this.resizeHandle.bind(this));this.initialized=true;}}layoutCellHandles(cell){if(cell.row.type===\"row\"){this.deInitializeComponent(cell);this.initializeColumn(\"cell\",cell,cell.column,cell.element);}}layoutColumnHeader(column){if(column.definition.resizable){this.initializeEventWatchers();this.deInitializeComponent(column);this.initializeColumn(\"header\",column,column,column.element);}}columnLayoutUpdated(column){var prev=column.prevColumn();this.reinitializeColumn(column);if(prev){this.reinitializeColumn(prev);}}columnWidthUpdated(column){if(column.modules.frozen){if(this.table.modules.frozenColumns.leftColumns.includes(column)){this.table.modules.frozenColumns.leftColumns.forEach(col=>{this.reinitializeColumn(col);});}else if(this.table.modules.frozenColumns.rightColumns.includes(column)){this.table.modules.frozenColumns.rightColumns.forEach(col=>{this.reinitializeColumn(col);});}}}frozenColumnOffset(column){var offset=false;if(column.modules.frozen){offset=column.modules.frozen.marginValue;if(column.modules.frozen.position===\"left\"){offset+=column.getWidth()-3;}else{if(offset){offset-=3;}}}return offset!==false?offset+\"px\":false;}reinitializeColumn(column){var frozenOffset=this.frozenColumnOffset(column);column.cells.forEach(cell=>{if(cell.modules.resize&&cell.modules.resize.handleEl){if(frozenOffset){cell.modules.resize.handleEl.style[column.modules.frozen.position]=frozenOffset;cell.modules.resize.handleEl.style[\"z-index\"]=11;}cell.element.after(cell.modules.resize.handleEl);}});if(column.modules.resize&&column.modules.resize.handleEl){if(frozenOffset){column.modules.resize.handleEl.style[column.modules.frozen.position]=frozenOffset;}column.element.after(column.modules.resize.handleEl);}}initializeColumn(type,component,column,element){var self=this,variableHeight=false,mode=column.definition.resizable,config={},nearestColumn=column.getLastColumn();//set column resize mode\nif(type===\"header\"){variableHeight=column.definition.formatter==\"textarea\"||column.definition.variableHeight;config={variableHeight:variableHeight};}if((mode===true||mode==type)&&this._checkResizability(nearestColumn)){var handle=document.createElement('span');handle.className=\"tabulator-col-resize-handle\";handle.addEventListener(\"click\",function(e){e.stopPropagation();});var handleDown=function(e){self.startColumn=column;self.initialNextColumn=self.nextColumn=nearestColumn.nextColumn();self._mouseDown(e,nearestColumn,handle);};handle.addEventListener(\"mousedown\",handleDown);handle.addEventListener(\"touchstart\",handleDown,{passive:true});//resize column on  double click\nhandle.addEventListener(\"dblclick\",e=>{var oldWidth=nearestColumn.getWidth();e.stopPropagation();nearestColumn.reinitializeWidth(true);if(oldWidth!==nearestColumn.getWidth()){self.dispatch(\"column-resized\",nearestColumn);self.dispatchExternal(\"columnResized\",nearestColumn.getComponent());}});if(column.modules.frozen){handle.style.position=\"sticky\";handle.style[column.modules.frozen.position]=this.frozenColumnOffset(column);}config.handleEl=handle;if(element.parentNode&&column.visible){element.after(handle);}}component.modules.resize=config;}deInitializeColumn(column){this.deInitializeComponent(column);column.cells.forEach(cell=>{this.deInitializeComponent(cell);});}deInitializeComponent(component){var handleEl;if(component.modules.resize){handleEl=component.modules.resize.handleEl;if(handleEl&&handleEl.parentElement){handleEl.parentElement.removeChild(handleEl);}}}resizeHandle(component,height){if(component.modules.resize&&component.modules.resize.handleEl){component.modules.resize.handleEl.style.height=height;}}resize(e,column){var x=typeof e.clientX===\"undefined\"?e.touches[0].clientX:e.clientX,startDiff=x-this.startX,moveDiff=x-this.latestX,blockedBefore,blockedAfter;this.latestX=x;if(this.table.rtl){startDiff=-startDiff;moveDiff=-moveDiff;}blockedBefore=column.width==column.minWidth||column.width==column.maxWidth;column.setWidth(this.startWidth+startDiff);blockedAfter=column.width==column.minWidth||column.width==column.maxWidth;if(moveDiff<0){this.nextColumn=this.initialNextColumn;}if(this.table.options.resizableColumnFit&&this.nextColumn&&!(blockedBefore&&blockedAfter)){let colWidth=this.nextColumn.getWidth();if(moveDiff>0){if(colWidth<=this.nextColumn.minWidth){this.nextColumn=this.nextColumn.nextColumn();}}if(this.nextColumn){this.nextColumn.setWidth(this.nextColumn.getWidth()-moveDiff);}}this.table.columnManager.rerenderColumns(true);if(!this.table.browserSlow&&column.modules.resize&&column.modules.resize.variableHeight){column.checkCellHeights();}}calcGuidePosition(e,column,handle){var mouseX=typeof e.clientX===\"undefined\"?e.touches[0].clientX:e.clientX,handleX=handle.getBoundingClientRect().x-this.table.element.getBoundingClientRect().x,tableX=this.table.element.getBoundingClientRect().x,columnX=column.element.getBoundingClientRect().left-tableX,mouseDiff=mouseX-this.startX,pos=Math.max(handleX+mouseDiff,columnX+column.minWidth);if(column.maxWidth){pos=Math.min(pos,columnX+column.maxWidth);}return pos;}_checkResizability(column){return column.definition.resizable;}_mouseDown(e,column,handle){var self=this,guideEl;this.dispatchExternal(\"columnResizing\",column.getComponent());if(self.table.options.resizableColumnGuide){guideEl=document.createElement(\"span\");guideEl.classList.add('tabulator-col-resize-guide');self.table.element.appendChild(guideEl);setTimeout(()=>{guideEl.style.left=self.calcGuidePosition(e,column,handle)+\"px\";});}self.table.element.classList.add(\"tabulator-block-select\");function mouseMove(e){if(self.table.options.resizableColumnGuide){guideEl.style.left=self.calcGuidePosition(e,column,handle)+\"px\";}else{self.resize(e,column);}}function mouseUp(e){if(self.table.options.resizableColumnGuide){self.resize(e,column);guideEl.remove();}//block editor from taking action while resizing is taking place\nif(self.startColumn.modules.edit){self.startColumn.modules.edit.blocked=false;}if(self.table.browserSlow&&column.modules.resize&&column.modules.resize.variableHeight){column.checkCellHeights();}document.body.removeEventListener(\"mouseup\",mouseUp);document.body.removeEventListener(\"mousemove\",mouseMove);handle.removeEventListener(\"touchmove\",mouseMove);handle.removeEventListener(\"touchend\",mouseUp);self.table.element.classList.remove(\"tabulator-block-select\");if(self.startWidth!==column.getWidth()){self.table.columnManager.verticalAlignHeaders();self.dispatch(\"column-resized\",column);self.dispatchExternal(\"columnResized\",column.getComponent());}}e.stopPropagation();//prevent resize from interfering with movable columns\n//block editor from taking action while resizing is taking place\nif(self.startColumn.modules.edit){self.startColumn.modules.edit.blocked=true;}self.startX=typeof e.clientX===\"undefined\"?e.touches[0].clientX:e.clientX;self.latestX=self.startX;self.startWidth=column.getWidth();document.body.addEventListener(\"mousemove\",mouseMove);document.body.addEventListener(\"mouseup\",mouseUp);handle.addEventListener(\"touchmove\",mouseMove,{passive:true});handle.addEventListener(\"touchend\",mouseUp);}}_defineProperty(ResizeColumns,\"moduleName\",\"resizeColumns\");class ResizeRows extends Module{constructor(table){super(table);this.startColumn=false;this.startY=false;this.startHeight=false;this.handle=null;this.prevHandle=null;this.registerTableOption(\"resizableRows\",false);//resizable rows\nthis.registerTableOption(\"resizableRowGuide\",false);}initialize(){if(this.table.options.resizableRows){this.subscribe(\"row-layout-after\",this.initializeRow.bind(this));}}initializeRow(row){var self=this,rowEl=row.getElement();var handle=document.createElement('div');handle.className=\"tabulator-row-resize-handle\";var prevHandle=document.createElement('div');prevHandle.className=\"tabulator-row-resize-handle prev\";handle.addEventListener(\"click\",function(e){e.stopPropagation();});var handleDown=function(e){self.startRow=row;self._mouseDown(e,row,handle);};handle.addEventListener(\"mousedown\",handleDown);handle.addEventListener(\"touchstart\",handleDown,{passive:true});prevHandle.addEventListener(\"click\",function(e){e.stopPropagation();});var prevHandleDown=function(e){var prevRow=self.table.rowManager.prevDisplayRow(row);if(prevRow){self.startRow=prevRow;self._mouseDown(e,prevRow,prevHandle);}};prevHandle.addEventListener(\"mousedown\",prevHandleDown);prevHandle.addEventListener(\"touchstart\",prevHandleDown,{passive:true});rowEl.appendChild(handle);rowEl.appendChild(prevHandle);}resize(e,row){row.setHeight(this.startHeight+((typeof e.screenY===\"undefined\"?e.touches[0].screenY:e.screenY)-this.startY));}calcGuidePosition(e,row,handle){var mouseY=typeof e.screenY===\"undefined\"?e.touches[0].screenY:e.screenY,handleY=handle.getBoundingClientRect().y-this.table.element.getBoundingClientRect().y,tableY=this.table.element.getBoundingClientRect().y,rowY=row.element.getBoundingClientRect().top-tableY,mouseDiff=mouseY-this.startY;return Math.max(handleY+mouseDiff,rowY);}_mouseDown(e,row,handle){var self=this,guideEl;self.dispatchExternal(\"rowResizing\",row.getComponent());if(self.table.options.resizableRowGuide){guideEl=document.createElement(\"span\");guideEl.classList.add('tabulator-row-resize-guide');self.table.element.appendChild(guideEl);setTimeout(()=>{guideEl.style.top=self.calcGuidePosition(e,row,handle)+\"px\";});}self.table.element.classList.add(\"tabulator-block-select\");function mouseMove(e){if(self.table.options.resizableRowGuide){guideEl.style.top=self.calcGuidePosition(e,row,handle)+\"px\";}else{self.resize(e,row);}}function mouseUp(e){if(self.table.options.resizableRowGuide){self.resize(e,row);guideEl.remove();}// //block editor from taking action while resizing is taking place\n// if(self.startColumn.modules.edit){\n// \tself.startColumn.modules.edit.blocked = false;\n// }\ndocument.body.removeEventListener(\"mouseup\",mouseMove);document.body.removeEventListener(\"mousemove\",mouseMove);handle.removeEventListener(\"touchmove\",mouseMove);handle.removeEventListener(\"touchend\",mouseUp);self.table.element.classList.remove(\"tabulator-block-select\");self.dispatchExternal(\"rowResized\",row.getComponent());}e.stopPropagation();//prevent resize from interfering with movable columns\n//block editor from taking action while resizing is taking place\n// if(self.startColumn.modules.edit){\n// \tself.startColumn.modules.edit.blocked = true;\n// }\nself.startY=typeof e.screenY===\"undefined\"?e.touches[0].screenY:e.screenY;self.startHeight=row.getHeight();document.body.addEventListener(\"mousemove\",mouseMove);document.body.addEventListener(\"mouseup\",mouseUp);handle.addEventListener(\"touchmove\",mouseMove,{passive:true});handle.addEventListener(\"touchend\",mouseUp);}}_defineProperty(ResizeRows,\"moduleName\",\"resizeRows\");class ResizeTable extends Module{constructor(table){super(table);this.binding=false;this.visibilityObserver=false;this.resizeObserver=false;this.containerObserver=false;this.tableHeight=0;this.tableWidth=0;this.containerHeight=0;this.containerWidth=0;this.autoResize=false;this.visible=false;this.initialized=false;this.initialRedraw=false;this.registerTableOption(\"autoResize\",true);//auto resize table\n}initialize(){if(this.table.options.autoResize){var table=this.table,tableStyle;this.tableHeight=table.element.clientHeight;this.tableWidth=table.element.clientWidth;if(table.element.parentNode){this.containerHeight=table.element.parentNode.clientHeight;this.containerWidth=table.element.parentNode.clientWidth;}if(typeof IntersectionObserver!==\"undefined\"&&typeof ResizeObserver!==\"undefined\"&&table.rowManager.getRenderMode()===\"virtual\"){this.initializeVisibilityObserver();this.autoResize=true;this.resizeObserver=new ResizeObserver(entry=>{if(!table.browserMobile||table.browserMobile&&(!table.modules.edit||table.modules.edit&&!table.modules.edit.currentCell)){var nodeHeight=Math.floor(entry[0].contentRect.height);var nodeWidth=Math.floor(entry[0].contentRect.width);if(this.tableHeight!=nodeHeight||this.tableWidth!=nodeWidth){this.tableHeight=nodeHeight;this.tableWidth=nodeWidth;if(table.element.parentNode){this.containerHeight=table.element.parentNode.clientHeight;this.containerWidth=table.element.parentNode.clientWidth;}this.redrawTable();}}});this.resizeObserver.observe(table.element);tableStyle=window.getComputedStyle(table.element);if(this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(tableStyle.getPropertyValue(\"max-height\")||tableStyle.getPropertyValue(\"min-height\"))){this.containerObserver=new ResizeObserver(entry=>{if(!table.browserMobile||table.browserMobile&&(!table.modules.edit||table.modules.edit&&!table.modules.edit.currentCell)){var nodeHeight=Math.floor(entry[0].contentRect.height);var nodeWidth=Math.floor(entry[0].contentRect.width);if(this.containerHeight!=nodeHeight||this.containerWidth!=nodeWidth){this.containerHeight=nodeHeight;this.containerWidth=nodeWidth;this.tableHeight=table.element.clientHeight;this.tableWidth=table.element.clientWidth;}this.redrawTable();}});this.containerObserver.observe(this.table.element.parentNode);}this.subscribe(\"table-resize\",this.tableResized.bind(this));}else{this.binding=function(){if(!table.browserMobile||table.browserMobile&&(!table.modules.edit||table.modules.edit&&!table.modules.edit.currentCell)){table.columnManager.rerenderColumns(true);table.redraw();}};window.addEventListener(\"resize\",this.binding);}this.subscribe(\"table-destroy\",this.clearBindings.bind(this));}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(entries=>{this.visible=entries[0].isIntersecting;if(!this.initialized){this.initialized=true;this.initialRedraw=!this.visible;}else{if(this.visible){this.redrawTable(this.initialRedraw);this.initialRedraw=false;}}});this.visibilityObserver.observe(this.table.element);}redrawTable(force){if(this.initialized&&this.visible){this.table.columnManager.rerenderColumns(true);this.table.redraw(force);}}tableResized(){this.table.rowManager.redraw();}clearBindings(){if(this.binding){window.removeEventListener(\"resize\",this.binding);}if(this.resizeObserver){this.resizeObserver.unobserve(this.table.element);}if(this.visibilityObserver){this.visibilityObserver.unobserve(this.table.element);}if(this.containerObserver){this.containerObserver.unobserve(this.table.element.parentNode);}}}_defineProperty(ResizeTable,\"moduleName\",\"resizeTable\");function responsiveCollapse(cell,formatterParams,onRendered){var el=document.createElement(\"div\"),config=cell.getRow()._row.modules.responsiveLayout;el.classList.add(\"tabulator-responsive-collapse-toggle\");el.innerHTML=`<svg class='tabulator-responsive-collapse-toggle-open' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n  <line y1=\"7\" x1=\"12\" y2=\"17\" x2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>\n\n<svg class='tabulator-responsive-collapse-toggle-close' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\"  fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>`;cell.getElement().classList.add(\"tabulator-row-handle\");function toggleList(isOpen){var collapseEl=config.element;config.open=isOpen;if(collapseEl){if(config.open){el.classList.add(\"open\");collapseEl.style.display='';}else{el.classList.remove(\"open\");collapseEl.style.display='none';}}}el.addEventListener(\"click\",function(e){e.stopImmediatePropagation();toggleList(!config.open);cell.getTable().rowManager.adjustTableSize();});toggleList(config.open);return el;}var extensions$2={format:{formatters:{responsiveCollapse:responsiveCollapse}}};class ResponsiveLayout extends Module{constructor(table){super(table);this.columns=[];this.hiddenColumns=[];this.mode=\"\";this.index=0;this.collapseFormatter=[];this.collapseStartOpen=true;this.collapseHandleColumn=false;this.registerTableOption(\"responsiveLayout\",false);//responsive layout flags\nthis.registerTableOption(\"responsiveLayoutCollapseStartOpen\",true);//start showing collapsed data\nthis.registerTableOption(\"responsiveLayoutCollapseUseFormatters\",true);//responsive layout collapse formatter\nthis.registerTableOption(\"responsiveLayoutCollapseFormatter\",false);//responsive layout collapse formatter\nthis.registerColumnOption(\"responsive\");}//generate responsive columns list\ninitialize(){if(this.table.options.responsiveLayout){this.subscribe(\"column-layout\",this.initializeColumn.bind(this));this.subscribe(\"column-show\",this.updateColumnVisibility.bind(this));this.subscribe(\"column-hide\",this.updateColumnVisibility.bind(this));this.subscribe(\"columns-loaded\",this.initializeResponsivity.bind(this));this.subscribe(\"column-moved\",this.initializeResponsivity.bind(this));this.subscribe(\"column-add\",this.initializeResponsivity.bind(this));this.subscribe(\"column-delete\",this.initializeResponsivity.bind(this));this.subscribe(\"table-redrawing\",this.tableRedraw.bind(this));if(this.table.options.responsiveLayout===\"collapse\"){this.subscribe(\"row-data-changed\",this.generateCollapsedRowContent.bind(this));this.subscribe(\"row-init\",this.initializeRow.bind(this));this.subscribe(\"row-layout\",this.layoutRow.bind(this));}}}tableRedraw(force){if([\"fitColumns\",\"fitDataStretch\"].indexOf(this.layoutMode())===-1){if(!force){this.update();}}}initializeResponsivity(){var columns=[];this.mode=this.table.options.responsiveLayout;this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData;this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen;this.hiddenColumns=[];if(this.collapseFormatter){this.collapseFormatter=this.collapseFormatter.bind(this.table);}//determine level of responsivity for each column\nthis.table.columnManager.columnsByIndex.forEach((column,i)=>{if(column.modules.responsive){if(column.modules.responsive.order&&column.modules.responsive.visible){column.modules.responsive.index=i;columns.push(column);if(!column.visible&&this.mode===\"collapse\"){this.hiddenColumns.push(column);}}}});//sort list by responsivity\ncolumns=columns.reverse();columns=columns.sort((a,b)=>{var diff=b.modules.responsive.order-a.modules.responsive.order;return diff||b.modules.responsive.index-a.modules.responsive.index;});this.columns=columns;if(this.mode===\"collapse\"){this.generateCollapsedContent();}//assign collapse column\nfor(let col of this.table.columnManager.columnsByIndex){if(col.definition.formatter==\"responsiveCollapse\"){this.collapseHandleColumn=col;break;}}if(this.collapseHandleColumn){if(this.hiddenColumns.length){this.collapseHandleColumn.show();}else{this.collapseHandleColumn.hide();}}}//define layout information\ninitializeColumn(column){var def=column.getDefinition();column.modules.responsive={order:typeof def.responsive===\"undefined\"?1:def.responsive,visible:def.visible===false?false:true};}initializeRow(row){var el;if(row.type!==\"calc\"){el=document.createElement(\"div\");el.classList.add(\"tabulator-responsive-collapse\");row.modules.responsiveLayout={element:el,open:this.collapseStartOpen};if(!this.collapseStartOpen){el.style.display='none';}}}layoutRow(row){var rowEl=row.getElement();if(row.modules.responsiveLayout){rowEl.appendChild(row.modules.responsiveLayout.element);this.generateCollapsedRowContent(row);}}//update column visibility\nupdateColumnVisibility(column,responsiveToggle){if(!responsiveToggle&&column.modules.responsive){column.modules.responsive.visible=column.visible;this.initializeResponsivity();}}hideColumn(column){var colCount=this.hiddenColumns.length;column.hide(false,true);if(this.mode===\"collapse\"){this.hiddenColumns.unshift(column);this.generateCollapsedContent();if(this.collapseHandleColumn&&!colCount){this.collapseHandleColumn.show();}}}showColumn(column){var index;column.show(false,true);//set column width to prevent calculation loops on uninitialized columns\ncolumn.setWidth(column.getWidth());if(this.mode===\"collapse\"){index=this.hiddenColumns.indexOf(column);if(index>-1){this.hiddenColumns.splice(index,1);}this.generateCollapsedContent();if(this.collapseHandleColumn&&!this.hiddenColumns.length){this.collapseHandleColumn.hide();}}}//redraw columns to fit space\nupdate(){var working=true;while(working){let width=this.table.modules.layout.getMode()==\"fitColumns\"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth();let diff=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-width;if(diff<0){//table is too wide\nlet column=this.columns[this.index];if(column){this.hideColumn(column);this.index++;}else{working=false;}}else{//table has spare space\nlet column=this.columns[this.index-1];if(column){if(diff>0){if(diff>=column.getWidth()){this.showColumn(column);this.index--;}else{working=false;}}else{working=false;}}else{working=false;}}if(!this.table.rowManager.activeRowsCount){this.table.rowManager.renderEmptyScroll();}}}generateCollapsedContent(){var rows=this.table.rowManager.getDisplayRows();rows.forEach(row=>{this.generateCollapsedRowContent(row);});}generateCollapsedRowContent(row){var el,contents;if(row.modules.responsiveLayout){el=row.modules.responsiveLayout.element;while(el.firstChild)el.removeChild(el.firstChild);contents=this.collapseFormatter(this.generateCollapsedRowData(row));if(contents){el.appendChild(contents);}row.calcHeight(true);}}generateCollapsedRowData(row){var data=row.getData(),output=[],mockCellComponent;this.hiddenColumns.forEach(column=>{var value=column.getFieldValue(data);if(column.definition.title&&column.field){if(column.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){mockCellComponent={value:false,data:{},getValue:function(){return value;},getData:function(){return data;},getType:function(){return\"cell\";},getElement:function(){return document.createElement(\"div\");},getRow:function(){return row.getComponent();},getColumn:function(){return column.getComponent();},getTable:()=>{return this.table;}};function onRendered(callback){callback();}output.push({field:column.field,title:column.definition.title,value:column.modules.format.formatter.call(this.table.modules.format,mockCellComponent,column.modules.format.params,onRendered)});}else{output.push({field:column.field,title:column.definition.title,value:value});}}});return output;}formatCollapsedData(data){var list=document.createElement(\"table\");data.forEach(item=>{var row=document.createElement(\"tr\");var titleData=document.createElement(\"td\");var valueData=document.createElement(\"td\");var node_content;var titleHighlight=document.createElement(\"strong\");titleData.appendChild(titleHighlight);this.modules.localize.bind(\"columns|\"+item.field,function(text){titleHighlight.innerHTML=text||item.title;});if(item.value instanceof Node){node_content=document.createElement(\"div\");node_content.appendChild(item.value);valueData.appendChild(node_content);}else{valueData.innerHTML=item.value;}row.appendChild(titleData);row.appendChild(valueData);list.appendChild(row);});return Object.keys(data).length?list:\"\";}}_defineProperty(ResponsiveLayout,\"moduleName\",\"responsiveLayout\");_defineProperty(ResponsiveLayout,\"moduleExtensions\",extensions$2);function rowSelection(cell,formatterParams,onRendered){var checkbox=document.createElement(\"input\");var blocked=false;checkbox.type='checkbox';checkbox.setAttribute(\"aria-label\",\"Select Row\");if(this.table.modExists(\"selectRow\",true)){checkbox.addEventListener(\"click\",e=>{e.stopPropagation();});if(typeof cell.getRow=='function'){var row=cell.getRow();if(row instanceof RowComponent){checkbox.addEventListener(\"change\",e=>{if(this.table.options.selectableRowsRangeMode===\"click\"){if(!blocked){row.toggleSelect();}else{blocked=false;}}else{row.toggleSelect();}});if(this.table.options.selectableRowsRangeMode===\"click\"){checkbox.addEventListener(\"click\",e=>{blocked=true;this.table.modules.selectRow.handleComplexRowClick(row._row,e);});}checkbox.checked=row.isSelected&&row.isSelected();this.table.modules.selectRow.registerRowSelectCheckbox(row,checkbox);}else{checkbox=\"\";}}else{checkbox.addEventListener(\"change\",e=>{if(this.table.modules.selectRow.selectedRows.length){this.table.deselectRow();}else{this.table.selectRow(formatterParams.rowRange);}});this.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);}}return checkbox;}var extensions$1={format:{formatters:{rowSelection:rowSelection}}};class SelectRow extends Module{constructor(table){super(table);this.selecting=false;//flag selecting in progress\nthis.lastClickedRow=false;//last clicked row\nthis.selectPrev=[];//hold previously selected element for drag drop selection\nthis.selectedRows=[];//hold selected rows\nthis.headerCheckboxElement=null;// hold header select element\nthis.registerTableOption(\"selectableRows\",\"highlight\");//highlight rows on hover\nthis.registerTableOption(\"selectableRowsRangeMode\",\"drag\");//highlight rows on hover\nthis.registerTableOption(\"selectableRowsRollingSelection\",true);//roll selection once maximum number of selectable rows is reached\nthis.registerTableOption(\"selectableRowsPersistence\",true);// maintain selection when table view is updated\nthis.registerTableOption(\"selectableRowsCheck\",function(data,row){return true;});//check whether row is selectable\nthis.registerTableFunction(\"selectRow\",this.selectRows.bind(this));this.registerTableFunction(\"deselectRow\",this.deselectRows.bind(this));this.registerTableFunction(\"toggleSelectRow\",this.toggleRow.bind(this));this.registerTableFunction(\"getSelectedRows\",this.getSelectedRows.bind(this));this.registerTableFunction(\"getSelectedData\",this.getSelectedData.bind(this));//register component functions\nthis.registerComponentFunction(\"row\",\"select\",this.selectRows.bind(this));this.registerComponentFunction(\"row\",\"deselect\",this.deselectRows.bind(this));this.registerComponentFunction(\"row\",\"toggleSelect\",this.toggleRow.bind(this));this.registerComponentFunction(\"row\",\"isSelected\",this.isRowSelected.bind(this));}initialize(){this.deprecatedOptionsCheck();if(this.table.options.selectableRows===\"highlight\"&&this.table.options.selectableRange){this.table.options.selectableRows=false;}if(this.table.options.selectableRows!==false){this.subscribe(\"row-init\",this.initializeRow.bind(this));this.subscribe(\"row-deleting\",this.rowDeleted.bind(this));this.subscribe(\"rows-wipe\",this.clearSelectionData.bind(this));this.subscribe(\"rows-retrieve\",this.rowRetrieve.bind(this));if(this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence){this.subscribe(\"data-refreshing\",this.deselectRows.bind(this));}}}deprecatedOptionsCheck(){// this.deprecationCheck(\"selectable\", \"selectableRows\", true);\n// this.deprecationCheck(\"selectableRollingSelection\", \"selectableRowsRollingSelection\", true);\n// this.deprecationCheck(\"selectableRangeMode\", \"selectableRowsRangeMode\", true);\n// this.deprecationCheck(\"selectablePersistence\", \"selectableRowsPersistence\", true);\n// this.deprecationCheck(\"selectableCheck\", \"selectableRowsCheck\", true);\n}rowRetrieve(type,prevValue){return type===\"selected\"?this.selectedRows:prevValue;}rowDeleted(row){this._deselectRow(row,true);}clearSelectionData(silent){var prevSelected=this.selectedRows.length;this.selecting=false;this.lastClickedRow=false;this.selectPrev=[];this.selectedRows=[];if(prevSelected&&silent!==true){this._rowSelectionChanged();}}initializeRow(row){var self=this,selectable=self.checkRowSelectability(row),element=row.getElement();// trigger end of row selection\nvar endSelect=function(){setTimeout(function(){self.selecting=false;},50);document.body.removeEventListener(\"mouseup\",endSelect);};row.modules.select={selected:false};element.classList.toggle(\"tabulator-selectable\",selectable);element.classList.toggle(\"tabulator-unselectable\",!selectable);//set row selection class\nif(self.checkRowSelectability(row)){if(self.table.options.selectableRows&&self.table.options.selectableRows!=\"highlight\"){if(self.table.options.selectableRowsRangeMode===\"click\"){element.addEventListener(\"click\",this.handleComplexRowClick.bind(this,row));}else{element.addEventListener(\"click\",function(e){if(!self.table.modExists(\"edit\")||!self.table.modules.edit.getCurrentCell()){self.table._clearSelection();}if(!self.selecting){self.toggleRow(row);}});element.addEventListener(\"mousedown\",function(e){if(e.shiftKey){self.table._clearSelection();self.selecting=true;self.selectPrev=[];document.body.addEventListener(\"mouseup\",endSelect);document.body.addEventListener(\"keyup\",endSelect);self.toggleRow(row);return false;}});element.addEventListener(\"mouseenter\",function(e){if(self.selecting){self.table._clearSelection();self.toggleRow(row);if(self.selectPrev[1]==row){self.toggleRow(self.selectPrev[0]);}}});element.addEventListener(\"mouseout\",function(e){if(self.selecting){self.table._clearSelection();self.selectPrev.unshift(row);}});}}}}handleComplexRowClick(row,e){if(e.shiftKey){this.table._clearSelection();this.lastClickedRow=this.lastClickedRow||row;var lastClickedRowIdx=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow);var rowIdx=this.table.rowManager.getDisplayRowIndex(row);var fromRowIdx=lastClickedRowIdx<=rowIdx?lastClickedRowIdx:rowIdx;var toRowIdx=lastClickedRowIdx>=rowIdx?lastClickedRowIdx:rowIdx;var rows=this.table.rowManager.getDisplayRows().slice(0);var toggledRows=rows.splice(fromRowIdx,toRowIdx-fromRowIdx+1);if(e.ctrlKey||e.metaKey){toggledRows.forEach(toggledRow=>{if(toggledRow!==this.lastClickedRow){if(this.table.options.selectableRows!==true&&!this.isRowSelected(row)){if(this.selectedRows.length<this.table.options.selectableRows){this.toggleRow(toggledRow);}}else{this.toggleRow(toggledRow);}}});this.lastClickedRow=row;}else{this.deselectRows(undefined,true);if(this.table.options.selectableRows!==true){if(toggledRows.length>this.table.options.selectableRows){toggledRows=toggledRows.slice(0,this.table.options.selectableRows);}}this.selectRows(toggledRows);}this.table._clearSelection();}else if(e.ctrlKey||e.metaKey){this.toggleRow(row);this.lastClickedRow=row;}else{this.deselectRows(undefined,true);this.selectRows(row);this.lastClickedRow=row;}}checkRowSelectability(row){if(row&&row.type===\"row\"){return this.table.options.selectableRowsCheck.call(this.table,row.getComponent());}return false;}//toggle row selection\ntoggleRow(row){if(this.checkRowSelectability(row)){if(row.modules.select&&row.modules.select.selected){this._deselectRow(row);}else{this._selectRow(row);}}}//select a number of rows\nselectRows(rows){var changes=[],rowMatch,change;switch(typeof rows){case\"undefined\":rowMatch=this.table.rowManager.rows;break;case\"number\":rowMatch=this.table.rowManager.findRow(rows);break;case\"string\":rowMatch=this.table.rowManager.findRow(rows);if(!rowMatch){rowMatch=this.table.rowManager.getRows(rows);}break;default:rowMatch=rows;break;}if(Array.isArray(rowMatch)){if(rowMatch.length){rowMatch.forEach(row=>{change=this._selectRow(row,true,true);if(change){changes.push(change);}});this._rowSelectionChanged(false,changes);}}else{if(rowMatch){this._selectRow(rowMatch,false,true);}}}//select an individual row\n_selectRow(rowInfo,silent,force){//handle max row count\nif(!isNaN(this.table.options.selectableRows)&&this.table.options.selectableRows!==true&&!force){if(this.selectedRows.length>=this.table.options.selectableRows){if(this.table.options.selectableRowsRollingSelection){this._deselectRow(this.selectedRows[0]);}else{return false;}}}var row=this.table.rowManager.findRow(rowInfo);if(row){if(this.selectedRows.indexOf(row)==-1){row.getElement().classList.add(\"tabulator-selected\");if(!row.modules.select){row.modules.select={};}row.modules.select.selected=true;if(row.modules.select.checkboxEl){row.modules.select.checkboxEl.checked=true;}this.selectedRows.push(row);if(this.table.options.dataTreeSelectPropagate){this.childRowSelection(row,true);}this.dispatchExternal(\"rowSelected\",row.getComponent());this._rowSelectionChanged(silent,row);return row;}}else{if(!silent){console.warn(\"Selection Error - No such row found, ignoring selection:\"+rowInfo);}}}isRowSelected(row){return this.selectedRows.indexOf(row)!==-1;}//deselect a number of rows\ndeselectRows(rows,silent){var changes=[],rowMatch,change;switch(typeof rows){case\"undefined\":rowMatch=Object.assign([],this.selectedRows);break;case\"number\":rowMatch=this.table.rowManager.findRow(rows);break;case\"string\":rowMatch=this.table.rowManager.findRow(rows);if(!rowMatch){rowMatch=this.table.rowManager.getRows(rows);}break;default:rowMatch=rows;break;}if(Array.isArray(rowMatch)){if(rowMatch.length){rowMatch.forEach(row=>{change=this._deselectRow(row,true,true);if(change){changes.push(change);}});this._rowSelectionChanged(silent,[],changes);}}else{if(rowMatch){this._deselectRow(rowMatch,silent,true);}}}//deselect an individual row\n_deselectRow(rowInfo,silent){var self=this,row=self.table.rowManager.findRow(rowInfo),index,element;if(row){index=self.selectedRows.findIndex(function(selectedRow){return selectedRow==row;});if(index>-1){element=row.getElement();if(element){element.classList.remove(\"tabulator-selected\");}if(!row.modules.select){row.modules.select={};}row.modules.select.selected=false;if(row.modules.select.checkboxEl){row.modules.select.checkboxEl.checked=false;}self.selectedRows.splice(index,1);if(this.table.options.dataTreeSelectPropagate){this.childRowSelection(row,false);}this.dispatchExternal(\"rowDeselected\",row.getComponent());self._rowSelectionChanged(silent,undefined,row);return row;}}else{if(!silent){console.warn(\"Deselection Error - No such row found, ignoring selection:\"+rowInfo);}}}getSelectedData(){var data=[];this.selectedRows.forEach(function(row){data.push(row.getData());});return data;}getSelectedRows(){var rows=[];this.selectedRows.forEach(function(row){rows.push(row.getComponent());});return rows;}_rowSelectionChanged(silent,selected=[],deselected=[]){if(this.headerCheckboxElement){if(this.selectedRows.length===0){this.headerCheckboxElement.checked=false;this.headerCheckboxElement.indeterminate=false;}else if(this.table.rowManager.rows.length===this.selectedRows.length){this.headerCheckboxElement.checked=true;this.headerCheckboxElement.indeterminate=false;}else{this.headerCheckboxElement.indeterminate=true;this.headerCheckboxElement.checked=false;}}if(!silent){if(!Array.isArray(selected)){selected=[selected];}selected=selected.map(row=>row.getComponent());if(!Array.isArray(deselected)){deselected=[deselected];}deselected=deselected.map(row=>row.getComponent());this.dispatchExternal(\"rowSelectionChanged\",this.getSelectedData(),this.getSelectedRows(),selected,deselected);}}registerRowSelectCheckbox(row,element){if(!row._row.modules.select){row._row.modules.select={};}row._row.modules.select.checkboxEl=element;}registerHeaderSelectCheckbox(element){this.headerCheckboxElement=element;}childRowSelection(row,select){var children=this.table.modules.dataTree.getChildren(row,true,true);if(select){for(let child of children){this._selectRow(child,true);}}else{for(let child of children){this._deselectRow(child,true);}}}}_defineProperty(SelectRow,\"moduleName\",\"selectRow\");_defineProperty(SelectRow,\"moduleExtensions\",extensions$1);class RangeComponent{constructor(range){this._range=range;return new Proxy(this,{get:function(target,name,receiver){if(typeof target[name]!==\"undefined\"){return target[name];}else{return target._range.table.componentFunctionBinder.handle(\"range\",target._range,name);}}});}getElement(){return this._range.element;}getData(){return this._range.getData();}getCells(){return this._range.getCells(true,true);}getStructuredCells(){return this._range.getStructuredCells();}getRows(){return this._range.getRows().map(row=>row.getComponent());}getColumns(){return this._range.getColumns().map(column=>column.getComponent());}getBounds(){return this._range.getBounds();}getTopEdge(){return this._range.top;}getBottomEdge(){return this._range.bottom;}getLeftEdge(){return this._range.left;}getRightEdge(){return this._range.right;}setBounds(start,end){if(this._range.destroyedGuard(\"setBounds\")){this._range.setBounds(start?start._cell:start,end?end._cell:end);}}setStartBound(start){if(this._range.destroyedGuard(\"setStartBound\")){this._range.setEndBound(start?start._cell:start);this._range.rangeManager.layoutElement();}}setEndBound(end){if(this._range.destroyedGuard(\"setEndBound\")){this._range.setEndBound(end?end._cell:end);this._range.rangeManager.layoutElement();}}clearValues(){if(this._range.destroyedGuard(\"clearValues\")){this._range.clearValues();}}remove(){if(this._range.destroyedGuard(\"remove\")){this._range.destroy(true);}}}class Range extends CoreFeature{constructor(table,rangeManager,start,end){super(table);this.rangeManager=rangeManager;this.element=null;this.initialized=false;this.initializing={start:false,end:false};this.destroyed=false;this.top=0;this.bottom=0;this.left=0;this.right=0;this.table=table;this.start={row:0,col:0};this.end={row:0,col:0};if(this.rangeManager.rowHeader){this.left=1;this.right=1;this.start.col=1;this.end.col=1;}this.initElement();setTimeout(()=>{this.initBounds(start,end);});}initElement(){this.element=document.createElement(\"div\");this.element.classList.add(\"tabulator-range\");}initBounds(start,end){this._updateMinMax();if(start){this.setBounds(start,end||start);}}///////////////////////////////////\n///////   Boundary Setup    ///////\n///////////////////////////////////\nsetStart(row,col){if(this.start.row!==row||this.start.col!==col){this.start.row=row;this.start.col=col;this.initializing.start=true;this._updateMinMax();}}setEnd(row,col){if(this.end.row!==row||this.end.col!==col){this.end.row=row;this.end.col=col;this.initializing.end=true;this._updateMinMax();}}setBounds(start,end,visibleRows){if(start){this.setStartBound(start);}this.setEndBound(end||start);this.rangeManager.layoutElement(visibleRows);}setStartBound(element){var row,col;if(element.type===\"column\"){if(this.rangeManager.columnSelection){this.setStart(0,element.getPosition()-1);}}else{row=element.row.position-1;col=element.column.getPosition()-1;if(element.column===this.rangeManager.rowHeader){this.setStart(row,1);}else{this.setStart(row,col);}}}setEndBound(element){var rowsCount=this._getTableRows().length,row,col,isRowHeader;if(element.type===\"column\"){if(this.rangeManager.columnSelection){if(this.rangeManager.selecting===\"column\"){this.setEnd(rowsCount-1,element.getPosition()-1);}else if(this.rangeManager.selecting===\"cell\"){this.setEnd(0,element.getPosition()-1);}}}else{row=element.row.position-1;col=element.column.getPosition()-1;isRowHeader=element.column===this.rangeManager.rowHeader;if(this.rangeManager.selecting===\"row\"){this.setEnd(row,this._getTableColumns().length-1);}else if(this.rangeManager.selecting!==\"row\"&&isRowHeader){this.setEnd(row,0);}else if(this.rangeManager.selecting===\"column\"){this.setEnd(rowsCount-1,col);}else{this.setEnd(row,col);}}}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row);this.bottom=Math.max(this.start.row,this.end.row);this.left=Math.min(this.start.col,this.end.col);this.right=Math.max(this.start.col,this.end.col);if(this.initialized){this.dispatchExternal(\"rangeChanged\",this.getComponent());}else{if(this.initializing.start&&this.initializing.end){this.initialized=true;this.dispatchExternal(\"rangeAdded\",this.getComponent());}}}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex();}_getTableRows(){return this.table.rowManager.getDisplayRows().filter(row=>row.type===\"row\");}///////////////////////////////////\n///////      Rendering      ///////\n///////////////////////////////////\nlayout(){var _vDomTop=this.table.rowManager.renderer.vDomTop,_vDomBottom=this.table.rowManager.renderer.vDomBottom,_vDomLeft=this.table.columnManager.renderer.leftCol,_vDomRight=this.table.columnManager.renderer.rightCol,top,bottom,left,right,topLeftCell,bottomRightCell,topLeftCellEl,bottomRightCellEl,topLeftRowEl,bottomRightRowEl;if(this.table.options.renderHorizontal===\"virtual\"&&this.rangeManager.rowHeader){_vDomRight+=1;}if(_vDomTop==null){_vDomTop=0;}if(_vDomBottom==null){_vDomBottom=Infinity;}if(_vDomLeft==null){_vDomLeft=0;}if(_vDomRight==null){_vDomRight=Infinity;}if(this.overlaps(_vDomLeft,_vDomTop,_vDomRight,_vDomBottom)){top=Math.max(this.top,_vDomTop);bottom=Math.min(this.bottom,_vDomBottom);left=Math.max(this.left,_vDomLeft);right=Math.min(this.right,_vDomRight);topLeftCell=this.rangeManager.getCell(top,left);bottomRightCell=this.rangeManager.getCell(bottom,right);topLeftCellEl=topLeftCell.getElement();bottomRightCellEl=bottomRightCell.getElement();topLeftRowEl=topLeftCell.row.getElement();bottomRightRowEl=bottomRightCell.row.getElement();this.element.classList.add(\"tabulator-range-active\");// this.element.classList.toggle(\"tabulator-range-active\", this === this.rangeManager.activeRange);\nif(this.table.rtl){this.element.style.right=topLeftRowEl.offsetWidth-topLeftCellEl.offsetLeft-topLeftCellEl.offsetWidth+\"px\";this.element.style.width=topLeftCellEl.offsetLeft+topLeftCellEl.offsetWidth-bottomRightCellEl.offsetLeft+\"px\";}else{this.element.style.left=topLeftRowEl.offsetLeft+topLeftCellEl.offsetLeft+\"px\";this.element.style.width=bottomRightCellEl.offsetLeft+bottomRightCellEl.offsetWidth-topLeftCellEl.offsetLeft+\"px\";}this.element.style.top=topLeftRowEl.offsetTop+\"px\";this.element.style.height=bottomRightRowEl.offsetTop+bottomRightRowEl.offsetHeight-topLeftRowEl.offsetTop+\"px\";}}atTopLeft(cell){return cell.row.position-1===this.top&&cell.column.getPosition()-1===this.left;}atBottomRight(cell){return cell.row.position-1===this.bottom&&cell.column.getPosition()-1===this.right;}occupies(cell){return this.occupiesRow(cell.row)&&this.occupiesColumn(cell.column);}occupiesRow(row){return this.top<=row.position-1&&row.position-1<=this.bottom;}occupiesColumn(col){return this.left<=col.getPosition()-1&&col.getPosition()-1<=this.right;}overlaps(left,top,right,bottom){if(this.left>right||left>this.right||this.top>bottom||top>this.bottom){return false;}return true;}getData(){var data=[],rows=this.getRows(),columns=this.getColumns();rows.forEach(row=>{var rowData=row.getData(),result={};columns.forEach(column=>{result[column.field]=rowData[column.field];});data.push(result);});return data;}getCells(structured,component){var cells=[],rows=this.getRows(),columns=this.getColumns();if(structured){cells=rows.map(row=>{var arr=[];row.getCells().forEach(cell=>{if(columns.includes(cell.column)){arr.push(component?cell.getComponent():cell);}});return arr;});}else{rows.forEach(row=>{row.getCells().forEach(cell=>{if(columns.includes(cell.column)){cells.push(component?cell.getComponent():cell);}});});}return cells;}getStructuredCells(){return this.getCells(true,true);}getRows(){return this._getTableRows().slice(this.top,this.bottom+1);}getColumns(){return this._getTableColumns().slice(this.left,this.right+1);}clearValues(){var cells=this.getCells();var clearValue=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw();cells.forEach(cell=>{cell.setValue(clearValue);});this.table.restoreRedraw();}getBounds(component){var cells=this.getCells(false,component),output={start:null,end:null};if(cells.length){output.start=cells[0];output.end=cells[cells.length-1];}else{console.warn(\"No bounds defined on range\");}return output;}getComponent(){if(!this.component){this.component=new RangeComponent(this);}return this.component;}destroy(notify){this.destroyed=true;this.element.remove();if(notify){this.rangeManager.rangeRemoved(this);}if(this.initialized){this.dispatchExternal(\"rangeRemoved\",this.getComponent());}}destroyedGuard(func){if(this.destroyed){console.warn(\"You cannot call the \"+func+\" function on a destroyed range\");}return!this.destroyed;}}var bindings={rangeJumpUp:[\"ctrl + 38\",\"meta + 38\"],rangeJumpDown:[\"ctrl + 40\",\"meta + 40\"],rangeJumpLeft:[\"ctrl + 37\",\"meta + 37\"],rangeJumpRight:[\"ctrl + 39\",\"meta + 39\"],rangeExpandUp:\"shift + 38\",rangeExpandDown:\"shift + 40\",rangeExpandLeft:\"shift + 37\",rangeExpandRight:\"shift + 39\",rangeExpandJumpUp:[\"ctrl + shift + 38\",\"meta + shift + 38\"],rangeExpandJumpDown:[\"ctrl + shift + 40\",\"meta + shift + 40\"],rangeExpandJumpLeft:[\"ctrl + shift + 37\",\"meta + shift + 37\"],rangeExpandJumpRight:[\"ctrl + shift + 39\",\"meta + shift + 39\"]};var actions={rangeJumpLeft:function(e){this.dispatch(\"keybinding-nav-range\",e,\"left\",true,false);},rangeJumpRight:function(e){this.dispatch(\"keybinding-nav-range\",e,\"right\",true,false);},rangeJumpUp:function(e){this.dispatch(\"keybinding-nav-range\",e,\"up\",true,false);},rangeJumpDown:function(e){this.dispatch(\"keybinding-nav-range\",e,\"down\",true,false);},rangeExpandLeft:function(e){this.dispatch(\"keybinding-nav-range\",e,\"left\",false,true);},rangeExpandRight:function(e){this.dispatch(\"keybinding-nav-range\",e,\"right\",false,true);},rangeExpandUp:function(e){this.dispatch(\"keybinding-nav-range\",e,\"up\",false,true);},rangeExpandDown:function(e){this.dispatch(\"keybinding-nav-range\",e,\"down\",false,true);},rangeExpandJumpLeft:function(e){this.dispatch(\"keybinding-nav-range\",e,\"left\",true,true);},rangeExpandJumpRight:function(e){this.dispatch(\"keybinding-nav-range\",e,\"right\",true,true);},rangeExpandJumpUp:function(e){this.dispatch(\"keybinding-nav-range\",e,\"up\",true,true);},rangeExpandJumpDown:function(e){this.dispatch(\"keybinding-nav-range\",e,\"down\",true,true);}};var pasteActions={range:function(data){var rows=[],range=this.table.modules.selectRange.activeRange,singleCell=false,bounds,startCell,startRow,rowWidth,dataLength;dataLength=data.length;if(range){bounds=range.getBounds();startCell=bounds.start;if(bounds.start===bounds.end){singleCell=true;}if(startCell){rows=this.table.rowManager.activeRows.slice();startRow=rows.indexOf(startCell.row);if(singleCell){rowWidth=data.length;}else{rowWidth=rows.indexOf(bounds.end.row)-startRow+1;}if(startRow>-1){this.table.blockRedraw();rows=rows.slice(startRow,startRow+rowWidth);rows.forEach((row,i)=>{row.updateData(data[i%dataLength]);});this.table.restoreRedraw();}}}return rows;}};var pasteParsers={range:function(clipboard){var data=[],rows=[],range=this.table.modules.selectRange.activeRange,singleCell=false,bounds,startCell,colWidth,columnMap,startCol;if(range){bounds=range.getBounds();startCell=bounds.start;if(bounds.start===bounds.end){singleCell=true;}if(startCell){//get data from clipboard into array of columns and rows.\nclipboard=clipboard.split(\"\\n\");clipboard.forEach(function(row){data.push(row.split(\"\\t\"));});if(data.length){columnMap=this.table.columnManager.getVisibleColumnsByIndex();startCol=columnMap.indexOf(startCell.column);if(startCol>-1){if(singleCell){colWidth=data[0].length;}else{colWidth=columnMap.indexOf(bounds.end.column)-startCol+1;}columnMap=columnMap.slice(startCol,startCol+colWidth);data.forEach(item=>{var row={};var itemLength=item.length;columnMap.forEach(function(col,i){row[col.field]=item[i%itemLength];});rows.push(row);});return rows;}}}}return false;}};var columnLookups={range:function(){var columns=this.modules.selectRange.selectedColumns();if(this.columnManager.rowHeader){columns.unshift(this.columnManager.rowHeader);}return columns;}};var rowLookups={range:function(){return this.modules.selectRange.selectedRows();}};var extensions={keybindings:{bindings:bindings,actions:actions},clipboard:{pasteActions:pasteActions,pasteParsers:pasteParsers},export:{columnLookups:columnLookups,rowLookups:rowLookups}};class SelectRange extends Module{constructor(table){super(table);this.selecting=\"cell\";this.mousedown=false;this.ranges=[];this.overlay=null;this.rowHeader=null;this.layoutChangeTimeout=null;this.columnSelection=false;this.rowSelection=false;this.maxRanges=0;this.activeRange=false;this.blockKeydown=false;this.keyDownEvent=this._handleKeyDown.bind(this);this.mouseUpEvent=this._handleMouseUp.bind(this);this.registerTableOption(\"selectableRange\",false);//enable selectable range\nthis.registerTableOption(\"selectableRangeColumns\",false);//enable selectable range\nthis.registerTableOption(\"selectableRangeRows\",false);//enable selectable range\nthis.registerTableOption(\"selectableRangeClearCells\",false);//allow clearing of active range\nthis.registerTableOption(\"selectableRangeClearCellsValue\",undefined);//value for cleared active range\nthis.registerTableOption(\"selectableRangeAutoFocus\",true);//focus on a cell after resetRanges\nthis.registerTableFunction(\"getRangesData\",this.getRangesData.bind(this));this.registerTableFunction(\"getRanges\",this.getRanges.bind(this));this.registerTableFunction(\"addRange\",this.addRangeFromComponent.bind(this));this.registerComponentFunction(\"cell\",\"getRanges\",this.cellGetRanges.bind(this));this.registerComponentFunction(\"row\",\"getRanges\",this.rowGetRanges.bind(this));this.registerComponentFunction(\"column\",\"getRanges\",this.colGetRanges.bind(this));}///////////////////////////////////\n///////    Initialization   ///////\n///////////////////////////////////\ninitialize(){if(this.options(\"selectableRange\")){if(!this.options(\"selectableRows\")){this.maxRanges=this.options(\"selectableRange\");this.initializeTable();this.initializeWatchers();}else{console.warn(\"SelectRange functionality cannot be used in conjunction with row selection\");}if(this.options('columns').findIndex(column=>column.frozen)>0){console.warn(\"Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior.\");}if(this.options('columns').filter(column=>column.frozen)>1){console.warn(\"Having multiple frozen columns with selectRange option may result in unpredictable behavior.\");}}}initializeTable(){this.overlay=document.createElement(\"div\");this.overlay.classList.add(\"tabulator-range-overlay\");this.rangeContainer=document.createElement(\"div\");this.rangeContainer.classList.add(\"tabulator-range-container\");this.activeRangeCellElement=document.createElement(\"div\");this.activeRangeCellElement.classList.add(\"tabulator-range-cell-active\");this.overlay.appendChild(this.rangeContainer);this.overlay.appendChild(this.activeRangeCellElement);this.table.rowManager.element.addEventListener(\"keydown\",this.keyDownEvent);this.resetRanges();this.table.rowManager.element.appendChild(this.overlay);this.table.columnManager.element.setAttribute(\"tabindex\",0);this.table.element.classList.add(\"tabulator-ranges\");}initializeWatchers(){this.columnSelection=this.options(\"selectableRangeColumns\");this.rowSelection=this.options(\"selectableRangeRows\");this.subscribe(\"column-init\",this.initializeColumn.bind(this));this.subscribe(\"column-mousedown\",this.handleColumnMouseDown.bind(this));this.subscribe(\"column-mousemove\",this.handleColumnMouseMove.bind(this));this.subscribe(\"column-resized\",this.handleColumnResized.bind(this));this.subscribe(\"column-moving\",this.handleColumnMoving.bind(this));this.subscribe(\"column-moved\",this.handleColumnMoved.bind(this));this.subscribe(\"column-width\",this.layoutChange.bind(this));this.subscribe(\"column-height\",this.layoutChange.bind(this));this.subscribe(\"column-resized\",this.layoutChange.bind(this));this.subscribe(\"columns-loaded\",this.updateHeaderColumn.bind(this));this.subscribe(\"cell-height\",this.layoutChange.bind(this));this.subscribe(\"cell-rendered\",this.renderCell.bind(this));this.subscribe(\"cell-mousedown\",this.handleCellMouseDown.bind(this));this.subscribe(\"cell-mousemove\",this.handleCellMouseMove.bind(this));this.subscribe(\"cell-click\",this.handleCellClick.bind(this));this.subscribe(\"cell-editing\",this.handleEditingCell.bind(this));this.subscribe(\"page-changed\",this.redraw.bind(this));this.subscribe(\"scroll-vertical\",this.layoutChange.bind(this));this.subscribe(\"scroll-horizontal\",this.layoutChange.bind(this));this.subscribe(\"data-destroy\",this.tableDestroyed.bind(this));this.subscribe(\"data-processed\",this.resetRanges.bind(this));this.subscribe(\"table-layout\",this.layoutElement.bind(this));this.subscribe(\"table-redraw\",this.redraw.bind(this));this.subscribe(\"table-destroy\",this.tableDestroyed.bind(this));this.subscribe(\"edit-editor-clear\",this.finishEditingCell.bind(this));this.subscribe(\"edit-blur\",this.restoreFocus.bind(this));this.subscribe(\"keybinding-nav-prev\",this.keyNavigate.bind(this,\"left\"));this.subscribe(\"keybinding-nav-next\",this.keyNavigate.bind(this,\"right\"));this.subscribe(\"keybinding-nav-left\",this.keyNavigate.bind(this,\"left\"));this.subscribe(\"keybinding-nav-right\",this.keyNavigate.bind(this,\"right\"));this.subscribe(\"keybinding-nav-up\",this.keyNavigate.bind(this,\"up\"));this.subscribe(\"keybinding-nav-down\",this.keyNavigate.bind(this,\"down\"));this.subscribe(\"keybinding-nav-range\",this.keyNavigateRange.bind(this));}initializeColumn(column){if(this.columnSelection&&column.definition.headerSort&&this.options(\"headerSortClickElement\")!==\"icon\"){console.warn(\"Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'.\");}if(column.modules.edit);}updateHeaderColumn(){var frozenCols;if(this.rowSelection){this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0];if(this.rowHeader){this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+\" tabulator-range-row-header\";if(this.rowHeader.definition.headerSort){console.warn(\"Using column headerSort with selectableRangeRows option may result in unpredictable behavior\");}if(this.rowHeader.definition.editor){console.warn(\"Using column editor with selectableRangeRows option may result in unpredictable behavior\");}}}//warn if invalid frozen column configuration detected\nif(this.table.modules.frozenColumns&&this.table.modules.frozenColumns.active){frozenCols=this.table.modules.frozenColumns.getFrozenColumns();if(frozenCols.length>1||frozenCols.length===1&&frozenCols[0]!==this.rowHeader){console.warn(\"Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior\");}}}///////////////////////////////////\n///////   Table Functions   ///////\n///////////////////////////////////\ngetRanges(){return this.ranges.map(range=>range.getComponent());}getRangesData(){return this.ranges.map(range=>range.getData());}addRangeFromComponent(start,end){start=start?start._cell:null;end=end?end._cell:null;return this.addRange(start,end);}///////////////////////////////////\n/////// Component Functions ///////\n///////////////////////////////////\ncellGetRanges(cell){var ranges=[];if(cell.column===this.rowHeader){ranges=this.ranges.filter(range=>range.occupiesRow(cell.row));}else{ranges=this.ranges.filter(range=>range.occupies(cell));}return ranges.map(range=>range.getComponent());}rowGetRanges(row){var ranges=this.ranges.filter(range=>range.occupiesRow(row));return ranges.map(range=>range.getComponent());}colGetRanges(col){var ranges=this.ranges.filter(range=>range.occupiesColumn(col));return ranges.map(range=>range.getComponent());}///////////////////////////////////\n////////// Event Handlers /////////\n///////////////////////////////////\n_handleMouseUp(e){this.mousedown=false;document.removeEventListener(\"mouseup\",this.mouseUpEvent);}_handleKeyDown(e){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if(e.key===\"Enter\"){// is editing a cell?\nif(this.table.modules.edit&&this.table.modules.edit.currentCell){return;}this.table.modules.edit.editCell(this.getActiveCell());e.preventDefault();}if((e.key===\"Backspace\"||e.key===\"Delete\")&&this.options(\"selectableRangeClearCells\")){if(this.activeRange){this.activeRange.clearValues();}}}}initializeFocus(cell){var range;this.restoreFocus();try{if(document.selection){// IE\nrange=document.body.createTextRange();range.moveToElementText(cell.getElement());range.select();}else if(window.getSelection){range=document.createRange();range.selectNode(cell.getElement());window.getSelection().removeAllRanges();window.getSelection().addRange(range);}}catch(e){}}restoreFocus(element){this.table.rowManager.element.focus();return true;}///////////////////////////////////\n////// Column Functionality ///////\n///////////////////////////////////\nhandleColumnResized(column){var selected;if(this.selecting!==\"column\"&&this.selecting!==\"all\"){return;}selected=this.ranges.some(range=>range.occupiesColumn(column));if(!selected){return;}this.ranges.forEach(range=>{var selectedColumns=range.getColumns(true);selectedColumns.forEach(selectedColumn=>{if(selectedColumn!==column){selectedColumn.setWidth(column.width);}});});}handleColumnMoving(_event,column){this.resetRanges().setBounds(column);this.overlay.style.visibility=\"hidden\";}handleColumnMoved(from,_to,_after){this.activeRange.setBounds(from);this.layoutElement();}handleColumnMouseDown(event,column){if(event.button===2&&(this.selecting===\"column\"||this.selecting===\"all\")&&this.activeRange.occupiesColumn(column)){return;}//If columns are movable, allow dragging columns only if they are not\n//selected. Dragging selected columns should move the columns instead.\nif(this.table.options.movableColumns&&this.selecting===\"column\"&&this.activeRange.occupiesColumn(column)){return;}this.mousedown=true;document.addEventListener(\"mouseup\",this.mouseUpEvent);this.newSelection(event,column);}handleColumnMouseMove(e,column){if(column===this.rowHeader||!this.mousedown||this.selecting==='all'){return;}this.activeRange.setBounds(false,column,true);}///////////////////////////////////\n//////// Cell Functionality ///////\n///////////////////////////////////\nrenderCell(cell){var el=cell.getElement(),rangeIdx=this.ranges.findIndex(range=>range.occupies(cell));el.classList.toggle(\"tabulator-range-selected\",rangeIdx!==-1);el.classList.toggle(\"tabulator-range-only-cell-selected\",this.ranges.length===1&&this.ranges[0].atTopLeft(cell)&&this.ranges[0].atBottomRight(cell));el.dataset.range=rangeIdx;}handleCellMouseDown(event,cell){if(event.button===2&&(this.activeRange.occupies(cell)||(this.selecting===\"row\"||this.selecting===\"all\")&&this.activeRange.occupiesRow(cell.row))){return;}this.mousedown=true;document.addEventListener(\"mouseup\",this.mouseUpEvent);this.newSelection(event,cell);}handleCellMouseMove(e,cell){if(!this.mousedown||this.selecting===\"all\"){return;}this.activeRange.setBounds(false,cell,true);}handleCellClick(e,cell){this.initializeFocus(cell);}handleEditingCell(cell){if(this.activeRange){this.activeRange.setBounds(cell);}}finishEditingCell(){this.blockKeydown=true;this.table.rowManager.element.focus();setTimeout(()=>{this.blockKeydown=false;},10);}///////////////////////////////////\n///////     Navigation      ///////\n///////////////////////////////////\nkeyNavigate(dir,e){if(this.navigate(false,false,dir));e.preventDefault();}keyNavigateRange(e,dir,jump,expand){if(this.navigate(jump,expand,dir));e.preventDefault();}navigate(jump,expand,dir){var moved=false,range,rangeEdge,prevRect,nextRow,nextCol,row,column,rowRect,rowManagerRect,columnRect,columnManagerRect;// Don't navigate while editing\nif(this.table.modules.edit&&this.table.modules.edit.currentCell){return false;}// If there are more than 1 range, use the active range and destroy the others\nif(this.ranges.length>1){this.ranges=this.ranges.filter(range=>{if(range===this.activeRange){range.setEnd(range.start.row,range.start.col);return true;}range.destroy();return false;});}range=this.activeRange;prevRect={top:range.top,bottom:range.bottom,left:range.left,right:range.right};rangeEdge=expand?range.end:range.start;nextRow=rangeEdge.row;nextCol=rangeEdge.col;if(jump){switch(dir){case\"left\":nextCol=this.findJumpCellLeft(range.start.row,rangeEdge.col);break;case\"right\":nextCol=this.findJumpCellRight(range.start.row,rangeEdge.col);break;case\"up\":nextRow=this.findJumpCellUp(rangeEdge.row,range.start.col);break;case\"down\":nextRow=this.findJumpCellDown(rangeEdge.row,range.start.col);break;}}else{if(expand){if(this.selecting==='row'&&(dir==='left'||dir==='right')||this.selecting==='column'&&(dir==='up'||dir==='down')){return;}}switch(dir){case\"left\":nextCol=Math.max(nextCol-1,0);break;case\"right\":nextCol=Math.min(nextCol+1,this.getTableColumns().length-1);break;case\"up\":nextRow=Math.max(nextRow-1,0);break;case\"down\":nextRow=Math.min(nextRow+1,this.getTableRows().length-1);break;}}if(this.rowHeader&&nextCol===0){nextCol=1;}if(!expand){range.setStart(nextRow,nextCol);}range.setEnd(nextRow,nextCol);if(!expand){this.selecting=\"cell\";}moved=prevRect.top!==range.top||prevRect.bottom!==range.bottom||prevRect.left!==range.left||prevRect.right!==range.right;if(moved){row=this.getRowByRangePos(range.end.row);column=this.getColumnByRangePos(range.end.col);rowRect=row.getElement().getBoundingClientRect();columnRect=column.getElement().getBoundingClientRect();rowManagerRect=this.table.rowManager.getElement().getBoundingClientRect();columnManagerRect=this.table.columnManager.getElement().getBoundingClientRect();if(!(rowRect.top>=rowManagerRect.top&&rowRect.bottom<=rowManagerRect.bottom)){if(row.getElement().parentNode&&column.getElement().parentNode){// Use faster autoScroll when the elements are on the DOM\nthis.autoScroll(range,row.getElement(),column.getElement());}else{row.getComponent().scrollTo(undefined,false);}}if(!(columnRect.left>=columnManagerRect.left+this.getRowHeaderWidth()&&columnRect.right<=columnManagerRect.right)){if(row.getElement().parentNode&&column.getElement().parentNode){// Use faster autoScroll when the elements are on the DOM\nthis.autoScroll(range,row.getElement(),column.getElement());}else{column.getComponent().scrollTo(undefined,false);}}this.layoutElement();return true;}}rangeRemoved(removed){this.ranges=this.ranges.filter(range=>range!==removed);if(this.activeRange===removed){if(this.ranges.length){this.activeRange=this.ranges[this.ranges.length-1];}else{this.addRange();}}this.layoutElement();}findJumpRow(column,rows,reverse,emptyStart,emptySide){if(reverse){rows=rows.reverse();}return this.findJumpItem(emptyStart,emptySide,rows,function(row){return row.getData()[column.getField()];});}findJumpCol(row,columns,reverse,emptyStart,emptySide){if(reverse){columns=columns.reverse();}return this.findJumpItem(emptyStart,emptySide,columns,function(column){return row.getData()[column.getField()];});}findJumpItem(emptyStart,emptySide,items,valueResolver){var nextItem;for(let currentItem of items){let currentValue=valueResolver(currentItem);if(emptyStart){nextItem=currentItem;if(currentValue){break;}}else{if(emptySide){nextItem=currentItem;if(currentValue){break;}}else{if(currentValue){nextItem=currentItem;}else{break;}}}}return nextItem;}findJumpCellLeft(rowPos,colPos){var row=this.getRowByRangePos(rowPos),columns=this.getTableColumns(),isStartingCellEmpty=this.isEmpty(row.getData()[columns[colPos].getField()]),isLeftOfStartingCellEmpty=columns[colPos-1]?this.isEmpty(row.getData()[columns[colPos-1].getField()]):false,targetCols=this.rowHeader?columns.slice(1,colPos):columns.slice(0,colPos),jumpCol=this.findJumpCol(row,targetCols,true,isStartingCellEmpty,isLeftOfStartingCellEmpty);if(jumpCol){return jumpCol.getPosition()-1;}return colPos;}findJumpCellRight(rowPos,colPos){var row=this.getRowByRangePos(rowPos),columns=this.getTableColumns(),isStartingCellEmpty=this.isEmpty(row.getData()[columns[colPos].getField()]),isRightOfStartingCellEmpty=columns[colPos+1]?this.isEmpty(row.getData()[columns[colPos+1].getField()]):false,jumpCol=this.findJumpCol(row,columns.slice(colPos+1,columns.length),false,isStartingCellEmpty,isRightOfStartingCellEmpty);if(jumpCol){return jumpCol.getPosition()-1;}return colPos;}findJumpCellUp(rowPos,colPos){var column=this.getColumnByRangePos(colPos),rows=this.getTableRows(),isStartingCellEmpty=this.isEmpty(rows[rowPos].getData()[column.getField()]),isTopOfStartingCellEmpty=rows[rowPos-1]?this.isEmpty(rows[rowPos-1].getData()[column.getField()]):false,jumpRow=this.findJumpRow(column,rows.slice(0,rowPos),true,isStartingCellEmpty,isTopOfStartingCellEmpty);if(jumpRow){return jumpRow.position-1;}return rowPos;}findJumpCellDown(rowPos,colPos){var column=this.getColumnByRangePos(colPos),rows=this.getTableRows(),isStartingCellEmpty=this.isEmpty(rows[rowPos].getData()[column.getField()]),isBottomOfStartingCellEmpty=rows[rowPos+1]?this.isEmpty(rows[rowPos+1].getData()[column.getField()]):false,jumpRow=this.findJumpRow(column,rows.slice(rowPos+1,rows.length),false,isStartingCellEmpty,isBottomOfStartingCellEmpty);if(jumpRow){return jumpRow.position-1;}return rowPos;}///////////////////////////////////\n///////      Selection      ///////\n///////////////////////////////////\nnewSelection(event,element){var range;if(element.type===\"column\"){if(!this.columnSelection){return;}if(element===this.rowHeader){range=this.resetRanges();this.selecting=\"all\";var topLeftCell,bottomRightCell=this.getCell(-1,-1);if(this.rowHeader){topLeftCell=this.getCell(0,1);}else{topLeftCell=this.getCell(0,0);}range.setBounds(topLeftCell,bottomRightCell);return;}else{this.selecting=\"column\";}}else if(element.column===this.rowHeader){this.selecting=\"row\";}else{this.selecting=\"cell\";}if(event.shiftKey){this.activeRange.setBounds(false,element);}else if(event.ctrlKey){this.addRange().setBounds(element);}else{this.resetRanges().setBounds(element);}}autoScroll(range,row,column){var tableHolder=this.table.rowManager.element,rect,view,withinHorizontalView,withinVerticalView;if(typeof row==='undefined'){row=this.getRowByRangePos(range.end.row).getElement();}if(typeof column==='undefined'){column=this.getColumnByRangePos(range.end.col).getElement();}rect={left:column.offsetLeft,right:column.offsetLeft+column.offsetWidth,top:row.offsetTop,bottom:row.offsetTop+row.offsetHeight};view={left:tableHolder.scrollLeft+this.getRowHeaderWidth(),right:Math.ceil(tableHolder.scrollLeft+tableHolder.clientWidth),top:tableHolder.scrollTop,bottom:tableHolder.scrollTop+tableHolder.offsetHeight-this.table.rowManager.scrollbarWidth};withinHorizontalView=view.left<rect.left&&rect.left<view.right&&view.left<rect.right&&rect.right<view.right;withinVerticalView=view.top<rect.top&&rect.top<view.bottom&&view.top<rect.bottom&&rect.bottom<view.bottom;if(!withinHorizontalView){if(rect.left<view.left){tableHolder.scrollLeft=rect.left-this.getRowHeaderWidth();}else if(rect.right>view.right){tableHolder.scrollLeft=Math.min(rect.right-tableHolder.clientWidth,rect.left-this.getRowHeaderWidth());}}if(!withinVerticalView){if(rect.top<view.top){tableHolder.scrollTop=rect.top;}else if(rect.bottom>view.bottom){tableHolder.scrollTop=rect.bottom-tableHolder.clientHeight;}}}///////////////////////////////////\n///////       Layout        ///////\n///////////////////////////////////\nlayoutChange(){this.overlay.style.visibility=\"hidden\";clearTimeout(this.layoutChangeTimeout);this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200);}redraw(force){if(force){this.selecting='cell';this.resetRanges();this.layoutElement();}}layoutElement(visibleRows){var rows;if(visibleRows){rows=this.table.rowManager.getVisibleRows(true);}else{rows=this.table.rowManager.getRows();}rows.forEach(row=>{if(row.type===\"row\"){this.layoutRow(row);row.cells.forEach(cell=>this.renderCell(cell));}});this.getTableColumns().forEach(column=>{this.layoutColumn(column);});this.layoutRanges();}layoutRow(row){var el=row.getElement(),selected=false,occupied=this.ranges.some(range=>range.occupiesRow(row));if(this.selecting===\"row\"){selected=occupied;}else if(this.selecting===\"all\"){selected=true;}el.classList.toggle(\"tabulator-range-selected\",selected);el.classList.toggle(\"tabulator-range-highlight\",occupied);}layoutColumn(column){var el=column.getElement(),selected=false,occupied=this.ranges.some(range=>range.occupiesColumn(column));if(this.selecting===\"column\"){selected=occupied;}else if(this.selecting===\"all\"){selected=true;}el.classList.toggle(\"tabulator-range-selected\",selected);el.classList.toggle(\"tabulator-range-highlight\",occupied);}layoutRanges(){var activeCell,activeCellEl,activeRowEl;if(!this.table.initialized){return;}activeCell=this.getActiveCell();if(!activeCell){return;}activeCellEl=activeCell.getElement();activeRowEl=activeCell.row.getElement();if(this.table.rtl){this.activeRangeCellElement.style.right=activeRowEl.offsetWidth-activeCellEl.offsetLeft-activeCellEl.offsetWidth+\"px\";}else{this.activeRangeCellElement.style.left=activeRowEl.offsetLeft+activeCellEl.offsetLeft+\"px\";}this.activeRangeCellElement.style.top=activeRowEl.offsetTop+\"px\";this.activeRangeCellElement.style.width=activeCellEl.offsetWidth+\"px\";this.activeRangeCellElement.style.height=activeRowEl.offsetHeight+\"px\";this.ranges.forEach(range=>range.layout());this.overlay.style.visibility=\"visible\";}///////////////////////////////////\n///////  Helper Functions   ///////\n///////////////////////////////////\t\ngetCell(rowIdx,colIdx){var row;if(colIdx<0){colIdx=this.getTableColumns().length+colIdx;if(colIdx<0){return null;}}if(rowIdx<0){rowIdx=this.getTableRows().length+rowIdx;}row=this.table.rowManager.getRowFromPosition(rowIdx+1);return row?row.getCells(false,true).filter(cell=>cell.column.visible)[colIdx]:null;}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col);}getRowByRangePos(pos){return this.getTableRows()[pos];}getColumnByRangePos(pos){return this.getTableColumns()[pos];}getTableRows(){return this.table.rowManager.getDisplayRows().filter(row=>row.type===\"row\");}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex();}addRange(start,end){var range;if(this.maxRanges!==true&&this.ranges.length>=this.maxRanges){this.ranges.shift().destroy();}range=new Range(this.table,this,start,end);this.activeRange=range;this.ranges.push(range);this.rangeContainer.appendChild(range.element);return range;}resetRanges(){var range,cell,visibleCells;this.ranges.forEach(range=>range.destroy());this.ranges=[];range=this.addRange();if(this.table.rowManager.activeRows.length){visibleCells=this.table.rowManager.activeRows[0].cells.filter(cell=>cell.column.visible);cell=visibleCells[this.rowHeader?1:0];if(cell){range.setBounds(cell);if(this.options(\"selectableRangeAutoFocus\")){this.initializeFocus(cell);}}}return range;}tableDestroyed(){document.removeEventListener(\"mouseup\",this.mouseUpEvent);this.table.rowManager.element.removeEventListener(\"keydown\",this.keyDownEvent);}selectedRows(component){return component?this.activeRange.getRows().map(row=>row.getComponent()):this.activeRange.getRows();}selectedColumns(component){return component?this.activeRange.getColumns().map(col=>col.getComponent()):this.activeRange.getColumns();}getRowHeaderWidth(){if(!this.rowHeader){return 0;}return this.rowHeader.getElement().offsetWidth;}isEmpty(value){return value===null||value===undefined||value===\"\";}}//sort numbers\n_defineProperty(SelectRange,\"moduleName\",\"selectRange\");_defineProperty(SelectRange,\"moduleInitOrder\",1);_defineProperty(SelectRange,\"moduleExtensions\",extensions);function number(a,b,aRow,bRow,column,dir,params){var alignEmptyValues=params.alignEmptyValues;var decimal=params.decimalSeparator;var thousand=params.thousandSeparator;var emptyAlign=0;a=String(a);b=String(b);if(thousand){a=a.split(thousand).join(\"\");b=b.split(thousand).join(\"\");}if(decimal){a=a.split(decimal).join(\".\");b=b.split(decimal).join(\".\");}a=parseFloat(a);b=parseFloat(b);//handle non numeric values\nif(isNaN(a)){emptyAlign=isNaN(b)?0:-1;}else if(isNaN(b)){emptyAlign=1;}else{//compare valid values\nreturn a-b;}//fix empty values in position\nif(alignEmptyValues===\"top\"&&dir===\"desc\"||alignEmptyValues===\"bottom\"&&dir===\"asc\"){emptyAlign*=-1;}return emptyAlign;}//sort strings\nfunction string(a,b,aRow,bRow,column,dir,params){var alignEmptyValues=params.alignEmptyValues;var emptyAlign=0;var locale;//handle empty values\nif(!a){emptyAlign=!b?0:-1;}else if(!b){emptyAlign=1;}else{//compare valid values\nswitch(typeof params.locale){case\"boolean\":if(params.locale){locale=this.langLocale();}break;case\"string\":locale=params.locale;break;}return String(a).toLowerCase().localeCompare(String(b).toLowerCase(),locale);}//fix empty values in position\nif(alignEmptyValues===\"top\"&&dir===\"desc\"||alignEmptyValues===\"bottom\"&&dir===\"asc\"){emptyAlign*=-1;}return emptyAlign;}//sort datetime\nfunction datetime(a,b,aRow,bRow,column,dir,params){var DT=this.table.dependencyRegistry.lookup([\"luxon\",\"DateTime\"],\"DateTime\");var format=params.format||\"dd/MM/yyyy HH:mm:ss\",alignEmptyValues=params.alignEmptyValues,emptyAlign=0;if(typeof DT!=\"undefined\"){if(!DT.isDateTime(a)){if(format===\"iso\"){a=DT.fromISO(String(a));}else{a=DT.fromFormat(String(a),format);}}if(!DT.isDateTime(b)){if(format===\"iso\"){b=DT.fromISO(String(b));}else{b=DT.fromFormat(String(b),format);}}if(!a.isValid){emptyAlign=!b.isValid?0:-1;}else if(!b.isValid){emptyAlign=1;}else{//compare valid values\nreturn a-b;}//fix empty values in position\nif(alignEmptyValues===\"top\"&&dir===\"desc\"||alignEmptyValues===\"bottom\"&&dir===\"asc\"){emptyAlign*=-1;}return emptyAlign;}else{console.error(\"Sort Error - 'datetime' sorter is dependant on luxon.js\");}}//sort date\nfunction date(a,b,aRow,bRow,column,dir,params){if(!params.format){params.format=\"dd/MM/yyyy\";}return datetime.call(this,a,b,aRow,bRow,column,dir,params);}//sort times\nfunction time(a,b,aRow,bRow,column,dir,params){if(!params.format){params.format=\"HH:mm\";}return datetime.call(this,a,b,aRow,bRow,column,dir,params);}//sort booleans\nfunction boolean(a,b,aRow,bRow,column,dir,params){var el1=a===true||a===\"true\"||a===\"True\"||a===1?1:0;var el2=b===true||b===\"true\"||b===\"True\"||b===1?1:0;return el1-el2;}//sort if element contains any data\nfunction array(a,b,aRow,bRow,column,dir,params){var type=params.type||\"length\",alignEmptyValues=params.alignEmptyValues,emptyAlign=0,table=this.table,valueMap;if(params.valueMap){if(typeof params.valueMap===\"string\"){valueMap=function(value){return value.map(item=>{return Helpers.retrieveNestedData(table.options.nestedFieldSeparator,params.valueMap,item);});};}else{valueMap=params.valueMap;}}function calc(value){var result;if(valueMap){value=valueMap(value);}switch(type){case\"length\":result=value.length;break;case\"sum\":result=value.reduce(function(c,d){return c+d;});break;case\"max\":result=Math.max.apply(null,value);break;case\"min\":result=Math.min.apply(null,value);break;case\"avg\":result=value.reduce(function(c,d){return c+d;})/value.length;break;case\"string\":result=value.join(\"\");break;}return result;}//handle non array values\nif(!Array.isArray(a)){emptyAlign=!Array.isArray(b)?0:-1;}else if(!Array.isArray(b)){emptyAlign=1;}else{if(type===\"string\"){return String(calc(a)).toLowerCase().localeCompare(String(calc(b)).toLowerCase());}else{return calc(b)-calc(a);}}//fix empty values in position\nif(alignEmptyValues===\"top\"&&dir===\"desc\"||alignEmptyValues===\"bottom\"&&dir===\"asc\"){emptyAlign*=-1;}return emptyAlign;}//sort if element contains any data\nfunction exists(a,b,aRow,bRow,column,dir,params){var el1=typeof a==\"undefined\"?0:1;var el2=typeof b==\"undefined\"?0:1;return el1-el2;}//sort alpha numeric strings\nfunction alphanum(as,bs,aRow,bRow,column,dir,params){var a,b,a1,b1,i=0,L,rx=/(\\d+)|(\\D+)/g,rd=/\\d/;var alignEmptyValues=params.alignEmptyValues;var emptyAlign=0;//handle empty values\nif(!as&&as!==0){emptyAlign=!bs&&bs!==0?0:-1;}else if(!bs&&bs!==0){emptyAlign=1;}else{if(isFinite(as)&&isFinite(bs))return as-bs;a=String(as).toLowerCase();b=String(bs).toLowerCase();if(a===b)return 0;if(!(rd.test(a)&&rd.test(b)))return a>b?1:-1;a=a.match(rx);b=b.match(rx);L=a.length>b.length?b.length:a.length;while(i<L){a1=a[i];b1=b[i++];if(a1!==b1){if(isFinite(a1)&&isFinite(b1)){if(a1.charAt(0)===\"0\")a1=\".\"+a1;if(b1.charAt(0)===\"0\")b1=\".\"+b1;return a1-b1;}else return a1>b1?1:-1;}}return a.length>b.length;}//fix empty values in position\nif(alignEmptyValues===\"top\"&&dir===\"desc\"||alignEmptyValues===\"bottom\"&&dir===\"asc\"){emptyAlign*=-1;}return emptyAlign;}var defaultSorters={number:number,string:string,date:date,time:time,datetime:datetime,boolean:boolean,array:array,exists:exists,alphanum:alphanum};class Sort extends Module{constructor(table){super(table);this.sortList=[];//holder current sort\nthis.changed=false;//has the sort changed since last render\nthis.registerTableOption(\"sortMode\",\"local\");//local or remote sorting\nthis.registerTableOption(\"initialSort\",false);//initial sorting criteria\nthis.registerTableOption(\"columnHeaderSortMulti\",true);//multiple or single column sorting\nthis.registerTableOption(\"sortOrderReverse\",false);//reverse internal sort ordering\nthis.registerTableOption(\"headerSortElement\",\"<div class='tabulator-arrow'></div>\");//header sort element\nthis.registerTableOption(\"headerSortClickElement\",\"header\");//element which triggers sort when clicked\nthis.registerColumnOption(\"sorter\");this.registerColumnOption(\"sorterParams\");this.registerColumnOption(\"headerSort\",true);this.registerColumnOption(\"headerSortStartingDir\");this.registerColumnOption(\"headerSortTristate\");}initialize(){this.subscribe(\"column-layout\",this.initializeColumn.bind(this));this.subscribe(\"table-built\",this.tableBuilt.bind(this));this.registerDataHandler(this.sort.bind(this),20);this.registerTableFunction(\"setSort\",this.userSetSort.bind(this));this.registerTableFunction(\"getSorters\",this.getSort.bind(this));this.registerTableFunction(\"clearSort\",this.clearSort.bind(this));if(this.table.options.sortMode===\"remote\"){this.subscribe(\"data-params\",this.remoteSortParams.bind(this));}}tableBuilt(){if(this.table.options.initialSort){this.setSort(this.table.options.initialSort);}}remoteSortParams(data,config,silent,params){var sorters=this.getSort();sorters.forEach(item=>{delete item.column;});params.sort=sorters;return params;}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\nuserSetSort(sortList,dir){this.setSort(sortList,dir);// this.table.rowManager.sorterRefresh();\nthis.refreshSort();}clearSort(){this.clear();// this.table.rowManager.sorterRefresh();\nthis.refreshSort();}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\n//initialize column header for sorting\ninitializeColumn(column){var sorter=false,colEl,arrowEl;switch(typeof column.definition.sorter){case\"string\":if(Sort.sorters[column.definition.sorter]){sorter=Sort.sorters[column.definition.sorter];}else{console.warn(\"Sort Error - No such sorter found: \",column.definition.sorter);}break;case\"function\":sorter=column.definition.sorter;break;}column.modules.sort={sorter:sorter,dir:\"none\",params:column.definition.sorterParams||{},startingDir:column.definition.headerSortStartingDir||\"asc\",tristate:column.definition.headerSortTristate};if(column.definition.headerSort!==false){colEl=column.getElement();colEl.classList.add(\"tabulator-sortable\");arrowEl=document.createElement(\"div\");arrowEl.classList.add(\"tabulator-col-sorter\");switch(this.table.options.headerSortClickElement){case\"icon\":arrowEl.classList.add(\"tabulator-col-sorter-element\");break;case\"header\":colEl.classList.add(\"tabulator-col-sorter-element\");break;default:colEl.classList.add(\"tabulator-col-sorter-element\");break;}switch(this.table.options.headerSortElement){case\"function\"://do nothing\nbreak;case\"object\":arrowEl.appendChild(this.table.options.headerSortElement);break;default:arrowEl.innerHTML=this.table.options.headerSortElement;}//create sorter arrow\ncolumn.titleHolderElement.appendChild(arrowEl);column.modules.sort.element=arrowEl;this.setColumnHeaderSortIcon(column,\"none\");if(this.table.options.headerSortClickElement===\"icon\"){arrowEl.addEventListener(\"mousedown\",e=>{e.stopPropagation();});}//sort on click\n(this.table.options.headerSortClickElement===\"icon\"?arrowEl:colEl).addEventListener(\"click\",e=>{var dir=\"\",sorters=[],match=false;if(column.modules.sort){if(column.modules.sort.tristate){if(column.modules.sort.dir==\"none\"){dir=column.modules.sort.startingDir;}else{if(column.modules.sort.dir==column.modules.sort.startingDir){dir=column.modules.sort.dir==\"asc\"?\"desc\":\"asc\";}else{dir=\"none\";}}}else{switch(column.modules.sort.dir){case\"asc\":dir=\"desc\";break;case\"desc\":dir=\"asc\";break;default:dir=column.modules.sort.startingDir;}}if(this.table.options.columnHeaderSortMulti&&(e.shiftKey||e.ctrlKey)){sorters=this.getSort();match=sorters.findIndex(sorter=>{return sorter.field===column.getField();});if(match>-1){sorters[match].dir=dir;match=sorters.splice(match,1)[0];if(dir!=\"none\"){sorters.push(match);}}else{if(dir!=\"none\"){sorters.push({column:column,dir:dir});}}//add to existing sort\nthis.setSort(sorters);}else{if(dir==\"none\"){this.clear();}else{//sort by column only\nthis.setSort(column,dir);}}// this.table.rowManager.sorterRefresh(!this.sortList.length);\nthis.refreshSort();}});}}refreshSort(){if(this.table.options.sortMode===\"remote\"){this.reloadData(null,false,false);}else{this.refreshData(true);}//TODO - Persist left position of row manager\n// left = this.scrollLeft;\n// this.scrollHorizontal(left);\n}//check if the sorters have changed since last use\nhasChanged(){var changed=this.changed;this.changed=false;return changed;}//return current sorters\ngetSort(){var self=this,sorters=[];self.sortList.forEach(function(item){if(item.column){sorters.push({column:item.column.getComponent(),field:item.column.getField(),dir:item.dir});}});return sorters;}//change sort list and trigger sort\nsetSort(sortList,dir){var self=this,newSortList=[];if(!Array.isArray(sortList)){sortList=[{column:sortList,dir:dir}];}sortList.forEach(function(item){var column;column=self.table.columnManager.findColumn(item.column);if(column){item.column=column;newSortList.push(item);self.changed=true;}else{console.warn(\"Sort Warning - Sort field does not exist and is being ignored: \",item.column);}});self.sortList=newSortList;this.dispatch(\"sort-changed\");}//clear sorters\nclear(){this.setSort([]);}//find appropriate sorter for column\nfindSorter(column){var row=this.table.rowManager.activeRows[0],sorter=\"string\",field,value;if(row){row=row.getData();field=column.getField();if(field){value=column.getFieldValue(row);switch(typeof value){case\"undefined\":sorter=\"string\";break;case\"boolean\":sorter=\"boolean\";break;default:if(!isNaN(value)&&value!==\"\"){sorter=\"number\";}else{if(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){sorter=\"alphanum\";}}break;}}}return Sort.sorters[sorter];}//work through sort list sorting data\nsort(data,sortOnly){var self=this,sortList=this.table.options.sortOrderReverse?self.sortList.slice().reverse():self.sortList,sortListActual=[],rowComponents=[];if(this.subscribedExternal(\"dataSorting\")){this.dispatchExternal(\"dataSorting\",self.getSort());}if(!sortOnly){self.clearColumnHeaders();}if(this.table.options.sortMode!==\"remote\"){//build list of valid sorters and trigger column specific callbacks before sort begins\nsortList.forEach(function(item,i){var sortObj;if(item.column){sortObj=item.column.modules.sort;if(sortObj){//if no sorter has been defined, take a guess\nif(!sortObj.sorter){sortObj.sorter=self.findSorter(item.column);}item.params=typeof sortObj.params===\"function\"?sortObj.params(item.column.getComponent(),item.dir):sortObj.params;sortListActual.push(item);}if(!sortOnly){self.setColumnHeader(item.column,item.dir);}}});//sort data\nif(sortListActual.length){self._sortItems(data,sortListActual);}}else if(!sortOnly){sortList.forEach(function(item,i){self.setColumnHeader(item.column,item.dir);});}if(this.subscribedExternal(\"dataSorted\")){data.forEach(row=>{rowComponents.push(row.getComponent());});this.dispatchExternal(\"dataSorted\",self.getSort(),rowComponents);}return data;}//clear sort arrows on columns\nclearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(column=>{if(column.modules.sort){column.modules.sort.dir=\"none\";column.getElement().setAttribute(\"aria-sort\",\"none\");this.setColumnHeaderSortIcon(column,\"none\");}});}//set the column header sort direction\nsetColumnHeader(column,dir){column.modules.sort.dir=dir;column.getElement().setAttribute(\"aria-sort\",dir===\"asc\"?\"ascending\":\"descending\");this.setColumnHeaderSortIcon(column,dir);}setColumnHeaderSortIcon(column,dir){var sortEl=column.modules.sort.element,arrowEl;if(column.definition.headerSort&&typeof this.table.options.headerSortElement===\"function\"){while(sortEl.firstChild)sortEl.removeChild(sortEl.firstChild);arrowEl=this.table.options.headerSortElement.call(this.table,column.getComponent(),dir);if(typeof arrowEl===\"object\"){sortEl.appendChild(arrowEl);}else{sortEl.innerHTML=arrowEl;}}}//sort each item in sort list\n_sortItems(data,sortList){var sorterCount=sortList.length-1;data.sort((a,b)=>{var result;for(var i=sorterCount;i>=0;i--){let sortItem=sortList[i];result=this._sortRow(a,b,sortItem.column,sortItem.dir,sortItem.params);if(result!==0){break;}}return result;});}//process individual rows for a sort function on active data\n_sortRow(a,b,column,dir,params){var el1Comp,el2Comp;//switch elements depending on search direction\nvar el1=dir==\"asc\"?a:b;var el2=dir==\"asc\"?b:a;a=column.getFieldValue(el1.getData());b=column.getFieldValue(el2.getData());a=typeof a!==\"undefined\"?a:\"\";b=typeof b!==\"undefined\"?b:\"\";el1Comp=el1.getComponent();el2Comp=el2.getComponent();return column.modules.sort.sorter.call(this,a,b,el1Comp,el2Comp,column.getComponent(),dir,params);}}_defineProperty(Sort,\"moduleName\",\"sort\");//load defaults\n_defineProperty(Sort,\"sorters\",defaultSorters);class GridCalculator{constructor(columns,rows){this.columnCount=columns;this.rowCount=rows;this.columnString=[];this.columns=[];this.rows=[];}genColumns(data){var colCount=Math.max(this.columnCount,Math.max(...data.map(item=>item.length)));this.columnString=[];this.columns=[];for(let i=1;i<=colCount;i++){this.incrementChar(this.columnString.length-1);this.columns.push(this.columnString.join(\"\"));}return this.columns;}genRows(data){var rowCount=Math.max(this.rowCount,data.length);this.rows=[];for(let i=1;i<=rowCount;i++){this.rows.push(i);}return this.rows;}incrementChar(i){let char=this.columnString[i];if(char){if(char!==\"Z\"){this.columnString[i]=String.fromCharCode(this.columnString[i].charCodeAt(0)+1);}else{this.columnString[i]=\"A\";if(i){this.incrementChar(i-1);}else{this.columnString.push(\"A\");}}}else{this.columnString.push(\"A\");}}setRowCount(count){this.rowCount=count;}setColumnCount(count){this.columnCount=count;}}class SheetComponent{constructor(sheet){this._sheet=sheet;return new Proxy(this,{get:function(target,name,receiver){if(typeof target[name]!==\"undefined\"){return target[name];}else{return target._sheet.table.componentFunctionBinder.handle(\"sheet\",target._sheet,name);}}});}getTitle(){return this._sheet.title;}getKey(){return this._sheet.key;}getDefinition(){return this._sheet.getDefinition();}getData(){return this._sheet.getData();}setData(data){return this._sheet.setData(data);}clear(){return this._sheet.clear();}remove(){return this._sheet.remove();}active(){return this._sheet.active();}setTitle(title){return this._sheet.setTitle(title);}setRows(rows){return this._sheet.setRows(rows);}setColumns(columns){return this._sheet.setColumns(columns);}}class Sheet extends CoreFeature{constructor(spreadsheetManager,definition){super(spreadsheetManager.table);this.spreadsheetManager=spreadsheetManager;this.definition=definition;this.title=this.definition.title||\"\";this.key=this.definition.key||this.definition.title;this.rowCount=this.definition.rows;this.columnCount=this.definition.columns;this.data=this.definition.data||[];this.element=null;this.isActive=false;this.grid=new GridCalculator(this.columnCount,this.rowCount);this.defaultColumnDefinition={width:100,headerHozAlign:\"center\",headerSort:false};this.columnDefinition=Object.assign(this.defaultColumnDefinition,this.options(\"spreadsheetColumnDefinition\"));this.columnDefs=[];this.rowDefs=[];this.columnFields=[];this.columns=[];this.rows=[];this.scrollTop=null;this.scrollLeft=null;this.initialize();this.dispatchExternal(\"sheetAdded\",this.getComponent());}///////////////////////////////////\n///////// Initialization //////////\n///////////////////////////////////\ninitialize(){this.initializeElement();this.initializeColumns();this.initializeRows();}reinitialize(){this.initializeColumns();this.initializeRows();}initializeElement(){this.element=document.createElement(\"div\");this.element.classList.add(\"tabulator-spreadsheet-tab\");this.element.innerText=this.title;this.element.addEventListener(\"click\",()=>{this.spreadsheetManager.loadSheet(this);});}initializeColumns(){this.grid.setColumnCount(this.columnCount);this.columnFields=this.grid.genColumns(this.data);this.columnDefs=[];this.columnFields.forEach(ref=>{var def=Object.assign({},this.columnDefinition);def.field=ref;def.title=ref;this.columnDefs.push(def);});}initializeRows(){var refs;this.grid.setRowCount(this.rowCount);refs=this.grid.genRows(this.data);this.rowDefs=[];refs.forEach((ref,i)=>{var def={\"_id\":ref};var data=this.data[i];if(data){data.forEach((val,j)=>{var field=this.columnFields[j];if(field){def[field]=val;}});}this.rowDefs.push(def);});}unload(){this.isActive=false;this.scrollTop=this.table.rowManager.scrollTop;this.scrollLeft=this.table.rowManager.scrollLeft;this.data=this.getData(true);this.element.classList.remove(\"tabulator-spreadsheet-tab-active\");}load(){var wasInactive=!this.isActive;this.isActive=true;this.table.blockRedraw();this.table.setData([]);this.table.setColumns(this.columnDefs);this.table.setData(this.rowDefs);this.table.restoreRedraw();if(wasInactive&&this.scrollTop!==null){this.table.rowManager.element.scrollLeft=this.scrollLeft;this.table.rowManager.element.scrollTop=this.scrollTop;}this.element.classList.add(\"tabulator-spreadsheet-tab-active\");this.dispatchExternal(\"sheetLoaded\",this.getComponent());}///////////////////////////////////\n//////// Helper Functions /////////\n///////////////////////////////////\ngetComponent(){return new SheetComponent(this);}getDefinition(){return{title:this.title,key:this.key,rows:this.rowCount,columns:this.columnCount,data:this.getData()};}getData(full){var output=[],rowWidths,outputWidth,outputHeight;//map data to array format\nthis.rowDefs.forEach(rowData=>{var row=[];this.columnFields.forEach(field=>{row.push(rowData[field]);});output.push(row);});//trim output\nif(!full&&!this.options(\"spreadsheetOutputFull\")){//calculate used area of data\nrowWidths=output.map(row=>row.findLastIndex(val=>typeof val!=='undefined')+1);outputWidth=Math.max(...rowWidths);outputHeight=rowWidths.findLastIndex(width=>width>0)+1;output=output.slice(0,outputHeight);output=output.map(row=>row.slice(0,outputWidth));}return output;}setData(data){this.data=data;this.reinitialize();this.dispatchExternal(\"sheetUpdated\",this.getComponent());if(this.isActive){this.load();}}clear(){this.setData([]);}setTitle(title){this.title=title;this.element.innerText=title;this.dispatchExternal(\"sheetUpdated\",this.getComponent());}setRows(rows){this.rowCount=rows;this.initializeRows();this.dispatchExternal(\"sheetUpdated\",this.getComponent());if(this.isActive){this.load();}}setColumns(columns){this.columnCount=columns;this.reinitialize();this.dispatchExternal(\"sheetUpdated\",this.getComponent());if(this.isActive){this.load();}}remove(){this.spreadsheetManager.removeSheet(this);}destroy(){if(this.element.parentNode){this.element.parentNode.removeChild(this.element);}this.dispatchExternal(\"sheetRemoved\",this.getComponent());}active(){this.spreadsheetManager.loadSheet(this);}}class Spreadsheet extends Module{constructor(table){super(table);this.sheets=[];this.element=null;this.registerTableOption(\"spreadsheet\",false);this.registerTableOption(\"spreadsheetRows\",50);this.registerTableOption(\"spreadsheetColumns\",50);this.registerTableOption(\"spreadsheetColumnDefinition\",{});this.registerTableOption(\"spreadsheetOutputFull\",false);this.registerTableOption(\"spreadsheetData\",false);this.registerTableOption(\"spreadsheetSheets\",false);this.registerTableOption(\"spreadsheetSheetTabs\",false);this.registerTableOption(\"spreadsheetSheetTabsElement\",false);this.registerTableFunction(\"setSheets\",this.setSheets.bind(this));this.registerTableFunction(\"addSheet\",this.addSheet.bind(this));this.registerTableFunction(\"getSheets\",this.getSheets.bind(this));this.registerTableFunction(\"getSheetDefinitions\",this.getSheetDefinitions.bind(this));this.registerTableFunction(\"setSheetData\",this.setSheetData.bind(this));this.registerTableFunction(\"getSheet\",this.getSheet.bind(this));this.registerTableFunction(\"getSheetData\",this.getSheetData.bind(this));this.registerTableFunction(\"clearSheet\",this.clearSheet.bind(this));this.registerTableFunction(\"removeSheet\",this.removeSheetFunc.bind(this));this.registerTableFunction(\"activeSheet\",this.activeSheetFunc.bind(this));}///////////////////////////////////\n////// Module Initialization //////\n///////////////////////////////////\ninitialize(){if(this.options(\"spreadsheet\")){this.subscribe(\"table-initialized\",this.tableInitialized.bind(this));this.subscribe(\"data-loaded\",this.loadRemoteData.bind(this));this.table.options.index=\"_id\";if(this.options(\"spreadsheetData\")&&this.options(\"spreadsheetSheets\")){console.warn(\"You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData\");this.table.options.spreadsheetData=false;}this.compatibilityCheck();if(this.options(\"spreadsheetSheetTabs\")){this.initializeTabset();}}}compatibilityCheck(){if(this.options(\"data\")){console.warn(\"Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table\");}if(this.options(\"pagination\")){console.warn(\"The spreadsheet module is not compatible with the pagination module\");}if(this.options(\"groupBy\")){console.warn(\"The spreadsheet module is not compatible with the row grouping module\");}if(this.options(\"responsiveCollapse\")){console.warn(\"The spreadsheet module is not compatible with the responsive collapse module\");}}initializeTabset(){this.element=document.createElement(\"div\");this.element.classList.add(\"tabulator-spreadsheet-tabs\");var altContainer=this.options(\"spreadsheetSheetTabsElement\");if(altContainer&&!(altContainer instanceof HTMLElement)){altContainer=document.querySelector(altContainer);if(!altContainer){console.warn(\"Unable to find element matching spreadsheetSheetTabsElement selector:\",this.options(\"spreadsheetSheetTabsElement\"));}}if(altContainer){altContainer.appendChild(this.element);}else{this.footerAppend(this.element);}}tableInitialized(){if(this.sheets.length){this.loadSheet(this.sheets[0]);}else{if(this.options(\"spreadsheetSheets\")){this.loadSheets(this.options(\"spreadsheetSheets\"));}else if(this.options(\"spreadsheetData\")){this.loadData(this.options(\"spreadsheetData\"));}}}///////////////////////////////////\n/////////// Ajax Parsing //////////\n///////////////////////////////////\nloadRemoteData(data,data1,data2){console.log(\"data\",data,data1,data2);if(Array.isArray(data)){this.table.dataLoader.clearAlert();this.dispatchExternal(\"dataLoaded\",data);if(!data.length||Array.isArray(data[0])){this.loadData(data);}else{this.loadSheets(data);}}else{console.error(\"Spreadsheet Loading Error - Unable to process remote data due to invalid data type \\nExpecting: array \\nReceived: \",typeof data,\"\\nData:     \",data);}return false;}///////////////////////////////////\n///////// Sheet Management ////////\n///////////////////////////////////\nloadData(data){var def={data:data};this.loadSheet(this.newSheet(def));}destroySheets(){this.sheets.forEach(sheet=>{sheet.destroy();});this.sheets=[];this.activeSheet=null;}loadSheets(sheets){if(!Array.isArray(sheets)){sheets=[];}this.destroySheets();sheets.forEach(def=>{this.newSheet(def);});this.loadSheet(this.sheets[0]);}loadSheet(sheet){if(this.activeSheet!==sheet){if(this.activeSheet){this.activeSheet.unload();}this.activeSheet=sheet;sheet.load();}}newSheet(definition={}){var sheet;if(!definition.rows){definition.rows=this.options(\"spreadsheetRows\");}if(!definition.columns){definition.columns=this.options(\"spreadsheetColumns\");}sheet=new Sheet(this,definition);this.sheets.push(sheet);if(this.element){this.element.appendChild(sheet.element);}return sheet;}removeSheet(sheet){var index=this.sheets.indexOf(sheet),prevSheet;if(this.sheets.length>1){if(index>-1){this.sheets.splice(index,1);sheet.destroy();if(this.activeSheet===sheet){prevSheet=this.sheets[index-1]||this.sheets[0];if(prevSheet){this.loadSheet(prevSheet);}else{this.activeSheet=null;}}}}else{console.warn(\"Unable to remove sheet, at least one sheet must be active\");}}lookupSheet(key){if(!key){return this.activeSheet;}else if(key instanceof Sheet){return key;}else if(key instanceof SheetComponent){return key._sheet;}else{return this.sheets.find(sheet=>sheet.key===key)||false;}}///////////////////////////////////\n//////// Public Functions /////////\n///////////////////////////////////\nsetSheets(sheets){this.loadSheets(sheets);return this.getSheets();}addSheet(sheet){return this.newSheet(sheet).getComponent();}getSheetDefinitions(){return this.sheets.map(sheet=>sheet.getDefinition());}getSheets(){return this.sheets.map(sheet=>sheet.getComponent());}getSheet(key){var sheet=this.lookupSheet(key);return sheet?sheet.getComponent():false;}setSheetData(key,data){if(key&&!data){data=key;key=false;}var sheet=this.lookupSheet(key);return sheet?sheet.setData(data):false;}getSheetData(key){var sheet=this.lookupSheet(key);return sheet?sheet.getData():false;}clearSheet(key){var sheet=this.lookupSheet(key);return sheet?sheet.clear():false;}removeSheetFunc(key){var sheet=this.lookupSheet(key);if(sheet){this.removeSheet(sheet);}}activeSheetFunc(key){var sheet=this.lookupSheet(key);return sheet?this.loadSheet(sheet):false;}}_defineProperty(Spreadsheet,\"moduleName\",\"spreadsheet\");class Tooltip extends Module{constructor(table){super(table);this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null;this.popupInstance=null;// this.registerTableOption(\"tooltipGenerationMode\", undefined);  //deprecated\nthis.registerTableOption(\"tooltipDelay\",300);this.registerColumnOption(\"tooltip\");this.registerColumnOption(\"headerTooltip\");}initialize(){this.deprecatedOptionsCheck();this.subscribe(\"column-init\",this.initializeColumn.bind(this));}deprecatedOptionsCheck(){// this.deprecationCheckMsg(\"tooltipGenerationMode\", \"This option is no longer needed as tooltips are always generated on hover now\");\n}initializeColumn(column){if(column.definition.headerTooltip&&!this.headerSubscriber){this.headerSubscriber=true;this.subscribe(\"column-mousemove\",this.mousemoveCheck.bind(this,\"headerTooltip\"));this.subscribe(\"column-mouseout\",this.mouseoutCheck.bind(this,\"headerTooltip\"));}if(column.definition.tooltip&&!this.tooltipSubscriber){this.tooltipSubscriber=true;this.subscribe(\"cell-mousemove\",this.mousemoveCheck.bind(this,\"tooltip\"));this.subscribe(\"cell-mouseout\",this.mouseoutCheck.bind(this,\"tooltip\"));}}mousemoveCheck(action,e,component){var tooltip=action===\"tooltip\"?component.column.definition.tooltip:component.definition.headerTooltip;if(tooltip){this.clearPopup();this.timeout=setTimeout(this.loadTooltip.bind(this,e,component,tooltip),this.table.options.tooltipDelay);}}mouseoutCheck(action,e,component){if(!this.popupInstance){this.clearPopup();}}clearPopup(action,e,component){clearTimeout(this.timeout);this.timeout=null;if(this.popupInstance){this.popupInstance.hide();}}loadTooltip(e,component,tooltip){var contentsEl,renderedCallback,coords;function onRendered(callback){renderedCallback=callback;}if(typeof tooltip===\"function\"){tooltip=tooltip(e,component.getComponent(),onRendered);}if(tooltip instanceof HTMLElement){contentsEl=tooltip;}else{contentsEl=document.createElement(\"div\");if(tooltip===true){if(component instanceof Cell){tooltip=component.value;}else{if(component.definition.field){this.langBind(\"columns|\"+component.definition.field,value=>{contentsEl.innerHTML=tooltip=value||component.definition.title;});}else{tooltip=component.definition.title;}}}contentsEl.innerHTML=tooltip;}if(tooltip||tooltip===0||tooltip===false){contentsEl.classList.add(\"tabulator-tooltip\");contentsEl.addEventListener(\"mousemove\",e=>e.preventDefault());this.popupInstance=this.popup(contentsEl);if(typeof renderedCallback===\"function\"){this.popupInstance.renderCallback(renderedCallback);}coords=this.popupInstance.containerEventCoords(e);this.popupInstance.show(coords.x+15,coords.y+15).hideOnBlur(()=>{this.dispatchExternal(\"TooltipClosed\",component.getComponent());this.popupInstance=null;});this.dispatchExternal(\"TooltipOpened\",component.getComponent());}}}_defineProperty(Tooltip,\"moduleName\",\"tooltip\");var defaultValidators={//is integer\ninteger:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}value=Number(value);return!isNaN(value)&&isFinite(value)&&Math.floor(value)===value;},//is float\nfloat:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}value=Number(value);return!isNaN(value)&&isFinite(value)&&value%1!==0;},//must be a number\nnumeric:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}return!isNaN(value);},//must be a string\nstring:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}return isNaN(value);},//must be alphanumeric\nalphanumeric:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}var reg=new RegExp(/^[a-z0-9]+$/i);return reg.test(value);},//maximum value\nmax:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}return parseFloat(value)<=parameters;},//minimum value\nmin:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}return parseFloat(value)>=parameters;},//starts with  value\nstarts:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}return String(value).toLowerCase().startsWith(String(parameters).toLowerCase());},//ends with  value\nends:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}return String(value).toLowerCase().endsWith(String(parameters).toLowerCase());},//minimum string length\nminLength:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}return String(value).length>=parameters;},//maximum string length\nmaxLength:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}return String(value).length<=parameters;},//in provided value list\nin:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}if(typeof parameters==\"string\"){parameters=parameters.split(\"|\");}return parameters.indexOf(value)>-1;},//must match provided regex\nregex:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}var reg=new RegExp(parameters);return reg.test(value);},//value must be unique in this column\nunique:function(cell,value,parameters){if(value===\"\"||value===null||typeof value===\"undefined\"){return true;}var unique=true;var cellData=cell.getData();var column=cell.getColumn()._getSelf();this.table.rowManager.rows.forEach(function(row){var data=row.getData();if(data!==cellData){if(value==column.getFieldValue(data)){unique=false;}}});return unique;},//must have a value\nrequired:function(cell,value,parameters){return value!==\"\"&&value!==null&&typeof value!==\"undefined\";}};class Validate extends Module{constructor(table){super(table);this.invalidCells=[];this.registerTableOption(\"validationMode\",\"blocking\");this.registerColumnOption(\"validator\");this.registerTableFunction(\"getInvalidCells\",this.getInvalidCells.bind(this));this.registerTableFunction(\"clearCellValidation\",this.userClearCellValidation.bind(this));this.registerTableFunction(\"validate\",this.userValidate.bind(this));this.registerComponentFunction(\"cell\",\"isValid\",this.cellIsValid.bind(this));this.registerComponentFunction(\"cell\",\"clearValidation\",this.clearValidation.bind(this));this.registerComponentFunction(\"cell\",\"validate\",this.cellValidate.bind(this));this.registerComponentFunction(\"column\",\"validate\",this.columnValidate.bind(this));this.registerComponentFunction(\"row\",\"validate\",this.rowValidate.bind(this));}initialize(){this.subscribe(\"cell-delete\",this.clearValidation.bind(this));this.subscribe(\"column-layout\",this.initializeColumnCheck.bind(this));this.subscribe(\"edit-success\",this.editValidate.bind(this));this.subscribe(\"edit-editor-clear\",this.editorClear.bind(this));this.subscribe(\"edit-edited-clear\",this.editedClear.bind(this));}///////////////////////////////////\n///////// Event Handling //////////\n///////////////////////////////////\neditValidate(cell,value,previousValue){var valid=this.table.options.validationMode!==\"manual\"?this.validate(cell.column.modules.validate,cell,value):true;// allow time for editor to make render changes then style cell\nif(valid!==true){setTimeout(()=>{cell.getElement().classList.add(\"tabulator-validation-fail\");this.dispatchExternal(\"validationFailed\",cell.getComponent(),value,valid);});}return valid;}editorClear(cell,cancelled){if(cancelled){if(cell.column.modules.validate){this.cellValidate(cell);}}cell.getElement().classList.remove(\"tabulator-validation-fail\");}editedClear(cell){if(cell.modules.validate){cell.modules.validate.invalid=false;}}///////////////////////////////////\n////////// Cell Functions /////////\n///////////////////////////////////\ncellIsValid(cell){return cell.modules.validate?cell.modules.validate.invalid||true:true;}cellValidate(cell){return this.validate(cell.column.modules.validate,cell,cell.getValue());}///////////////////////////////////\n///////// Column Functions ////////\n///////////////////////////////////\ncolumnValidate(column){var invalid=[];column.cells.forEach(cell=>{if(this.cellValidate(cell)!==true){invalid.push(cell.getComponent());}});return invalid.length?invalid:true;}///////////////////////////////////\n////////// Row Functions //////////\n///////////////////////////////////\nrowValidate(row){var invalid=[];row.cells.forEach(cell=>{if(this.cellValidate(cell)!==true){invalid.push(cell.getComponent());}});return invalid.length?invalid:true;}///////////////////////////////////\n///////// Table Functions /////////\n///////////////////////////////////\nuserClearCellValidation(cells){if(!cells){cells=this.getInvalidCells();}if(!Array.isArray(cells)){cells=[cells];}cells.forEach(cell=>{this.clearValidation(cell._getSelf());});}userValidate(cells){var output=[];//clear row data\nthis.table.rowManager.rows.forEach(row=>{row=row.getComponent();var valid=row.validate();if(valid!==true){output=output.concat(valid);}});return output.length?output:true;}///////////////////////////////////\n///////// Internal Logic //////////\n///////////////////////////////////\ninitializeColumnCheck(column){if(typeof column.definition.validator!==\"undefined\"){this.initializeColumn(column);}}//validate\ninitializeColumn(column){var self=this,config=[],validator;if(column.definition.validator){if(Array.isArray(column.definition.validator)){column.definition.validator.forEach(item=>{validator=self._extractValidator(item);if(validator){config.push(validator);}});}else{validator=this._extractValidator(column.definition.validator);if(validator){config.push(validator);}}column.modules.validate=config.length?config:false;}}_extractValidator(value){var type,params,pos;switch(typeof value){case\"string\":pos=value.indexOf(':');if(pos>-1){type=value.substring(0,pos);params=value.substring(pos+1);}else{type=value;}return this._buildValidator(type,params);case\"function\":return this._buildValidator(value);case\"object\":return this._buildValidator(value.type,value.parameters);}}_buildValidator(type,params){var func=typeof type==\"function\"?type:Validate.validators[type];if(!func){console.warn(\"Validator Setup Error - No matching validator found:\",type);return false;}else{return{type:typeof type==\"function\"?\"function\":type,func:func,params:params};}}validate(validators,cell,value){var self=this,failedValidators=[],invalidIndex=this.invalidCells.indexOf(cell);if(validators){validators.forEach(item=>{if(!item.func.call(self,cell.getComponent(),value,item.params)){failedValidators.push({type:item.type,parameters:item.params});}});}if(!cell.modules.validate){cell.modules.validate={};}if(!failedValidators.length){cell.modules.validate.invalid=false;cell.getElement().classList.remove(\"tabulator-validation-fail\");if(invalidIndex>-1){this.invalidCells.splice(invalidIndex,1);}}else{cell.modules.validate.invalid=failedValidators;if(this.table.options.validationMode!==\"manual\"){cell.getElement().classList.add(\"tabulator-validation-fail\");}if(invalidIndex==-1){this.invalidCells.push(cell);}}return failedValidators.length?failedValidators:true;}getInvalidCells(){var output=[];this.invalidCells.forEach(cell=>{output.push(cell.getComponent());});return output;}clearValidation(cell){var invalidIndex;if(cell.modules.validate&&cell.modules.validate.invalid){cell.getElement().classList.remove(\"tabulator-validation-fail\");cell.modules.validate.invalid=false;invalidIndex=this.invalidCells.indexOf(cell);if(invalidIndex>-1){this.invalidCells.splice(invalidIndex,1);}}}}_defineProperty(Validate,\"moduleName\",\"validate\");//load defaults\n_defineProperty(Validate,\"validators\",defaultValidators);var allModules=/*#__PURE__*/Object.freeze({__proto__:null,AccessorModule:Accessor,AjaxModule:Ajax,ClipboardModule:Clipboard,ColumnCalcsModule:ColumnCalcs,DataTreeModule:DataTree,DownloadModule:Download,EditModule:Edit,ExportModule:Export,FilterModule:Filter,FormatModule:Format,FrozenColumnsModule:FrozenColumns,FrozenRowsModule:FrozenRows,GroupRowsModule:GroupRows,HistoryModule:History,HtmlTableImportModule:HtmlTableImport,ImportModule:Import,InteractionModule:Interaction,KeybindingsModule:Keybindings,MenuModule:Menu,MoveColumnsModule:MoveColumns,MoveRowsModule:MoveRows,MutatorModule:Mutator,PageModule:Page,PersistenceModule:Persistence,PopupModule:Popup,PrintModule:Print,ReactiveDataModule:ReactiveData,ResizeColumnsModule:ResizeColumns,ResizeRowsModule:ResizeRows,ResizeTableModule:ResizeTable,ResponsiveLayoutModule:ResponsiveLayout,SelectRangeModule:SelectRange,SelectRowModule:SelectRow,SortModule:Sort,SpreadsheetModule:Spreadsheet,TooltipModule:Tooltip,ValidateModule:Validate});var defaultOptions={debugEventsExternal:false,//flag to console log events\ndebugEventsInternal:false,//flag to console log events\ndebugInvalidOptions:true,//allow toggling of invalid option warnings\ndebugInvalidComponentFuncs:true,//allow toggling of invalid component warnings\ndebugInitialization:true,//allow toggling of pre initialization function call warnings\ndebugDeprecation:true,//allow toggling of deprecation warnings\nheight:false,//height of tabulator\nminHeight:false,//minimum height of tabulator\nmaxHeight:false,//maximum height of tabulator\ncolumnHeaderVertAlign:\"top\",//vertical alignment of column headers\npopupContainer:false,columns:[],//store for colum header info\ncolumnDefaults:{},//store column default props\nrowHeader:false,data:false,//default starting data\nautoColumns:false,//build columns from data row structure\nautoColumnsDefinitions:false,nestedFieldSeparator:\".\",//separator for nested data\nfooterElement:false,//hold footer element\nindex:\"id\",//filed for row index\ntextDirection:\"auto\",addRowPos:\"bottom\",//position to insert blank rows, top|bottom\nheaderVisible:true,//hide header\nrenderVertical:\"virtual\",renderHorizontal:\"basic\",renderVerticalBuffer:0,// set virtual DOM buffer size\nscrollToRowPosition:\"top\",scrollToRowIfVisible:true,scrollToColumnPosition:\"left\",scrollToColumnIfVisible:true,rowFormatter:false,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:false,dataLoader:true,dataLoaderLoading:false,dataLoaderError:false,dataLoaderErrorTimeout:3000,dataSendParams:{},dataReceiveParams:{},dependencies:{}};class OptionsList{constructor(table,msgType,defaults={}){this.table=table;this.msgType=msgType;this.registeredDefaults=Object.assign({},defaults);}register(option,value){this.registeredDefaults[option]=value;}generate(defaultOptions,userOptions={}){var output=Object.assign({},this.registeredDefaults),warn=this.table.options.debugInvalidOptions||userOptions.debugInvalidOptions===true;Object.assign(output,defaultOptions);for(let key in userOptions){if(!output.hasOwnProperty(key)){if(warn){console.warn(\"Invalid \"+this.msgType+\" option:\",key);}output[key]=userOptions.key;}}for(let key in output){if(key in userOptions){output[key]=userOptions[key];}else{if(Array.isArray(output[key])){output[key]=Object.assign([],output[key]);}else if(typeof output[key]===\"object\"&&output[key]!==null){output[key]=Object.assign({},output[key]);}else if(typeof output[key]===\"undefined\"){delete output[key];}}}return output;}}class Renderer extends CoreFeature{constructor(table){super(table);this.elementVertical=table.rowManager.element;this.elementHorizontal=table.columnManager.element;this.tableElement=table.rowManager.tableElement;this.verticalFillMode=\"fit\";// used by row manager to determine how to size the render area (\"fit\" - fits container to the contents, \"fill\" - fills the container without resizing it)\n}///////////////////////////////////\n/////// Internal Bindings /////////\n///////////////////////////////////\ninitialize(){//initialize core functionality\n}clearRows(){//clear down existing rows layout\n}clearColumns(){//clear down existing columns layout\n}reinitializeColumnWidths(columns){//resize columns to fit data\n}renderRows(){//render rows from a clean slate\n}renderColumns(){//render columns from a clean slate\n}rerenderRows(callback){// rerender rows and keep position\nif(callback){callback();}}rerenderColumns(update,blockRedraw){//rerender columns\n}renderRowCells(row){//render the cells in a row\n}rerenderRowCells(row,force){//rerender the cells in a row\n}scrollColumns(left,dir){//handle horizontal scrolling\n}scrollRows(top,dir){//handle vertical scrolling\n}resize(){//container has resized, carry out any needed recalculations (DO NOT RERENDER IN THIS FUNCTION)\n}scrollToRow(row){//scroll to a specific row\n}scrollToRowNearestTop(row){//determine weather the row is nearest the top or bottom of the table, return true for top or false for bottom\n}visibleRows(includingBuffer){//return the visible rows\nreturn[];}///////////////////////////////////\n//////// Helper Functions /////////\n///////////////////////////////////\nrows(){return this.table.rowManager.getDisplayRows();}styleRow(row,index){var rowEl=row.getElement();if(index%2){rowEl.classList.add(\"tabulator-row-even\");rowEl.classList.remove(\"tabulator-row-odd\");}else{rowEl.classList.add(\"tabulator-row-odd\");rowEl.classList.remove(\"tabulator-row-even\");}}///////////////////////////////////\n/////// External Triggers /////////\n/////// (DO NOT OVERRIDE) /////////\n///////////////////////////////////\nclear(){//clear down existing layout\nthis.clearRows();this.clearColumns();}render(){//render from a clean slate\nthis.renderRows();this.renderColumns();}rerender(callback){// rerender and keep position\nthis.rerenderRows();this.rerenderColumns();}scrollToRowPosition(row,position,ifVisible){var rowIndex=this.rows().indexOf(row),rowEl=row.getElement(),offset=0;return new Promise((resolve,reject)=>{if(rowIndex>-1){if(typeof ifVisible===\"undefined\"){ifVisible=this.table.options.scrollToRowIfVisible;}//check row visibility\nif(!ifVisible){if(Helpers.elVisible(rowEl)){offset=Helpers.elOffset(rowEl).top-Helpers.elOffset(this.elementVertical).top;if(offset>0&&offset<this.elementVertical.clientHeight-rowEl.offsetHeight){resolve();return false;}}}if(typeof position===\"undefined\"){position=this.table.options.scrollToRowPosition;}if(position===\"nearest\"){position=this.scrollToRowNearestTop(row)?\"top\":\"bottom\";}//scroll to row\nthis.scrollToRow(row);//align to correct position\nswitch(position){case\"middle\":case\"center\":if(this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight){this.elementVertical.scrollTop=this.elementVertical.scrollTop+(rowEl.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-rowEl.offsetTop)/2;}else{this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;}break;case\"bottom\":if(this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight){this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-rowEl.offsetTop)+rowEl.offsetHeight;}else{this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+rowEl.offsetHeight;}break;case\"top\":this.elementVertical.scrollTop=rowEl.offsetTop;break;}resolve();}else{console.warn(\"Scroll Error - Row not visible\");reject(\"Scroll Error - Row not visible\");}});}}class BasicHorizontal extends Renderer{constructor(table){super(table);}renderRowCells(row,inFragment){const rowFrag=document.createDocumentFragment();row.cells.forEach(cell=>{rowFrag.appendChild(cell.getElement());});row.element.appendChild(rowFrag);if(!inFragment){row.cells.forEach(cell=>{cell.cellRendered();});}}reinitializeColumnWidths(columns){columns.forEach(function(column){column.reinitializeWidth();});}}class VirtualDomHorizontal extends Renderer{constructor(table){super(table);this.leftCol=0;this.rightCol=0;this.scrollLeft=0;this.vDomScrollPosLeft=0;this.vDomScrollPosRight=0;this.vDomPadLeft=0;this.vDomPadRight=0;this.fitDataColAvg=0;this.windowBuffer=200;//pixel margin to make column visible before it is shown on screen\nthis.visibleRows=null;this.initialized=false;this.isFitData=false;this.columns=[];}initialize(){this.compatibilityCheck();this.layoutCheck();this.vertScrollListen();}compatibilityCheck(){if(this.options(\"layout\")==\"fitDataTable\"){console.warn(\"Horizontal Virtual DOM is not compatible with fitDataTable layout mode\");}if(this.options(\"responsiveLayout\")){console.warn(\"Horizontal Virtual DOM is not compatible with responsive columns\");}if(this.options(\"rtl\")){console.warn(\"Horizontal Virtual DOM is not currently compatible with RTL text direction\");}}layoutCheck(){this.isFitData=this.options(\"layout\").startsWith('fitData');}vertScrollListen(){this.subscribe(\"scroll-vertical\",this.clearVisRowCache.bind(this));this.subscribe(\"data-refreshed\",this.clearVisRowCache.bind(this));}clearVisRowCache(){this.visibleRows=null;}//////////////////////////////////////\n///////// Public Functions ///////////\n//////////////////////////////////////\nrenderColumns(row,force){this.dataChange();}scrollColumns(left,dir){if(this.scrollLeft!=left){this.scrollLeft=left;this.scroll(left-(this.vDomScrollPosLeft+this.windowBuffer));}}calcWindowBuffer(){var buffer=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(column=>{if(column.visible){var width=column.getWidth();if(width>buffer){buffer=width;}}});this.windowBuffer=buffer*2;}rerenderColumns(update,blockRedraw){var old={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},colPos=0;if(update&&!this.initialized){return;}this.clear();this.calcWindowBuffer();this.scrollLeft=this.elementVertical.scrollLeft;this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer;this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer;this.table.columnManager.columnsByIndex.forEach(column=>{var config={},width;if(column.visible){if(!column.modules.frozen){width=column.getWidth();config.leftPos=colPos;config.rightPos=colPos+width;config.width=width;if(this.isFitData){config.fitDataCheck=column.modules.vdomHoz?column.modules.vdomHoz.fitDataCheck:true;}if(colPos+width>this.vDomScrollPosLeft&&colPos<this.vDomScrollPosRight){//column is visible\nif(this.leftCol==-1){this.leftCol=this.columns.length;this.vDomPadLeft=colPos;}this.rightCol=this.columns.length;}else{// column is hidden\nif(this.leftCol!==-1){this.vDomPadRight+=width;}}this.columns.push(column);column.modules.vdomHoz=config;colPos+=width;}}});this.tableElement.style.paddingLeft=this.vDomPadLeft+\"px\";this.tableElement.style.paddingRight=this.vDomPadRight+\"px\";this.initialized=true;if(!blockRedraw){if(!update||this.reinitChanged(old)){this.reinitializeRows();}}this.elementVertical.scrollLeft=this.scrollLeft;}renderRowCells(row){if(this.initialized){this.initializeRow(row);}else{const rowFrag=document.createDocumentFragment();row.cells.forEach(cell=>{rowFrag.appendChild(cell.getElement());});row.element.appendChild(rowFrag);row.cells.forEach(cell=>{cell.cellRendered();});}}rerenderRowCells(row,force){this.reinitializeRow(row,force);}reinitializeColumnWidths(columns){for(let i=this.leftCol;i<=this.rightCol;i++){this.columns[i].reinitializeWidth();}}//////////////////////////////////////\n//////// Internal Rendering //////////\n//////////////////////////////////////\ndeinitialize(){this.initialized=false;}clear(){this.columns=[];this.leftCol=-1;this.rightCol=0;this.vDomScrollPosLeft=0;this.vDomScrollPosRight=0;this.vDomPadLeft=0;this.vDomPadRight=0;}dataChange(){var change=false,row,rowEl;if(this.isFitData){this.table.columnManager.columnsByIndex.forEach(column=>{if(!column.definition.width&&column.visible){change=true;}});if(change&&this.table.rowManager.getDisplayRows().length){this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer;row=this.chain(\"rows-sample\",[1],[],()=>{return this.table.rowManager.getDisplayRows();})[0];if(row){rowEl=row.getElement();row.generateCells();this.tableElement.appendChild(rowEl);for(let colEnd=0;colEnd<row.cells.length;colEnd++){let cell=row.cells[colEnd];rowEl.appendChild(cell.getElement());cell.column.reinitializeWidth();}rowEl.parentNode.removeChild(rowEl);this.rerenderColumns(false,true);}}}else{if(this.options(\"layout\")===\"fitColumns\"){this.layoutRefresh();this.rerenderColumns(false,true);}}}reinitChanged(old){var match=true;if(old.cols.length!==this.columns.length||old.leftCol!==this.leftCol||old.rightCol!==this.rightCol){return true;}old.cols.forEach((col,i)=>{if(col!==this.columns[i]){match=false;}});return!match;}reinitializeRows(){var visibleRows=this.getVisibleRows(),otherRows=this.table.rowManager.getRows().filter(row=>!visibleRows.includes(row));visibleRows.forEach(row=>{this.reinitializeRow(row,true);});otherRows.forEach(row=>{row.deinitialize();});}getVisibleRows(){if(!this.visibleRows){this.visibleRows=this.table.rowManager.getVisibleRows();}return this.visibleRows;}scroll(diff){this.vDomScrollPosLeft+=diff;this.vDomScrollPosRight+=diff;if(Math.abs(diff)>this.windowBuffer/2){this.rerenderColumns();}else{if(diff>0){//scroll right\nthis.addColRight();this.removeColLeft();}else{//scroll left\nthis.addColLeft();this.removeColRight();}}}colPositionAdjust(start,end,diff){for(let i=start;i<end;i++){let column=this.columns[i];column.modules.vdomHoz.leftPos+=diff;column.modules.vdomHoz.rightPos+=diff;}}addColRight(){var changes=false,working=true;while(working){let column=this.columns[this.rightCol+1];if(column){if(column.modules.vdomHoz.leftPos<=this.vDomScrollPosRight){changes=true;this.getVisibleRows().forEach(row=>{if(row.type!==\"group\"){var cell=row.getCell(column);row.getElement().insertBefore(cell.getElement(),row.getCell(this.columns[this.rightCol]).getElement().nextSibling);cell.cellRendered();}});this.fitDataColActualWidthCheck(column);this.rightCol++;// Don't move this below the >= check below\nthis.getVisibleRows().forEach(row=>{if(row.type!==\"group\"){row.modules.vdomHoz.rightCol=this.rightCol;}});if(this.rightCol>=this.columns.length-1){this.vDomPadRight=0;}else{this.vDomPadRight-=column.getWidth();}}else{working=false;}}else{working=false;}}if(changes){this.tableElement.style.paddingRight=this.vDomPadRight+\"px\";}}addColLeft(){var changes=false,working=true;while(working){let column=this.columns[this.leftCol-1];if(column){if(column.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){changes=true;this.getVisibleRows().forEach(row=>{if(row.type!==\"group\"){var cell=row.getCell(column);row.getElement().insertBefore(cell.getElement(),row.getCell(this.columns[this.leftCol]).getElement());cell.cellRendered();}});this.leftCol--;// don't move this below the <= check below\nthis.getVisibleRows().forEach(row=>{if(row.type!==\"group\"){row.modules.vdomHoz.leftCol=this.leftCol;}});if(this.leftCol<=0){// replicating logic in addColRight\nthis.vDomPadLeft=0;}else{this.vDomPadLeft-=column.getWidth();}let diff=this.fitDataColActualWidthCheck(column);if(diff){this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+diff;this.vDomPadRight-=diff;}}else{working=false;}}else{working=false;}}if(changes){this.tableElement.style.paddingLeft=this.vDomPadLeft+\"px\";}}removeColRight(){var changes=false,working=true;while(working){let column=this.columns[this.rightCol];if(column){if(column.modules.vdomHoz.leftPos>this.vDomScrollPosRight){changes=true;this.getVisibleRows().forEach(row=>{if(row.type!==\"group\"){var cell=row.getCell(column);try{row.getElement().removeChild(cell.getElement());}catch(ex){console.warn(\"Could not removeColRight\",ex.message);}}});this.vDomPadRight+=column.getWidth();this.rightCol--;this.getVisibleRows().forEach(row=>{if(row.type!==\"group\"){row.modules.vdomHoz.rightCol=this.rightCol;}});}else{working=false;}}else{working=false;}}if(changes){this.tableElement.style.paddingRight=this.vDomPadRight+\"px\";}}removeColLeft(){var changes=false,working=true;while(working){let column=this.columns[this.leftCol];if(column){if(column.modules.vdomHoz.rightPos<this.vDomScrollPosLeft){changes=true;this.getVisibleRows().forEach(row=>{if(row.type!==\"group\"){var cell=row.getCell(column);try{row.getElement().removeChild(cell.getElement());}catch(ex){console.warn(\"Could not removeColLeft\",ex.message);}}});this.vDomPadLeft+=column.getWidth();this.leftCol++;this.getVisibleRows().forEach(row=>{if(row.type!==\"group\"){row.modules.vdomHoz.leftCol=this.leftCol;}});}else{working=false;}}else{working=false;}}if(changes){this.tableElement.style.paddingLeft=this.vDomPadLeft+\"px\";}}fitDataColActualWidthCheck(column){var newWidth,widthDiff;if(column.modules.vdomHoz.fitDataCheck){column.reinitializeWidth();newWidth=column.getWidth();widthDiff=newWidth-column.modules.vdomHoz.width;if(widthDiff){column.modules.vdomHoz.rightPos+=widthDiff;column.modules.vdomHoz.width=newWidth;this.colPositionAdjust(this.columns.indexOf(column)+1,this.columns.length,widthDiff);}column.modules.vdomHoz.fitDataCheck=false;}return widthDiff;}initializeRow(row){if(row.type!==\"group\"){row.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};if(this.table.modules.frozenColumns){this.table.modules.frozenColumns.leftColumns.forEach(column=>{this.appendCell(row,column);});}for(let i=this.leftCol;i<=this.rightCol;i++){this.appendCell(row,this.columns[i]);}if(this.table.modules.frozenColumns){this.table.modules.frozenColumns.rightColumns.forEach(column=>{this.appendCell(row,column);});}}}appendCell(row,column){if(column&&column.visible){let cell=row.getCell(column);row.getElement().appendChild(cell.getElement());cell.cellRendered();}}reinitializeRow(row,force){if(row.type!==\"group\"){if(force||!row.modules.vdomHoz||row.modules.vdomHoz.leftCol!==this.leftCol||row.modules.vdomHoz.rightCol!==this.rightCol){var rowEl=row.getElement();while(rowEl.firstChild)rowEl.removeChild(rowEl.firstChild);this.initializeRow(row);}}}}class ColumnManager extends CoreFeature{constructor(table){super(table);this.blockHozScrollEvent=false;this.headersElement=null;this.contentsElement=null;this.rowHeader=null;this.element=null;//containing element\nthis.columns=[];// column definition object\nthis.columnsByIndex=[];//columns by index\nthis.columnsByField={};//columns by field\nthis.scrollLeft=0;this.optionsList=new OptionsList(this.table,\"column definition\",defaultColumnOptions);this.redrawBlock=false;//prevent redraws to allow multiple data manipulations before continuing\nthis.redrawBlockUpdate=null;//store latest redraw update only status\nthis.renderer=null;}////////////// Setup Functions /////////////////\ninitialize(){this.initializeRenderer();this.headersElement=this.createHeadersElement();this.contentsElement=this.createHeaderContentsElement();this.element=this.createHeaderElement();this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild);this.element.insertBefore(this.contentsElement,this.element.firstChild);this.initializeScrollWheelWatcher();this.subscribe(\"scroll-horizontal\",this.scrollHorizontal.bind(this));this.subscribe(\"scrollbar-vertical\",this.padVerticalScrollbar.bind(this));}padVerticalScrollbar(width){if(this.table.rtl){this.headersElement.style.marginLeft=width+\"px\";}else{this.headersElement.style.marginRight=width+\"px\";}}initializeRenderer(){var renderClass;var renderers={\"virtual\":VirtualDomHorizontal,\"basic\":BasicHorizontal};if(typeof this.table.options.renderHorizontal===\"string\"){renderClass=renderers[this.table.options.renderHorizontal];}else{renderClass=this.table.options.renderHorizontal;}if(renderClass){this.renderer=new renderClass(this.table,this.element,this.tableElement);this.renderer.initialize();}else{console.error(\"Unable to find matching renderer:\",this.table.options.renderHorizontal);}}createHeadersElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-headers\");el.setAttribute(\"role\",\"row\");return el;}createHeaderContentsElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-header-contents\");el.setAttribute(\"role\",\"rowgroup\");return el;}createHeaderElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-header\");el.setAttribute(\"role\",\"rowgroup\");if(!this.table.options.headerVisible){el.classList.add(\"tabulator-header-hidden\");}return el;}//return containing element\ngetElement(){return this.element;}//return containing contents element\ngetContentsElement(){return this.contentsElement;}//return header containing element\ngetHeadersElement(){return this.headersElement;}//scroll horizontally to match table body\nscrollHorizontal(left){this.contentsElement.scrollLeft=left;this.scrollLeft=left;this.renderer.scrollColumns(left);}initializeScrollWheelWatcher(){this.contentsElement.addEventListener(\"wheel\",e=>{var left;if(e.deltaX){left=this.contentsElement.scrollLeft+e.deltaX;this.table.rowManager.scrollHorizontal(left);this.table.columnManager.scrollHorizontal(left);}});}///////////// Column Setup Functions /////////////\ngenerateColumnsFromRowData(data){var cols=[],collProgress={},rowSample=this.table.options.autoColumns===\"full\"?data:[data[0]],definitions=this.table.options.autoColumnsDefinitions;if(data&&data.length){rowSample.forEach(row=>{Object.keys(row).forEach((key,index)=>{let value=row[key],col;if(!collProgress[key]){col={field:key,title:key,sorter:this.calculateSorterFromValue(value)};cols.splice(index,0,col);collProgress[key]=typeof value===\"undefined\"?col:true;}else if(collProgress[key]!==true){if(typeof value!==\"undefined\"){collProgress[key].sorter=this.calculateSorterFromValue(value);collProgress[key]=true;}}});});if(definitions){switch(typeof definitions){case\"function\":this.table.options.columns=definitions.call(this.table,cols);break;case\"object\":if(Array.isArray(definitions)){cols.forEach(col=>{var match=definitions.find(def=>{return def.field===col.field;});if(match){Object.assign(col,match);}});}else{cols.forEach(col=>{if(definitions[col.field]){Object.assign(col,definitions[col.field]);}});}this.table.options.columns=cols;break;}}else{this.table.options.columns=cols;}this.setColumns(this.table.options.columns);}}calculateSorterFromValue(value){var sorter;switch(typeof value){case\"undefined\":sorter=\"string\";break;case\"boolean\":sorter=\"boolean\";break;case\"number\":sorter=\"number\";break;case\"object\":if(Array.isArray(value)){sorter=\"array\";}else{sorter=\"string\";}break;default:if(!isNaN(value)&&value!==\"\"){sorter=\"number\";}else{if(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){sorter=\"alphanum\";}else{sorter=\"string\";}}break;}return sorter;}setColumns(cols,row){while(this.headersElement.firstChild)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[];this.columnsByIndex=[];this.columnsByField={};this.dispatch(\"columns-loading\");this.dispatchExternal(\"columnsLoading\");if(this.table.options.rowHeader){this.rowHeader=new Column(this.table.options.rowHeader===true?{}:this.table.options.rowHeader,this,true);this.columns.push(this.rowHeader);this.headersElement.appendChild(this.rowHeader.getElement());this.rowHeader.columnRendered();}cols.forEach((def,i)=>{this._addColumn(def);});this._reIndexColumns();this.dispatch(\"columns-loaded\");if(this.subscribedExternal(\"columnsLoaded\")){this.dispatchExternal(\"columnsLoaded\",this.getComponents());}this.rerenderColumns(false,true);this.redraw(true);}_addColumn(definition,before,nextToColumn){var column=new Column(definition,this),colEl=column.getElement(),index=nextToColumn?this.findColumnIndex(nextToColumn):nextToColumn;//prevent adding of rows in front of row header\nif(before&&this.rowHeader&&(!nextToColumn||nextToColumn===this.rowHeader)){before=false;nextToColumn=this.rowHeader;index=0;}if(nextToColumn&&index>-1){var topColumn=nextToColumn.getTopColumn();var parentIndex=this.columns.indexOf(topColumn);var nextEl=topColumn.getElement();if(before){this.columns.splice(parentIndex,0,column);nextEl.parentNode.insertBefore(colEl,nextEl);}else{this.columns.splice(parentIndex+1,0,column);nextEl.parentNode.insertBefore(colEl,nextEl.nextSibling);}}else{if(before){this.columns.unshift(column);this.headersElement.insertBefore(column.getElement(),this.headersElement.firstChild);}else{this.columns.push(column);this.headersElement.appendChild(column.getElement());}}column.columnRendered();return column;}registerColumnField(col){if(col.definition.field){this.columnsByField[col.definition.field]=col;}}registerColumnPosition(col){this.columnsByIndex.push(col);}_reIndexColumns(){this.columnsByIndex=[];this.columns.forEach(function(column){column.reRegisterPosition();});}//ensure column headers take up the correct amount of space in column groups\nverticalAlignHeaders(){var minHeight=0;if(!this.redrawBlock){this.headersElement.style.height=\"\";this.columns.forEach(column=>{column.clearVerticalAlign();});this.columns.forEach(column=>{var height=column.getHeight();if(height>minHeight){minHeight=height;}});this.headersElement.style.height=minHeight+\"px\";this.columns.forEach(column=>{column.verticalAlign(this.table.options.columnHeaderVertAlign,minHeight);});this.table.rowManager.adjustTableSize();}}//////////////// Column Details /////////////////\nfindColumn(subject){var columns;if(typeof subject==\"object\"){if(subject instanceof Column){//subject is column element\nreturn subject;}else if(subject instanceof ColumnComponent){//subject is public column component\nreturn subject._getSelf()||false;}else if(typeof HTMLElement!==\"undefined\"&&subject instanceof HTMLElement){columns=[];this.columns.forEach(column=>{columns.push(column);columns=columns.concat(column.getColumns(true));});//subject is a HTML element of the column header\nlet match=columns.find(column=>{return column.element===subject;});return match||false;}}else{//subject should be treated as the field name of the column\nreturn this.columnsByField[subject]||false;}//catch all for any other type of input\nreturn false;}getColumnByField(field){return this.columnsByField[field];}getColumnsByFieldRoot(root){var matches=[];Object.keys(this.columnsByField).forEach(field=>{var fieldRoot=this.table.options.nestedFieldSeparator?field.split(this.table.options.nestedFieldSeparator)[0]:field;if(fieldRoot===root){matches.push(this.columnsByField[field]);}});return matches;}getColumnByIndex(index){return this.columnsByIndex[index];}getFirstVisibleColumn(){var index=this.columnsByIndex.findIndex(col=>{return col.visible;});return index>-1?this.columnsByIndex[index]:false;}getVisibleColumnsByIndex(){return this.columnsByIndex.filter(col=>col.visible);}getColumns(){return this.columns;}findColumnIndex(column){return this.columnsByIndex.findIndex(col=>{return column===col;});}//return all columns that are not groups\ngetRealColumns(){return this.columnsByIndex;}//traverse across columns and call action\ntraverse(callback){this.columnsByIndex.forEach((column,i)=>{callback(column,i);});}//get definitions of actual columns\ngetDefinitions(active){var output=[];this.columnsByIndex.forEach(column=>{if(!active||active&&column.visible){output.push(column.getDefinition());}});return output;}//get full nested definition tree\ngetDefinitionTree(){var output=[];this.columns.forEach(column=>{output.push(column.getDefinition(true));});return output;}getComponents(structured){var output=[],columns=structured?this.columns:this.columnsByIndex;columns.forEach(column=>{output.push(column.getComponent());});return output;}getWidth(){var width=0;this.columnsByIndex.forEach(column=>{if(column.visible){width+=column.getWidth();}});return width;}moveColumn(from,to,after){to.element.parentNode.insertBefore(from.element,to.element);if(after){to.element.parentNode.insertBefore(to.element,from.element);}this.moveColumnActual(from,to,after);this.verticalAlignHeaders();this.table.rowManager.reinitialize();}moveColumnActual(from,to,after){if(from.parent.isGroup){this._moveColumnInArray(from.parent.columns,from,to,after);}else{this._moveColumnInArray(this.columns,from,to,after);}this._moveColumnInArray(this.columnsByIndex,from,to,after,true);this.rerenderColumns(true);this.dispatch(\"column-moved\",from,to,after);if(this.subscribedExternal(\"columnMoved\")){this.dispatchExternal(\"columnMoved\",from.getComponent(),this.table.columnManager.getComponents());}}_moveColumnInArray(columns,from,to,after,updateRows){var fromIndex=columns.indexOf(from),toIndex,rows=[];if(fromIndex>-1){columns.splice(fromIndex,1);toIndex=columns.indexOf(to);if(toIndex>-1){if(after){toIndex=toIndex+1;}}else{toIndex=fromIndex;}columns.splice(toIndex,0,from);if(updateRows){rows=this.chain(\"column-moving-rows\",[from,to,after],null,[])||[];rows=rows.concat(this.table.rowManager.rows);rows.forEach(function(row){if(row.cells.length){var cell=row.cells.splice(fromIndex,1)[0];row.cells.splice(toIndex,0,cell);}});}}}scrollToColumn(column,position,ifVisible){var left=0,offset=column.getLeftOffset(),adjust=0,colEl=column.getElement();return new Promise((resolve,reject)=>{if(typeof position===\"undefined\"){position=this.table.options.scrollToColumnPosition;}if(typeof ifVisible===\"undefined\"){ifVisible=this.table.options.scrollToColumnIfVisible;}if(column.visible){//align to correct position\nswitch(position){case\"middle\":case\"center\":adjust=-this.element.clientWidth/2;break;case\"right\":adjust=colEl.clientWidth-this.headersElement.clientWidth;break;}//check column visibility\nif(!ifVisible){if(offset>0&&offset+colEl.offsetWidth<this.element.clientWidth){return false;}}//calculate scroll position\nleft=offset+adjust;left=Math.max(Math.min(left,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0);this.table.rowManager.scrollHorizontal(left);this.scrollHorizontal(left);resolve();}else{console.warn(\"Scroll Error - Column not visible\");reject(\"Scroll Error - Column not visible\");}});}//////////////// Cell Management /////////////////\ngenerateCells(row){var cells=[];this.columnsByIndex.forEach(column=>{cells.push(column.generateCell(row));});return cells;}//////////////// Column Management /////////////////\ngetFlexBaseWidth(){var totalWidth=this.table.element.clientWidth,//table element width\nfixedWidth=0;//adjust for vertical scrollbar if present\nif(this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight){totalWidth-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth;}this.columnsByIndex.forEach(function(column){var width,minWidth,colWidth;if(column.visible){width=column.definition.width||0;minWidth=parseInt(column.minWidth);if(typeof width==\"string\"){if(width.indexOf(\"%\")>-1){colWidth=totalWidth/100*parseInt(width);}else{colWidth=parseInt(width);}}else{colWidth=width;}fixedWidth+=colWidth>minWidth?colWidth:minWidth;}});return fixedWidth;}addColumn(definition,before,nextToColumn){return new Promise((resolve,reject)=>{var column=this._addColumn(definition,before,nextToColumn);this._reIndexColumns();this.dispatch(\"column-add\",definition,before,nextToColumn);if(this.layoutMode()!=\"fitColumns\"){column.reinitializeWidth();}this.redraw(true);this.table.rowManager.reinitialize();this.rerenderColumns();resolve(column);});}//remove column from system\nderegisterColumn(column){var field=column.getField(),index;//remove from field list\nif(field){delete this.columnsByField[field];}//remove from index list\nindex=this.columnsByIndex.indexOf(column);if(index>-1){this.columnsByIndex.splice(index,1);}//remove from column list\nindex=this.columns.indexOf(column);if(index>-1){this.columns.splice(index,1);}this.verticalAlignHeaders();this.redraw();}rerenderColumns(update,silent){if(!this.redrawBlock){this.renderer.rerenderColumns(update,silent);}else{if(update===false||update===true&&this.redrawBlockUpdate===null){this.redrawBlockUpdate=update;}}}blockRedraw(){this.redrawBlock=true;this.redrawBlockUpdate=null;}restoreRedraw(){this.redrawBlock=false;this.verticalAlignHeaders();this.renderer.rerenderColumns(this.redrawBlockUpdate);}//redraw columns\nredraw(force){if(Helpers.elVisible(this.element)){this.verticalAlignHeaders();}if(force){this.table.rowManager.resetScroll();this.table.rowManager.reinitialize();}if(!this.confirm(\"table-redrawing\",force)){this.layoutRefresh(force);}this.dispatch(\"table-redraw\",force);this.table.footerManager.redraw();}}class BasicVertical extends Renderer{constructor(table){super(table);this.verticalFillMode=\"fill\";this.scrollTop=0;this.scrollLeft=0;this.scrollTop=0;this.scrollLeft=0;}clearRows(){var element=this.tableElement;// element.children.detach();\nwhile(element.firstChild)element.removeChild(element.firstChild);element.scrollTop=0;element.scrollLeft=0;element.style.minWidth=\"\";element.style.minHeight=\"\";element.style.display=\"\";element.style.visibility=\"\";}renderRows(){var element=this.tableElement,onlyGroupHeaders=true,tableFrag=document.createDocumentFragment(),rows=this.rows();rows.forEach((row,index)=>{this.styleRow(row,index);row.initialize(false,true);if(row.type!==\"group\"){onlyGroupHeaders=false;}tableFrag.appendChild(row.getElement());});element.appendChild(tableFrag);rows.forEach(row=>{row.rendered();if(!row.heightInitialized){row.calcHeight(true);}});rows.forEach(row=>{if(!row.heightInitialized){row.setCellHeight();}});if(onlyGroupHeaders){element.style.minWidth=this.table.columnManager.getWidth()+\"px\";}else{element.style.minWidth=\"\";}}rerenderRows(callback){this.clearRows();if(callback){callback();}this.renderRows();if(!this.rows().length){this.table.rowManager.tableEmpty();}}scrollToRowNearestTop(row){var rowTop=Helpers.elOffset(row.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-rowTop)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-rowTop));}scrollToRow(row){var rowEl=row.getElement();this.elementVertical.scrollTop=Helpers.elOffset(rowEl).top-Helpers.elOffset(this.elementVertical).top+this.elementVertical.scrollTop;}visibleRows(includingBuffer){return this.rows();}}class VirtualDomVertical extends Renderer{constructor(table){super(table);this.verticalFillMode=\"fill\";this.scrollTop=0;this.scrollLeft=0;this.vDomRowHeight=20;//approximation of row heights for padding\nthis.vDomTop=0;//hold position for first rendered row in the virtual DOM\nthis.vDomBottom=0;//hold position for last rendered row in the virtual DOM\nthis.vDomScrollPosTop=0;//last scroll position of the vDom top;\nthis.vDomScrollPosBottom=0;//last scroll position of the vDom bottom;\nthis.vDomTopPad=0;//hold value of padding for top of virtual DOM\nthis.vDomBottomPad=0;//hold value of padding for bottom of virtual DOM\nthis.vDomMaxRenderChain=90;//the maximum number of dom elements that can be rendered in 1 go\nthis.vDomWindowBuffer=0;//window row buffer before removing elements, to smooth scrolling\nthis.vDomWindowMinTotalRows=20;//minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\nthis.vDomWindowMinMarginRows=5;//minimum number of rows to be generated in virtual dom margin\nthis.vDomTopNewRows=[];//rows to normalize after appending to optimize render speed\nthis.vDomBottomNewRows=[];//rows to normalize after appending to optimize render speed\n}//////////////////////////////////////\n///////// Public Functions ///////////\n//////////////////////////////////////\nclearRows(){var element=this.tableElement;// element.children.detach();\nwhile(element.firstChild)element.removeChild(element.firstChild);element.style.paddingTop=\"\";element.style.paddingBottom=\"\";element.style.minHeight=\"\";element.style.display=\"\";element.style.visibility=\"\";this.elementVertical.scrollTop=0;this.elementVertical.scrollLeft=0;this.scrollTop=0;this.scrollLeft=0;this.vDomTop=0;this.vDomBottom=0;this.vDomTopPad=0;this.vDomBottomPad=0;this.vDomScrollPosTop=0;this.vDomScrollPosBottom=0;}renderRows(){this._virtualRenderFill();}rerenderRows(callback){var scrollTop=this.elementVertical.scrollTop;var topRow=false;var topOffset=false;var left=this.table.rowManager.scrollLeft;var rows=this.rows();for(var i=this.vDomTop;i<=this.vDomBottom;i++){if(rows[i]){var diff=scrollTop-rows[i].getElement().offsetTop;if(topOffset===false||Math.abs(diff)<topOffset){topOffset=diff;topRow=i;}else{break;}}}rows.forEach(row=>{row.deinitializeHeight();});if(callback){callback();}if(this.rows().length){this._virtualRenderFill(topRow===false?this.rows.length-1:topRow,true,topOffset||0);}else{this.clear();this.table.rowManager.tableEmpty();}this.scrollColumns(left);}scrollColumns(left){this.table.rowManager.scrollHorizontal(left);}scrollRows(top,dir){var topDiff=top-this.vDomScrollPosTop;var bottomDiff=top-this.vDomScrollPosBottom;var margin=this.vDomWindowBuffer*2;var rows=this.rows();this.scrollTop=top;if(-topDiff>margin||bottomDiff>margin){//if big scroll redraw table;\nvar left=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*rows.length));this.scrollColumns(left);}else{if(dir){//scrolling up\nif(topDiff<0){this._addTopRow(rows,-topDiff);}if(bottomDiff<0){//hide bottom row if needed\nif(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer){this._removeBottomRow(rows,-bottomDiff);}else{this.vDomScrollPosBottom=this.scrollTop;}}}else{if(bottomDiff>=0){this._addBottomRow(rows,bottomDiff);}//scrolling down\nif(topDiff>=0){//hide top row if needed\nif(this.scrollTop>this.vDomWindowBuffer){this._removeTopRow(rows,topDiff);}else{this.vDomScrollPosTop=this.scrollTop;}}}}}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight;}scrollToRowNearestTop(row){var rowIndex=this.rows().indexOf(row);return!(Math.abs(this.vDomTop-rowIndex)>Math.abs(this.vDomBottom-rowIndex));}scrollToRow(row){var index=this.rows().indexOf(row);if(index>-1){this._virtualRenderFill(index,true);}}visibleRows(includingBuffer){var topEdge=this.elementVertical.scrollTop,bottomEdge=this.elementVertical.clientHeight+topEdge,topFound=false,topRow=0,bottomRow=0,rows=this.rows();if(includingBuffer){topRow=this.vDomTop;bottomRow=this.vDomBottom;}else{for(var i=this.vDomTop;i<=this.vDomBottom;i++){if(rows[i]){if(!topFound){if(topEdge-rows[i].getElement().offsetTop>=0){topRow=i;}else{topFound=true;if(bottomEdge-rows[i].getElement().offsetTop>=0){bottomRow=i;}else{break;}}}else{if(bottomEdge-rows[i].getElement().offsetTop>=0){bottomRow=i;}else{break;}}}}}return rows.slice(topRow,bottomRow+1);}//////////////////////////////////////\n//////// Internal Rendering //////////\n//////////////////////////////////////\n//full virtual render\n_virtualRenderFill(position,forceMove,offset){var element=this.tableElement,holder=this.elementVertical,topPad=0,rowsHeight=0,rowHeight=0,heightOccupied=0,topPadHeight=0,i=0,rows=this.rows(),rowsCount=rows.length,index=0,row,rowFragment,renderedRows=[],totalRowsRendered=0,rowsToRender=0,fixedHeight=this.table.rowManager.fixedHeight,containerHeight=this.elementVertical.clientHeight,avgRowHeight=this.table.options.rowHeight,resized=true;position=position||0;offset=offset||0;if(!position){this.clear();}else{while(element.firstChild)element.removeChild(element.firstChild);//check if position is too close to bottom of table\nheightOccupied=(rowsCount-position+1)*this.vDomRowHeight;if(heightOccupied<containerHeight){position-=Math.ceil((containerHeight-heightOccupied)/this.vDomRowHeight);if(position<0){position=0;}}//calculate initial pad\ntopPad=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),position);position-=topPad;}if(rowsCount&&Helpers.elVisible(this.elementVertical)){this.vDomTop=position;this.vDomBottom=position-1;if(fixedHeight||this.table.options.maxHeight){if(avgRowHeight){rowsToRender=containerHeight/avgRowHeight+this.vDomWindowBuffer/avgRowHeight;}rowsToRender=Math.max(this.vDomWindowMinTotalRows,Math.ceil(rowsToRender));}else{rowsToRender=rowsCount;}while((rowsToRender==rowsCount||rowsHeight<=containerHeight+this.vDomWindowBuffer||totalRowsRendered<this.vDomWindowMinTotalRows)&&this.vDomBottom<rowsCount-1){renderedRows=[];rowFragment=document.createDocumentFragment();i=0;while(i<rowsToRender&&this.vDomBottom<rowsCount-1){index=this.vDomBottom+1,row=rows[index];this.styleRow(row,index);row.initialize(false,true);if(!row.heightInitialized&&!this.table.options.rowHeight){row.clearCellHeight();}rowFragment.appendChild(row.getElement());renderedRows.push(row);this.vDomBottom++;i++;}if(!renderedRows.length){break;}element.appendChild(rowFragment);// NOTE: The next 3 loops are separate on purpose\n// This is to batch up the dom writes and reads which drastically improves performance \nrenderedRows.forEach(row=>{row.rendered();if(!row.heightInitialized){row.calcHeight(true);}});renderedRows.forEach(row=>{if(!row.heightInitialized){row.setCellHeight();}});renderedRows.forEach(row=>{rowHeight=row.getHeight();if(totalRowsRendered<topPad){topPadHeight+=rowHeight;}else{rowsHeight+=rowHeight;}if(rowHeight>this.vDomWindowBuffer){this.vDomWindowBuffer=rowHeight*2;}totalRowsRendered++;});resized=this.table.rowManager.adjustTableSize();containerHeight=this.elementVertical.clientHeight;if(resized&&(fixedHeight||this.table.options.maxHeight)){avgRowHeight=rowsHeight/totalRowsRendered;rowsToRender=Math.max(this.vDomWindowMinTotalRows,Math.ceil(containerHeight/avgRowHeight+this.vDomWindowBuffer/avgRowHeight));}}if(!position){this.vDomTopPad=0;//adjust row height to match average of rendered elements\nthis.vDomRowHeight=Math.floor((rowsHeight+topPadHeight)/totalRowsRendered);this.vDomBottomPad=this.vDomRowHeight*(rowsCount-this.vDomBottom-1);this.vDomScrollHeight=topPadHeight+rowsHeight+this.vDomBottomPad-containerHeight;}else{this.vDomTopPad=!forceMove?this.scrollTop-topPadHeight:this.vDomRowHeight*this.vDomTop+offset;this.vDomBottomPad=this.vDomBottom==rowsCount-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-rowsHeight-topPadHeight,0);}element.style.paddingTop=this.vDomTopPad+\"px\";element.style.paddingBottom=this.vDomBottomPad+\"px\";if(forceMove){this.scrollTop=this.vDomTopPad+topPadHeight+offset-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-containerHeight:0);}this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-containerHeight);//adjust for horizontal scrollbar if present (and not at top of table)\nif(this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&forceMove){this.scrollTop+=this.elementVertical.offsetHeight-containerHeight;}this.vDomScrollPosTop=this.scrollTop;this.vDomScrollPosBottom=this.scrollTop;holder.scrollTop=this.scrollTop;this.dispatch(\"render-virtual-fill\");}}_addTopRow(rows,fillableSpace){var table=this.tableElement,addedRows=[],paddingAdjust=0,index=this.vDomTop-1,i=0,working=true;while(working){if(this.vDomTop){let row=rows[index],rowHeight,initialized;if(row&&i<this.vDomMaxRenderChain){rowHeight=row.getHeight()||this.vDomRowHeight;initialized=row.initialized;if(fillableSpace>=rowHeight){this.styleRow(row,index);table.insertBefore(row.getElement(),table.firstChild);if(!row.initialized||!row.heightInitialized){addedRows.push(row);}row.initialize();if(!initialized){rowHeight=row.getElement().offsetHeight;if(rowHeight>this.vDomWindowBuffer){this.vDomWindowBuffer=rowHeight*2;}}fillableSpace-=rowHeight;paddingAdjust+=rowHeight;this.vDomTop--;index--;i++;}else{working=false;}}else{working=false;}}else{working=false;}}for(let row of addedRows){row.clearCellHeight();}this._quickNormalizeRowHeight(addedRows);if(paddingAdjust){this.vDomTopPad-=paddingAdjust;if(this.vDomTopPad<0){this.vDomTopPad=index*this.vDomRowHeight;}if(index<1){this.vDomTopPad=0;}table.style.paddingTop=this.vDomTopPad+\"px\";this.vDomScrollPosTop-=paddingAdjust;}}_removeTopRow(rows,fillableSpace){var removableRows=[],paddingAdjust=0,i=0,working=true;while(working){let row=rows[this.vDomTop],rowHeight;if(row&&i<this.vDomMaxRenderChain){rowHeight=row.getHeight()||this.vDomRowHeight;if(fillableSpace>=rowHeight){this.vDomTop++;fillableSpace-=rowHeight;paddingAdjust+=rowHeight;removableRows.push(row);i++;}else{working=false;}}else{working=false;}}for(let row of removableRows){let rowEl=row.getElement();if(rowEl.parentNode){rowEl.parentNode.removeChild(rowEl);}}if(paddingAdjust){this.vDomTopPad+=paddingAdjust;this.tableElement.style.paddingTop=this.vDomTopPad+\"px\";this.vDomScrollPosTop+=this.vDomTop?paddingAdjust:paddingAdjust+this.vDomWindowBuffer;}}_addBottomRow(rows,fillableSpace){var table=this.tableElement,addedRows=[],paddingAdjust=0,index=this.vDomBottom+1,i=0,working=true;while(working){let row=rows[index],rowHeight,initialized;if(row&&i<this.vDomMaxRenderChain){rowHeight=row.getHeight()||this.vDomRowHeight;initialized=row.initialized;if(fillableSpace>=rowHeight){this.styleRow(row,index);table.appendChild(row.getElement());if(!row.initialized||!row.heightInitialized){addedRows.push(row);}row.initialize();if(!initialized){rowHeight=row.getElement().offsetHeight;if(rowHeight>this.vDomWindowBuffer){this.vDomWindowBuffer=rowHeight*2;}}fillableSpace-=rowHeight;paddingAdjust+=rowHeight;this.vDomBottom++;index++;i++;}else{working=false;}}else{working=false;}}for(let row of addedRows){row.clearCellHeight();}this._quickNormalizeRowHeight(addedRows);if(paddingAdjust){this.vDomBottomPad-=paddingAdjust;if(this.vDomBottomPad<0||index==rows.length-1){this.vDomBottomPad=0;}table.style.paddingBottom=this.vDomBottomPad+\"px\";this.vDomScrollPosBottom+=paddingAdjust;}}_removeBottomRow(rows,fillableSpace){var removableRows=[],paddingAdjust=0,i=0,working=true;while(working){let row=rows[this.vDomBottom],rowHeight;if(row&&i<this.vDomMaxRenderChain){rowHeight=row.getHeight()||this.vDomRowHeight;if(fillableSpace>=rowHeight){this.vDomBottom--;fillableSpace-=rowHeight;paddingAdjust+=rowHeight;removableRows.push(row);i++;}else{working=false;}}else{working=false;}}for(let row of removableRows){let rowEl=row.getElement();if(rowEl.parentNode){rowEl.parentNode.removeChild(rowEl);}}if(paddingAdjust){this.vDomBottomPad+=paddingAdjust;if(this.vDomBottomPad<0){this.vDomBottomPad=0;}this.tableElement.style.paddingBottom=this.vDomBottomPad+\"px\";this.vDomScrollPosBottom-=paddingAdjust;}}_quickNormalizeRowHeight(rows){for(let row of rows){row.calcHeight();}for(let row of rows){row.setCellHeight();}}}class RowManager extends CoreFeature{constructor(table){super(table);this.element=this.createHolderElement();//containing element\nthis.tableElement=this.createTableElement();//table element\nthis.heightFixer=this.createTableElement();//table element\nthis.placeholder=null;//placeholder element\nthis.placeholderContents=null;//placeholder element\nthis.firstRender=false;//handle first render\nthis.renderMode=\"virtual\";//current rendering mode\nthis.fixedHeight=false;//current rendering mode\nthis.rows=[];//hold row data objects\nthis.activeRowsPipeline=[];//hold calculation of active rows\nthis.activeRows=[];//rows currently available to on display in the table\nthis.activeRowsCount=0;//count of active rows\nthis.displayRows=[];//rows currently on display in the table\nthis.displayRowsCount=0;//count of display rows\nthis.scrollTop=0;this.scrollLeft=0;this.redrawBlock=false;//prevent redraws to allow multiple data manipulations before continuing\nthis.redrawBlockRestoreConfig=false;//store latest redraw function calls for when redraw is needed\nthis.redrawBlockRenderInPosition=false;//store latest redraw function calls for when redraw is needed\nthis.dataPipeline=[];//hold data pipeline tasks\nthis.displayPipeline=[];//hold data display pipeline tasks\nthis.scrollbarWidth=0;this.renderer=null;}//////////////// Setup Functions /////////////////\ncreateHolderElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-tableholder\");el.setAttribute(\"tabindex\",0);// el.setAttribute(\"role\", \"rowgroup\");\nreturn el;}createTableElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-table\");el.setAttribute(\"role\",\"rowgroup\");return el;}initializePlaceholder(){var placeholder=this.table.options.placeholder;if(typeof placeholder===\"function\"){placeholder=placeholder.call(this.table);}placeholder=this.chain(\"placeholder\",[placeholder],placeholder,placeholder)||placeholder;//configure placeholder element\nif(placeholder){let el=document.createElement(\"div\");el.classList.add(\"tabulator-placeholder\");if(typeof placeholder==\"string\"){let contents=document.createElement(\"div\");contents.classList.add(\"tabulator-placeholder-contents\");contents.innerHTML=placeholder;el.appendChild(contents);this.placeholderContents=contents;}else if(typeof HTMLElement!==\"undefined\"&&placeholder instanceof HTMLElement){el.appendChild(placeholder);this.placeholderContents=placeholder;}else{console.warn(\"Invalid placeholder provided, must be string or HTML Element\",placeholder);this.el=null;}this.placeholder=el;}}//return containing element\ngetElement(){return this.element;}//return table element\ngetTableElement(){return this.tableElement;}initialize(){this.initializePlaceholder();this.initializeRenderer();//initialize manager\nthis.element.appendChild(this.tableElement);this.firstRender=true;//scroll header along with table body\nthis.element.addEventListener(\"scroll\",()=>{var left=this.element.scrollLeft,leftDir=this.scrollLeft>left,top=this.element.scrollTop,topDir=this.scrollTop>top;//handle horizontal scrolling\nif(this.scrollLeft!=left){this.scrollLeft=left;this.dispatch(\"scroll-horizontal\",left,leftDir);this.dispatchExternal(\"scrollHorizontal\",left,leftDir);this._positionPlaceholder();}//handle vertical scrolling\nif(this.scrollTop!=top){this.scrollTop=top;this.renderer.scrollRows(top,topDir);this.dispatch(\"scroll-vertical\",top,topDir);this.dispatchExternal(\"scrollVertical\",top,topDir);}});}////////////////// Row Manipulation //////////////////\nfindRow(subject){if(typeof subject==\"object\"){if(subject instanceof Row){//subject is row element\nreturn subject;}else if(subject instanceof RowComponent){//subject is public row component\nreturn subject._getSelf()||false;}else if(typeof HTMLElement!==\"undefined\"&&subject instanceof HTMLElement){//subject is a HTML element of the row\nlet match=this.rows.find(row=>{return row.getElement()===subject;});return match||false;}else if(subject===null){return false;}}else if(typeof subject==\"undefined\"){return false;}else{//subject should be treated as the index of the row\nlet match=this.rows.find(row=>{return row.data[this.table.options.index]==subject;});return match||false;}//catch all for any other type of input\nreturn false;}getRowFromDataObject(data){var match=this.rows.find(row=>{return row.data===data;});return match||false;}getRowFromPosition(position){return this.getDisplayRows().find(row=>{return row.type===\"row\"&&row.getPosition()===position&&row.isDisplayed();});}scrollToRow(row,position,ifVisible){return this.renderer.scrollToRowPosition(row,position,ifVisible);}////////////////// Data Handling //////////////////\nsetData(data,renderInPosition,columnsChanged){return new Promise((resolve,reject)=>{if(renderInPosition&&this.getDisplayRows().length){if(this.table.options.pagination){this._setDataActual(data,true);}else{this.reRenderInPosition(()=>{this._setDataActual(data);});}}else{if(this.table.options.autoColumns&&columnsChanged&&this.table.initialized){this.table.columnManager.generateColumnsFromRowData(data);}this.resetScroll();this._setDataActual(data);}resolve();});}_setDataActual(data,renderInPosition){this.dispatchExternal(\"dataProcessing\",data);this._wipeElements();if(Array.isArray(data)){this.dispatch(\"data-processing\",data);data.forEach((def,i)=>{if(def&&typeof def===\"object\"){var row=new Row(def,this);this.rows.push(row);}else{console.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\",def);}});this.refreshActiveData(false,false,renderInPosition);this.dispatch(\"data-processed\",data);this.dispatchExternal(\"dataProcessed\",data);}else{console.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \",typeof data,\"\\nData:     \",data);}}_wipeElements(){this.dispatch(\"rows-wipe\");this.destroy();this.adjustTableSize();this.dispatch(\"rows-wiped\");}destroy(){this.rows.forEach(row=>{row.wipe();});this.rows=[];this.activeRows=[];this.activeRowsPipeline=[];this.activeRowsCount=0;this.displayRows=[];this.displayRowsCount=0;}deleteRow(row,blockRedraw){var allIndex=this.rows.indexOf(row),activeIndex=this.activeRows.indexOf(row);if(activeIndex>-1){this.activeRows.splice(activeIndex,1);}if(allIndex>-1){this.rows.splice(allIndex,1);}this.setActiveRows(this.activeRows);this.displayRowIterator(rows=>{var displayIndex=rows.indexOf(row);if(displayIndex>-1){rows.splice(displayIndex,1);}});if(!blockRedraw){this.reRenderInPosition();}this.regenerateRowPositions();this.dispatchExternal(\"rowDeleted\",row.getComponent());if(!this.displayRowsCount){this.tableEmpty();}if(this.subscribedExternal(\"dataChanged\")){this.dispatchExternal(\"dataChanged\",this.getData());}}addRow(data,pos,index,blockRedraw){var row=this.addRowActual(data,pos,index,blockRedraw);return row;}//add multiple rows\naddRows(data,pos,index,refreshDisplayOnly){var rows=[];return new Promise((resolve,reject)=>{pos=this.findAddRowPos(pos);if(!Array.isArray(data)){data=[data];}if(typeof index==\"undefined\"&&pos||typeof index!==\"undefined\"&&!pos){data.reverse();}data.forEach((item,i)=>{var row=this.addRow(item,pos,index,true);rows.push(row);this.dispatch(\"row-added\",row,item,pos,index);});this.refreshActiveData(refreshDisplayOnly?\"displayPipeline\":false,false,true);this.regenerateRowPositions();if(this.displayRowsCount){this._clearPlaceholder();}resolve(rows);});}findAddRowPos(pos){if(typeof pos===\"undefined\"){pos=this.table.options.addRowPos;}if(pos===\"pos\"){pos=true;}if(pos===\"bottom\"){pos=false;}return pos;}addRowActual(data,pos,index,blockRedraw){var row=data instanceof Row?data:new Row(data||{},this),top=this.findAddRowPos(pos),allIndex=-1,activeIndex,chainResult;if(!index){chainResult=this.chain(\"row-adding-position\",[row,top],null,{index,top});index=chainResult.index;top=chainResult.top;}if(typeof index!==\"undefined\"){index=this.findRow(index);}index=this.chain(\"row-adding-index\",[row,index,top],null,index);if(index){allIndex=this.rows.indexOf(index);}if(index&&allIndex>-1){activeIndex=this.activeRows.indexOf(index);this.displayRowIterator(function(rows){var displayIndex=rows.indexOf(index);if(displayIndex>-1){rows.splice(top?displayIndex:displayIndex+1,0,row);}});if(activeIndex>-1){this.activeRows.splice(top?activeIndex:activeIndex+1,0,row);}this.rows.splice(top?allIndex:allIndex+1,0,row);}else{if(top){this.displayRowIterator(function(rows){rows.unshift(row);});this.activeRows.unshift(row);this.rows.unshift(row);}else{this.displayRowIterator(function(rows){rows.push(row);});this.activeRows.push(row);this.rows.push(row);}}this.setActiveRows(this.activeRows);this.dispatchExternal(\"rowAdded\",row.getComponent());if(this.subscribedExternal(\"dataChanged\")){this.dispatchExternal(\"dataChanged\",this.table.rowManager.getData());}if(!blockRedraw){this.reRenderInPosition();}return row;}moveRow(from,to,after){this.dispatch(\"row-move\",from,to,after);this.moveRowActual(from,to,after);this.regenerateRowPositions();this.dispatch(\"row-moved\",from,to,after);this.dispatchExternal(\"rowMoved\",from.getComponent());}moveRowActual(from,to,after){this.moveRowInArray(this.rows,from,to,after);this.moveRowInArray(this.activeRows,from,to,after);this.displayRowIterator(rows=>{this.moveRowInArray(rows,from,to,after);});this.dispatch(\"row-moving\",from,to,after);}moveRowInArray(rows,from,to,after){var fromIndex,toIndex,start,end;if(from!==to){fromIndex=rows.indexOf(from);if(fromIndex>-1){rows.splice(fromIndex,1);toIndex=rows.indexOf(to);if(toIndex>-1){if(after){rows.splice(toIndex+1,0,from);}else{rows.splice(toIndex,0,from);}}else{rows.splice(fromIndex,0,from);}}//restyle rows\nif(rows===this.getDisplayRows()){start=fromIndex<toIndex?fromIndex:toIndex;end=toIndex>fromIndex?toIndex:fromIndex+1;for(let i=start;i<=end;i++){if(rows[i]){this.styleRow(rows[i],i);}}}}}clearData(){this.setData([]);}getRowIndex(row){return this.findRowIndex(row,this.rows);}getDisplayRowIndex(row){var index=this.getDisplayRows().indexOf(row);return index>-1?index:false;}nextDisplayRow(row,rowOnly){var index=this.getDisplayRowIndex(row),nextRow=false;if(index!==false&&index<this.displayRowsCount-1){nextRow=this.getDisplayRows()[index+1];}if(nextRow&&(!(nextRow instanceof Row)||nextRow.type!=\"row\")){return this.nextDisplayRow(nextRow,rowOnly);}return nextRow;}prevDisplayRow(row,rowOnly){var index=this.getDisplayRowIndex(row),prevRow=false;if(index){prevRow=this.getDisplayRows()[index-1];}if(rowOnly&&prevRow&&(!(prevRow instanceof Row)||prevRow.type!=\"row\")){return this.prevDisplayRow(prevRow,rowOnly);}return prevRow;}findRowIndex(row,list){var rowIndex;row=this.findRow(row);if(row){rowIndex=list.indexOf(row);if(rowIndex>-1){return rowIndex;}}return false;}getData(active,transform){var output=[],rows=this.getRows(active);rows.forEach(function(row){if(row.type==\"row\"){output.push(row.getData(transform||\"data\"));}});return output;}getComponents(active){var output=[],rows=this.getRows(active);rows.forEach(function(row){output.push(row.getComponent());});return output;}getDataCount(active){var rows=this.getRows(active);return rows.length;}scrollHorizontal(left){this.scrollLeft=left;this.element.scrollLeft=left;this.dispatch(\"scroll-horizontal\",left);}registerDataPipelineHandler(handler,priority){if(typeof priority!==\"undefined\"){this.dataPipeline.push({handler,priority});this.dataPipeline.sort((a,b)=>{return a.priority-b.priority;});}else{console.error(\"Data pipeline handlers must have a priority in order to be registered\");}}registerDisplayPipelineHandler(handler,priority){if(typeof priority!==\"undefined\"){this.displayPipeline.push({handler,priority});this.displayPipeline.sort((a,b)=>{return a.priority-b.priority;});}else{console.error(\"Display pipeline handlers must have a priority in order to be registered\");}}//set active data set\nrefreshActiveData(handler,skipStage,renderInPosition){var table=this.table,stage=\"\",index=0,cascadeOrder=[\"all\",\"dataPipeline\",\"display\",\"displayPipeline\",\"end\"];if(!this.table.destroyed){if(typeof handler===\"function\"){index=this.dataPipeline.findIndex(item=>{return item.handler===handler;});if(index>-1){stage=\"dataPipeline\";if(skipStage){if(index==this.dataPipeline.length-1){stage=\"display\";}else{index++;}}}else{index=this.displayPipeline.findIndex(item=>{return item.handler===handler;});if(index>-1){stage=\"displayPipeline\";if(skipStage){if(index==this.displayPipeline.length-1){stage=\"end\";}else{index++;}}}else{console.error(\"Unable to refresh data, invalid handler provided\",handler);return;}}}else{stage=handler||\"all\";index=0;}if(this.redrawBlock){if(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===stage&&index<this.redrawBlockRestoreConfig.index||cascadeOrder.indexOf(stage)<cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage))){this.redrawBlockRestoreConfig={handler:handler,skipStage:skipStage,renderInPosition:renderInPosition,stage:stage,index:index};}return;}else{if(Helpers.elVisible(this.element)){if(renderInPosition){this.reRenderInPosition(this.refreshPipelines.bind(this,handler,stage,index,renderInPosition));}else{this.refreshPipelines(handler,stage,index,renderInPosition);if(!handler){this.table.columnManager.renderer.renderColumns();}this.renderTable();if(table.options.layoutColumnsOnNewData){this.table.columnManager.redraw(true);}}}else{this.refreshPipelines(handler,stage,index,renderInPosition);}this.dispatch(\"data-refreshed\");}}}refreshPipelines(handler,stage,index,renderInPosition){this.dispatch(\"data-refreshing\");if(!handler||!this.activeRowsPipeline[0]){this.activeRowsPipeline[0]=this.rows.slice(0);}//cascade through data refresh stages\nswitch(stage){case\"all\"://handle case where all data needs refreshing\ncase\"dataPipeline\":for(let i=index;i<this.dataPipeline.length;i++){let result=this.dataPipeline[i].handler(this.activeRowsPipeline[i].slice(0));this.activeRowsPipeline[i+1]=result||this.activeRowsPipeline[i].slice(0);}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case\"display\":index=0;this.resetDisplayRows();case\"displayPipeline\":for(let i=index;i<this.displayPipeline.length;i++){let result=this.displayPipeline[i].handler((i?this.getDisplayRows(i-1):this.activeRows).slice(0),renderInPosition);this.setDisplayRows(result||this.getDisplayRows(i-1).slice(0),i);}case\"end\"://case to handle scenario when trying to skip past end stage\nthis.regenerateRowPositions();}if(this.getDisplayRows().length){this._clearPlaceholder();}}//regenerate row positions\nregenerateRowPositions(){var rows=this.getDisplayRows();var index=1;rows.forEach(row=>{if(row.type===\"row\"){row.setPosition(index);index++;}});}setActiveRows(activeRows){this.activeRows=this.activeRows=Object.assign([],activeRows);this.activeRowsCount=this.activeRows.length;}//reset display rows array\nresetDisplayRows(){this.displayRows=[];this.displayRows.push(this.activeRows.slice(0));this.displayRowsCount=this.displayRows[0].length;}//set display row pipeline data\nsetDisplayRows(displayRows,index){this.displayRows[index]=displayRows;if(index==this.displayRows.length-1){this.displayRowsCount=this.displayRows[this.displayRows.length-1].length;}}getDisplayRows(index){if(typeof index==\"undefined\"){return this.displayRows.length?this.displayRows[this.displayRows.length-1]:[];}else{return this.displayRows[index]||[];}}getVisibleRows(chain,viewable){var rows=Object.assign([],this.renderer.visibleRows(!viewable));if(chain){rows=this.chain(\"rows-visible\",[viewable],rows,rows);}return rows;}//repeat action across display rows\ndisplayRowIterator(callback){this.activeRowsPipeline.forEach(callback);this.displayRows.forEach(callback);this.displayRowsCount=this.displayRows[this.displayRows.length-1].length;}//return only actual rows (not group headers etc)\ngetRows(type){var rows=[];switch(type){case\"active\":rows=this.activeRows;break;case\"display\":rows=this.table.rowManager.getDisplayRows();break;case\"visible\":rows=this.getVisibleRows(false,true);break;default:rows=this.chain(\"rows-retrieve\",type,null,this.rows)||this.rows;}return rows;}///////////////// Table Rendering /////////////////\n//trigger rerender of table in current position\nreRenderInPosition(callback){if(this.redrawBlock){if(callback){callback();}else{this.redrawBlockRenderInPosition=true;}}else{this.dispatchExternal(\"renderStarted\");this.renderer.rerenderRows(callback);if(!this.fixedHeight){this.adjustTableSize();}this.scrollBarCheck();this.dispatchExternal(\"renderComplete\");}}scrollBarCheck(){var scrollbarWidth=0;//adjust for vertical scrollbar moving table when present\nif(this.element.scrollHeight>this.element.clientHeight){scrollbarWidth=this.element.offsetWidth-this.element.clientWidth;}if(scrollbarWidth!==this.scrollbarWidth){this.scrollbarWidth=scrollbarWidth;this.dispatch(\"scrollbar-vertical\",scrollbarWidth);}}initializeRenderer(){var renderClass;var renderers={\"virtual\":VirtualDomVertical,\"basic\":BasicVertical};if(typeof this.table.options.renderVertical===\"string\"){renderClass=renderers[this.table.options.renderVertical];}else{renderClass=this.table.options.renderVertical;}if(renderClass){this.renderMode=this.table.options.renderVertical;this.renderer=new renderClass(this.table,this.element,this.tableElement);this.renderer.initialize();if((this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)){this.fixedHeight=true;}else{this.fixedHeight=false;}}else{console.error(\"Unable to find matching renderer:\",this.table.options.renderVertical);}}getRenderMode(){return this.renderMode;}renderTable(){this.dispatchExternal(\"renderStarted\");this.element.scrollTop=0;this._clearTable();if(this.displayRowsCount){this.renderer.renderRows();if(this.firstRender){this.firstRender=false;if(!this.fixedHeight){this.adjustTableSize();}this.layoutRefresh(true);}}else{this.renderEmptyScroll();}if(!this.fixedHeight){this.adjustTableSize();}this.dispatch(\"table-layout\");if(!this.displayRowsCount){this._showPlaceholder();}this.scrollBarCheck();this.dispatchExternal(\"renderComplete\");}//show scrollbars on empty table div\nrenderEmptyScroll(){if(this.placeholder){this.tableElement.style.display=\"none\";}else{this.tableElement.style.minWidth=this.table.columnManager.getWidth()+\"px\";// this.tableElement.style.minHeight = \"1px\";\n// this.tableElement.style.visibility = \"hidden\";\n}}_clearTable(){this._clearPlaceholder();this.scrollTop=0;this.scrollLeft=0;this.renderer.clearRows();}tableEmpty(){this.renderEmptyScroll();this._showPlaceholder();}checkPlaceholder(){if(this.displayRowsCount){this._clearPlaceholder();}else{this.tableEmpty();}}_showPlaceholder(){if(this.placeholder){if(this.placeholder&&this.placeholder.parentNode){this.placeholder.parentNode.removeChild(this.placeholder);}this.initializePlaceholder();this.placeholder.setAttribute(\"tabulator-render-mode\",this.renderMode);this.getElement().appendChild(this.placeholder);this._positionPlaceholder();this.adjustTableSize();}}_clearPlaceholder(){if(this.placeholder&&this.placeholder.parentNode){this.placeholder.parentNode.removeChild(this.placeholder);}// clear empty table placeholder min\nthis.tableElement.style.minWidth=\"\";this.tableElement.style.display=\"\";}_positionPlaceholder(){if(this.placeholder&&this.placeholder.parentNode){this.placeholder.style.width=this.table.columnManager.getWidth()+\"px\";this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+\"px\";this.placeholderContents.style.marginLeft=this.scrollLeft+\"px\";}}styleRow(row,index){var rowEl=row.getElement();if(index%2){rowEl.classList.add(\"tabulator-row-even\");rowEl.classList.remove(\"tabulator-row-odd\");}else{rowEl.classList.add(\"tabulator-row-odd\");rowEl.classList.remove(\"tabulator-row-even\");}}//normalize height of active rows\nnormalizeHeight(force){this.activeRows.forEach(function(row){row.normalizeHeight(force);});}//adjust the height of the table holder to fit in the Tabulator element\nadjustTableSize(){let initialHeight=this.element.clientHeight,minHeight;let resized=false;if(this.renderer.verticalFillMode===\"fill\"){let otherHeight=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){minHeight=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+\"px\";const height=\"calc(100% - \"+otherHeight+\"px)\";this.element.style.minHeight=minHeight||\"calc(100% - \"+otherHeight+\"px)\";this.element.style.height=height;this.element.style.maxHeight=height;}else{this.element.style.height=\"\";this.element.style.height=this.table.element.clientHeight-otherHeight+\"px\";this.element.scrollTop=this.scrollTop;}this.renderer.resize();//check if the table has changed size when dealing with variable height tables\nif(!this.fixedHeight&&initialHeight!=this.element.clientHeight){resized=true;if(this.subscribed(\"table-resize\")){this.dispatch(\"table-resize\");}else{this.redraw();}}this.scrollBarCheck();}this._positionPlaceholder();return resized;}//reinitialize all rows\nreinitialize(){this.rows.forEach(function(row){row.reinitialize(true);});}//prevent table from being redrawn\nblockRedraw(){this.redrawBlock=true;this.redrawBlockRestoreConfig=false;}//restore table redrawing\nrestoreRedraw(){this.redrawBlock=false;if(this.redrawBlockRestoreConfig){this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition);this.redrawBlockRestoreConfig=false;}else{if(this.redrawBlockRenderInPosition){this.reRenderInPosition();}}this.redrawBlockRenderInPosition=false;}//redraw table\nredraw(force){this.adjustTableSize();this.table.tableWidth=this.table.element.clientWidth;if(!force){this.reRenderInPosition();this.scrollHorizontal(this.scrollLeft);}else{this.renderTable();}}resetScroll(){this.element.scrollLeft=0;this.element.scrollTop=0;if(this.table.browser===\"ie\"){var event=document.createEvent(\"Event\");event.initEvent(\"scroll\",false,true);this.element.dispatchEvent(event);}else{this.element.dispatchEvent(new Event('scroll'));}}}class FooterManager extends CoreFeature{constructor(table){super(table);this.active=false;this.element=this.createElement();//containing element\nthis.containerElement=this.createContainerElement();//containing element\nthis.external=false;}initialize(){this.initializeElement();}createElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-footer\");return el;}createContainerElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-footer-contents\");this.element.appendChild(el);return el;}initializeElement(){if(this.table.options.footerElement){switch(typeof this.table.options.footerElement){case\"string\":if(this.table.options.footerElement[0]===\"<\"){this.containerElement.innerHTML=this.table.options.footerElement;}else{this.external=true;this.containerElement=document.querySelector(this.table.options.footerElement);}break;default:this.element=this.table.options.footerElement;break;}}}getElement(){return this.element;}append(element){this.activate();this.containerElement.appendChild(element);this.table.rowManager.adjustTableSize();}prepend(element){this.activate();this.element.insertBefore(element,this.element.firstChild);this.table.rowManager.adjustTableSize();}remove(element){element.parentNode.removeChild(element);this.deactivate();}deactivate(force){if(!this.element.firstChild||force){if(!this.external){this.element.parentNode.removeChild(this.element);}this.active=false;}}activate(){if(!this.active){this.active=true;if(!this.external){this.table.element.appendChild(this.getElement());this.table.element.style.display='';}}}redraw(){this.dispatch(\"footer-redraw\");}}class InteractionManager extends CoreFeature{constructor(table){super(table);this.el=null;this.abortClasses=[\"tabulator-headers\",\"tabulator-table\"];this.previousTargets={};this.listeners=[\"click\",\"dblclick\",\"contextmenu\",\"mouseenter\",\"mouseleave\",\"mouseover\",\"mouseout\",\"mousemove\",\"mouseup\",\"mousedown\",\"touchstart\",\"touchend\"];this.componentMap={\"tabulator-cell\":\"cell\",\"tabulator-row\":\"row\",\"tabulator-group\":\"group\",\"tabulator-col\":\"column\"};this.pseudoTrackers={\"row\":{subscriber:null,target:null},\"cell\":{subscriber:null,target:null},\"group\":{subscriber:null,target:null},\"column\":{subscriber:null,target:null}};this.pseudoTracking=false;}initialize(){this.el=this.table.element;this.buildListenerMap();this.bindSubscriptionWatchers();}buildListenerMap(){var listenerMap={};this.listeners.forEach(listener=>{listenerMap[listener]={handler:null,components:[]};});this.listeners=listenerMap;}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(key=>{this.pseudoTrackers[key].subscriber=this.pseudoMouseEnter.bind(this,key);this.subscribe(key+\"-mouseover\",this.pseudoTrackers[key].subscriber);});this.pseudoTracking=true;}pseudoMouseEnter(key,e,target){if(this.pseudoTrackers[key].target!==target){if(this.pseudoTrackers[key].target){this.dispatch(key+\"-mouseleave\",e,this.pseudoTrackers[key].target);}this.pseudoMouseLeave(key,e);this.pseudoTrackers[key].target=target;this.dispatch(key+\"-mouseenter\",e,target);}}pseudoMouseLeave(key,e){var leaveList=Object.keys(this.pseudoTrackers),linkedKeys={\"row\":[\"cell\"],\"cell\":[\"row\"]};leaveList=leaveList.filter(item=>{var links=linkedKeys[key];return item!==key&&(!links||links&&!links.includes(item));});leaveList.forEach(key=>{var target=this.pseudoTrackers[key].target;if(this.pseudoTrackers[key].target){this.dispatch(key+\"-mouseleave\",e,target);this.pseudoTrackers[key].target=null;}});}bindSubscriptionWatchers(){var listeners=Object.keys(this.listeners),components=Object.values(this.componentMap);for(let comp of components){for(let listener of listeners){let key=comp+\"-\"+listener;this.subscriptionChange(key,this.subscriptionChanged.bind(this,comp,listener));}}this.subscribe(\"table-destroy\",this.clearWatchers.bind(this));}subscriptionChanged(component,key,added){var listener=this.listeners[key].components,index=listener.indexOf(component),changed=false;if(added){if(index===-1){listener.push(component);changed=true;}}else{if(!this.subscribed(component+\"-\"+key)){if(index>-1){listener.splice(index,1);changed=true;}}}if((key===\"mouseenter\"||key===\"mouseleave\")&&!this.pseudoTracking){this.bindPseudoEvents();}if(changed){this.updateEventListeners();}}updateEventListeners(){for(let key in this.listeners){let listener=this.listeners[key];if(listener.components.length){if(!listener.handler){listener.handler=this.track.bind(this,key);this.el.addEventListener(key,listener.handler);// this.el.addEventListener(key, listener.handler, {passive: true})\n}}else{if(listener.handler){this.el.removeEventListener(key,listener.handler);listener.handler=null;}}}}track(type,e){var path=e.composedPath&&e.composedPath()||e.path;var targets=this.findTargets(path);targets=this.bindComponents(type,targets);this.triggerEvents(type,e,targets);if(this.pseudoTracking&&(type==\"mouseover\"||type==\"mouseleave\")&&!Object.keys(targets).length){this.pseudoMouseLeave(\"none\",e);}}findTargets(path){var targets={};let componentMap=Object.keys(this.componentMap);for(let el of path){let classList=el.classList?[...el.classList]:[];let abort=classList.filter(item=>{return this.abortClasses.includes(item);});if(abort.length){break;}let elTargets=classList.filter(item=>{return componentMap.includes(item);});for(let target of elTargets){if(!targets[this.componentMap[target]]){targets[this.componentMap[target]]=el;}}}if(targets.group&&targets.group===targets.row){delete targets.row;}return targets;}bindComponents(type,targets){//ensure row component is looked up before cell\nvar keys=Object.keys(targets).reverse(),listener=this.listeners[type],matches={},targetMatches={};for(let key of keys){let component,target=targets[key],previousTarget=this.previousTargets[key];if(previousTarget&&previousTarget.target===target){component=previousTarget.component;}else{switch(key){case\"row\":case\"group\":if(listener.components.includes(\"row\")||listener.components.includes(\"cell\")||listener.components.includes(\"group\")){let rows=this.table.rowManager.getVisibleRows(true);component=rows.find(row=>{return row.getElement()===target;});if(targets[\"row\"]&&targets[\"row\"].parentNode&&targets[\"row\"].parentNode.closest(\".tabulator-row\")){targets[key]=false;}}break;case\"column\":if(listener.components.includes(\"column\")){component=this.table.columnManager.findColumn(target);}break;case\"cell\":if(listener.components.includes(\"cell\")){if(matches[\"row\"]instanceof Row){component=matches[\"row\"].findCell(target);}else{if(targets[\"row\"]){console.warn(\"Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?\");}}}break;}}if(component){matches[key]=component;targetMatches[key]={target:target,component:component};}}this.previousTargets=targetMatches;return matches;}triggerEvents(type,e,targets){var listener=this.listeners[type];for(let key in targets){if(targets[key]&&listener.components.includes(key)){this.dispatch(key+\"-\"+type,e,targets[key]);}}}clearWatchers(){for(let key in this.listeners){let listener=this.listeners[key];if(listener.handler){this.el.removeEventListener(key,listener.handler);listener.handler=null;}}}}class ComponentFunctionBinder{constructor(table){this.table=table;this.bindings={};}bind(type,funcName,handler){if(!this.bindings[type]){this.bindings[type]={};}if(this.bindings[type][funcName]){console.warn(\"Unable to bind component handler, a matching function name is already bound\",type,funcName,handler);}else{this.bindings[type][funcName]=handler;}}handle(type,component,name){if(this.bindings[type]&&this.bindings[type][name]&&typeof this.bindings[type][name].bind==='function'){return this.bindings[type][name].bind(null,component);}else{if(name!==\"then\"&&typeof name===\"string\"&&!name.startsWith(\"_\")){if(this.table.options.debugInvalidComponentFuncs){console.error(\"The \"+type+\" component does not have a \"+name+\" function, have you checked that you have the correct Tabulator module installed?\");}}}}}class DataLoader extends CoreFeature{constructor(table){super(table);this.requestOrder=0;//prevent requests coming out of sequence if overridden by another load request\nthis.loading=false;}initialize(){}load(data,params,config,replace,silent,columnsChanged){var requestNo=++this.requestOrder;if(this.table.destroyed){return Promise.resolve();}this.dispatchExternal(\"dataLoading\",data);//parse json data to array\nif(data&&(data.indexOf(\"{\")==0||data.indexOf(\"[\")==0)){data=JSON.parse(data);}if(this.confirm(\"data-loading\",[data,params,config,silent])){this.loading=true;if(!silent){this.alertLoader();}//get params for request\nparams=this.chain(\"data-params\",[data,config,silent],params||{},params||{});params=this.mapParams(params,this.table.options.dataSendParams);var result=this.chain(\"data-load\",[data,params,config,silent],false,Promise.resolve([]));return result.then(response=>{if(!this.table.destroyed){if(!Array.isArray(response)&&typeof response==\"object\"){response=this.mapParams(response,this.objectInvert(this.table.options.dataReceiveParams));}var rowData=this.chain(\"data-loaded\",[response],null,response);if(requestNo==this.requestOrder){this.clearAlert();if(rowData!==false){this.dispatchExternal(\"dataLoaded\",rowData);this.table.rowManager.setData(rowData,replace,typeof columnsChanged===\"undefined\"?!replace:columnsChanged);}}else{console.warn(\"Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made\");}}else{console.warn(\"Data Load Response Blocked - Table has been destroyed\");}}).catch(error=>{console.error(\"Data Load Error: \",error);this.dispatchExternal(\"dataLoadError\",error);if(!silent){this.alertError();}setTimeout(()=>{this.clearAlert();},this.table.options.dataLoaderErrorTimeout);}).finally(()=>{this.loading=false;});}else{this.dispatchExternal(\"dataLoaded\",data);if(!data){data=[];}this.table.rowManager.setData(data,replace,typeof columnsChanged===\"undefined\"?!replace:columnsChanged);return Promise.resolve();}}mapParams(params,map){var output={};for(let key in params){output[map.hasOwnProperty(key)?map[key]:key]=params[key];}return output;}objectInvert(obj){var output={};for(let key in obj){output[obj[key]]=key;}return output;}blockActiveLoad(){this.requestOrder++;}alertLoader(){var shouldLoad=typeof this.table.options.dataLoader===\"function\"?this.table.options.dataLoader():this.table.options.dataLoader;if(shouldLoad){this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText(\"data|loading\"));}}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText(\"data|error\"),\"error\");}clearAlert(){this.table.alertManager.clear();}}class ExternalEventBus{constructor(table,optionsList,debug){this.table=table;this.events={};this.optionsList=optionsList||{};this.subscriptionNotifiers={};this.dispatch=debug?this._debugDispatch.bind(this):this._dispatch.bind(this);this.debug=debug;}subscriptionChange(key,callback){if(!this.subscriptionNotifiers[key]){this.subscriptionNotifiers[key]=[];}this.subscriptionNotifiers[key].push(callback);if(this.subscribed(key)){this._notifySubscriptionChange(key,true);}}subscribe(key,callback){if(!this.events[key]){this.events[key]=[];}this.events[key].push(callback);this._notifySubscriptionChange(key,true);}unsubscribe(key,callback){var index;if(this.events[key]){if(callback){index=this.events[key].findIndex(item=>{return item===callback;});if(index>-1){this.events[key].splice(index,1);}else{console.warn(\"Cannot remove event, no matching event found:\",key,callback);return;}}else{delete this.events[key];}}else{console.warn(\"Cannot remove event, no events set on:\",key);return;}this._notifySubscriptionChange(key,false);}subscribed(key){return this.events[key]&&this.events[key].length;}_notifySubscriptionChange(key,subscribed){var notifiers=this.subscriptionNotifiers[key];if(notifiers){notifiers.forEach(callback=>{callback(subscribed);});}}_dispatch(){var args=Array.from(arguments),key=args.shift(),result;if(this.events[key]){this.events[key].forEach((callback,i)=>{let callResult=callback.apply(this.table,args);if(!i){result=callResult;}});}return result;}_debugDispatch(){var args=Array.from(arguments),key=args[0];args[0]=\"ExternalEvent:\"+args[0];if(this.debug===true||this.debug.includes(key)){console.log(...args);}return this._dispatch(...arguments);}}class InternalEventBus{constructor(debug){this.events={};this.subscriptionNotifiers={};this.dispatch=debug?this._debugDispatch.bind(this):this._dispatch.bind(this);this.chain=debug?this._debugChain.bind(this):this._chain.bind(this);this.confirm=debug?this._debugConfirm.bind(this):this._confirm.bind(this);this.debug=debug;}subscriptionChange(key,callback){if(!this.subscriptionNotifiers[key]){this.subscriptionNotifiers[key]=[];}this.subscriptionNotifiers[key].push(callback);if(this.subscribed(key)){this._notifySubscriptionChange(key,true);}}subscribe(key,callback,priority=10000){if(!this.events[key]){this.events[key]=[];}this.events[key].push({callback,priority});this.events[key].sort((a,b)=>{return a.priority-b.priority;});this._notifySubscriptionChange(key,true);}unsubscribe(key,callback){var index;if(this.events[key]){if(callback){index=this.events[key].findIndex(item=>{return item.callback===callback;});if(index>-1){this.events[key].splice(index,1);}else{console.warn(\"Cannot remove event, no matching event found:\",key,callback);return;}}}else{console.warn(\"Cannot remove event, no events set on:\",key);return;}this._notifySubscriptionChange(key,false);}subscribed(key){return this.events[key]&&this.events[key].length;}_chain(key,args,initialValue,fallback){var value=initialValue;if(!Array.isArray(args)){args=[args];}if(this.subscribed(key)){this.events[key].forEach((subscriber,i)=>{value=subscriber.callback.apply(this,args.concat([value]));});return value;}else{return typeof fallback===\"function\"?fallback():fallback;}}_confirm(key,args){var confirmed=false;if(!Array.isArray(args)){args=[args];}if(this.subscribed(key)){this.events[key].forEach((subscriber,i)=>{if(subscriber.callback.apply(this,args)){confirmed=true;}});}return confirmed;}_notifySubscriptionChange(key,subscribed){var notifiers=this.subscriptionNotifiers[key];if(notifiers){notifiers.forEach(callback=>{callback(subscribed);});}}_dispatch(){var args=Array.from(arguments),key=args.shift();if(this.events[key]){this.events[key].forEach(subscriber=>{subscriber.callback.apply(this,args);});}}_debugDispatch(){var args=Array.from(arguments),key=args[0];args[0]=\"InternalEvent:\"+key;if(this.debug===true||this.debug.includes(key)){console.log(...args);}return this._dispatch(...arguments);}_debugChain(){var args=Array.from(arguments),key=args[0];args[0]=\"InternalEvent:\"+key;if(this.debug===true||this.debug.includes(key)){console.log(...args);}return this._chain(...arguments);}_debugConfirm(){var args=Array.from(arguments),key=args[0];args[0]=\"InternalEvent:\"+key;if(this.debug===true||this.debug.includes(key)){console.log(...args);}return this._confirm(...arguments);}}class DeprecationAdvisor extends CoreFeature{constructor(table){super(table);}_warnUser(){if(this.options(\"debugDeprecation\")){console.warn(...arguments);}}check(oldOption,newOption,convert){var msg=\"\";if(typeof this.options(oldOption)!==\"undefined\"){msg=\"Deprecated Setup Option - Use of the %c\"+oldOption+\"%c option is now deprecated\";if(newOption){msg=msg+\", Please use the %c\"+newOption+\"%c option instead\";this._warnUser(msg,'font-weight: bold;','font-weight: normal;','font-weight: bold;','font-weight: normal;');if(convert){this.table.options[newOption]=this.table.options[oldOption];}}else{this._warnUser(msg,'font-weight: bold;','font-weight: normal;');}return false;}else{return true;}}checkMsg(oldOption,msg){if(typeof this.options(oldOption)!==\"undefined\"){this._warnUser(\"%cDeprecated Setup Option - Use of the %c\"+oldOption+\" %c option is now deprecated, \"+msg,'font-weight: normal;','font-weight: bold;','font-weight: normal;');return false;}else{return true;}}msg(msg){this._warnUser(msg);}}class DependencyRegistry extends CoreFeature{constructor(table){super(table);this.deps={};this.props={};}initialize(){this.deps=Object.assign({},this.options(\"dependencies\"));}lookup(key,prop,silent){if(Array.isArray(key)){for(const item of key){var match=this.lookup(item,prop,true);if(match){break;}}if(match){return match;}else{this.error(key);}}else{if(prop){return this.lookupProp(key,prop,silent);}else{return this.lookupKey(key,silent);}}}lookupProp(key,prop,silent){var dependency;if(this.props[key]&&this.props[key][prop]){return this.props[key][prop];}else{dependency=this.lookupKey(key,silent);if(dependency){if(!this.props[key]){this.props[key]={};}this.props[key][prop]=dependency[prop]||dependency;return this.props[key][prop];}}}lookupKey(key,silent){var dependency;if(this.deps[key]){dependency=this.deps[key];}else if(window[key]){this.deps[key]=window[key];dependency=this.deps[key];}else{if(!silent){this.error(key);}}return dependency;}error(key){console.error(\"Unable to find dependency\",key,\"Please check documentation and ensure you have imported the required library into your project\");}}//resize columns to fit data they contain\nfunction fitData(columns,forced){if(forced){this.table.columnManager.renderer.reinitializeColumnWidths(columns);}if(this.table.options.responsiveLayout&&this.table.modExists(\"responsiveLayout\",true)){this.table.modules.responsiveLayout.update();}}//resize columns to fit data they contain and stretch row to fill table, also used for fitDataTable\nfunction fitDataGeneral(columns,forced){columns.forEach(function(column){column.reinitializeWidth();});if(this.table.options.responsiveLayout&&this.table.modExists(\"responsiveLayout\",true)){this.table.modules.responsiveLayout.update();}}//resize columns to fit data the contain and stretch last column to fill table\nfunction fitDataStretch(columns,forced){var colsWidth=0,tableWidth=this.table.rowManager.element.clientWidth,gap=0,lastCol=false;columns.forEach((column,i)=>{if(!column.widthFixed){column.reinitializeWidth();}if(this.table.options.responsiveLayout?column.modules.responsive.visible:column.visible){lastCol=column;}if(column.visible){colsWidth+=column.getWidth();}});if(lastCol){gap=tableWidth-colsWidth+lastCol.getWidth();if(this.table.options.responsiveLayout&&this.table.modExists(\"responsiveLayout\",true)){lastCol.setWidth(0);this.table.modules.responsiveLayout.update();}if(gap>0){lastCol.setWidth(gap);}else{lastCol.reinitializeWidth();}}else{if(this.table.options.responsiveLayout&&this.table.modExists(\"responsiveLayout\",true)){this.table.modules.responsiveLayout.update();}}}//resize columns to fit\nfunction fitColumns(columns,forced){var totalWidth=this.table.rowManager.element.getBoundingClientRect().width;//table element width\nvar fixedWidth=0;//total width of columns with a defined width\nvar flexWidth=0;//total width available to flexible columns\nvar flexGrowUnits=0;//total number of widthGrow blocks across all columns\nvar flexColWidth=0;//desired width of flexible columns\nvar flexColumns=[];//array of flexible width columns\nvar fixedShrinkColumns=[];//array of fixed width columns that can shrink\nvar flexShrinkUnits=0;//total number of widthShrink blocks across all columns\nvar overflowWidth=0;//horizontal overflow width\nvar gapFill=0;//number of pixels to be added to final column to close and half pixel gaps\nfunction calcWidth(width){var colWidth;if(typeof width==\"string\"){if(width.indexOf(\"%\")>-1){colWidth=totalWidth/100*parseInt(width);}else{colWidth=parseInt(width);}}else{colWidth=width;}return colWidth;}//ensure columns resize to take up the correct amount of space\nfunction scaleColumns(columns,freeSpace,colWidth,shrinkCols){var oversizeCols=[],oversizeSpace=0,remainingSpace=0,nextColWidth=0,remainingFlexGrowUnits=flexGrowUnits,gap=0,changeUnits=0,undersizeCols=[];function calcGrow(col){return colWidth*(col.column.definition.widthGrow||1);}function calcShrink(col){return calcWidth(col.width)-colWidth*(col.column.definition.widthShrink||0);}columns.forEach(function(col,i){var width=shrinkCols?calcShrink(col):calcGrow(col);if(col.column.minWidth>=width){oversizeCols.push(col);}else{if(col.column.maxWidth&&col.column.maxWidth<width){col.width=col.column.maxWidth;freeSpace-=col.column.maxWidth;remainingFlexGrowUnits-=shrinkCols?col.column.definition.widthShrink||1:col.column.definition.widthGrow||1;if(remainingFlexGrowUnits){colWidth=Math.floor(freeSpace/remainingFlexGrowUnits);}}else{undersizeCols.push(col);changeUnits+=shrinkCols?col.column.definition.widthShrink||1:col.column.definition.widthGrow||1;}}});if(oversizeCols.length){oversizeCols.forEach(function(col){oversizeSpace+=shrinkCols?col.width-col.column.minWidth:col.column.minWidth;col.width=col.column.minWidth;});remainingSpace=freeSpace-oversizeSpace;nextColWidth=changeUnits?Math.floor(remainingSpace/changeUnits):remainingSpace;gap=scaleColumns(undersizeCols,remainingSpace,nextColWidth,shrinkCols);}else{gap=changeUnits?freeSpace-Math.floor(freeSpace/changeUnits)*changeUnits:freeSpace;undersizeCols.forEach(function(column){column.width=shrinkCols?calcShrink(column):calcGrow(column);});}return gap;}if(this.table.options.responsiveLayout&&this.table.modExists(\"responsiveLayout\",true)){this.table.modules.responsiveLayout.update();}//adjust for vertical scrollbar if present\nif(this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight){totalWidth-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth;}columns.forEach(function(column){var width,minWidth,colWidth;if(column.visible){width=column.definition.width;minWidth=parseInt(column.minWidth);if(width){colWidth=calcWidth(width);fixedWidth+=colWidth>minWidth?colWidth:minWidth;if(column.definition.widthShrink){fixedShrinkColumns.push({column:column,width:colWidth>minWidth?colWidth:minWidth});flexShrinkUnits+=column.definition.widthShrink;}}else{flexColumns.push({column:column,width:0});flexGrowUnits+=column.definition.widthGrow||1;}}});//calculate available space\nflexWidth=totalWidth-fixedWidth;//calculate correct column size\nflexColWidth=Math.floor(flexWidth/flexGrowUnits);//generate column widths\ngapFill=scaleColumns(flexColumns,flexWidth,flexColWidth,false);//increase width of last column to account for rounding errors\nif(flexColumns.length&&gapFill>0){flexColumns[flexColumns.length-1].width+=gapFill;}//calculate space for columns to be shrunk into\nflexColumns.forEach(function(col){flexWidth-=col.width;});overflowWidth=Math.abs(gapFill)+flexWidth;//shrink oversize columns if there is no available space\nif(overflowWidth>0&&flexShrinkUnits){gapFill=scaleColumns(fixedShrinkColumns,overflowWidth,Math.floor(overflowWidth/flexShrinkUnits),true);}//decrease width of last column to account for rounding errors\nif(gapFill&&fixedShrinkColumns.length){fixedShrinkColumns[fixedShrinkColumns.length-1].width-=gapFill;}flexColumns.forEach(function(col){col.column.setWidth(col.width);});fixedShrinkColumns.forEach(function(col){col.column.setWidth(col.width);});}var defaultModes={fitData:fitData,fitDataFill:fitDataGeneral,fitDataTable:fitDataGeneral,fitDataStretch:fitDataStretch,fitColumns:fitColumns};class Layout extends Module{constructor(table){super(table,\"layout\");this.mode=null;this.registerTableOption(\"layout\",\"fitData\");//layout type\nthis.registerTableOption(\"layoutColumnsOnNewData\",false);//update column widths on setData\nthis.registerColumnOption(\"widthGrow\");this.registerColumnOption(\"widthShrink\");}//initialize layout system\ninitialize(){var layout=this.table.options.layout;if(Layout.modes[layout]){this.mode=layout;}else{console.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \"+layout);this.mode='fitData';}this.table.element.setAttribute(\"tabulator-layout\",this.mode);this.subscribe(\"column-init\",this.initializeColumn.bind(this));}initializeColumn(column){if(column.definition.widthGrow){column.definition.widthGrow=Number(column.definition.widthGrow);}if(column.definition.widthShrink){column.definition.widthShrink=Number(column.definition.widthShrink);}}getMode(){return this.mode;}//trigger table layout\nlayout(dataChanged){var variableHeight=this.table.columnManager.columnsByIndex.find(column=>column.definition.variableHeight||column.definition.formatter===\"textarea\");this.dispatch(\"layout-refreshing\");Layout.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,dataChanged);if(variableHeight){this.table.rowManager.normalizeHeight(true);}this.dispatch(\"layout-refreshed\");}}_defineProperty(Layout,\"moduleName\",\"layout\");//load defaults\n_defineProperty(Layout,\"modes\",defaultModes);var defaultLangs={\"default\":{//hold default locale text\n\"groups\":{\"item\":\"item\",\"items\":\"items\"},\"columns\":{},\"data\":{\"loading\":\"Loading\",\"error\":\"Error\"},\"pagination\":{\"page_size\":\"Page Size\",\"page_title\":\"Show Page\",\"first\":\"First\",\"first_title\":\"First Page\",\"last\":\"Last\",\"last_title\":\"Last Page\",\"prev\":\"Prev\",\"prev_title\":\"Prev Page\",\"next\":\"Next\",\"next_title\":\"Next Page\",\"all\":\"All\",\"counter\":{\"showing\":\"Showing\",\"of\":\"of\",\"rows\":\"rows\",\"pages\":\"pages\"}},\"headerFilters\":{\"default\":\"filter column...\",\"columns\":{}}}};class Localize extends Module{constructor(table){super(table);this.locale=\"default\";//current locale\nthis.lang=false;//current language\nthis.bindings={};//update events to call when locale is changed\nthis.langList={};this.registerTableOption(\"locale\",false);//current system language\nthis.registerTableOption(\"langs\",{});}initialize(){this.langList=Helpers.deepClone(Localize.langs);if(this.table.options.columnDefaults.headerFilterPlaceholder!==false){this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);}for(let locale in this.table.options.langs){this.installLang(locale,this.table.options.langs[locale]);}this.setLocale(this.table.options.locale);this.registerTableFunction(\"setLocale\",this.setLocale.bind(this));this.registerTableFunction(\"getLocale\",this.getLocale.bind(this));this.registerTableFunction(\"getLang\",this.getLang.bind(this));}//set header placeholder\nsetHeaderFilterPlaceholder(placeholder){this.langList.default.headerFilters.default=placeholder;}//setup a lang description object\ninstallLang(locale,lang){if(this.langList[locale]){this._setLangProp(this.langList[locale],lang);}else{this.langList[locale]=lang;}}_setLangProp(lang,values){for(let key in values){if(lang[key]&&typeof lang[key]==\"object\"){this._setLangProp(lang[key],values[key]);}else{lang[key]=values[key];}}}//set current locale\nsetLocale(desiredLocale){desiredLocale=desiredLocale||\"default\";//fill in any matching language values\nfunction traverseLang(trans,path){for(var prop in trans){if(typeof trans[prop]==\"object\"){if(!path[prop]){path[prop]={};}traverseLang(trans[prop],path[prop]);}else{path[prop]=trans[prop];}}}//determining correct locale to load\nif(desiredLocale===true&&navigator.language){//get local from system\ndesiredLocale=navigator.language.toLowerCase();}if(desiredLocale){//if locale is not set, check for matching top level locale else use default\nif(!this.langList[desiredLocale]){let prefix=desiredLocale.split(\"-\")[0];if(this.langList[prefix]){console.warn(\"Localization Error - Exact matching locale not found, using closest match: \",desiredLocale,prefix);desiredLocale=prefix;}else{console.warn(\"Localization Error - Matching locale not found, using default: \",desiredLocale);desiredLocale=\"default\";}}}this.locale=desiredLocale;//load default lang template\nthis.lang=Helpers.deepClone(this.langList.default||{});if(desiredLocale!=\"default\"){traverseLang(this.langList[desiredLocale],this.lang);}this.dispatchExternal(\"localized\",this.locale,this.lang);this._executeBindings();}//get current locale\ngetLocale(locale){return this.locale;}//get lang object for given local or current if none provided\ngetLang(locale){return locale?this.langList[locale]:this.lang;}//get text for current locale\ngetText(path,value){var fillPath=value?path+\"|\"+value:path,pathArray=fillPath.split(\"|\"),text=this._getLangElement(pathArray,this.locale);// if(text === false){\n// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\n// }\nreturn text||\"\";}//traverse langs object and find localized copy\n_getLangElement(path,locale){var root=this.lang;path.forEach(function(level){var rootPath;if(root){rootPath=root[level];if(typeof rootPath!=\"undefined\"){root=rootPath;}else{root=false;}}});return root;}//set update binding\nbind(path,callback){if(!this.bindings[path]){this.bindings[path]=[];}this.bindings[path].push(callback);callback(this.getText(path),this.lang);}//iterate through bindings and trigger updates\n_executeBindings(){for(let path in this.bindings){this.bindings[path].forEach(binding=>{binding(this.getText(path),this.lang);});}}}_defineProperty(Localize,\"moduleName\",\"localize\");//load defaults\n_defineProperty(Localize,\"langs\",defaultLangs);class Comms extends Module{constructor(table){super(table);}initialize(){this.registerTableFunction(\"tableComms\",this.receive.bind(this));}getConnections(selectors){var connections=[],connection;connection=this.table.constructor.registry.lookupTable(selectors);connection.forEach(con=>{if(this.table!==con){connections.push(con);}});return connections;}send(selectors,module,action,data){var connections=this.getConnections(selectors);connections.forEach(connection=>{connection.tableComms(this.table.element,module,action,data);});if(!connections.length&&selectors){console.warn(\"Table Connection Error - No tables matching selector found\",selectors);}}receive(table,module,action,data){if(this.table.modExists(module)){return this.table.modules[module].commsReceived(table,action,data);}else{console.warn(\"Inter-table Comms Error - no such module:\",module);}}}_defineProperty(Comms,\"moduleName\",\"comms\");var coreModules=/*#__PURE__*/Object.freeze({__proto__:null,CommsModule:Comms,LayoutModule:Layout,LocalizeModule:Localize});class TableRegistry{static findTable(query){var results=TableRegistry.registry.lookupTable(query,true);return Array.isArray(results)&&!results.length?false:results;}}_TableRegistry=TableRegistry;_defineProperty(TableRegistry,\"registry\",{tables:[],register(table){_TableRegistry.registry.tables.push(table);},deregister(table){var index=_TableRegistry.registry.tables.indexOf(table);if(index>-1){_TableRegistry.registry.tables.splice(index,1);}},lookupTable(query,silent){var results=[],matches,match;if(typeof query===\"string\"){matches=document.querySelectorAll(query);if(matches.length){for(var i=0;i<matches.length;i++){match=_TableRegistry.registry.matchElement(matches[i]);if(match){results.push(match);}}}}else if(typeof HTMLElement!==\"undefined\"&&query instanceof HTMLElement||query instanceof _TableRegistry){match=_TableRegistry.registry.matchElement(query);if(match){results.push(match);}}else if(Array.isArray(query)){query.forEach(function(item){results=results.concat(_TableRegistry.registry.lookupTable(item));});}else{if(!silent){console.warn(\"Table Connection Error - Invalid Selector\",query);}}return results;},matchElement(element){return _TableRegistry.registry.tables.find(function(table){return element instanceof _TableRegistry?table===element:table.element===element;});}});class ModuleBinder extends TableRegistry{constructor(){super();}static initializeModuleBinder(defaultModules){if(!ModuleBinder.modulesRegistered){ModuleBinder.modulesRegistered=true;ModuleBinder._registerModules(coreModules,true);if(defaultModules){ModuleBinder._registerModules(defaultModules);}}}static _extendModule(name,property,values){if(ModuleBinder.moduleBindings[name]){var source=ModuleBinder.moduleBindings[name][property];if(source){if(typeof values==\"object\"){for(let key in values){source[key]=values[key];}}else{console.warn(\"Module Error - Invalid value type, it must be an object\");}}else{console.warn(\"Module Error - property does not exist:\",property);}}else{console.warn(\"Module Error - module does not exist:\",name);}}static _registerModules(modules,core){var mods=Object.values(modules);if(core){mods.forEach(mod=>{mod.prototype.moduleCore=true;});}ModuleBinder._registerModule(mods);}static _registerModule(modules){if(!Array.isArray(modules)){modules=[modules];}modules.forEach(mod=>{ModuleBinder._registerModuleBinding(mod);ModuleBinder._registerModuleExtensions(mod);});}static _registerModuleBinding(mod){if(mod.moduleName){ModuleBinder.moduleBindings[mod.moduleName]=mod;}else{console.error(\"Unable to bind module, no moduleName defined\",mod.moduleName);}}static _registerModuleExtensions(mod){var extensions=mod.moduleExtensions;if(mod.moduleExtensions){for(let modKey in extensions){let ext=extensions[modKey];if(ModuleBinder.moduleBindings[modKey]){for(let propKey in ext){ModuleBinder._extendModule(modKey,propKey,ext[propKey]);}}else{if(!ModuleBinder.moduleExtensions[modKey]){ModuleBinder.moduleExtensions[modKey]={};}for(let propKey in ext){if(!ModuleBinder.moduleExtensions[modKey][propKey]){ModuleBinder.moduleExtensions[modKey][propKey]={};}Object.assign(ModuleBinder.moduleExtensions[modKey][propKey],ext[propKey]);}}}}ModuleBinder._extendModuleFromQueue(mod);}static _extendModuleFromQueue(mod){var extensions=ModuleBinder.moduleExtensions[mod.moduleName];if(extensions){for(let propKey in extensions){ModuleBinder._extendModule(mod.moduleName,propKey,extensions[propKey]);}}}//ensure that module are bound to instantiated function\n_bindModules(){var orderedStartMods=[],orderedEndMods=[],unOrderedMods=[];this.modules={};for(var name in ModuleBinder.moduleBindings){let mod=ModuleBinder.moduleBindings[name];let module=new mod(this);this.modules[name]=module;if(mod.prototype.moduleCore){this.modulesCore.push(module);}else{if(mod.moduleInitOrder){if(mod.moduleInitOrder<0){orderedStartMods.push(module);}else{orderedEndMods.push(module);}}else{unOrderedMods.push(module);}}}orderedStartMods.sort((a,b)=>a.moduleInitOrder>b.moduleInitOrder?1:-1);orderedEndMods.sort((a,b)=>a.moduleInitOrder>b.moduleInitOrder?1:-1);this.modulesRegular=orderedStartMods.concat(unOrderedMods.concat(orderedEndMods));}}_defineProperty(ModuleBinder,\"moduleBindings\",{});_defineProperty(ModuleBinder,\"moduleExtensions\",{});_defineProperty(ModuleBinder,\"modulesRegistered\",false);_defineProperty(ModuleBinder,\"defaultModules\",false);class Alert extends CoreFeature{constructor(table){super(table);this.element=this._createAlertElement();this.msgElement=this._createMsgElement();this.type=null;this.element.appendChild(this.msgElement);}_createAlertElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-alert\");return el;}_createMsgElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-alert-msg\");el.setAttribute(\"role\",\"alert\");return el;}_typeClass(){return\"tabulator-alert-state-\"+this.type;}alert(content,type=\"msg\"){if(content){this.clear();this.dispatch(\"alert-show\",type);this.type=type;while(this.msgElement.firstChild)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass());if(typeof content===\"function\"){content=content();}if(content instanceof HTMLElement){this.msgElement.appendChild(content);}else{this.msgElement.innerHTML=content;}this.table.element.appendChild(this.element);}}clear(){this.dispatch(\"alert-hide\",this.type);if(this.element.parentNode){this.element.parentNode.removeChild(this.element);}this.msgElement.classList.remove(this._typeClass());}}class Tabulator extends ModuleBinder{static extendModule(){Tabulator.initializeModuleBinder();Tabulator._extendModule(...arguments);}static registerModule(){Tabulator.initializeModuleBinder();Tabulator._registerModule(...arguments);}constructor(element,options,modules){super();Tabulator.initializeModuleBinder(modules);this.options={};this.columnManager=null;// hold Column Manager\nthis.rowManager=null;//hold Row Manager\nthis.footerManager=null;//holder Footer Manager\nthis.alertManager=null;//hold Alert Manager\nthis.vdomHoz=null;//holder horizontal virtual dom\nthis.externalEvents=null;//handle external event messaging\nthis.eventBus=null;//handle internal event messaging\nthis.interactionMonitor=false;//track user interaction\nthis.browser=\"\";//hold current browser type\nthis.browserSlow=false;//handle reduced functionality for slower browsers\nthis.browserMobile=false;//check if running on mobile, prevent resize cancelling edit on keyboard appearance\nthis.rtl=false;//check if the table is in RTL mode\nthis.originalElement=null;//hold original table element if it has been replaced\nthis.componentFunctionBinder=new ComponentFunctionBinder(this);//bind component functions\nthis.dataLoader=false;//bind component functions\nthis.modules={};//hold all modules bound to this table\nthis.modulesCore=[];//hold core modules bound to this table (for initialization purposes)\nthis.modulesRegular=[];//hold regular modules bound to this table (for initialization purposes)\nthis.deprecationAdvisor=new DeprecationAdvisor(this);this.optionsList=new OptionsList(this,\"table constructor\");this.dependencyRegistry=new DependencyRegistry(this);this.initialized=false;this.destroyed=false;if(this.initializeElement(element)){this.initializeCoreSystems(options);//delay table creation to allow event bindings immediately after the constructor\nsetTimeout(()=>{this._create();});}this.constructor.registry.register(this);//register table for inter-device communication\n}initializeElement(element){if(typeof HTMLElement!==\"undefined\"&&element instanceof HTMLElement){this.element=element;return true;}else if(typeof element===\"string\"){this.element=document.querySelector(element);if(this.element){return true;}else{console.error(\"Tabulator Creation Error - no element found matching selector: \",element);return false;}}else{console.error(\"Tabulator Creation Error - Invalid element provided:\",element);return false;}}initializeCoreSystems(options){this.columnManager=new ColumnManager(this);this.rowManager=new RowManager(this);this.footerManager=new FooterManager(this);this.dataLoader=new DataLoader(this);this.alertManager=new Alert(this);this._bindModules();this.options=this.optionsList.generate(Tabulator.defaultOptions,options);this._clearObjectPointers();this._mapDeprecatedFunctionality();this.externalEvents=new ExternalEventBus(this,this.options,this.options.debugEventsExternal);this.eventBus=new InternalEventBus(this.options.debugEventsInternal);this.interactionMonitor=new InteractionManager(this);this.dataLoader.initialize();this.footerManager.initialize();this.dependencyRegistry.initialize();}//convert deprecated functionality to new functions\n_mapDeprecatedFunctionality(){//all previously deprecated functionality removed in the 6.0 release\n}_clearSelection(){this.element.classList.add(\"tabulator-block-select\");if(window.getSelection){if(window.getSelection().empty){// Chrome\nwindow.getSelection().empty();}else if(window.getSelection().removeAllRanges){// Firefox\nwindow.getSelection().removeAllRanges();}}else if(document.selection){// IE?\ndocument.selection.empty();}this.element.classList.remove(\"tabulator-block-select\");}//create table\n_create(){this.externalEvents.dispatch(\"tableBuilding\");this.eventBus.dispatch(\"table-building\");this._rtlCheck();this._buildElement();this._initializeTable();this.initialized=true;this._loadInitialData().finally(()=>{this.eventBus.dispatch(\"table-initialized\");this.externalEvents.dispatch(\"tableBuilt\");});}_rtlCheck(){var style=window.getComputedStyle(this.element);switch(this.options.textDirection){case\"auto\":if(style.direction!==\"rtl\"){break;}case\"rtl\":this.element.classList.add(\"tabulator-rtl\");this.rtl=true;break;case\"ltr\":this.element.classList.add(\"tabulator-ltr\");default:this.rtl=false;}}//clear pointers to objects in default config object\n_clearObjectPointers(){this.options.columns=this.options.columns.slice(0);if(Array.isArray(this.options.data)&&!this.options.reactiveData){this.options.data=this.options.data.slice(0);}}//build tabulator element\n_buildElement(){var element=this.element,options=this.options,newElement;if(element.tagName===\"TABLE\"){this.originalElement=this.element;newElement=document.createElement(\"div\");//transfer attributes to new element\nvar attributes=element.attributes;// loop through attributes and apply them on div\nfor(var i in attributes){if(typeof attributes[i]==\"object\"){newElement.setAttribute(attributes[i].name,attributes[i].value);}}// replace table with div element\nelement.parentNode.replaceChild(newElement,element);this.element=element=newElement;}element.classList.add(\"tabulator\");element.setAttribute(\"role\",\"grid\");//empty element\nwhile(element.firstChild)element.removeChild(element.firstChild);//set table height\nif(options.height){options.height=isNaN(options.height)?options.height:options.height+\"px\";element.style.height=options.height;}//set table min height\nif(options.minHeight!==false){options.minHeight=isNaN(options.minHeight)?options.minHeight:options.minHeight+\"px\";element.style.minHeight=options.minHeight;}//set table maxHeight\nif(options.maxHeight!==false){options.maxHeight=isNaN(options.maxHeight)?options.maxHeight:options.maxHeight+\"px\";element.style.maxHeight=options.maxHeight;}}//initialize core systems and modules\n_initializeTable(){var element=this.element,options=this.options;this.interactionMonitor.initialize();this.columnManager.initialize();this.rowManager.initialize();this._detectBrowser();//initialize core modules\nthis.modulesCore.forEach(mod=>{mod.initialize();});//build table elements\nelement.appendChild(this.columnManager.getElement());element.appendChild(this.rowManager.getElement());if(options.footerElement){this.footerManager.activate();}if(options.autoColumns&&options.data){this.columnManager.generateColumnsFromRowData(this.options.data);}//initialize regular modules\nthis.modulesRegular.forEach(mod=>{mod.initialize();});this.columnManager.setColumns(options.columns);this.eventBus.dispatch(\"table-built\");}_loadInitialData(){return this.dataLoader.load(this.options.data).finally(()=>{this.columnManager.verticalAlignHeaders();});}//deconstructor\ndestroy(){var element=this.element;this.destroyed=true;this.constructor.registry.deregister(this);//deregister table from inter-device communication\nthis.eventBus.dispatch(\"table-destroy\");//clear row data\nthis.rowManager.destroy();//clear DOM\nwhile(element.firstChild)element.removeChild(element.firstChild);element.classList.remove(\"tabulator\");this.externalEvents.dispatch(\"tableDestroyed\");}_detectBrowser(){var ua=navigator.userAgent||navigator.vendor||window.opera;if(ua.indexOf(\"Trident\")>-1){this.browser=\"ie\";this.browserSlow=true;}else if(ua.indexOf(\"Edge\")>-1){this.browser=\"edge\";this.browserSlow=true;}else if(ua.indexOf(\"Firefox\")>-1){this.browser=\"firefox\";this.browserSlow=false;}else if(ua.indexOf(\"Mac OS\")>-1){this.browser=\"safari\";this.browserSlow=false;}else{this.browser=\"other\";this.browserSlow=false;}this.browserMobile=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(ua.slice(0,4));}initGuard(func,msg){var stack,line;if(this.options.debugInitialization&&!this.initialized){if(!func){stack=new Error().stack.split(\"\\n\");line=stack[0]==\"Error\"?stack[2]:stack[1];if(line[0]==\" \"){func=line.trim().split(\" \")[1].split(\".\")[1];}else{func=line.trim().split(\"@\")[0];}}console.warn(\"Table Not Initialized - Calling the \"+func+\" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function.\"+(msg?\" \"+msg:\"\"));}return this.initialized;}////////////////// Data Handling //////////////////\n//block table redrawing\nblockRedraw(){this.initGuard();this.eventBus.dispatch(\"redraw-blocking\");this.rowManager.blockRedraw();this.columnManager.blockRedraw();this.eventBus.dispatch(\"redraw-blocked\");}//restore table redrawing\nrestoreRedraw(){this.initGuard();this.eventBus.dispatch(\"redraw-restoring\");this.rowManager.restoreRedraw();this.columnManager.restoreRedraw();this.eventBus.dispatch(\"redraw-restored\");}//load data\nsetData(data,params,config){this.initGuard(false,\"To set initial data please use the 'data' property in the table constructor.\");return this.dataLoader.load(data,params,config,false);}//clear data\nclearData(){this.initGuard();this.dataLoader.blockActiveLoad();this.rowManager.clearData();}//get table data array\ngetData(active){return this.rowManager.getData(active);}//get table data array count\ngetDataCount(active){return this.rowManager.getDataCount(active);}//replace data, keeping table in position with same sort\nreplaceData(data,params,config){this.initGuard();return this.dataLoader.load(data,params,config,true,true);}//update table data\nupdateData(data){var responses=0;this.initGuard();return new Promise((resolve,reject)=>{this.dataLoader.blockActiveLoad();if(typeof data===\"string\"){data=JSON.parse(data);}if(data&&data.length>0){data.forEach(item=>{var row=this.rowManager.findRow(item[this.options.index]);if(row){responses++;row.updateData(item).then(()=>{responses--;if(!responses){resolve();}}).catch(e=>{reject(\"Update Error - Unable to update row\",item,e);});}else{reject(\"Update Error - Unable to find row\",item);}});}else{console.warn(\"Update Error - No data provided\");reject(\"Update Error - No data provided\");}});}addData(data,pos,index){this.initGuard();return new Promise((resolve,reject)=>{this.dataLoader.blockActiveLoad();if(typeof data===\"string\"){data=JSON.parse(data);}if(data){this.rowManager.addRows(data,pos,index).then(rows=>{var output=[];rows.forEach(function(row){output.push(row.getComponent());});resolve(output);});}else{console.warn(\"Update Error - No data provided\");reject(\"Update Error - No data provided\");}});}//update table data\nupdateOrAddData(data){var rows=[],responses=0;this.initGuard();return new Promise((resolve,reject)=>{this.dataLoader.blockActiveLoad();if(typeof data===\"string\"){data=JSON.parse(data);}if(data&&data.length>0){data.forEach(item=>{var row=this.rowManager.findRow(item[this.options.index]);responses++;if(row){row.updateData(item).then(()=>{responses--;rows.push(row.getComponent());if(!responses){resolve(rows);}});}else{this.rowManager.addRows(item).then(newRows=>{responses--;rows.push(newRows[0].getComponent());if(!responses){resolve(rows);}});}});}else{console.warn(\"Update Error - No data provided\");reject(\"Update Error - No data provided\");}});}//get row object\ngetRow(index){var row=this.rowManager.findRow(index);if(row){return row.getComponent();}else{console.warn(\"Find Error - No matching row found:\",index);return false;}}//get row object\ngetRowFromPosition(position){var row=this.rowManager.getRowFromPosition(position);if(row){return row.getComponent();}else{console.warn(\"Find Error - No matching row found:\",position);return false;}}//delete row from table\ndeleteRow(index){var foundRows=[];this.initGuard();if(!Array.isArray(index)){index=[index];}//find matching rows\nfor(let item of index){let row=this.rowManager.findRow(item,true);if(row){foundRows.push(row);}else{console.error(\"Delete Error - No matching row found:\",item);return Promise.reject(\"Delete Error - No matching row found\");}}//sort rows into correct order to ensure smooth delete from table\nfoundRows.sort((a,b)=>{return this.rowManager.rows.indexOf(a)>this.rowManager.rows.indexOf(b)?1:-1;});//delete rows\nfoundRows.forEach(row=>{row.delete();});this.rowManager.reRenderInPosition();return Promise.resolve();}//add row to table\naddRow(data,pos,index){this.initGuard();if(typeof data===\"string\"){data=JSON.parse(data);}return this.rowManager.addRows(data,pos,index,true).then(rows=>{return rows[0].getComponent();});}//update a row if it exists otherwise create it\nupdateOrAddRow(index,data){var row=this.rowManager.findRow(index);this.initGuard();if(typeof data===\"string\"){data=JSON.parse(data);}if(row){return row.updateData(data).then(()=>{return row.getComponent();});}else{return this.rowManager.addRows(data).then(rows=>{return rows[0].getComponent();});}}//update row data\nupdateRow(index,data){var row=this.rowManager.findRow(index);this.initGuard();if(typeof data===\"string\"){data=JSON.parse(data);}if(row){return row.updateData(data).then(()=>{return Promise.resolve(row.getComponent());});}else{console.warn(\"Update Error - No matching row found:\",index);return Promise.reject(\"Update Error - No matching row found\");}}//scroll to row in DOM\nscrollToRow(index,position,ifVisible){var row=this.rowManager.findRow(index);if(row){return this.rowManager.scrollToRow(row,position,ifVisible);}else{console.warn(\"Scroll Error - No matching row found:\",index);return Promise.reject(\"Scroll Error - No matching row found\");}}moveRow(from,to,after){var fromRow=this.rowManager.findRow(from);this.initGuard();if(fromRow){fromRow.moveToRow(to,after);}else{console.warn(\"Move Error - No matching row found:\",from);}}getRows(active){return this.rowManager.getComponents(active);}//get position of row in table\ngetRowPosition(index){var row=this.rowManager.findRow(index);if(row){return row.getPosition();}else{console.warn(\"Position Error - No matching row found:\",index);return false;}}/////////////// Column Functions  ///////////////\nsetColumns(definition){this.initGuard(false,\"To set initial columns please use the 'columns' property in the table constructor\");this.columnManager.setColumns(definition);}getColumns(structured){return this.columnManager.getComponents(structured);}getColumn(field){var column=this.columnManager.findColumn(field);if(column){return column.getComponent();}else{console.warn(\"Find Error - No matching column found:\",field);return false;}}getColumnDefinitions(){return this.columnManager.getDefinitionTree();}showColumn(field){var column=this.columnManager.findColumn(field);this.initGuard();if(column){column.show();}else{console.warn(\"Column Show Error - No matching column found:\",field);return false;}}hideColumn(field){var column=this.columnManager.findColumn(field);this.initGuard();if(column){column.hide();}else{console.warn(\"Column Hide Error - No matching column found:\",field);return false;}}toggleColumn(field){var column=this.columnManager.findColumn(field);this.initGuard();if(column){if(column.visible){column.hide();}else{column.show();}}else{console.warn(\"Column Visibility Toggle Error - No matching column found:\",field);return false;}}addColumn(definition,before,field){var column=this.columnManager.findColumn(field);this.initGuard();return this.columnManager.addColumn(definition,before,column).then(column=>{return column.getComponent();});}deleteColumn(field){var column=this.columnManager.findColumn(field);this.initGuard();if(column){return column.delete();}else{console.warn(\"Column Delete Error - No matching column found:\",field);return Promise.reject();}}updateColumnDefinition(field,definition){var column=this.columnManager.findColumn(field);this.initGuard();if(column){return column.updateDefinition(definition);}else{console.warn(\"Column Update Error - No matching column found:\",field);return Promise.reject();}}moveColumn(from,to,after){var fromColumn=this.columnManager.findColumn(from),toColumn=this.columnManager.findColumn(to);this.initGuard();if(fromColumn){if(toColumn){this.columnManager.moveColumn(fromColumn,toColumn,after);}else{console.warn(\"Move Error - No matching column found:\",toColumn);}}else{console.warn(\"Move Error - No matching column found:\",from);}}//scroll to column in DOM\nscrollToColumn(field,position,ifVisible){return new Promise((resolve,reject)=>{var column=this.columnManager.findColumn(field);if(column){return this.columnManager.scrollToColumn(column,position,ifVisible);}else{console.warn(\"Scroll Error - No matching column found:\",field);return Promise.reject(\"Scroll Error - No matching column found\");}});}//////////// General Public Functions ////////////\n//redraw list without updating data\nredraw(force){this.initGuard();this.columnManager.redraw(force);this.rowManager.redraw(force);}setHeight(height){this.options.height=isNaN(height)?height:height+\"px\";this.element.style.height=this.options.height;this.rowManager.initializeRenderer();this.rowManager.redraw(true);}//////////////////// Event Bus ///////////////////\non(key,callback){this.externalEvents.subscribe(key,callback);}off(key,callback){this.externalEvents.unsubscribe(key,callback);}dispatchEvent(){var args=Array.from(arguments);args.shift();this.externalEvents.dispatch(...arguments);}//////////////////// Alerts ///////////////////\nalert(contents,type){this.initGuard();this.alertManager.alert(contents,type);}clearAlert(){this.initGuard();this.alertManager.clear();}////////////// Extension Management //////////////\nmodExists(plugin,required){if(this.modules[plugin]){return true;}else{if(required){console.error(\"Tabulator Module Not Installed: \"+plugin);}return false;}}module(key){var mod=this.modules[key];if(!mod){console.error(\"Tabulator module not installed: \"+key);}return mod;}}//default setup options\n_defineProperty(Tabulator,\"defaultOptions\",defaultOptions);var Tabulator$1=Tabulator;//tabulator with all modules installed\nclass TabulatorFull extends Tabulator$1{static extendModule(){Tabulator$1.initializeModuleBinder(allModules);Tabulator$1._extendModule(...arguments);}static registerModule(){Tabulator$1.initializeModuleBinder(allModules);Tabulator$1._registerModule(...arguments);}constructor(element,options,modules){super(element,options,allModules);}}var TabulatorFull$1=TabulatorFull;class PseudoRow{constructor(type){this.type=type;this.element=this._createElement();}_createElement(){var el=document.createElement(\"div\");el.classList.add(\"tabulator-row\");return el;}getElement(){return this.element;}getComponent(){return false;}getData(){return{};}getHeight(){return this.element.outerHeight;}initialize(){}reinitialize(){}normalizeHeight(){}generateCells(){}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}rendered(){}}export{Accessor as AccessorModule,Ajax as AjaxModule,CalcComponent,CellComponent,Clipboard as ClipboardModule,ColumnCalcs as ColumnCalcsModule,ColumnComponent,DataTree as DataTreeModule,Download as DownloadModule,Edit as EditModule,Export as ExportModule,Filter as FilterModule,Format as FormatModule,FrozenColumns as FrozenColumnsModule,FrozenRows as FrozenRowsModule,GroupComponent,GroupRows as GroupRowsModule,History as HistoryModule,HtmlTableImport as HtmlTableImportModule,Import as ImportModule,Interaction as InteractionModule,Keybindings as KeybindingsModule,Menu as MenuModule,Module,MoveColumns as MoveColumnsModule,MoveRows as MoveRowsModule,Mutator as MutatorModule,Page as PageModule,Persistence as PersistenceModule,Popup as PopupModule,Print as PrintModule,PseudoRow,RangeComponent,ReactiveData as ReactiveDataModule,Renderer,ResizeColumns as ResizeColumnsModule,ResizeRows as ResizeRowsModule,ResizeTable as ResizeTableModule,ResponsiveLayout as ResponsiveLayoutModule,RowComponent,SelectRange as SelectRangeModule,SelectRow as SelectRowModule,SheetComponent,Sort as SortModule,Spreadsheet as SpreadsheetModule,Tabulator$1 as Tabulator,TabulatorFull$1 as TabulatorFull,Tooltip as TooltipModule,Validate as ValidateModule};","map":{"version":3,"names":["CoreFeature","constructor","table","reloadData","data","silent","columnsChanged","dataLoader","load","undefined","langText","modules","localize","getText","arguments","langBind","bind","langLocale","getLocale","commsConnections","comms","getConnections","commsSend","send","layoutMode","layout","getMode","layoutRefresh","force","subscribe","eventBus","unsubscribe","subscribed","key","subscriptionChange","dispatch","chain","confirm","dispatchExternal","externalEvents","subscribedExternal","subscriptionChangeExternal","options","setOption","value","deprecationCheck","oldOption","newOption","convert","deprecationAdvisor","check","deprecationCheckMsg","msg","checkMsg","deprecationMsg","module","Helpers","elVisible","el","offsetWidth","offsetHeight","elOffset","box","getBoundingClientRect","top","window","pageYOffset","document","documentElement","clientTop","left","pageXOffset","clientLeft","retrieveNestedData","separator","field","structure","split","length","output","i","deepClone","obj","clone","list","objectProto","__proto__","arrayProto","Object","assign","Array","isArray","subject","match","copy","findIndex","item","unshift","Popup","element","parent","container","_lookupContainer","reversedX","childPopup","blurable","blurCallback","blurEventsBound","renderedCallback","visible","hideable","classList","add","blurEvent","hide","escEvent","_escapeCheck","destroyBinding","tableDestroyed","destroyed","popupContainer","querySelector","console","warn","_checkContainerIsParent","body","parentNode","renderCallback","callback","containerEventCoords","e","touch","MouseEvent","x","touches","pageX","y","pageY","parentOffset","elementPositionCoords","position","offset","containerOffset","show","origin","parentEl","coords","HTMLElement","style","appendChild","_fitToScreen","addEventListener","stopPropagation","scrollTop","right","Math","max","scrollHeight","parseInt","height","isVisible","hideOnBlur","setTimeout","rowManager","keyCode","blockHide","restoreHide","removeEventListener","removeChild","child","Module","name","_handler","initialize","registerTableOption","optionsList","register","registerColumnOption","columnManager","registerTableFunction","func","args","initGuard","registerComponentFunction","component","handler","componentFunctionBinder","registerDataHandler","priority","registerDataPipelineHandler","registerDisplayHandler","registerDisplayPipelineHandler","displayRows","adjust","index","lookupIndex","displayPipeline","getDisplayRows","activeRows","refreshData","renderInPosition","refreshActiveData","footerAppend","footerManager","append","footerPrepend","prepend","footerRemove","remove","popup","menuEl","menuContainer","Popup$1","alert","content","type","alertManager","clearAlert","clear","defaultAccessors","rownum","params","column","row","getPosition","Accessor","allowedTypes","initializeColumn","transformRow","config","forEach","charAt","toUpperCase","slice","accessor","definition","lookupAccessor","accessors","rowComponent","getComponent","traverse","colComponent","getFieldValue","setFieldValue","_defineProperty","defaultConfig","method","generateParamsList$1","generateParamsList","prefix","concat","push","serializeParams","encoded","encodeURIComponent","join","urlBuilder","url","keys","toLowerCase","includes","defaultLoaderPromise","contentType","Promise","resolve","reject","urlGenerator","call","ajaxContentType","contentTypeFormatters","headers","Accept","mode","location","credentials","fetch","then","response","ok","json","catch","error","status","statusText","defaultContentTypeFormatters","JSON","stringify","form","FormData","Ajax","loaderPromise","ajaxRequestFunc","ajaxURLGenerator","defaultURLGenerator","ajaxURL","setUrl","setDefaultConfig","ajaxConfig","getUrl","requestDataCheck","requestParams","requestData","ajaxParams","previousData","generateConfig","sendRequest","ajaxRequesting","ajaxResponse","defaultPasteActions","replace","setData","update","updateOrAddData","insert","addData","defaultPasteParsers","clipboard","headerFindSuccess","columns","columnMap","rows","find","title","trim","columnsByIndex","shift","bindings$2","copyToClipboard","actions$2","edit","currentCell","modExists","extensions$4","keybindings","bindings","actions","Clipboard","pasteParser","pasteAction","customSelection","rowRange","blocked","clipboardCopyRowRange","plain","html","preventDefault","clipboardCopyFormatter","export","generateExportList","clipboardCopyConfig","clipboardCopyStyled","generateHTMLTable","generatePlainContent","clipboardData","originalEvent","reset","paste","setPasteParser","clipboardPasteParser","setPasteAction","clipboardPasteAction","rowData","col","getKey","range","internal","sel","textRange","getSelection","createRange","selectNodeContents","toString","removeAllRanges","addRange","selection","createTextRange","moveToElementText","select","execCommand","action","pasteActions","parser","pasteParsers","checkPasteOrigin","getPasteData","mutateData","mutator","valid","target","tagName","getData","CalcComponent","_row","Proxy","get","receiver","handle","transform","getElement","getTable","getCells","cells","cell","getCell","_getSelf","CellComponent","_cell","getValue","getOldValue","getInitialValue","initialValue","getRow","getType","getField","getColumn","setValue","mutate","restoreOldValue","setValueActual","restoreInitialValue","checkHeight","Cell","oldValue","width","minWidth","loaded","build","generateElement","setWidth","_configureCell","createElement","className","setAttribute","isRowHeader","vertAligns","bottom","middle","hozAligns","center","textAlign","hozAlign","vertAlign","display","alignItems","justifyContent","cssClass","classNames","_generateContents","val","innerHTML","Node","firstChild","cellRendered","containerOnly","layoutElement","changed","setValueProcessData","cellEdited","widthStyled","clearWidth","getWidth","setMinWidth","minWidthStyled","setMaxWidth","maxWidth","maxWidthStyled","reinitializeHeight","clearHeight","setHeight","heightStyled","getHeight","delete","redrawBlock","deleteCell","calcs","getIndex","getCellIndex","ColumnComponent","_column","getDefinition","getTitleDownload","isGroup","toggle","getSubColumns","getParentColumn","getParentComponent","scrollTo","ifVisible","scrollToColumn","move","to","after","toColumn","findColumn","moveColumn","getNextColumn","nextCol","nextColumn","getPrevColumn","prevCol","prevColumn","updateDefinition","updates","result","reinitializeWidth","rerenderColumns","defaultColumnOptions","Column","def","rowHeader","contentElement","titleHolderElement","titleElement","groupElement","createGroupElement","fieldStructure","titleDownload","titleFormatterRendered","mapDefinitions","setField","maxInitialWidth","widthFixed","newCol","attachColumn","checkColumnVisibility","registerColumnField","_initialize","columnHeaderVertAlign","defaults","columnDefaults","generate","defaultOptionList","checkDefinition","indexOf","nestedFieldSeparator","_getNestedData","_getFlatData","_setNestedData","_setFlatData","registerColumnPosition","reRegisterPosition","headerVertical","_buildColumnHeaderContent","_buildGroupHeader","_buildColumnHeader","headerHozAlign","_buildColumnHeaderTitle","headerWordWrap","editableTitle","focus","text","_formatColumnHeaderTitle","contents","dataObj","columnRendered","verticalAlign","alignment","parentHeight","getGroupElement","clientHeight","getHeadersElement","minHeight","clearVerticalAlign","paddingTop","getFirstColumn","getLastColumn","getColumns","getTopColumn","updateBranches","colDefs","responsiveToggle","verticalAlignHeaders","matchChildWidths","childWidth","initialized","splice","setWidthActual","isNaN","floor","clientWidth","min","checkCellHeights","heightInitialized","offsetParent","clearCellHeight","calcHeight","setCellHeight","getLeftOffset","offsetLeft","ceil","cellCount","deregisterColumn","generateCell","findColumnIndex","_nextVisibleColumn","getColumnByIndex","_prevVisibleColumn","fitToData","setTo","addColumn","getVisibleColumnsByIndex","RowComponent","watchPosition","scrollToRow","moveToRow","updateData","normalizeHeight","reformat","reinitialize","getNextRow","nextRow","getPrevRow","prevRow","Row","manualHeight","outerHeight","positionWatchers","created","create","detachElement","generateCells","inFragment","deleteCells","renderer","renderRowCells","rowFormatter","rerenderRowCells","rendered","deinitialize","deinitializeHeight","children","maxHeight","rowHeight","calcMinHeight","calcMaxHeight","resizableRows","updatedData","tempData","newRowData","parse","attrname","getColumnsByFieldRoot","findCell","nextDisplayRow","prevDisplayRow","before","toRow","findRow","moveRowActual","deleteActual","blockRedraw","detachModules","deleteRow","wipe","isDisplayed","setPosition","getGroup","group","defaultCalculations","avg","values","calcParams","precision","reduce","sum","Number","toFixed","parseFloat","String","count","unique","filter","ColumnCalcs","topCalcs","botCalcs","genColumn","topElement","botElement","topRow","botRow","topInitialized","botInitialized","recalcAfterBlock","cellValueChanged","initializeColumnCheck","rowsUpdated","scrollHorizontal","recalcActiveRows","recalcActiveRowsRefresh","tableRedraw","visibleRows","adjustForScrollbar","restoreRedraw","resizeHolderWidth","getResults","userRecalc","headersElement","recalc","redraw","blockCheck","viewable","groupBy","recalcRowGroup","dataTreeStartExpanded","dataTree","recalcAll","topCalc","bottomCalc","columnCalcs","topCalcParams","botCalcParams","bottomCalcParams","calculations","initializeTopRow","botCalc","initializeBottomRow","removeCalcs","adjustTableSize","reinitializeCalcs","fragment","createDocumentFragment","getContentsElement","insertBefore","nextSibling","scrollLeft","rowsToData","generateRow","frozenColumns","recalcGroup","groupRows","getRowGroup","groups","getChildGroups","generateRowData","generateTopRow","generateBottomRow","hasDataTreeColumnCalcs","dataTreeChildColumnCalcs","open","getFilteredTreeChildren","dataRow","pos","disable","enable","format","formatter","lookupFormatter","paramKey","hasTopCalcs","hasBottomCalcs","results","getGroups","getGroupResults","groupObj","subGroups","getSubGroups","subGroupResults","subgroup","rtl","paddingLeft","paddingRight","DataTree","indent","collapseEl","expandEl","branchEl","elementField","startOpen","collapseRow","expandRow","toggleRow","getTreeParent","getRowChildren","addTreeChildRow","isRowExpanded","dummyEl","dataTreeChildField","dataTreeChildIndent","dataTreeBranchElement","dataTreeCollapseElement","tabIndex","dataTreeExpandElement","initializeRow","layoutRow","rowDelete","rowDataChanged","columnMoving","initializeElementField","tableRedrawing","getRows","reinitializeRowChildren","firstCol","getFirstVisibleColumn","dataTreeElementColumn","getTreeChildren","redrawNeeded","childArray","controlEl","generateControlElement","cloneNode","marginRight","marginLeft","getComputedStyle","getPropertyValue","oldControl","replaceChild","getChildren","allChildren","sortOnly","generateChildren","dataTreeFilter","dataTreeSort","sort","subChildren","sub","childData","childRow","getTreeParentRoot","childIndex","findChildIndex","recurse","getChildField","csv$1","setFileContents","delimiter","fileContents","depth","bom","json$2","pdf","header","autoTableParams","rowGroupStyles","fontStyle","fontSize","cellPadding","fillColor","rowCalcStyles","jsPDFParams","jsPDF","jspdfLib","doc","orientation","unit","parseRow","styles","colSpan","rowSpan","dependencyRegistry","lookup","autoTable","didDrawPage","head","documentProcessing","xlsx$1","self","sheetName","XLSXLib","workbook","utils","book_new","tableFeatures","compression","compress","writeOptions","bookType","bookSST","SheetNames","Sheets","generateSheet","merges","worksheet","s","c","r","a","b","j","Date","sheet_add_aoa","encode_range","sheetOnly","sheets","sheet","active","intercept","s2ab","buf","ArrayBuffer","view","Uint8Array","charCodeAt","write","html$1","jsonLines","defaultDownloaders","csv","xlsx","Download","mimeType","Blob","deprecatedOptionsCheck","download","downloadToTab","filename","interceptCallback","downloadFunc","buildLink","mime","triggerDownload","downloaders","downloadConfig","downloadRowRange","groupHeader","groupHeaderDownload","_group","getRowCount","newTab","blob","downloadEncoder","URL","createObjectURL","navigator","msSaveOrOpenBlob","click","commsReceived","maskInput","mask","maskLetter","maskLetterChar","maskNumber","maskNumberChar","maskWildcard","maskWildcardChar","fillSymbols","symbol","char","ctrlKey","metaKey","maskAutoFill","placeholder","input","onRendered","success","cancel","editorParams","cellValue","search","padding","boxSizing","elementAttributes","getAttribute","preventScroll","selectContents","onChange","textarea$1","vertNav","verticalNavigation","whiteSpace","resize","heightNow","shiftKey","shiftEnterSubmit","selectionStart","stopImmediatePropagation","number$1","step","blurFunc","date$1","inputFormat","DT","DateTime","luxon","convertDate","newDatetime","isDateTime","fromISO","fromFormat","toFormat","luxDate","toISO","relatedTarget","rangeParent","explicitOriginalTarget","time$1","luxTime","datetime$2","luxDateTime","Edit$1","Edit","editor","_initializeParams","displayItems","currentItems","focusedItem","_createInputElement","listEl","_createListElement","initialValues","isFilter","filterTimeout","filtered","typing","listIteration","lastAction","filterTerm","_deprecatedOptionsCheck","_initializeValue","_onRendered","defaultValue","multiselect","headerFilterInitialListGen","cellEl","clickStop","_preventPopupBlur","_preventBlur","_inputKeyDown","_setListWidth","attribs","clearable","autocomplete","cursor","caretColor","_bindInputEvents","valueKeys","valueCheck","placeholderLoading","placeholderEmpty","filterDelay","emptyValue","freetext","filterFunc","filterRemote","allowEmpty","listOnEmpty","valuesLookup","valuesURL","_inputFocus","_inputClick","_inputBlur","_inputSearch","_inputKeyUp","rebuildOptionsList","_filter","clearTimeout","_filterList","_resolveValue","_clearChoices","_keyUp","_keyDown","_keySide","_keyEnter","_keyEsc","_keyHomeEnd","_keyTab","_keySelectLetter","_keyAutoCompLetter","_chooseItem","_focusItem","_cancel","_scrollToValue","character","fromCharCode","label","startsWith","scrollIntoView","behavior","block","inline","_generateOptions","_sortOptions","_buildList","_showList","isInteger","_filterOptions","iteration","_ajaxRequest","_uniqueColumnValues","valuesLookupField","_addPlaceholder","responseValues","_parseList","_clearList","term","getColumnByField","_emptyValueCheck","inputValues","entries","map","_parseListItem","option","level","_parseListGroup","itemParams","selected","original","sorter","_defaultSortFunction","_sortGroup","as","bs","a1","b1","L","rx","rd","emptyAlign","isFinite","test","_defaultFilterFunc","_filterItem","matches","_buildItem","itemFormatter","_groupClick","_itemClick","_styleItem","startVis","blur","star$1","maxStars","getElementsByTagName","size","stars","starsHolder","star","createElementNS","starChange","browser","buildStar","starHolder","nextStar","changeValue","overflow","textOverflow","progress$1","percent","bar","mouseDrag","mouseDragWidth","updateValue","calcVal","round","backgroundColor","screenX","tickCross$1","tristate","indetermValue","indeterminateValue","indetermState","trueValueSet","falseValueSet","marginTop","indeterminate","checked","trueValue","checkedValue","falseValue","adaptable$1","editorFunc","defaultLookup","editorLookup","paramsLookup","lookupEditor","defaultEditors","textarea","number","date","time","datetime","progress","tickCross","adaptable","mouseClick","recursionBlock","invalidEdit","editedCells","convertEmptyValues","editors","emptyValueCheck","getEditedCells","clearCellEdited","navigatePrev","navigateNext","navigateLeft","navigateRight","navigateUp","navigateDown","cellIsEdited","clearEdited","editCell","cellCancelEdit","bindEditor","updateCellClass","columnDeleteCheck","rowDeleteCheck","rowEditableCheck","cancelEdit","pasteBlocker","keybindingNavigateNext","newRow","addRow","edited","allowEdit","nextCell","findPrevEditableCell","findNextEditableCell","prevCell","convertEmpty","editable","editorEmptyValue","editorEmptyValueFunc","getCurrentCell","clearEditor","variableHeight","cellEditCancelled","button","contains","focusCellNoEvent","forceEdit","focusScrollAdjust","getRenderMode","topEdge","bottomEdge","rowEl","offsetTop","leftEdge","rightEdge","leftMargin","rightMargin","renderHorizontal","vDomPadLeft","editFinished","cellEditor","validationMode","transformEmptyValues","cellClick","cellEditing","mod","checkFunc","editIndex","ExportRow","ExportColumn","columnLookups$1","rowLookups$1","getVisibleRows","all","selectRow","selectedRows","pagination","Export","cloneTableStyle","colVisProp","colVisPropAttach","getHtml","colLookup","columnLookups","columnVisCheck","columnHeaders","headersToExportRows","generateColumnGroupHeaders","bodyToExportRows","rowLookup","generateTable","generateTableElement","rowLookups","columnGroups","colData","processColumnGroup","maxDepth","groupData","subGroup","subGroupData","visProp","rowHeaders","headerDepth","exportRows","parseColumnGroup","rowGroups","exportCols","headerEl","bodyEl","lookupTableStyles","setup","treeElementField","mapElementStyles","generateHeaderElement","generateGroupElement","generateCalcElement","generateRowElement","evenRow","oddRow","calcRow","firstRow","firstGroup","getElementsByClassName","styleCells","styleRowHeader","firstCell","lastCell","generator","cellStyle","styleProps","cellWrapper","formatCells","formatExportValue","align","formatComponent","holder","htmlOutputConfig","from","props","fromStyle","prop","defaultFilters","=","filterVal","rowVal","filterParams","<","<=",">",">=","!=","regex","RegExp","like","keywords","keyword","matchAll","starts","ends","endsWith","in","Filter","filterList","headerFilters","headerFilterColumns","prevHeaderFilterChangeCheck","tableInitialized","searchRows","searchData","userSetFilter","userRefreshFilter","userAddFilter","getFilters","userSetHeaderFilterFocus","userGetHeaderFilterValue","userSetHeaderFilterValue","getHeaderFilters","userRemoveFilter","userClearFilter","userClearHeaderFilter","setHeaderFilterFocus","reloadHeaderFilter","getHeaderFilterValue","setHeaderFilterValue","initializeColumnHeaderFilter","hideHeaderFilterElements","showHeaderFilterElements","tableBuilt","generatePlaceholder","filterMode","remoteFilterParams","initialFilter","setFilter","initialHeaderFilter","placeholderHeaderFilter","refreshFilter","addFilter","removeFilter","clearFilter","clearHeaderFilter","headerFilter","filterType","tagType","attrType","filterChangeCheck","prevSuccess","emptyFunc","headerFilterFunc","filters","headerFilterFuncParams","fieldVal","colVal","trackChanges","generateHeaderFilterElement","filterElement","editorElement","typingTimer","searchTrigger","onRenderedCallback","headerElement","headerFilterEmptyCheck","headerFilterParams","headerFilterPlaceholder","contentsElement","headerPos","headerFilterLiveFilterDelay","hasAttribute","headerFilterLiveFilter","hasChanged","findFilter","findSubFilters","ajax","filtersToArray","searchType","filterRecurse","rowList","activeRowComponents","filterRow","subFilter","plaintext","formatterParams","emptyToSpace","sanitizeHTML","money","floatVal","sign","integer","decimal","rgx","decimalSym","thousandSym","thousand","negativeSign","symbolAfter","abs","link","urlPrefix","labelTraverse","path","labelField","urlField","image","src","urlSuffix","empty","truthy","allowTruthy","tick","tickElement","cross","crossElement","datetime$1","outputFormat","invalid","invalidPlaceholder","isValid","timezone","setZone","datetimediff","suffix","humanize","now","diff","toHuman","starActive","starInactive","traffic","colors","color","percentValue","legendAlign","legend","legendColor","barEl","barContainer","legendEl","holderEl","buttonTick","buttonCross","sizePx","containEl","switchEl","onValue","hasOwnProperty","offValue","state","onTruthy","flexDirection","onColor","background","offColor","borderRadius","clickable","relativeToPage","page","getPageSize","getPage","innerText","formatterFunc","formatterLookup","array$2","valueMap","json$1","multiline","replacer","defaultFormatters","array","Format","formatValue","formatHeader","lookupTypeFormatter","formatterPrint","print","formatterClipboard","formatterHtmlOutput","htmlOutput","formatters","mockCell","titleFormatter","titleFormatterParams","entityMap","FrozenColumns","leftColumns","rightColumns","initializationMode","layoutCell","reinitializeColumns","blockLayout","unblockLayout","margin","edge","frozenCheck","frozen","layoutCalcRows","layoutGroupCalcs","groupList","layoutColumnPosition","allCells","leftParents","marginValue","getColGroupParentElement","reinitializeRows","otherRows","getTableElement","getFrozenColumns","_calcSpace","FrozenRows","freezeRow","unfreezeRow","isRowFrozen","detachRow","frozenRows","initializeRows","rowType","isFrozen","styleRows","styleRow","GroupComponent","groupManager","getParentGroup","toggleVisibility","Group","oldGroup","hasSubGroups","groupIDLookups","_addRowToGroup","_addRow","old","elementContents","arrowElement","createElements","addBindings","createValueGroups","elementsOnly","arrow","movableRows","moveRow","initializeGroupHeader","allowedValues","_createGroup","toggleElement","groupToggleElement","groupID","groupKey","headerGenerator","insertRow","conformRowData","toIndex","updateGroupRows","scrollHeader","getRowIndex","removeRow","groupValues","removeGroup","generateGroupHeaderContents","getHeadersAndRows","_visSet","groupClosedShowCalcs","prev","includeChildren","getPath","childNodes","GroupRows","displayHandler","setGroupBy","setGroupValues","setGroupStartOpen","setGroupHeader","userGetGroups","userGetGroupedData","rowGetGroup","_blockRedrawing","_restore_redrawing","groupUpdateOnCellEdit","cellUpdated","reassignRowToGroup","configureGroupSetup","rowDeleting","scrollHeaders","rowMoving","rowAddingIndex","rowSample","virtualRenderFill","groupStartOpen","langValue","lang","items","cols","getRealColumns","lookupFunc","prevValue","tableElement","assignRowToGroup","moveRowInArray","getGroupedData","toGroup","fromGroup","generateGroups","groupComponents","pullGroupListData","groupListData","rowCount","headerContent","countGroups","oldGroups","createGroup","assignRowToExistingGroup","newGroupNeeded","oldRowGroup","oldGroupPath","newGroupPath","getExpectedPath","samePath","every","groupPath","groupId","checkBasicModeGroupHeaderWidth","onlyGroupHeaders","defaultUndoers","cellEdit","rowAdd","checkPlaceholder","addRowActual","_rebindRow","rowMove","posFrom","posTo","getRowFromPosition","regenerateRowPositions","reRenderInPosition","defaultRedoers","newValue","bindings$1","undo","redo","actions$1","history","extensions$3","History","clearComponentHistory","rowDeleted","rowAdded","rowMoved","getHistoryUndoSize","getHistoryRedoSize","undoers","redoers","oldRow","HtmlTableImport","fieldIndex","hasIndex","tableElementCheck","originalElement","parseTable","_extractOptions","_extractHeaders","_generateBlankHeaders","defaultOptions","attributes","optionsArr","attrib","_attribValue","_findCol","exists","textContent","replaceAll","registeredDefaults","inQuote","nextChar","array$1","workbook2","read","sheet_to_json","defaultImporters","Import","importFromFile","importFormat","loadDataCheck","loadData","importData","lookupImporter","structureData","err","importer","importers","extension","importReader","pickFile","validateData","alertError","extensions","accept","file","files","reader","FileReader","validateFile","readAsArrayBuffer","readAsBinaryString","readAsDataURL","readAsText","onload","onerror","alertLoader","parsedData","autoColumns","structureArrayToObject","structureArrayToColumns","transformHeader","importHeaderTransform","transformData","importValueTransform","importFileValidator","importDataValidator","Interaction","eventMap","rowClick","rowDblClick","rowContext","rowMouseEnter","rowMouseLeave","rowMouseOver","rowMouseOut","rowMouseMove","rowMouseDown","rowMouseUp","rowTap","rowDblTap","rowTapHold","cellDblClick","cellContext","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellMouseDown","cellMouseUp","cellTap","cellDblTap","cellTapHold","headerClick","headerDblClick","headerContext","headerMouseEnter","headerMouseLeave","headerMouseOver","headerMouseOut","headerMouseMove","headerMouseDown","headerMouseUp","headerTap","headerDblTap","headerTapHold","groupClick","groupDblClick","groupContext","groupMouseEnter","groupMouseLeave","groupMouseOver","groupMouseOut","groupMouseMove","groupMouseDown","groupMouseUp","groupTap","groupDblTap","groupTapHold","subscribers","touchSubscribers","columnSubscribers","touchWatchers","tap","tapDbl","tapHold","initializeExternalEvents","cellContentsSelectionFixer","clearTouchWatchers","types","selectNode","subscriptionChanged","added","subscribeTouchEvents","unsubscribeTouchEvents","handleTouch","noTouch","dispatchEvent","watchers","componentObj","defaultBindings","navPrev","navNext","navUp","navDown","navLeft","navRight","scrollPageUp","scrollPageDown","scrollToStart","scrollToEnd","defaultActions","keyBlock","newPos","displayRowsCount","scrollMax","Keybindings","watchKeys","pressedKeys","keyupBinding","keydownBinding","mergedBindings","mapBindings","bindEvents","clearBindings","binding","bindingList","mapBinding","symbolsList","ctrl","meta","symbols","code","checkBinding","Menu","nestedMenuBlock","currentComponent","rootPopup","initializeRowWatchers","initializeGroupWatchers","rowContextMenu","loadMenuEvent","on","rowClickMenu","rowDblClickMenu","groupContextMenu","groupClickMenu","groupDblClickMenu","headerContextMenu","loadMenuTableColumnEvent","headerClickMenu","headerDblClickMenu","headerMenu","initializeColumnHeaderMenu","contextMenu","loadMenuTableCellEvent","clickMenu","dblClickMenu","icon","headerMenuIcon","headerMenuEl","menu","loadMenu","parentPopup","itemEl","disabled","MoveColumns","placeholderElement","createPlaceholderElement","hoverElement","checkTimeout","checkPeriod","moving","toCol","toColAfter","startX","autoScrollMargin","autoScrollStep","autoScrollTimeout","touchMove","moveHover","endMove","movableColumns","abortMove","colEl","mousemove","which","startMove","bindTouchEvents","startXMove","nextColWidth","prevColWidth","nextColWidthLast","prevColWidthLast","passive","moveToCol","selectRange","columnSelection","mousedown","selecting","_bindMouseMove","_unbindMouseMove","movingCells","moveColumnActual","columnHolder","xPos","scrollPos","defaultSenders","fromRow","toTable","defaultReceivers","fromTable","MoveRows","toRowAfter","hasHandle","startY","tableRowDropEvent","connection","connectionSelectorsTables","connectionSelectorsElements","connectionElements","connections","connectedTable","connectedRow","movableRowsConnectedTables","movableRowsConnectedElements","initializeCell","mouseup","tableRowDrop","previousSibling","rowHandle","startYMove","nextRowHeight","prevRowHeight","nextRowHeightLast","prevRowHeightLast","setStartPosition","connectToTables","pointerEvents","disconnectFromTables","moveHoverConnections","moveHoverTable","rowHolder","yPos","elementRowDrop","connectionTables","query","prototype","querySelectorAll","dropEvent","tabulatorElementDropEvent","connect","disconnect","dropComplete","sender","movableRowsSender","senders","movableRowsReceiver","receivers","defaultMutators","Mutator","enabled","transformCell","mutateLink","lookupMutator","mutators","mutatorEdit","links","linkCell","pageSize","currentRow","currentPage","totalRows","totalPages","showingEl","valueEl","ofEl","totalEl","rowsEl","pages","defaultPageCounters","Page","progressiveLoad","pageCounterElement","pageCounter","remoteRowCountEstimate","initialLoad","dataChanging","pageSizes","setMaxPage","setPage","userSetPageToRow","userSetPageSize","previousPage","nextPage","getPageMax","setPageToRow","initialLoadComplete","calculatePageSizes","footerRedraw","paginationAddRow","rowAddingPosition","paginationMode","remotePageParams","_parseRemoteData","restOnRenderBefore","initializePageCounter","initializePaginator","initializeProgressive","scrollVertical","testElRow","testElCell","paginationSize","visibility","generatePageSizeSelectList","setPageSize","dir","loading","progressiveLoadScrollMargin","pagesElement","firstBut","prevBut","nextBut","lastBut","paginationSizeSelector","pageSizeSelect","counter","paginationCounter","pageCounters","hidden","pageSelectLabel","paginationCounterHolder","paginationElement","paginationCounterElement","paginationInitialPage","paginationButtonCount","setMaxRows","trigger","_setPageCounter","_setPageButtons","leftSize","rightSize","_generatePageButton","actualRowPageSize","start","end","actualStartRow","actualRows","finally","paginationOutOfRange","last_page","last_row","addRows","progressiveLoadDelay","footer","containerElement","scrollWidth","defaultReaders","local","id","localStorage","getItem","cookie","cookiePos","defaultWriters","setItem","expireDate","setDate","getDate","toUTCString","Persistence","defWatcherBlock","readFunc","writeFunc","localStorageTest","testKey","removeItem","persistence","persistenceMode","persistenceID","retrievedData","persistenceReaderFunc","readers","persistenceWriterFunc","writers","retrieveData","save","eventSave","getColumnLayout","setColumnLayout","sorters","initialSort","parseColumns","setColumns","mergeDefinition","getOwnPropertyDescriptor","defineProperty","set","current","oldCols","newCols","mergeAllNew","_findColumn","validateSorters","getSort","getGroupConfig","getPageConfig","definitions","excludedKeys","defStore","colDef","_componentPopupCall","loadPopupEvent","rowContextPopup","rowClickPopup","rowDblClickPopup","groupContextPopup","groupClickPopup","groupDblClickPopup","headerContextPopup","loadPopupTableColumnEvent","headerClickPopup","headerDblClickPopup","headerPopup","initializeColumnHeaderPopup","contextPopup","loadPopupTableCellEvent","clickPopup","dblClickPopup","headerPopupIcon","headerPopupEl","loadPopup","contentsEl","Print","manualBlock","beforeprintEventHandler","afterprintEventHandler","printAsHtml","replaceTable","cleanup","destroy","printFullscreen","printConfig","printStyled","printRowRange","scrollX","scrollY","footerEl","tableEl","footerContent","printHeader","printFooter","printFormatter","ReactiveData","origFuncs","currentVersion","reactiveData","unblock","watchRow","watchData","unwatchData","version","enumerable","configurable","arg","apply","getRowFromDataObject","pop","newRows","startRow","reverse","oldRows","writable","watchKey","watchTreeChildren","childField","rebuildTree","unwatchRow","ResizeColumns","startColumn","startWidth","latestX","initialNextColumn","layoutColumnHeader","initializeEventWatchers","layoutCellHandles","deInitializeComponent","resizeHandle","columnLayoutUpdated","deInitializeColumn","columnWidthUpdated","resizable","reinitializeColumn","frozenColumnOffset","frozenOffset","handleEl","nearestColumn","_checkResizability","handleDown","_mouseDown","oldWidth","parentElement","clientX","startDiff","moveDiff","blockedBefore","blockedAfter","resizableColumnFit","colWidth","browserSlow","calcGuidePosition","mouseX","handleX","tableX","columnX","mouseDiff","guideEl","resizableColumnGuide","mouseMove","mouseUp","ResizeRows","startHeight","prevHandle","prevHandleDown","screenY","mouseY","handleY","tableY","rowY","resizableRowGuide","ResizeTable","visibilityObserver","resizeObserver","containerObserver","tableHeight","tableWidth","containerHeight","containerWidth","autoResize","initialRedraw","tableStyle","IntersectionObserver","ResizeObserver","initializeVisibilityObserver","entry","browserMobile","nodeHeight","contentRect","nodeWidth","redrawTable","observe","fixedHeight","tableResized","isIntersecting","unobserve","responsiveCollapse","responsiveLayout","toggleList","isOpen","extensions$2","ResponsiveLayout","hiddenColumns","collapseFormatter","collapseStartOpen","collapseHandleColumn","updateColumnVisibility","initializeResponsivity","generateCollapsedRowContent","responsiveLayoutCollapseFormatter","formatCollapsedData","responsiveLayoutCollapseStartOpen","responsive","order","generateCollapsedContent","hideColumn","colCount","showColumn","working","getFlexBaseWidth","headerVisible","activeRowsCount","renderEmptyScroll","generateCollapsedRowData","mockCellComponent","responsiveLayoutCollapseUseFormatters","titleData","valueData","node_content","titleHighlight","rowSelection","checkbox","selectableRowsRangeMode","toggleSelect","handleComplexRowClick","isSelected","registerRowSelectCheckbox","deselectRow","registerHeaderSelectCheckbox","extensions$1","SelectRow","lastClickedRow","selectPrev","headerCheckboxElement","selectRows","deselectRows","getSelectedRows","getSelectedData","isRowSelected","selectableRows","selectableRange","clearSelectionData","rowRetrieve","selectableRowsPersistence","_deselectRow","prevSelected","_rowSelectionChanged","selectable","checkRowSelectability","endSelect","_clearSelection","lastClickedRowIdx","getDisplayRowIndex","rowIdx","fromRowIdx","toRowIdx","toggledRows","toggledRow","selectableRowsCheck","_selectRow","changes","rowMatch","change","rowInfo","selectableRowsRollingSelection","checkboxEl","dataTreeSelectPropagate","childRowSelection","selectedRow","deselected","RangeComponent","_range","getStructuredCells","getBounds","getTopEdge","getBottomEdge","getLeftEdge","getRightEdge","setBounds","destroyedGuard","setStartBound","setEndBound","rangeManager","clearValues","Range","initializing","initElement","initBounds","_updateMinMax","setStart","setEnd","rowsCount","_getTableRows","_getTableColumns","_vDomTop","vDomTop","_vDomBottom","vDomBottom","_vDomLeft","leftCol","_vDomRight","rightCol","topLeftCell","bottomRightCell","topLeftCellEl","bottomRightCellEl","topLeftRowEl","bottomRightRowEl","Infinity","overlaps","atTopLeft","atBottomRight","occupies","occupiesRow","occupiesColumn","structured","arr","clearValue","selectableRangeClearCellsValue","notify","rangeRemoved","rangeJumpUp","rangeJumpDown","rangeJumpLeft","rangeJumpRight","rangeExpandUp","rangeExpandDown","rangeExpandLeft","rangeExpandRight","rangeExpandJumpUp","rangeExpandJumpDown","rangeExpandJumpLeft","rangeExpandJumpRight","activeRange","singleCell","bounds","startCell","rowWidth","dataLength","startCol","itemLength","selectedColumns","SelectRange","ranges","overlay","layoutChangeTimeout","maxRanges","blockKeydown","keyDownEvent","_handleKeyDown","mouseUpEvent","_handleMouseUp","getRangesData","getRanges","addRangeFromComponent","cellGetRanges","rowGetRanges","colGetRanges","initializeTable","initializeWatchers","rangeContainer","activeRangeCellElement","resetRanges","handleColumnMouseDown","handleColumnMouseMove","handleColumnResized","handleColumnMoving","handleColumnMoved","layoutChange","updateHeaderColumn","renderCell","handleCellMouseDown","handleCellMouseMove","handleCellClick","handleEditingCell","finishEditingCell","restoreFocus","keyNavigate","keyNavigateRange","headerSort","frozenCols","getActiveCell","initializeFocus","some","selectedColumn","_event","_to","_after","event","newSelection","rangeIdx","dataset","navigate","jump","expand","moved","rangeEdge","prevRect","rowRect","rowManagerRect","columnRect","columnManagerRect","findJumpCellLeft","findJumpCellRight","findJumpCellUp","findJumpCellDown","getTableColumns","getTableRows","getRowByRangePos","getColumnByRangePos","autoScroll","getRowHeaderWidth","removed","findJumpRow","emptyStart","emptySide","findJumpItem","findJumpCol","valueResolver","nextItem","currentItem","currentValue","rowPos","colPos","isStartingCellEmpty","isEmpty","isLeftOfStartingCellEmpty","targetCols","jumpCol","isRightOfStartingCellEmpty","isTopOfStartingCellEmpty","jumpRow","isBottomOfStartingCellEmpty","tableHolder","rect","withinHorizontalView","withinVerticalView","scrollbarWidth","layoutRanges","layoutColumn","occupied","activeCell","activeCellEl","activeRowEl","colIdx","visibleCells","aRow","bRow","alignEmptyValues","decimalSeparator","thousandSeparator","string","locale","localeCompare","boolean","el1","el2","calc","d","alphanum","defaultSorters","Sort","sortList","userSetSort","clearSort","sortMode","remoteSortParams","setSort","refreshSort","arrowEl","sorterParams","startingDir","headerSortStartingDir","headerSortTristate","headerSortClickElement","headerSortElement","setColumnHeaderSortIcon","columnHeaderSortMulti","newSortList","findSorter","sortOrderReverse","sortListActual","rowComponents","clearColumnHeaders","sortObj","setColumnHeader","_sortItems","sortEl","sorterCount","sortItem","_sortRow","el1Comp","el2Comp","GridCalculator","columnCount","columnString","genColumns","incrementChar","genRows","setRowCount","setColumnCount","SheetComponent","_sheet","getTitle","setTitle","setRows","Sheet","spreadsheetManager","isActive","grid","defaultColumnDefinition","columnDefinition","columnDefs","rowDefs","columnFields","initializeElement","initializeColumns","loadSheet","ref","refs","unload","wasInactive","full","rowWidths","outputWidth","outputHeight","findLastIndex","removeSheet","Spreadsheet","setSheets","addSheet","getSheets","getSheetDefinitions","setSheetData","getSheet","getSheetData","clearSheet","removeSheetFunc","activeSheetFunc","loadRemoteData","spreadsheetData","compatibilityCheck","initializeTabset","altContainer","loadSheets","data1","data2","log","newSheet","destroySheets","activeSheet","prevSheet","lookupSheet","Tooltip","tooltipSubscriber","headerSubscriber","timeout","popupInstance","headerTooltip","mousemoveCheck","mouseoutCheck","tooltip","clearPopup","loadTooltip","tooltipDelay","defaultValidators","parameters","float","numeric","alphanumeric","reg","minLength","maxLength","cellData","required","Validate","invalidCells","getInvalidCells","userClearCellValidation","userValidate","cellIsValid","clearValidation","cellValidate","columnValidate","rowValidate","editValidate","editorClear","editedClear","previousValue","validate","cancelled","validator","_extractValidator","substring","_buildValidator","validators","failedValidators","invalidIndex","debugEventsExternal","debugEventsInternal","debugInvalidOptions","debugInvalidComponentFuncs","debugInitialization","debugDeprecation","autoColumnsDefinitions","footerElement","textDirection","addRowPos","renderVertical","renderVerticalBuffer","scrollToRowPosition","scrollToRowIfVisible","scrollToColumnPosition","scrollToColumnIfVisible","rowFormatterPrint","rowFormatterClipboard","rowFormatterHtmlOutput","dataLoaderLoading","dataLoaderError","dataLoaderErrorTimeout","dataSendParams","dataReceiveParams","dependencies","OptionsList","msgType","userOptions","Renderer","elementVertical","elementHorizontal","verticalFillMode","clearRows","clearColumns","reinitializeColumnWidths","renderRows","renderColumns","rerenderRows","scrollColumns","scrollRows","scrollToRowNearestTop","includingBuffer","render","rerender","rowIndex","BasicHorizontal","rowFrag","VirtualDomHorizontal","vDomScrollPosLeft","vDomScrollPosRight","vDomPadRight","fitDataColAvg","windowBuffer","isFitData","layoutCheck","vertScrollListen","clearVisRowCache","dataChange","scroll","calcWindowBuffer","buffer","leftPos","rightPos","fitDataCheck","vdomHoz","reinitChanged","reinitializeRow","colEnd","addColRight","removeColLeft","addColLeft","removeColRight","colPositionAdjust","fitDataColActualWidthCheck","ex","message","newWidth","widthDiff","appendCell","ColumnManager","blockHozScrollEvent","columnsByField","redrawBlockUpdate","initializeRenderer","createHeadersElement","createHeaderContentsElement","createHeaderElement","initializeScrollWheelWatcher","padVerticalScrollbar","renderClass","renderers","deltaX","generateColumnsFromRowData","collProgress","calculateSorterFromValue","_addColumn","_reIndexColumns","getComponents","nextToColumn","topColumn","parentIndex","nextEl","root","fieldRoot","getDefinitions","getDefinitionTree","_moveColumnInArray","updateRows","fromIndex","totalWidth","fixedWidth","resetScroll","BasicVertical","tableFrag","tableEmpty","rowTop","VirtualDomVertical","vDomRowHeight","vDomScrollPosTop","vDomScrollPosBottom","vDomTopPad","vDomBottomPad","vDomMaxRenderChain","vDomWindowBuffer","vDomWindowMinTotalRows","vDomWindowMinMarginRows","vDomTopNewRows","vDomBottomNewRows","paddingBottom","_virtualRenderFill","topOffset","topDiff","bottomDiff","_addTopRow","vDomScrollHeight","_removeBottomRow","_addBottomRow","_removeTopRow","topFound","bottomRow","forceMove","topPad","rowsHeight","heightOccupied","topPadHeight","rowFragment","renderedRows","totalRowsRendered","rowsToRender","avgRowHeight","resized","fillableSpace","addedRows","paddingAdjust","_quickNormalizeRowHeight","removableRows","RowManager","createHolderElement","createTableElement","heightFixer","placeholderContents","firstRender","renderMode","activeRowsPipeline","redrawBlockRestoreConfig","redrawBlockRenderInPosition","dataPipeline","initializePlaceholder","leftDir","topDir","_positionPlaceholder","_setDataActual","_wipeElements","allIndex","activeIndex","setActiveRows","displayRowIterator","displayIndex","refreshDisplayOnly","findAddRowPos","_clearPlaceholder","chainResult","clearData","findRowIndex","rowOnly","getDataCount","skipStage","stage","cascadeOrder","refreshPipelines","renderTable","layoutColumnsOnNewData","resetDisplayRows","setDisplayRows","scrollBarCheck","_clearTable","_showPlaceholder","initialHeight","otherHeight","external","createEvent","initEvent","Event","FooterManager","createContainerElement","activate","deactivate","InteractionManager","abortClasses","previousTargets","listeners","componentMap","pseudoTrackers","subscriber","pseudoTracking","buildListenerMap","bindSubscriptionWatchers","listenerMap","listener","components","bindPseudoEvents","pseudoMouseEnter","pseudoMouseLeave","leaveList","linkedKeys","comp","clearWatchers","updateEventListeners","track","composedPath","targets","findTargets","bindComponents","triggerEvents","abort","elTargets","targetMatches","previousTarget","closest","ComponentFunctionBinder","funcName","DataLoader","requestOrder","requestNo","mapParams","objectInvert","blockActiveLoad","shouldLoad","ExternalEventBus","debug","events","subscriptionNotifiers","_debugDispatch","_dispatch","_notifySubscriptionChange","notifiers","callResult","InternalEventBus","_debugChain","_chain","_debugConfirm","_confirm","fallback","confirmed","DeprecationAdvisor","_warnUser","DependencyRegistry","deps","lookupProp","lookupKey","dependency","fitData","forced","fitDataGeneral","fitDataStretch","colsWidth","gap","lastCol","fitColumns","flexWidth","flexGrowUnits","flexColWidth","flexColumns","fixedShrinkColumns","flexShrinkUnits","overflowWidth","gapFill","calcWidth","scaleColumns","freeSpace","shrinkCols","oversizeCols","oversizeSpace","remainingSpace","remainingFlexGrowUnits","changeUnits","undersizeCols","calcGrow","widthGrow","calcShrink","widthShrink","defaultModes","fitDataFill","fitDataTable","Layout","modes","dataChanged","defaultLangs","Localize","langList","langs","setHeaderFilterPlaceholder","installLang","setLocale","getLang","default","_setLangProp","desiredLocale","traverseLang","trans","language","_executeBindings","fillPath","pathArray","_getLangElement","rootPath","Comms","receive","selectors","registry","lookupTable","con","tableComms","TableRegistry","findTable","_TableRegistry","tables","deregister","matchElement","ModuleBinder","initializeModuleBinder","defaultModules","modulesRegistered","_registerModules","coreModules","_extendModule","property","moduleBindings","source","core","mods","moduleCore","_registerModule","_registerModuleBinding","_registerModuleExtensions","moduleName","moduleExtensions","modKey","ext","propKey","_extendModuleFromQueue","_bindModules","orderedStartMods","orderedEndMods","unOrderedMods","modulesCore","moduleInitOrder","modulesRegular","Alert","_createAlertElement","msgElement","_createMsgElement","_typeClass","Tabulator","extendModule","registerModule","interactionMonitor","initializeCoreSystems","_create","_clearObjectPointers","_mapDeprecatedFunctionality","_rtlCheck","_buildElement","_initializeTable","_loadInitialData","direction","newElement","_detectBrowser","ua","userAgent","vendor","opera","stack","line","Error","replaceData","responses","foundRows","updateOrAddRow","updateRow","getRowPosition","getColumnDefinitions","toggleColumn","deleteColumn","updateColumnDefinition","fromColumn","off","plugin","Tabulator$1","TabulatorFull","allModules","TabulatorFull$1","PseudoRow","_createElement"],"sources":["../../src/js/core/CoreFeature.js","../../src/js/core/tools/Helpers.js","../../src/js/core/tools/Popup.js","../../src/js/core/Module.js","../../src/js/modules/Accessor/defaults/accessors.js","../../src/js/modules/Accessor/Accessor.js","../../src/js/modules/Ajax/defaults/config.js","../../src/js/modules/Ajax/defaults/urlGenerator.js","../../src/js/modules/Ajax/defaults/loaderPromise.js","../../src/js/modules/Ajax/defaults/contentTypeFormatters.js","../../src/js/modules/Ajax/Ajax.js","../../src/js/modules/Clipboard/defaults/pasteActions.js","../../src/js/modules/Clipboard/defaults/pasteParsers.js","../../src/js/modules/Clipboard/extensions/keybindings/bindings.js","../../src/js/modules/Clipboard/extensions/keybindings/actions.js","../../src/js/modules/Clipboard/extensions/extensions.js","../../src/js/modules/Clipboard/Clipboard.js","../../src/js/modules/ColumnCalcs/CalcComponent.js","../../src/js/core/cell/CellComponent.js","../../src/js/core/cell/Cell.js","../../src/js/core/column/ColumnComponent.js","../../src/js/core/column/defaults/options.js","../../src/js/core/column/Column.js","../../src/js/core/row/RowComponent.js","../../src/js/core/row/Row.js","../../src/js/modules/ColumnCalcs/defaults/calculations.js","../../src/js/modules/ColumnCalcs/ColumnCalcs.js","../../src/js/modules/DataTree/DataTree.js","../../src/js/modules/Download/defaults/downloaders/csv.js","../../src/js/modules/Download/defaults/downloaders/json.js","../../src/js/modules/Download/defaults/downloaders/pdf.js","../../src/js/modules/Download/defaults/downloaders/xlsx.js","../../src/js/modules/Download/defaults/downloaders/html.js","../../src/js/modules/Download/defaults/downloaders/jsonLines.js","../../src/js/modules/Download/defaults/downloaders.js","../../src/js/modules/Download/Download.js","../../src/js/modules/Edit/inputMask.js","../../src/js/modules/Edit/defaults/editors/input.js","../../src/js/modules/Edit/defaults/editors/textarea.js","../../src/js/modules/Edit/defaults/editors/number.js","../../src/js/modules/Edit/defaults/editors/range.js","../../src/js/modules/Edit/defaults/editors/date.js","../../src/js/modules/Edit/defaults/editors/time.js","../../src/js/modules/Edit/defaults/editors/datetime.js","../../src/js/modules/Edit/List.js","../../src/js/modules/Edit/defaults/editors/list.js","../../src/js/modules/Edit/defaults/editors/star.js","../../src/js/modules/Edit/defaults/editors/progress.js","../../src/js/modules/Edit/defaults/editors/tickCross.js","../../src/js/modules/Edit/defaults/editors/adaptable.js","../../src/js/modules/Edit/defaults/editors.js","../../src/js/modules/Edit/Edit.js","../../src/js/modules/Export/ExportRow.js","../../src/js/modules/Export/ExportColumn.js","../../src/js/modules/Export/defaults/columnLookups.js","../../src/js/modules/Export/defaults/rowLookups.js","../../src/js/modules/Export/Export.js","../../src/js/modules/Filter/defaults/filters.js","../../src/js/modules/Filter/Filter.js","../../src/js/modules/Format/defaults/formatters/plaintext.js","../../src/js/modules/Format/defaults/formatters/html.js","../../src/js/modules/Format/defaults/formatters/textarea.js","../../src/js/modules/Format/defaults/formatters/money.js","../../src/js/modules/Format/defaults/formatters/link.js","../../src/js/modules/Format/defaults/formatters/image.js","../../src/js/modules/Format/defaults/formatters/tickCross.js","../../src/js/modules/Format/defaults/formatters/datetime.js","../../src/js/modules/Format/defaults/formatters/datetimediff.js","../../src/js/modules/Format/defaults/formatters/lookup.js","../../src/js/modules/Format/defaults/formatters/star.js","../../src/js/modules/Format/defaults/formatters/traffic.js","../../src/js/modules/Format/defaults/formatters/progress.js","../../src/js/modules/Format/defaults/formatters/color.js","../../src/js/modules/Format/defaults/formatters/buttonTick.js","../../src/js/modules/Format/defaults/formatters/buttonCross.js","../../src/js/modules/Format/defaults/formatters/toggle.js","../../src/js/modules/Format/defaults/formatters/rownum.js","../../src/js/modules/Format/defaults/formatters/handle.js","../../src/js/modules/Format/defaults/formatters/adaptable.js","../../src/js/modules/Format/defaults/formatters/array.js","../../src/js/modules/Format/defaults/formatters/json.js","../../src/js/modules/Format/defaults/formatters.js","../../src/js/modules/Format/Format.js","../../src/js/modules/FrozenColumns/FrozenColumns.js","../../src/js/modules/FrozenRows/FrozenRows.js","../../src/js/modules/GroupRows/GroupComponent.js","../../src/js/modules/GroupRows/Group.js","../../src/js/modules/GroupRows/GroupRows.js","../../src/js/modules/History/defaults/undoers.js","../../src/js/modules/History/defaults/redoers.js","../../src/js/modules/History/extensions/keybindings/bindings.js","../../src/js/modules/History/extensions/keybindings/actions.js","../../src/js/modules/History/extensions/extensions.js","../../src/js/modules/History/History.js","../../src/js/modules/HtmlTableImport/HtmlTableImport.js","../../src/js/modules/Import/defaults/importers/csv.js","../../src/js/modules/Import/defaults/importers/json.js","../../src/js/modules/Import/defaults/importers/array.js","../../src/js/modules/Import/defaults/importers/xlsx.js","../../src/js/modules/Import/defaults/importers.js","../../src/js/modules/Import/Import.js","../../src/js/modules/Interaction/Interaction.js","../../src/js/modules/Keybindings/defaults/bindings.js","../../src/js/modules/Keybindings/defaults/actions.js","../../src/js/modules/Keybindings/Keybindings.js","../../src/js/modules/Menu/Menu.js","../../src/js/modules/MoveColumns/MoveColumns.js","../../src/js/modules/MoveRows/defaults/senders.js","../../src/js/modules/MoveRows/defaults/receivers.js","../../src/js/modules/MoveRows/MoveRows.js","../../src/js/modules/Mutator/defaults/mutators.js","../../src/js/modules/Mutator/Mutator.js","../../src/js/modules/Page/defaults/pageCounters/rows.js","../../src/js/modules/Page/defaults/pageCounters/pages.js","../../src/js/modules/Page/defaults/pageCounters.js","../../src/js/modules/Page/Page.js","../../src/js/modules/Persistence/defaults/readers.js","../../src/js/modules/Persistence/defaults/writers.js","../../src/js/modules/Persistence/Persistence.js","../../src/js/modules/Popup/Popup.js","../../src/js/modules/Print/Print.js","../../src/js/modules/ReactiveData/ReactiveData.js","../../src/js/modules/ResizeColumns/ResizeColumns.js","../../src/js/modules/ResizeRows/ResizeRows.js","../../src/js/modules/ResizeTable/ResizeTable.js","../../src/js/modules/ResponsiveLayout/extensions/formatters/responsiveCollapse.js","../../src/js/modules/ResponsiveLayout/extensions/extensions.js","../../src/js/modules/ResponsiveLayout/ResponsiveLayout.js","../../src/js/modules/SelectRow/extensions/formatters/rowSelection.js","../../src/js/modules/SelectRow/extensions/extensions.js","../../src/js/modules/SelectRow/SelectRow.js","../../src/js/modules/SelectRange/RangeComponent.js","../../src/js/modules/SelectRange/Range.js","../../src/js/modules/SelectRange/extensions/keybindings/bindings.js","../../src/js/modules/SelectRange/extensions/keybindings/actions.js","../../src/js/modules/SelectRange/extensions/clipboard/pasteActions.js","../../src/js/modules/SelectRange/extensions/clipboard/pasteParsers.js","../../src/js/modules/SelectRange/extensions/export/columnLookups.js","../../src/js/modules/SelectRange/extensions/export/rowLookups.js","../../src/js/modules/SelectRange/extensions/extensions.js","../../src/js/modules/SelectRange/SelectRange.js","../../src/js/modules/Sort/defaults/sorters/number.js","../../src/js/modules/Sort/defaults/sorters/string.js","../../src/js/modules/Sort/defaults/sorters/datetime.js","../../src/js/modules/Sort/defaults/sorters/date.js","../../src/js/modules/Sort/defaults/sorters/time.js","../../src/js/modules/Sort/defaults/sorters/boolean.js","../../src/js/modules/Sort/defaults/sorters/array.js","../../src/js/modules/Sort/defaults/sorters/exists.js","../../src/js/modules/Sort/defaults/sorters/alphanum.js","../../src/js/modules/Sort/defaults/sorters.js","../../src/js/modules/Sort/Sort.js","../../src/js/modules/Spreadsheet/GridCalculator.js","../../src/js/modules/Spreadsheet/SheetComponent.js","../../src/js/modules/Spreadsheet/Sheet.js","../../src/js/modules/Spreadsheet/Spreadsheet.js","../../src/js/modules/Tooltip/Tooltip.js","../../src/js/modules/Validate/defaults/validators.js","../../src/js/modules/Validate/Validate.js","../../src/js/core/defaults/options.js","../../src/js/core/tools/OptionsList.js","../../src/js/core/rendering/Renderer.js","../../src/js/core/rendering/renderers/BasicHorizontal.js","../../src/js/core/rendering/renderers/VirtualDomHorizontal.js","../../src/js/core/ColumnManager.js","../../src/js/core/rendering/renderers/BasicVertical.js","../../src/js/core/rendering/renderers/VirtualDomVertical.js","../../src/js/core/RowManager.js","../../src/js/core/FooterManager.js","../../src/js/core/tools/InteractionMonitor.js","../../src/js/core/tools/ComponentFunctionBinder.js","../../src/js/core/tools/DataLoader.js","../../src/js/core/tools/ExternalEventBus.js","../../src/js/core/tools/InternalEventBus.js","../../src/js/core/tools/DeprecationAdvisor.js","../../src/js/core/tools/DependencyRegistry.js","../../src/js/modules/Layout/defaults/modes/fitData.js","../../src/js/modules/Layout/defaults/modes/fitDataGeneral.js","../../src/js/modules/Layout/defaults/modes/fitDataStretch.js","../../src/js/modules/Layout/defaults/modes/fitColumns.js","../../src/js/modules/Layout/defaults/modes.js","../../src/js/modules/Layout/Layout.js","../../src/js/modules/Localize/defaults/langs.js","../../src/js/modules/Localize/Localize.js","../../src/js/modules/Comms/Comms.js","../../src/js/core/tools/TableRegistry.js","../../src/js/core/tools/ModuleBinder.js","../../src/js/core/tools/Alert.js","../../src/js/core/Tabulator.js","../../src/js/core/TabulatorFull.js","../../src/js/core/row/PseudoRow.js"],"sourcesContent":["export default class CoreFeature{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\t}\n\n\t//////////////////////////////////////////\n\t/////////////// DataLoad /////////////////\n\t//////////////////////////////////////////\n\n\treloadData(data, silent, columnsChanged){\n\t\treturn this.table.dataLoader.load(data, undefined, undefined, undefined, silent, columnsChanged);\n\t}\n\n\t//////////////////////////////////////////\n\t///////////// Localization ///////////////\n\t//////////////////////////////////////////\n\n\tlangText(){\n\t\treturn this.table.modules.localize.getText(...arguments);\n\t}\n\n\tlangBind(){\n\t\treturn this.table.modules.localize.bind(...arguments);\n\t}\n\n\tlangLocale(){\n\t\treturn this.table.modules.localize.getLocale(...arguments);\n\t}\n\n\n\t//////////////////////////////////////////\n\t////////// Inter Table Comms /////////////\n\t//////////////////////////////////////////\n\n\tcommsConnections(){\n\t\treturn this.table.modules.comms.getConnections(...arguments);\n\t}\n\n\tcommsSend(){\n\t\treturn this.table.modules.comms.send(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Layout  /////////////////\n\t//////////////////////////////////////////\n\n\tlayoutMode(){\n\t\treturn this.table.modules.layout.getMode();\n\t}\n\n\tlayoutRefresh(force){\n\t\treturn this.table.modules.layout.layout(force);\n\t}\n\n\n\t//////////////////////////////////////////\n\t/////////////// Event Bus ////////////////\n\t//////////////////////////////////////////\n\n\tsubscribe(){\n\t\treturn this.table.eventBus.subscribe(...arguments);\n\t}\n\n\tunsubscribe(){\n\t\treturn this.table.eventBus.unsubscribe(...arguments);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.table.eventBus.subscribed(key);\n\t}\n\n\tsubscriptionChange(){\n\t\treturn this.table.eventBus.subscriptionChange(...arguments);\n\t}\n\n\tdispatch(){\n\t\treturn this.table.eventBus.dispatch(...arguments);\n\t}\n\n\tchain(){\n\t\treturn this.table.eventBus.chain(...arguments);\n\t}\n\n\tconfirm(){\n\t\treturn this.table.eventBus.confirm(...arguments);\n\t}\n\n\tdispatchExternal(){\n\t\treturn this.table.externalEvents.dispatch(...arguments);\n\t}\n\n\tsubscribedExternal(key){\n\t\treturn this.table.externalEvents.subscribed(key);\n\t}\n\n\tsubscriptionChangeExternal(){\n\t\treturn this.table.externalEvents.subscriptionChange(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Options /////////////////\n\t//////////////////////////////////////////\n\n\toptions(key){\n\t\treturn this.table.options[key];\n\t}\n\n\tsetOption(key, value){\n\t\tif(typeof value !== \"undefined\"){\n\t\t\tthis.table.options[key] = value;\n\t\t}\n\n\t\treturn this.table.options[key];\n\t}\n\n\t//////////////////////////////////////////\n\t/////////// Deprecation Checks ///////////\n\t//////////////////////////////////////////\n\n\tdeprecationCheck(oldOption, newOption,  convert){\n\t\treturn this.table.deprecationAdvisor.check(oldOption, newOption,  convert);\n\t}\n\n\tdeprecationCheckMsg(oldOption, msg){\n\t\treturn this.table.deprecationAdvisor.checkMsg(oldOption, msg);\n\t}\n\n\tdeprecationMsg(msg){\n\t\treturn this.table.deprecationAdvisor.msg(msg);\n\t}\n\t//////////////////////////////////////////\n\t//////////////// Modules /////////////////\n\t//////////////////////////////////////////\n\n\tmodule(key){\n\t\treturn this.table.module(key);\n\t}\n}","export default class Helpers{\n\n\tstatic elVisible(el){\n\t\treturn !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\n\t}\n\n\tstatic elOffset(el){\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t}\n\n\tstatic retrieveNestedData(separator, field, data){\n\t\tvar structure = separator ? field.split(separator) : [field],\n\t\tlength = structure.length,\n\t\toutput;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tdata = data[structure[i]];\n\n\t\t\toutput = data;\n\n\t\t\tif(!data){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tstatic deepClone(obj, clone, list = []){\n\t\tvar objectProto = {}.__proto__,\n\t\tarrayProto = [].__proto__;\n\n\t\tif (!clone){\n\t\t\tclone = Object.assign(Array.isArray(obj) ? [] : {}, obj);\n\t\t}\n\n\t\tfor(var i in obj) {\n\t\t\tlet subject = obj[i],\n\t\t\tmatch, copy;\n\n\t\t\tif(subject != null && typeof subject === \"object\" && (subject.__proto__ === objectProto || subject.__proto__ === arrayProto)){\n\t\t\t\tmatch = list.findIndex((item) => {\n\t\t\t\t\treturn item.subject === subject;\n\t\t\t\t});\n\n\t\t\t\tif(match > -1){\n\t\t\t\t\tclone[i] = list[match].copy;\n\t\t\t\t}else{\n\t\t\t\t\tcopy = Object.assign(Array.isArray(subject) ? [] : {}, subject);\n\n\t\t\t\t\tlist.unshift({subject, copy});\n\n\t\t\t\t\tclone[i] = this.deepClone(subject, copy, list);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn clone;\n\t}\n}\n","import CoreFeature from '../CoreFeature.js';\nimport Helpers from './Helpers.js';\n\nexport default class Popup extends CoreFeature{\n\tconstructor(table, element, parent){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = element;\n\t\tthis.container = this._lookupContainer();\n\t\t\n\t\tthis.parent = parent;\n\t\t\n\t\tthis.reversedX = false;\n\t\tthis.childPopup = null;\n\t\tthis.blurable = false;\n\t\tthis.blurCallback = null;\n\t\tthis.blurEventsBound = false;\n\t\tthis.renderedCallback = null;\n\t\t\n\t\tthis.visible = false;\n\t\tthis.hideable = true;\n\t\t\n\t\tthis.element.classList.add(\"tabulator-popup-container\");\n\t\t\n\t\tthis.blurEvent = this.hide.bind(this, false);\n\t\tthis.escEvent = this._escapeCheck.bind(this);\n\t\t\n\t\tthis.destroyBinding = this.tableDestroyed.bind(this);\n\t\tthis.destroyed = false;\n\t}\n\t\n\ttableDestroyed(){\n\t\tthis.destroyed = true;\n\t\tthis.hide(true);\n\t}\n\t\n\t_lookupContainer(){\n\t\tvar container = this.table.options.popupContainer;\n\t\t\n\t\tif(typeof container === \"string\"){\n\t\t\tcontainer = document.querySelector(container);\n\t\t\t\n\t\t\tif(!container){\n\t\t\t\tconsole.warn(\"Menu Error - no container element found matching selector:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t\t}\n\t\t}else if (container === true){\n\t\t\tcontainer = this.table.element;\n\t\t}\n\t\t\n\t\tif(container && !this._checkContainerIsParent(container)){\n\t\t\tcontainer = false;\n\t\t\tconsole.warn(\"Menu Error - container element does not contain this table:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t}\n\t\t\n\t\tif(!container){\n\t\t\tcontainer = document.body;\n\t\t}\n\t\t\n\t\treturn container;\n\t}\n\t\n\t_checkContainerIsParent(container, element = this.table.element){\n\t\tif(container === element){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn element.parentNode ? this._checkContainerIsParent(container, element.parentNode) : false;\n\t\t}\n\t}\n\t\n\trenderCallback(callback){\n\t\tthis.renderedCallback = callback;\n\t}\n\t\n\tcontainerEventCoords(e){\n\t\tvar touch = !(e instanceof MouseEvent);\n\t\t\n\t\tvar x = touch ? e.touches[0].pageX : e.pageX;\n\t\tvar y = touch ? e.touches[0].pageY : e.pageY;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tlet parentOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\tx -= parentOffset.left;\n\t\t\ty -= parentOffset.top;\n\t\t}\n\t\t\n\t\treturn {x, y};\n\t}\n\t\n\telementPositionCoords(element, position = \"right\"){\n\t\tvar offset = Helpers.elOffset(element),\n\t\tcontainerOffset, x, y;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tcontainerOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\toffset.left -= containerOffset.left;\n\t\t\toffset.top -= containerOffset.top;\n\t\t}\n\t\t\n\t\tswitch(position){\n\t\t\tcase \"right\":\n\t\t\t\tx = offset.left + element.offsetWidth;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"bottom\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top + element.offsetHeight;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"left\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"top\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"center\":\n\t\t\t\tx = offset.left + (element.offsetWidth / 2);\n\t\t\t\ty = offset.top + (element.offsetHeight / 2);\n\t\t\t\tbreak;\n\t\t\t\n\t\t}\n\t\t\n\t\treturn {x, y, offset};\n\t}\n\t\n\tshow(origin, position){\n\t\tvar x, y, parentEl, parentOffset, coords;\n\t\t\n\t\tif(this.destroyed || this.table.destroyed){\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tif(origin instanceof HTMLElement){\n\t\t\tparentEl = origin;\n\t\t\tcoords = this.elementPositionCoords(origin, position);\n\t\t\t\n\t\t\tparentOffset = coords.offset;\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t}else if(typeof origin === \"number\"){\n\t\t\tparentOffset = {top:0, left:0};\n\t\t\tx = origin;\n\t\t\ty = position;\n\t\t}else{\n\t\t\tcoords = this.containerEventCoords(origin);\n\t\t\t\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t\tthis.reversedX = false;\n\t\t}\n\t\t\n\t\tthis.element.style.top = y + \"px\";\n\t\tthis.element.style.left = x + \"px\";\n\t\t\n\t\tthis.container.appendChild(this.element);\n\t\t\n\t\tif(typeof this.renderedCallback === \"function\"){\n\t\t\tthis.renderedCallback();\n\t\t}\n\t\t\n\t\tthis._fitToScreen(x, y, parentEl, parentOffset, position);\n\t\t\n\t\tthis.visible = true;\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.destroyBinding);\n\t\t\n\t\tthis.element.addEventListener(\"mousedown\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_fitToScreen(x, y, parentEl, parentOffset, position){\n\t\tvar scrollTop = this.container === document.body ? document.documentElement.scrollTop : this.container.scrollTop;\n\t\t\n\t\t//move menu to start on right edge if it is too close to the edge of the screen\n\t\tif((x + this.element.offsetWidth) >= this.container.offsetWidth || this.reversedX){\n\t\t\tthis.element.style.left = \"\";\n\t\t\t\n\t\t\tif(parentEl){\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - parentOffset.left) + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - x) + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.reversedX = true;\n\t\t}\n\t\t\n\t\t//move menu to start on bottom edge if it is too close to the edge of the screen\n\t\tlet offsetHeight = Math.max(this.container.offsetHeight, scrollTop ? this.container.scrollHeight : 0);\n\t\tif((y + this.element.offsetHeight) > offsetHeight) {\n\t\t\tif(parentEl){\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight - parentEl.offsetHeight - 1) + \"px\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight + parentEl.offsetHeight + 1) + \"px\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.element.style.height = offsetHeight + \"px\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisVisible(){\n\t\treturn this.visible;\n\t}\n\t\n\thideOnBlur(callback){\n\t\tthis.blurable = true;\n\t\t\n\t\tif(this.visible){\n\t\t\tsetTimeout(() => {\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.table.rowManager.element.addEventListener(\"scroll\", this.blurEvent);\n\t\t\t\t\tthis.subscribe(\"cell-editing\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"click\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\t\twindow.addEventListener(\"resize\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"keydown\", this.escEvent);\n\n\t\t\t\t\tthis.blurEventsBound = true;\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t\t\n\t\t\tthis.blurCallback = callback;\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_escapeCheck(e){\n\t\tif(e.keyCode == 27){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\t\n\tblockHide(){\n\t\tthis.hideable = false;\n\t}\n\t\n\trestoreHide(){\n\t\tthis.hideable = true;\n\t}\n\t\n\thide(silent = false){\n\t\tif(this.visible && this.hideable){\n\t\t\tif(this.blurable && this.blurEventsBound){\n\t\t\t\tdocument.body.removeEventListener(\"keydown\", this.escEvent);\n\t\t\t\tdocument.body.removeEventListener(\"click\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\twindow.removeEventListener(\"resize\", this.blurEvent);\n\t\t\t\tthis.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent);\n\t\t\t\tthis.unsubscribe(\"cell-editing\", this.blurEvent);\n\n\t\t\t\tthis.blurEventsBound = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.childPopup){\n\t\t\t\tthis.childPopup.hide();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.childPopup = null;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.visible = false;\n\t\t\t\n\t\t\tif(this.blurCallback && !silent){\n\t\t\t\tthis.blurCallback();\n\t\t\t}\n\t\t\t\n\t\t\tthis.unsubscribe(\"table-destroy\", this.destroyBinding);\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\tchild(element){\n\t\tif(this.childPopup){\n\t\t\tthis.childPopup.hide();\n\t\t}\n\t\t\n\t\tthis.childPopup = new Popup(this.table, element, this);\n\t\t\n\t\treturn this.childPopup;\n\t}\n}\n","import CoreFeature from './CoreFeature.js';\nimport Popup from './tools/Popup.js';\n\nexport default class Module extends CoreFeature{\n\t\n\tconstructor(table, name){\n\t\tsuper(table);\n\t\t\n\t\tthis._handler = null;\n\t}\n\t\n\tinitialize(){\n\t\t// setup module when table is initialized, to be overridden in module\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Options Registration ///////\n\t///////////////////////////////////\n\t\n\tregisterTableOption(key, value){\n\t\tthis.table.optionsList.register(key, value);\n\t}\n\t\n\tregisterColumnOption(key, value){\n\t\tthis.table.columnManager.optionsList.register(key, value);\n\t}\n\t\n\t///////////////////////////////////\n\t/// Public Function Registration ///\n\t///////////////////////////////////\n\t\n\tregisterTableFunction(name, func){\n\t\tif(typeof this.table[name] === \"undefined\"){\n\t\t\tthis.table[name] = (...args) => {\n\t\t\t\tthis.table.initGuard(name);\n\t\t\t\t\n\t\t\t\treturn func(...args);\n\t\t\t};\n\t\t}else{\n\t\t\tconsole.warn(\"Unable to bind table function, name already in use\", name);\n\t\t}\n\t}\n\t\n\tregisterComponentFunction(component, func, handler){\n\t\treturn this.table.componentFunctionBinder.bind(component, func, handler);\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Data Pipeline //////////\n\t///////////////////////////////////\n\t\n\tregisterDataHandler(handler, priority){\n\t\tthis.table.rowManager.registerDataPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tregisterDisplayHandler(handler, priority){\n\t\tthis.table.rowManager.registerDisplayPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tdisplayRows(adjust){\n\t\tvar index = this.table.rowManager.displayRows.length - 1, \n\t\tlookupIndex;\n\t\t\n\t\tif(this._handler){\n\t\t\tlookupIndex = this.table.rowManager.displayPipeline.findIndex((item) => {\n\t\t\t\treturn item.handler === this._handler;\n\t\t\t});\n\n\t\t\tif(lookupIndex > -1){\n\t\t\t\tindex = lookupIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(adjust){\n\t\t\tindex = index + adjust;\n\t\t}\n\n\t\tif(this._handler){\n\t\t\tif(index > -1){\n\t\t\t\treturn this.table.rowManager.getDisplayRows(index);\n\t\t\t}else{\n\t\t\t\treturn this.activeRows();\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\tactiveRows(){\n\t\treturn this.table.rowManager.activeRows;\n\t}\n\t\n\trefreshData(renderInPosition, handler){\n\t\tif(!handler){\n\t\t\thandler = this._handler;\n\t\t}\n\t\t\n\t\tif(handler){\n\t\t\tthis.table.rowManager.refreshActiveData(handler, false, renderInPosition);\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Footer Management ////////\n\t///////////////////////////////////\n\t\n\tfooterAppend(element){\n\t\treturn this.table.footerManager.append(element);\n\t}\n\t\n\tfooterPrepend(element){\n\t\treturn this.table.footerManager.prepend(element);\n\t}\n\t\n\tfooterRemove(element){\n\t\treturn this.table.footerManager.remove(element);\n\t} \n\t\n\t///////////////////////////////////\n\t//////// Popups Management ////////\n\t///////////////////////////////////\n\t\n\tpopup(menuEl, menuContainer){\n\t\treturn new Popup(this.table, menuEl, menuContainer);\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Alert Management ////////\n\t///////////////////////////////////\n\t\n\talert(content, type){\n\t\treturn this.table.alertManager.alert(content, type);\n\t}\n\t\n\tclearAlert(){\n\t\treturn this.table.alertManager.clear();\n\t}\n\t\n}","export default {\r\n\trownum:function(value, data, type, params, column, row){\r\n\t\treturn row.getPosition();\r\n\t}\r\n};","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultAccessors from './defaults/accessors.js';\n\nexport default class Accessor extends Module{\n\t\n\tstatic moduleName = \"accessor\";\n\n\t//load defaults\n\tstatic accessors = defaultAccessors;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"]; //list of accessor types\n\n\t\tthis.registerColumnOption(\"accessor\");\n\t\tthis.registerColumnOption(\"accessorParams\");\n\t\tthis.registerColumnOption(\"accessorData\");\n\t\tthis.registerColumnOption(\"accessorDataParams\");\n\t\tthis.registerColumnOption(\"accessorDownload\");\n\t\tthis.registerColumnOption(\"accessorDownloadParams\");\n\t\tthis.registerColumnOption(\"accessorClipboard\");\n\t\tthis.registerColumnOption(\"accessorClipboardParams\");\n\t\tthis.registerColumnOption(\"accessorPrint\");\n\t\tthis.registerColumnOption(\"accessorPrintParams\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutput\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutputParams\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-retrieve\", this.transformRow.bind(this));\n\t}\n\n\t//initialize column accessor\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\taccessor;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\taccessor = this.lookupAccessor(column.definition[key]);\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\taccessor:accessor,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.accessor = config;\n\t\t}\n\t}\n\n\tlookupAccessor(value){\n\t\tvar accessor = false;\n\n\t\t//set column accessor\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Accessor.accessors[value]){\n\t\t\t\t\taccessor = Accessor.accessors[value];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Accessor Error - No such accessor found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\taccessor = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn accessor;\n\t}\n\n\t//apply accessor to row\n\ttransformRow(row, type){\n\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\trowComponent = row.getComponent();\n\n\t\t//clone data object with deep copy to isolate internal data from returned result\n\t\tvar data = Helpers.deepClone(row.data || {});\n\n\t\tthis.table.columnManager.traverse(function(column){\n\t\t\tvar value, accessor, params, colComponent;\n\n\t\t\tif(column.modules.accessor){\n\n\t\t\t\taccessor = column.modules.accessor[key] || column.modules.accessor.accessor || false;\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tvalue = column.getFieldValue(data);\n\n\t\t\t\t\tif(value != \"undefined\"){\n\t\t\t\t\t\tcolComponent = column.getComponent();\n\t\t\t\t\t\tparams = typeof accessor.params === \"function\" ? accessor.params(value, data, type, colComponent, rowComponent) : accessor.params;\n\t\t\t\t\t\tcolumn.setFieldValue(data, accessor.accessor(value, data, type, params, colComponent, rowComponent));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn data;\n\t}\n}","export default {\n\tmethod: \"GET\",\n};","function generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else{\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nfunction serializeParams(params){\n\tvar output = generateParamsList(params),\n\tencoded = [];\n\n\toutput.forEach(function(item){\n\t\tencoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\n\t});\n\n\treturn encoded.join(\"&\");\n}\n\nexport default function(url, config, params){\n\tif(url){\n\t\tif(params && Object.keys(params).length){\n\t\t\tif(!config.method || config.method.toLowerCase() == \"get\"){\n\t\t\t\tconfig.method = \"get\";\n\n\t\t\t\turl += (url.includes(\"?\") ? \"&\" : \"?\") + serializeParams(params);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn url;\n}","export default function(url, config, params){\n\tvar contentType;\n\n\treturn new Promise((resolve, reject) => {\n\t\t//set url\n\t\turl = this.urlGenerator.call(this.table, url, config, params);\n\n\t\t//set body content if not GET request\n\t\tif(config.method.toUpperCase() != \"GET\"){\n\t\t\tcontentType = typeof this.table.options.ajaxContentType === \"object\" ?  this.table.options.ajaxContentType : this.contentTypeFormatters[this.table.options.ajaxContentType];\n\t\t\tif(contentType){\n\n\t\t\t\tfor(var key in contentType.headers){\n\t\t\t\t\tif(!config.headers){\n\t\t\t\t\t\tconfig.headers = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof config.headers[key] === \"undefined\"){\n\t\t\t\t\t\tconfig.headers[key] = contentType.headers[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconfig.body = contentType.body.call(this, url, config, params);\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Ajax Error - Invalid ajaxContentType value:\", this.table.options.ajaxContentType);\n\t\t\t}\n\t\t}\n\n\t\tif(url){\n\t\t\t//configure headers\n\t\t\tif(typeof config.headers === \"undefined\"){\n\t\t\t\tconfig.headers = {};\n\t\t\t}\n\n\t\t\tif(typeof config.headers.Accept === \"undefined\"){\n\t\t\t\tconfig.headers.Accept = \"application/json\";\n\t\t\t}\n\n\t\t\tif(typeof config.headers[\"X-Requested-With\"] === \"undefined\"){\n\t\t\t\tconfig.headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t}\n\n\t\t\tif(typeof config.mode === \"undefined\"){\n\t\t\t\tconfig.mode = \"cors\";\n\t\t\t}\n\n\t\t\tif(config.mode == \"cors\"){\n\t\t\t\tif(typeof config.headers[\"Origin\"] === \"undefined\"){\n\t\t\t\t\tconfig.headers[\"Origin\"] = window.location.origin;\n\t\t\t\t}\n        \n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'same-origin';\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'include';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//send request\n\t\t\tfetch(url, config)\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.ok) {\n\t\t\t\t\t\tresponse.json()\n\t\t\t\t\t\t\t.then((data)=>{\n\t\t\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t\t\t}).catch((error)=>{\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t\tconsole.warn(\"Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\t\treject(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \", error);\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"Ajax Load Error - No URL Set\");\n\t\t\tresolve([]);\n\t\t}\n\t});\n}","function generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else{\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nexport default {\n\t\"json\":{\n\t\theaders:{\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody:function(url, config, params){\n\t\t\treturn JSON.stringify(params);\n\t\t},\n\t},\n\t\"form\":{\n\t\theaders:{\n\t\t},\n\t\tbody:function(url, config, params){\n\n\t\t\tvar output = generateParamsList(params),\n\t\t\tform = new FormData();\n\n\t\t\toutput.forEach(function(item){\n\t\t\t\tform.append(item.key, item.value);\n\t\t\t});\n\n\t\t\treturn form;\n\t\t},\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultConfig from './defaults/config.js';\nimport defaultURLGenerator from './defaults/urlGenerator.js';\nimport defaultLoaderPromise from './defaults/loaderPromise.js';\nimport defaultContentTypeFormatters from './defaults/contentTypeFormatters.js';\n\nexport default class Ajax extends Module{\n\n\tstatic moduleName = \"ajax\";\n\n\t//load defaults\n\tstatic defaultConfig = defaultConfig;\n\tstatic defaultURLGenerator = defaultURLGenerator;\n\tstatic defaultLoaderPromise = defaultLoaderPromise;\n\tstatic contentTypeFormatters = defaultContentTypeFormatters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {}; //hold config object for ajax request\n\t\tthis.url = \"\"; //request URL\n\t\tthis.urlGenerator = false;\n\t\tthis.params = false; //request parameters\n\t\t\n\t\tthis.loaderPromise = false;\n\t\t\n\t\tthis.registerTableOption(\"ajaxURL\", false); //url for ajax loading\n\t\tthis.registerTableOption(\"ajaxURLGenerator\", false);\n\t\tthis.registerTableOption(\"ajaxParams\", {});  //params for ajax loading\n\t\tthis.registerTableOption(\"ajaxConfig\", \"get\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxContentType\", \"form\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxRequestFunc\", false); //promise function\n\t\t\n\t\tthis.registerTableOption(\"ajaxRequesting\", function(){});\n\t\tthis.registerTableOption(\"ajaxResponse\", false);\n\t\t\n\t\tthis.contentTypeFormatters = Ajax.contentTypeFormatters;\n\t}\n\t\n\t//initialize setup options\n\tinitialize(){\n\t\tthis.loaderPromise = this.table.options.ajaxRequestFunc || Ajax.defaultLoaderPromise;\n\t\tthis.urlGenerator = this.table.options.ajaxURLGenerator || Ajax.defaultURLGenerator;\n\t\t\n\t\tif(this.table.options.ajaxURL){\n\t\t\tthis.setUrl(this.table.options.ajaxURL);\n\t\t}\n\n\n\t\tthis.setDefaultConfig(this.table.options.ajaxConfig);\n\t\t\n\t\tthis.registerTableFunction(\"getAjaxUrl\", this.getUrl.bind(this));\n\t\t\n\t\tthis.subscribe(\"data-loading\", this.requestDataCheck.bind(this));\n\t\tthis.subscribe(\"data-params\", this.requestParams.bind(this));\n\t\tthis.subscribe(\"data-load\", this.requestData.bind(this));\n\t}\n\t\n\trequestParams(data, config, silent, params){\n\t\tvar ajaxParams = this.table.options.ajaxParams;\n\t\t\n\t\tif(ajaxParams){\n\t\t\tif(typeof ajaxParams === \"function\"){\n\t\t\t\tajaxParams = ajaxParams.call(this.table);\n\t\t\t}\n\t\t\t\n\t\t\tparams = Object.assign(Object.assign({}, ajaxParams), params);\n\t\t}\t\t\n\t\t\n\t\treturn params;\n\t}\n\t\n\trequestDataCheck(data, params, config, silent){\n\t\treturn !!((!data && this.url) || typeof data === \"string\");\n\t}\n\t\n\trequestData(url, params, config, silent, previousData){\n\t\tvar ajaxConfig;\n\t\t\n\t\tif(!previousData && this.requestDataCheck(url)){\n\t\t\tif(url){\n\t\t\t\tthis.setUrl(url);\n\t\t\t}\n\t\t\t\n\t\t\tajaxConfig = this.generateConfig(config);\n\t\t\t\n\t\t\treturn this.sendRequest(this.url, params, ajaxConfig);\n\t\t}else{\n\t\t\treturn previousData;\n\t\t}\n\t}\n\t\n\tsetDefaultConfig(config = {}){\n\t\tthis.config = Object.assign({}, Ajax.defaultConfig);\n\n\t\tif(typeof config == \"string\"){\n\t\t\tthis.config.method = config;\n\t\t}else{\n\t\t\tObject.assign(this.config, config);\n\t\t}\n\t}\n\t\n\t//load config object\n\tgenerateConfig(config = {}){\n\t\tvar ajaxConfig = Object.assign({}, this.config);\n\t\t\n\t\tif(typeof config == \"string\"){\n\t\t\tajaxConfig.method = config;\n\t\t}else{\n\t\t\tObject.assign(ajaxConfig, config);\n\t\t}\n\t\t\n\t\treturn ajaxConfig;\n\t}\n\t\n\t//set request url\n\tsetUrl(url){\n\t\tthis.url = url;\n\t}\n\t\n\t//get request url\n\tgetUrl(){\n\t\treturn this.url;\n\t}\n\t\n\t//send ajax request\n\tsendRequest(url, params, config){\n\t\tif(this.table.options.ajaxRequesting.call(this.table, url, params) !== false){\n\t\t\treturn this.loaderPromise(url, config, params)\n\t\t\t\t.then((data)=>{\n\t\t\t\t\tif(this.table.options.ajaxResponse){\n\t\t\t\t\t\tdata = this.table.options.ajaxResponse.call(this.table, url, params, data);\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}else{\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n}","export default {\n\treplace:function(data){\n\t\treturn this.table.setData(data);\n\t},\n\tupdate:function(data){\n\t\treturn this.table.updateOrAddData(data);\n\t},\n\tinsert:function(data){\n\t\treturn this.table.addData(data);\n\t},\n};","export default {\n\ttable:function(clipboard){\n\t\tvar data = [],\n\t\theaderFindSuccess = true,\n\t\tcolumns = this.table.columnManager.columns,\n\t\tcolumnMap = [],\n\t\trows = [];\n\t\t\n\t\t//get data from clipboard into array of columns and rows.\n\t\tclipboard = clipboard.split(\"\\n\");\n\t\t\n\t\tclipboard.forEach(function(row){\n\t\t\tdata.push(row.split(\"\\t\"));\n\t\t});\n\t\t\n\t\tif(data.length && !(data.length === 1 && data[0].length < 2)){\n\t\t\t\n\t\t\t//check if headers are present by title\n\t\t\tdata[0].forEach(function(value){\n\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\treturn value && column.definition.title && value.trim() && column.definition.title.trim() === value.trim();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(column){\n\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t}else{\n\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t//check if column headers are present by field\n\t\t\tif(!headerFindSuccess){\n\t\t\t\theaderFindSuccess = true;\n\t\t\t\tcolumnMap = [];\n\t\t\t\t\n\t\t\t\tdata[0].forEach(function(value){\n\t\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\t\treturn value && column.field && value.trim() && column.field.trim() === value.trim();\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t\t}else{\n\t\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(!headerFindSuccess){\n\t\t\t\t\tcolumnMap = this.table.columnManager.columnsByIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//remove header row if found\n\t\t\tif(headerFindSuccess){\n\t\t\t\tdata.shift();\n\t\t\t}\n\t\t\t\n\t\t\tdata.forEach(function(item){\n\t\t\t\tvar row = {};\n\t\t\t\t\n\t\t\t\titem.forEach(function(value, i){\n\t\t\t\t\tif(columnMap[i]){\n\t\t\t\t\t\trow[columnMap[i].field] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\trows.push(row);\n\t\t\t});\n\t\t\t\n\t\t\treturn rows;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t},\n};","export default {\r\n\tcopyToClipboard:[\"ctrl + 67\", \"meta + 67\"],\r\n};\r\n","export default {\r\n\tcopyToClipboard:function(e){\r\n\t\tif(!this.table.modules.edit.currentCell){\r\n\t\t\tif(this.table.modExists(\"clipboard\", true)){\r\n\t\t\t\tthis.table.modules.clipboard.copy(false, true);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n};\r\n","import bindings from './keybindings/bindings.js';\r\nimport actions from './keybindings/actions.js';\r\n\r\nexport default {\r\n\tkeybindings:{\r\n\t\tbindings:bindings,\r\n\t\tactions:actions\r\n\t},\r\n};","import Module from '../../core/Module.js';\n\nimport defaultPasteActions from './defaults/pasteActions.js';\nimport defaultPasteParsers from './defaults/pasteParsers.js';\nimport extensions from './extensions/extensions.js';\n\nexport default class Clipboard extends Module{\n\n\tstatic moduleName = \"clipboard\";\n\tstatic moduleExtensions = extensions;\n\n\t//load defaults\n\tstatic pasteActions = defaultPasteActions;\n\tstatic pasteParsers = defaultPasteParsers;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = true;\n\t\tthis.pasteParser = function(){};\n\t\tthis.pasteAction = function(){};\n\t\tthis.customSelection = false;\n\t\tthis.rowRange = false;\n\t\tthis.blocked = true; //block copy actions not originating from this command\n\n\t\tthis.registerTableOption(\"clipboard\", false); //enable clipboard\n\t\tthis.registerTableOption(\"clipboardCopyStyled\", true); //formatted table data\n\t\tthis.registerTableOption(\"clipboardCopyConfig\", false); //clipboard config\n\t\tthis.registerTableOption(\"clipboardCopyFormatter\", false); //DEPRECATED - REMOVE in 5.0\n\t\tthis.registerTableOption(\"clipboardCopyRowRange\", \"active\"); //restrict clipboard to visible rows only\n\t\tthis.registerTableOption(\"clipboardPasteParser\", \"table\"); //convert pasted clipboard data to rows\n\t\tthis.registerTableOption(\"clipboardPasteAction\", \"insert\"); //how to insert pasted data into the table\n\n\t\tthis.registerColumnOption(\"clipboard\");\n\t\tthis.registerColumnOption(\"titleClipboard\");\n\t}\n\n\tinitialize(){\n\t\tthis.mode = this.table.options.clipboard;\n\n\t\tthis.rowRange = this.table.options.clipboardCopyRowRange;\n\n\t\tif(this.mode === true || this.mode === \"copy\"){\n\t\t\tthis.table.element.addEventListener(\"copy\", (e) => {\n\t\t\t\tvar plain, html, list;\n\n\t\t\t\tif(!this.blocked){\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif(this.customSelection){\n\t\t\t\t\t\tplain = this.customSelection;\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tlist = this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig, this.table.options.clipboardCopyStyled, this.rowRange, \"clipboard\");\n\n\t\t\t\t\t\thtml = this.table.modules.export.generateHTMLTable(list);\n\t\t\t\t\t\tplain = html ? this.generatePlainContent(list) : \"\";\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t\thtml = this.table.options.clipboardCopyFormatter(\"html\", html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (window.clipboardData && window.clipboardData.setData) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', plain);\n\t\t\t\t\t} else if (e.clipboardData && e.clipboardData.setData) {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.setData) {\n\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchExternal(\"clipboardCopied\", plain, html);\n\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(this.mode === true || this.mode === \"paste\"){\n\t\t\tthis.table.element.addEventListener(\"paste\", (e) => {\n\t\t\t\tthis.paste(e);\n\t\t\t});\n\t\t}\n\n\t\tthis.setPasteParser(this.table.options.clipboardPasteParser);\n\t\tthis.setPasteAction(this.table.options.clipboardPasteAction);\n\n\t\tthis.registerTableFunction(\"copyToClipboard\", this.copy.bind(this));\n\t}\n\n\treset(){\n\t\tthis.blocked = true;\n\t\tthis.customSelection = false;\n\t}\n\n\tgeneratePlainContent (list) {\n\t\tvar output = [];\n\n\t\tlist.forEach((row) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach((col) => {\n\t\t\t\tvar value = \"\";\n\n\t\t\t\tif(col){\n\n\t\t\t\t\tif(row.type === \"group\"){\n\t\t\t\t\t\tcol.value = col.component.getKey();\n\t\t\t\t\t}\n\n\t\t\t\t\tif(col.value === null){\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tvalue = JSON.stringify(col.value);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tvalue = col.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trowData.push(value);\n\t\t\t});\n\n\t\t\toutput.push(rowData.join(\"\\t\"));\n\t\t});\n\n\t\treturn output.join(\"\\n\");\n\t}\n\n\tcopy (range, internal) {\n\t\tvar sel, textRange;\n\t\tthis.blocked = false;\n\t\tthis.customSelection = false;\n\t\n\n\t\tif (this.mode === true || this.mode === \"copy\") {\n\n\t\t\tthis.rowRange = range || this.table.options.clipboardCopyRowRange;\n\n\t\t\tif (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNodeContents(this.table.element);\n\t\t\t\tsel = window.getSelection();\n\n\t\t\t\tif (sel.toString() && internal) {\n\t\t\t\t\tthis.customSelection = sel.toString();\n\t\t\t\t}\n\n\t\t\t\tsel.removeAllRanges();\n\t\t\t\tsel.addRange(range);\n\t\t\t} else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n\t\t\t\ttextRange = document.body.createTextRange();\n\t\t\t\ttextRange.moveToElementText(this.table.element);\n\t\t\t\ttextRange.select();\n\t\t\t}\n\n\t\t\tdocument.execCommand('copy');\n\n\t\t\tif (sel) {\n\t\t\t\tsel.removeAllRanges();\n\t\t\t}\n\t\t}\n\t}\n\n\t//PASTE EVENT HANDLING\n\tsetPasteAction(action){\n\n\t\tswitch(typeof action){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteAction = Clipboard.pasteActions[action];\n\n\t\t\t\tif(!this.pasteAction){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste action found:\", action);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteAction = action;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetPasteParser(parser){\n\t\tswitch(typeof parser){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteParser = Clipboard.pasteParsers[parser];\n\n\t\t\t\tif(!this.pasteParser){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste parser found:\", parser);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteParser = parser;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpaste(e){\n\t\tvar data, rowData, rows;\n\n\t\tif(this.checkPasteOrigin(e)){\n\n\t\t\tdata = this.getPasteData(e);\n\n\t\t\trowData = this.pasteParser.call(this, data);\n\n\t\t\tif(rowData){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif(this.table.modExists(\"mutator\")){\n\t\t\t\t\trowData = this.mutateData(rowData);\n\t\t\t\t}\n\n\t\t\t\trows = this.pasteAction.call(this, rowData);\n\n\t\t\t\tthis.dispatchExternal(\"clipboardPasted\", data, rowData, rows);\n\t\t\t}else{\n\t\t\t\tthis.dispatchExternal(\"clipboardPasteError\", data);\n\t\t\t}\n\t\t}\n\t}\n\n\tmutateData(data){\n\t\tvar output = [];\n\n\t\tif(Array.isArray(data)){\n\t\t\tdata.forEach((row) => {\n\t\t\t\toutput.push(this.table.modules.mutator.transformRow(row, \"clipboard\"));\n\t\t\t});\n\t\t}else{\n\t\t\toutput = data;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\n\tcheckPasteOrigin(e){\n\t\tvar valid = true;\n\t\tvar blocked = this.confirm(\"clipboard-paste\", [e]);\n\n\t\tif(blocked || ![\"DIV\", \"SPAN\"].includes(e.target.tagName)){\n\t\t\tvalid = false;\n\t\t}\n\n\t\treturn valid;\n\t}\n\n\tgetPasteData(e){\n\t\tvar data;\n\n\t\tif (window.clipboardData && window.clipboardData.getData) {\n\t\t\tdata = window.clipboardData.getData('Text');\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\t\tdata = e.clipboardData.getData('text/plain');\n\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.getData) {\n\t\t\tdata = e.originalEvent.clipboardData.getData('text/plain');\n\t\t}\n\n\t\treturn data;\n\t}\n}","export default class CalcComponent{\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n}","//public cell object\nexport default class CellComponent {\n\n\tconstructor (cell){\n\t\tthis._cell = cell;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._cell.table.componentFunctionBinder.handle(\"cell\", target._cell, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetValue(){\n\t\treturn this._cell.getValue();\n\t}\n\n\tgetOldValue(){\n\t\treturn this._cell.getOldValue();\n\t}\n\n\tgetInitialValue(){\n\t\treturn this._cell.initialValue;\n\t}\n\n\tgetElement(){\n\t\treturn this._cell.getElement();\n\t}\n\n\tgetRow(){\n\t\treturn this._cell.row.getComponent();\n\t}\n\n\tgetData(transform){\n\t\treturn this._cell.row.getData(transform);\n\t}\n\tgetType(){\n\t\treturn \"cell\";\n\t}\n\tgetField(){\n\t\treturn this._cell.column.getField();\n\t}\n\n\tgetColumn(){\n\t\treturn this._cell.column.getComponent();\n\t}\n\n\tsetValue(value, mutate){\n\t\tif(typeof mutate == \"undefined\"){\n\t\t\tmutate = true;\n\t\t}\n\n\t\tthis._cell.setValue(value, mutate);\n\t}\n\n\trestoreOldValue(){\n\t\tthis._cell.setValueActual(this._cell.getOldValue());\n\t}\n\n\trestoreInitialValue(){\n\t\tthis._cell.setValueActual(this._cell.initialValue);\n\t}\n\n\tcheckHeight(){\n\t\tthis._cell.checkHeight();\n\t}\n\n\tgetTable(){\n\t\treturn this._cell.table;\n\t}\n\n\t_getSelf(){\n\t\treturn this._cell;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport CellComponent from './CellComponent.js';\n\nexport default class Cell extends CoreFeature{\n\tconstructor(column, row){\n\t\tsuper(column.table);\n\n\t\tthis.table = column.table;\n\t\tthis.column = column;\n\t\tthis.row = row;\n\t\tthis.element = null;\n\t\tthis.value = null;\n\t\tthis.initialValue;\n\t\tthis.oldValue = null;\n\t\tthis.modules = {};\n\n\t\tthis.height = null;\n\t\tthis.width = null;\n\t\tthis.minWidth = null;\n\n\t\tthis.component = null;\n\n\t\tthis.loaded = false; //track if the cell has been added to the DOM yet\n\n\t\tthis.build();\n\t}\n\n\t//////////////// Setup Functions /////////////////\n\t//generate element\n\tbuild(){\n\t\tthis.generateElement();\n\n\t\tthis.setWidth();\n\n\t\tthis._configureCell();\n\n\t\tthis.setValueActual(this.column.getFieldValue(this.row.data));\n\n\t\tthis.initialValue = this.value;\n\t}\n\n\tgenerateElement(){\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.className = \"tabulator-cell\";\n\t\tthis.element.setAttribute(\"role\", \"gridcell\");\n\n\t\tif(this.column.isRowHeader){\n\t\t\tthis.element.classList.add(\"tabulator-row-header\");\n\t\t}\n\t}\n\n\t_configureCell(){\n\t\tvar element = this.element,\n\t\tfield = this.column.getField(),\n\t\tvertAligns = {\n\t\t\ttop:\"flex-start\",\n\t\t\tbottom:\"flex-end\",\n\t\t\tmiddle:\"center\",\n\t\t},\n\t\thozAligns = {\n\t\t\tleft:\"flex-start\",\n\t\t\tright:\"flex-end\",\n\t\t\tcenter:\"center\",\n\t\t};\n\n\t\t//set text alignment\n\t\telement.style.textAlign = this.column.hozAlign;\n\n\t\tif(this.column.vertAlign){\n\t\t\telement.style.display = \"inline-flex\";\n\n\t\t\telement.style.alignItems = vertAligns[this.column.vertAlign] || \"\";\n\n\t\t\tif(this.column.hozAlign){\n\t\t\t\telement.style.justifyContent = hozAligns[this.column.hozAlign] || \"\";\n\t\t\t}\n\t\t}\n\n\t\tif(field){\n\t\t\telement.setAttribute(\"tabulator-field\", field);\n\t\t}\n\n\t\t//add class to cell if needed\n\t\tif(this.column.definition.cssClass){\n\t\t\tvar classNames = this.column.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\telement.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.dispatch(\"cell-init\", this);\n\n\t\t//hide cell if not visible\n\t\tif(!this.column.visible){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//generate cell contents\n\t_generateContents(){\n\t\tvar val;\n\n\t\tval = this.chain(\"cell-format\", this, null, () => {\n\t\t\treturn this.element.innerHTML = this.value;\n\t\t});\n\n\t\tswitch(typeof val){\n\t\t\tcase \"object\":\n\t\t\t\tif(val instanceof Node){\n\n\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\t\t\t\tthis.element.appendChild(val);\n\t\t\t\t}else{\n\t\t\t\t\tthis.element.innerHTML = \"\";\n\n\t\t\t\t\tif(val != null){\n\t\t\t\t\t\tconsole.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tthis.element.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.element.innerHTML = val;\n\t\t}\n\t}\n\n\tcellRendered(){\n\t\tthis.dispatch(\"cell-rendered\", this);\n\t}\n\n\t//////////////////// Getters ////////////////////\n\tgetElement(containerOnly){\n\t\tif(!this.loaded){\n\t\t\tthis.loaded = true;\n\t\t\tif(!containerOnly){\n\t\t\t\tthis.layoutElement();\n\t\t\t}\n\t\t}\n\n\t\treturn this.element;\n\t}\n\n\tgetValue(){\n\t\treturn this.value;\n\t}\n\n\tgetOldValue(){\n\t\treturn this.oldValue;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tsetValue(value, mutate, force){\n\t\tvar changed = this.setValueProcessData(value, mutate, force);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-updated\", this);\n\n\t\t\tthis.cellRendered();\n\n\t\t\tif(this.column.definition.cellEdited){\n\t\t\t\tthis.column.definition.cellEdited.call(this.table, this.getComponent());\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"cellEdited\", this.getComponent());\n\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t}\n\t}\n\n\tsetValueProcessData(value, mutate, force){\n\t\tvar changed = false;\n\n\t\tif(this.value !== value || force){\n\n\t\t\tchanged = true;\n\n\t\t\tif(mutate){\n\t\t\t\tvalue = this.chain(\"cell-value-changing\", [this, value], null, value);\n\t\t\t}\n\t\t}\n\n\t\tthis.setValueActual(value);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-changed\", this);\n\t\t}\n\n\t\treturn changed;\n\t}\n\n\tsetValueActual(value){\n\t\tthis.oldValue = this.value;\n\n\t\tthis.value = value;\n\n\t\tthis.dispatch(\"cell-value-save-before\", this);\n\n\t\tthis.column.setFieldValue(this.row.data, value);\n\n\t\tthis.dispatch(\"cell-value-save-after\", this);\n\n\t\tif(this.loaded){\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\n\tlayoutElement(){\n\t\tthis._generateContents();\n\n\t\tthis.dispatch(\"cell-layout\", this);\n\t}\n\n\tsetWidth(){\n\t\tthis.width = this.column.width;\n\t\tthis.element.style.width = this.column.widthStyled;\n\t}\n\n\tclearWidth(){\n\t\tthis.width = \"\";\n\t\tthis.element.style.width = \"\";\n\t}\n\n\tgetWidth(){\n\t\treturn this.width || this.element.offsetWidth;\n\t}\n\n\tsetMinWidth(){\n\t\tthis.minWidth = this.column.minWidth;\n\t\tthis.element.style.minWidth = this.column.minWidthStyled;\n\t}\n\n\tsetMaxWidth(){\n\t\tthis.maxWidth = this.column.maxWidth;\n\t\tthis.element.style.maxWidth = this.column.maxWidthStyled;\n\t}\n\n\tcheckHeight(){\n\t\t// var height = this.element.css(\"height\");\n\t\tthis.row.reinitializeHeight();\n\t}\n\n\tclearHeight(){\n\t\tthis.element.style.height = \"\";\n\t\tthis.height = null;\n\n\t\tthis.dispatch(\"cell-height\", this, \"\");\n\t}\n\n\tsetHeight(){\n\t\tthis.height = this.row.height;\n\t\tthis.element.style.height = this.row.heightStyled;\n\n\t\tthis.dispatch(\"cell-height\", this, this.row.heightStyled);\n\t}\n\n\tgetHeight(){\n\t\treturn this.height || this.element.offsetHeight;\n\t}\n\n\tshow(){\n\t\tthis.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\n\t}\n\n\thide(){\n\t\tthis.element.style.display = \"none\";\n\t}\n\n\tdelete(){\n\t\tthis.dispatch(\"cell-delete\", this);\n\n\t\tif(!this.table.rowManager.redrawBlock && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\n\t\tthis.element = false;\n\t\tthis.column.deleteCell(this);\n\t\tthis.row.deleteCell(this);\n\t\tthis.calcs = {};\n\t}\n\n\tgetIndex(){\n\t\treturn this.row.getCellIndex(this);\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new CellComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n","//public column object\nexport default class ColumnComponent {\n\tconstructor (column){\n\t\tthis._column = column;\n\t\tthis.type = \"ColumnComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._column.table.componentFunctionBinder.handle(\"column\", target._column, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetElement(){\n\t\treturn this._column.getElement();\n\t}\n\n\tgetDefinition(){\n\t\treturn this._column.getDefinition();\n\t}\n\n\tgetField(){\n\t\treturn this._column.getField();\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this._column.getTitleDownload();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._column.cells.forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tisVisible(){\n\t\treturn this._column.visible;\n\t}\n\n\tshow(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.show();\n\t\t\t});\n\t\t}else{\n\t\t\tthis._column.show();\n\t\t}\n\t}\n\n\thide(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.hide();\n\t\t\t});\n\t\t}else{\n\t\t\tthis._column.hide();\n\t\t}\n\t}\n\n\ttoggle(){\n\t\tif(this._column.visible){\n\t\t\tthis.hide();\n\t\t}else{\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tdelete(){\n\t\treturn this._column.delete();\n\t}\n\n\tgetSubColumns(){\n\t\tvar output = [];\n\n\t\tif(this._column.columns.length){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\toutput.push(column.getComponent());\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetParentColumn(){\n\t\treturn this._column.getParentComponent();\n\t}\n\n\t_getSelf(){\n\t\treturn this._column;\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._column.table.columnManager.scrollToColumn(this._column, position, ifVisible);\n\t}\n\n\tgetTable(){\n\t\treturn this._column.table;\n\t}\n\n\tmove(to, after){\n\t\tvar toColumn = this._column.table.columnManager.findColumn(to);\n\n\t\tif(toColumn){\n\t\t\tthis._column.table.columnManager.moveColumn(this._column, toColumn, after);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t}\n\t}\n\n\tgetNextColumn(){\n\t\tvar nextCol = this._column.nextColumn();\n\n\t\treturn nextCol ? nextCol.getComponent() : false;\n\t}\n\n\tgetPrevColumn(){\n\t\tvar prevCol = this._column.prevColumn();\n\n\t\treturn prevCol ? prevCol.getComponent() : false;\n\t}\n\n\tupdateDefinition(updates){\n\t\treturn this._column.updateDefinition(updates);\n\t}\n\n\tgetWidth(){\n\t\treturn this._column.getWidth();\n\t}\n\n\tsetWidth(width){\n\t\tvar result;\n\n\t\tif(width === true){\n\t\t\tresult =  this._column.reinitializeWidth(true);\n\t\t}else{\n\t\t\tresult =  this._column.setWidth(width);\n\t\t}\n\n\t\tthis._column.table.columnManager.rerenderColumns(true);\n\n\t\treturn result;\n\t}\n}","export default {\n\t\"title\": undefined,\n\t\"field\": undefined,\n\t\"columns\": undefined,\n\t\"visible\": undefined,\n\t\"hozAlign\": undefined,\n\t\"vertAlign\": undefined,\n\t\"width\": undefined,\n\t\"minWidth\": 40,\n\t\"maxWidth\": undefined,\n\t\"maxInitialWidth\": undefined,\n\t\"cssClass\": undefined,\n\t\"variableHeight\": undefined,\n\t\"headerVertical\": undefined,\n\t\"headerHozAlign\": undefined,\n\t\"headerWordWrap\": false,\n\t\"editableTitle\": undefined,\n};","import CoreFeature from '../CoreFeature.js';\nimport ColumnComponent from './ColumnComponent.js';\nimport defaultOptions from './defaults/options.js';\n\nimport Cell from '../cell/Cell.js';\n\nexport default class Column extends CoreFeature{\n\t\n\tstatic defaultOptionList = defaultOptions;\n\t\n\tconstructor(def, parent, rowHeader){\n\t\tsuper(parent.table);\n\t\t\n\t\tthis.definition = def; //column definition\n\t\tthis.parent = parent; //hold parent object\n\t\tthis.type = \"column\"; //type of element\n\t\tthis.columns = []; //child columns\n\t\tthis.cells = []; //cells bound to this column\n\t\tthis.isGroup = false;\n\t\tthis.isRowHeader = rowHeader;\n\t\tthis.element = this.createElement(); //column header element\n\t\tthis.contentElement = false;\n\t\tthis.titleHolderElement = false;\n\t\tthis.titleElement = false;\n\t\tthis.groupElement = this.createGroupElement(); //column group holder element\n\t\tthis.hozAlign = \"\"; //horizontal text alignment\n\t\tthis.vertAlign = \"\"; //vert text alignment\n\t\t\n\t\t//multi dimensional filed handling\n\t\tthis.field =\"\";\n\t\tthis.fieldStructure = \"\";\n\t\tthis.getFieldValue = \"\";\n\t\tthis.setFieldValue = \"\";\n\t\t\n\t\tthis.titleDownload = null;\n\t\tthis.titleFormatterRendered = false;\n\t\t\n\t\tthis.mapDefinitions();\n\t\t\n\t\tthis.setField(this.definition.field);\n\t\t\n\t\tthis.modules = {}; //hold module variables;\n\t\t\n\t\tthis.width = null; //column width\n\t\tthis.widthStyled = \"\"; //column width pre-styled to improve render efficiency\n\t\tthis.maxWidth = null; //column maximum width\n\t\tthis.maxWidthStyled = \"\"; //column maximum pre-styled to improve render efficiency\n\t\tthis.maxInitialWidth = null;\n\t\tthis.minWidth = null; //column minimum width\n\t\tthis.minWidthStyled = \"\"; //column minimum pre-styled to improve render efficiency\n\t\tthis.widthFixed = false; //user has specified a width for this column\n\t\t\n\t\tthis.visible = true; //default visible state\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\t//initialize column\n\t\tif(this.definition.columns){\n\t\t\t\n\t\t\tthis.isGroup = true;\n\t\t\t\n\t\t\tthis.definition.columns.forEach((def, i) => {\n\t\t\t\tvar newCol = new Column(def, this);\n\t\t\t\tthis.attachColumn(newCol);\n\t\t\t});\n\t\t\t\n\t\t\tthis.checkColumnVisibility();\n\t\t}else{\n\t\t\tparent.registerColumnField(this);\n\t\t}\n\t\t\n\t\tthis._initialize();\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.setAttribute(\"role\", \"columnheader\");\n\t\tel.setAttribute(\"aria-sort\", \"none\");\n\n\t\tif(this.isRowHeader){\n\t\t\tel.classList.add(\"tabulator-row-header\");\n\t\t}\n\t\t\n\t\tswitch(this.table.options.columnHeaderVertAlign){\n\t\t\tcase \"middle\":\n\t\t\t\tel.style.justifyContent = \"center\";\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\tel.style.justifyContent = \"flex-end\";\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateGroupElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col-group-cols\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tmapDefinitions(){\n\t\tvar defaults = this.table.options.columnDefaults;\n\t\t\n\t\t//map columnDefaults onto column definitions\n\t\tif(defaults){\n\t\t\tfor(let key in defaults){\n\t\t\t\tif(typeof this.definition[key] === \"undefined\"){\n\t\t\t\t\tthis.definition[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.definition = this.table.columnManager.optionsList.generate(Column.defaultOptionList, this.definition);\n\t}\n\t\n\tcheckDefinition(){\n\t\tObject.keys(this.definition).forEach((key) => {\n\t\t\tif(Column.defaultOptionList.indexOf(key) === -1){\n\t\t\t\tconsole.warn(\"Invalid column definition option in '\" + (this.field || this.definition.title) + \"' column:\", key);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetField(field){\n\t\tthis.field = field;\n\t\tthis.fieldStructure = field ? (this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator) : [field]) : [];\n\t\tthis.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData;\n\t\tthis.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\n\t}\n\t\n\t//register column position with column manager\n\tregisterColumnPosition(column){\n\t\tthis.parent.registerColumnPosition(column);\n\t}\n\t\n\t//register column position with column manager\n\tregisterColumnField(column){\n\t\tthis.parent.registerColumnField(column);\n\t}\n\t\n\t//trigger position registration\n\treRegisterPosition(){\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolumn.reRegisterPosition();\n\t\t\t});\n\t\t}else{\n\t\t\tthis.registerColumnPosition(this);\n\t\t}\n\t}\n\t\n\t//build header element\n\t_initialize(){\n\t\tvar def = this.definition;\n\t\t\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\n\t\tif(def.headerVertical){\n\t\t\tthis.element.classList.add(\"tabulator-col-vertical\");\n\t\t\t\n\t\t\tif(def.headerVertical === \"flip\"){\n\t\t\t\tthis.element.classList.add(\"tabulator-col-vertical-flip\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.contentElement = this._buildColumnHeaderContent();\n\t\t\n\t\tthis.element.appendChild(this.contentElement);\n\t\t\n\t\tif(this.isGroup){\n\t\t\tthis._buildGroupHeader();\n\t\t}else{\n\t\t\tthis._buildColumnHeader();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"column-init\", this);\n\t}\n\t\n\t//build header element for header\n\t_buildColumnHeader(){\n\t\tvar def = this.definition;\n\t\t\n\t\tthis.dispatch(\"column-layout\", this);\n\t\t\n\t\t//set column visibility\n\t\tif(typeof def.visible != \"undefined\"){\n\t\t\tif(def.visible){\n\t\t\t\tthis.show(true);\n\t\t\t}else{\n\t\t\t\tthis.hide(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//assign additional css classes to column header\n\t\tif(def.cssClass){\n\t\t\tvar classNames = def.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(def.field){\n\t\t\tthis.element.setAttribute(\"tabulator-field\", def.field);\n\t\t}\n\t\t\n\t\t//set min width if present\n\t\tthis.setMinWidth(parseInt(def.minWidth));\n\t\t\n\t\tif (def.maxInitialWidth) {\n\t\t\tthis.maxInitialWidth = parseInt(def.maxInitialWidth);\n\t\t}\n\t\t\n\t\tif(def.maxWidth){\n\t\t\tthis.setMaxWidth(parseInt(def.maxWidth));\n\t\t}\n\t\t\n\t\tthis.reinitializeWidth();\n\t\t\n\t\t//set horizontal text alignment\n\t\tthis.hozAlign = this.definition.hozAlign;\n\t\tthis.vertAlign = this.definition.vertAlign;\n\t\t\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\t}\n\t\n\t_buildColumnHeaderContent(){\n\t\tvar contentElement = document.createElement(\"div\");\n\t\tcontentElement.classList.add(\"tabulator-col-content\");\n\t\t\n\t\tthis.titleHolderElement = document.createElement(\"div\");\n\t\tthis.titleHolderElement.classList.add(\"tabulator-col-title-holder\");\n\t\t\n\t\tcontentElement.appendChild(this.titleHolderElement);\n\t\t\n\t\tthis.titleElement = this._buildColumnHeaderTitle();\n\t\t\n\t\tthis.titleHolderElement.appendChild(this.titleElement);\n\t\t\n\t\treturn contentElement;\n\t}\n\t\n\t//build title element of column\n\t_buildColumnHeaderTitle(){\n\t\tvar def = this.definition;\n\t\t\n\t\tvar titleHolderElement = document.createElement(\"div\");\n\t\ttitleHolderElement.classList.add(\"tabulator-col-title\");\n\t\t\n\t\tif(def.headerWordWrap){\n\t\t\ttitleHolderElement.classList.add(\"tabulator-col-title-wrap\");\n\t\t}\n\t\t\n\t\tif(def.editableTitle){\n\t\t\tvar titleElement = document.createElement(\"input\");\n\t\t\ttitleElement.classList.add(\"tabulator-title-editor\");\n\t\t\t\n\t\t\ttitleElement.addEventListener(\"click\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttitleElement.focus();\n\t\t\t});\n\t\t\t\n\t\t\ttitleElement.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\ttitleElement.addEventListener(\"change\", () => {\n\t\t\t\tdef.title = titleElement.value;\n\t\t\t\tthis.dispatchExternal(\"columnTitleChanged\", this.getComponent());\n\t\t\t});\n\t\t\t\n\t\t\ttitleHolderElement.appendChild(titleElement);\n\t\t\t\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\ttitleElement.value = text || (def.title || \"&nbsp;\");\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\ttitleElement.value  = def.title || \"&nbsp;\";\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, text || (def.title || \"&nbsp;\"));\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, def.title || \"&nbsp;\");\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn titleHolderElement;\n\t}\n\t\n\t_formatColumnHeaderTitle(el, title){\n\t\tvar contents = this.chain(\"column-format\", [this, title, el], null, () => {\n\t\t\treturn title;\n\t\t});\n\t\t\n\t\tswitch(typeof contents){\n\t\t\tcase \"object\":\n\t\t\t\tif(contents instanceof Node){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else{\n\t\t\t\t\tel.innerHTML = \"\";\n\t\t\t\t\tconsole.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", contents);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tel.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tel.innerHTML = contents;\n\t\t}\n\t}\n\t\n\t//build header element for column group\n\t_buildGroupHeader(){\n\t\tthis.element.classList.add(\"tabulator-col-group\");\n\t\tthis.element.setAttribute(\"role\", \"columngroup\");\n\t\tthis.element.setAttribute(\"aria-title\", this.definition.title);\n\t\t\n\t\t//asign additional css classes to column header\n\t\tif(this.definition.cssClass){\n\t\t\tvar classNames = this.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\t\t\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\t\t\n\t\tthis.element.appendChild(this.groupElement);\n\t}\n\t\n\t//flat field lookup\n\t_getFlatData(data){\n\t\treturn data[this.field];\n\t}\n\t\n\t//nested field lookup\n\t_getNestedData(data){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length,\n\t\toutput;\n\t\t\n\t\tfor(let i = 0; i < length; i++){\n\t\t\t\n\t\t\tdataObj = dataObj[structure[i]];\n\t\t\t\n\t\t\toutput = dataObj;\n\t\t\t\n\t\t\tif(!dataObj){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\t//flat field set\n\t_setFlatData(data, value){\n\t\tif(this.field){\n\t\t\tdata[this.field] = value;\n\t\t}\n\t}\n\t\n\t//nested field set\n\t_setNestedData(data, value){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length;\n\t\t\n\t\tfor(let i = 0; i < length; i++){\n\t\t\t\n\t\t\tif(i == length -1){\n\t\t\t\tdataObj[structure[i]] = value;\n\t\t\t}else{\n\t\t\t\tif(!dataObj[structure[i]]){\n\t\t\t\t\tif(typeof value !== \"undefined\"){\n\t\t\t\t\t\tdataObj[structure[i]] = {};\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdataObj = dataObj[structure[i]];\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//attach column to this group\n\tattachColumn(column){\n\t\tif(this.groupElement){\n\t\t\tthis.columns.push(column);\n\t\t\tthis.groupElement.appendChild(column.getElement());\n\t\t\t\n\t\t\tcolumn.columnRendered();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Warning - Column being attached to another column instead of column group\");\n\t\t}\n\t}\n\t\n\t//vertically align header in column\n\tverticalAlign(alignment, height){\n\t\t\n\t\t//calculate height of column header and group holder element\n\t\tvar parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : (height || this.parent.getHeadersElement().clientHeight);\n\t\t// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\n\t\t\n\t\tthis.element.style.height = parentHeight + \"px\";\n\t\t\n\t\tthis.dispatch(\"column-height\", this, this.element.style.height);\n\t\t\n\t\tif(this.isGroup){\n\t\t\tthis.groupElement.style.minHeight = (parentHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t}\n\t\t\n\t\t//vertically align cell contents\n\t\t// if(!this.isGroup && alignment !== \"top\"){\n\t\t// \tif(alignment === \"bottom\"){\n\t\t// \t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t// \t}else{\n\t\t// \t\tthis.element.style.paddingTop = ((this.element.clientHeight - this.contentElement.offsetHeight) / 2) + \"px\";\n\t\t// \t}\n\t\t// }\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.verticalAlign(alignment);\n\t\t});\n\t}\n\t\n\t//clear vertical alignment\n\tclearVerticalAlign(){\n\t\tthis.element.style.paddingTop = \"\";\n\t\tthis.element.style.height = \"\";\n\t\tthis.element.style.minHeight = \"\";\n\t\tthis.groupElement.style.minHeight = \"\";\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.clearVerticalAlign();\n\t\t});\n\t\t\n\t\tthis.dispatch(\"column-height\", this, \"\");\n\t}\n\t\n\t//// Retrieve Column Information ////\n\t//return column header element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return column group element\n\tgetGroupElement(){\n\t\treturn this.groupElement;\n\t}\n\t\n\t//return field name\n\tgetField(){\n\t\treturn this.field;\n\t}\n\t\n\tgetTitleDownload() {\n\t\treturn this.titleDownload;\n\t}\n\t\n\t//return the first column in a group\n\tgetFirstColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else{\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[0].getFirstColumn();\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//return the last column in a group\n\tgetLastColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else{\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[this.columns.length -1].getLastColumn();\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//return all columns in a group\n\tgetColumns(traverse){\n\t\tvar columns = [];\n\t\t\n\t\tif(traverse){\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumns.push(column);\n\t\t\t\t\n\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t});\n\t\t}else{\n\t\t\tcolumns = this.columns;\n\t\t}\n\t\t\n\t\treturn columns;\n\t}\n\t\n\t//return all columns in a group\n\tgetCells(){\n\t\treturn this.cells;\n\t}\n\t\n\t//retrieve the top column in a group of columns\n\tgetTopColumn(){\n\t\tif(this.parent.isGroup){\n\t\t\treturn this.parent.getTopColumn();\n\t\t}else{\n\t\t\treturn this;\n\t\t}\n\t}\n\t\n\t//return column definition object\n\tgetDefinition(updateBranches){\n\t\tvar colDefs = [];\n\t\t\n\t\tif(this.isGroup && updateBranches){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolDefs.push(column.getDefinition(true));\n\t\t\t});\n\t\t\t\n\t\t\tthis.definition.columns = colDefs;\n\t\t}\n\t\t\n\t\treturn this.definition;\n\t}\n\t\n\t//////////////////// Actions ////////////////////\n\tcheckColumnVisibility(){\n\t\tvar visible = false;\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tif(column.visible){\n\t\t\t\tvisible = true;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(visible){\n\t\t\tthis.show();\n\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t}else{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\t\n\t//show column\n\tshow(silent, responsiveToggle){\n\t\tif(!this.visible){\n\t\t\tthis.visible = true;\n\t\t\t\n\t\t\tthis.element.style.display = \"\";\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\t\t\t\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.show();\n\t\t\t});\n\t\t\t\n\t\t\tif(!this.isGroup && this.width === null){\n\t\t\t\tthis.reinitializeWidth();\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\t\t\t\n\t\t\tthis.dispatch(\"column-show\", this, responsiveToggle);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), true);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//hide column\n\thide(silent, responsiveToggle){\n\t\tif(this.visible){\n\t\t\tthis.visible = false;\n\t\t\t\n\t\t\tthis.element.style.display = \"none\";\n\t\t\t\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\t\t\t\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.hide();\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatch(\"column-hide\", this, responsiveToggle);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tmatchChildWidths(){\n\t\tvar childWidth = 0;\n\t\t\n\t\tif(this.contentElement && this.columns.length){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\tchildWidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.contentElement.style.maxWidth = (childWidth - 1) + \"px\";\n\t\t\tif (this.table.initialized) {\n\t\t\t\tthis.element.style.width = childWidth + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tremoveChild(child){\n\t\tvar index = this.columns.indexOf(child);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\t\t\n\t\tif(!this.columns.length){\n\t\t\tthis.delete();\n\t\t}\n\t}\n\t\n\tsetWidth(width){\n\t\tthis.widthFixed = true;\n\t\tthis.setWidthActual(width);\n\t}\n\t\n\tsetWidthActual(width){\n\t\tif(isNaN(width)){\n\t\t\twidth = Math.floor((this.table.element.clientWidth/100) * parseInt(width));\n\t\t}\n\t\t\n\t\twidth = Math.max(this.minWidth, width);\n\t\t\n\t\tif(this.maxWidth){\n\t\t\twidth = Math.min(this.maxWidth, width);\n\t\t}\n\t\t\n\t\tthis.width = width;\n\t\tthis.widthStyled = width ? width + \"px\" : \"\";\n\t\t\n\t\tthis.element.style.width = this.widthStyled;\n\t\t\n\t\tif(!this.isGroup){\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.setWidth();\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(this.parent.isGroup){\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"column-width\", this);\n\t\t\n\t\tif(this.subscribedExternal(\"columnWidth\")){\n\t\t\tthis.dispatchExternal(\"columnWidth\", this.getComponent());\n\t\t}\n\t}\n\t\n\tcheckCellHeights(){\n\t\tvar rows = [];\n\t\t\n\t\tthis.cells.forEach(function(cell){\n\t\t\tif(cell.row.heightInitialized){\n\t\t\t\tif(cell.row.getElement().offsetParent !== null){\n\t\t\t\t\trows.push(cell.row);\n\t\t\t\t\tcell.row.clearCellHeight();\n\t\t\t\t}else{\n\t\t\t\t\tcell.row.heightInitialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\trows.forEach(function(row){\n\t\t\trow.calcHeight();\n\t\t});\n\t\t\n\t\trows.forEach(function(row){\n\t\t\trow.setCellHeight();\n\t\t});\n\t}\n\t\n\tgetWidth(){\n\t\tvar width = 0;\n\t\t\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\twidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\twidth = this.width;\n\t\t}\n\t\t\n\t\treturn width;\n\t}\n\t\n\tgetLeftOffset(){\n\t\tvar offset = this.element.offsetLeft;\n\t\t\n\t\tif(this.parent.isGroup){\n\t\t\toffset += this.parent.getLeftOffset();\n\t\t}\n\t\t\n\t\treturn offset;\n\t}\n\t\n\tgetHeight(){\n\t\treturn Math.ceil(this.element.getBoundingClientRect().height);\n\t}\n\t\n\tsetMinWidth(minWidth){\n\t\tif(this.maxWidth && minWidth > this.maxWidth){\n\t\t\tminWidth = this.maxWidth;\n\t\t\t\n\t\t\tconsole.warn(\"the minWidth (\"+ minWidth + \"px) for column '\" + this.field + \"' cannot be bigger that its maxWidth (\"+ this.maxWidthStyled + \")\");\n\t\t}\n\t\t\n\t\tthis.minWidth = minWidth;\n\t\tthis.minWidthStyled = minWidth ? minWidth + \"px\" : \"\";\n\t\t\n\t\tthis.element.style.minWidth = this.minWidthStyled;\n\t\t\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMinWidth();\n\t\t});\n\t}\n\t\n\tsetMaxWidth(maxWidth){\n\t\tif(this.minWidth && maxWidth < this.minWidth){\n\t\t\tmaxWidth = this.minWidth;\n\t\t\t\n\t\t\tconsole.warn(\"the maxWidth (\"+ maxWidth + \"px) for column '\" + this.field + \"' cannot be smaller that its minWidth (\"+ this.minWidthStyled + \")\");\n\t\t}\n\t\t\n\t\tthis.maxWidth = maxWidth;\n\t\tthis.maxWidthStyled = maxWidth ? maxWidth + \"px\" : \"\";\n\t\t\n\t\tthis.element.style.maxWidth = this.maxWidthStyled;\n\t\t\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMaxWidth();\n\t\t});\n\t}\n\t\n\tdelete(){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(this.isGroup){\n\t\t\t\tthis.columns.forEach(function(column){\n\t\t\t\t\tcolumn.delete();\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"column-delete\", this);\n\t\t\t\n\t\t\tvar cellCount = this.cells.length;\n\t\t\t\n\t\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\t\tthis.cells[0].delete();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.element = false;\n\t\t\tthis.contentElement = false;\n\t\t\tthis.titleElement = false;\n\t\t\tthis.groupElement = false;\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.removeChild(this);\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.columnManager.deregisterColumn(this);\n\t\t\t\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\t\t\t\n\t\t\tthis.dispatch(\"column-deleted\", this);\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\tcolumnRendered(){\n\t\tif(this.titleFormatterRendered){\n\t\t\tthis.titleFormatterRendered();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"column-rendered\", this);\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\t//generate cell for this column\n\tgenerateCell(row){\n\t\tvar cell = new Cell(this, row);\n\t\t\n\t\tthis.cells.push(cell);\n\t\t\n\t\treturn cell;\n\t}\n\t\n\tnextColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._nextVisibleColumn(index + 1) : false;\n\t}\n\t\n\t_nextVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._nextVisibleColumn(index + 1);\n\t}\n\t\n\tprevColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._prevVisibleColumn(index - 1) : false;\n\t}\n\t\n\t_prevVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._prevVisibleColumn(index - 1);\n\t}\n\t\n\treinitializeWidth(force){\n\t\tthis.widthFixed = false;\n\t\t\n\t\t//set width if present\n\t\tif(typeof this.definition.width !== \"undefined\" && !force){\n\t\t\t// maxInitialWidth ignored here as width specified\n\t\t\tthis.setWidth(this.definition.width);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"column-width-fit-before\", this);\n\t\t\n\t\tthis.fitToData(force);\n\t\t\n\t\tthis.dispatch(\"column-width-fit-after\", this);\n\t}\n\t\n\t//set column width to maximum cell width for non group columns\n\tfitToData(force){\n\t\tif(this.isGroup){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!this.widthFixed){\n\t\t\tthis.element.style.width = \"\";\n\t\t\t\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tcell.clearWidth();\n\t\t\t});\n\t\t}\n\t\t\n\t\tvar maxWidth = this.element.offsetWidth;\n\t\t\n\t\tif(!this.width || !this.widthFixed){\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tvar width = cell.getWidth();\n\t\t\t\t\n\t\t\t\tif(width > maxWidth){\n\t\t\t\t\tmaxWidth = width;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(maxWidth){\n\t\t\t\tvar setTo = maxWidth + 1;\n\t\t\t\tif (this.maxInitialWidth && !force) {\n\t\t\t\t\tsetTo = Math.min(setTo, this.maxInitialWidth);\n\t\t\t\t}\n\t\t\t\tthis.setWidthActual(setTo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tupdateDefinition(updates){\n\t\tvar definition;\n\t\t\n\t\tif(!this.isGroup){\n\t\t\tif(!this.parent.isGroup){\n\t\t\t\tdefinition = Object.assign({}, this.getDefinition());\n\t\t\t\tdefinition = Object.assign(definition, updates);\n\t\t\t\t\n\t\t\t\treturn this.table.columnManager.addColumn(definition, false, this)\n\t\t\t\t\t.then((column) => {\n\t\t\t\t\t\n\t\t\t\t\t\tif(definition.field == this.field){\n\t\t\t\t\t\t\tthis.field = false; //clear field name to prevent deletion of duplicate column from arrays\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\treturn this.delete()\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t}\n\t}\n\t\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new ColumnComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n\t\n\tgetPosition(){\n\t\treturn this.table.columnManager.getVisibleColumnsByIndex().indexOf(this) + 1;\n\t}\n\t\n\tgetParentComponent(){\n\t\treturn this.parent instanceof Column ? this.parent.getComponent() : false;\n\t}\n}","//public row object\nexport default class RowComponent {\n\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\tgetIndex(){\n\t\treturn this._row.getData(\"data\")[this._row.table.options.index];\n\t}\n\n\tgetPosition(){\n\t\treturn this._row.getPosition();\n\t}\n\n\twatchPosition(callback){\n\t\treturn this._row.watchPosition(callback);\n\t}\n\n\tdelete(){\n\t\treturn this._row.delete();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._row.table.rowManager.scrollToRow(this._row, position, ifVisible);\n\t}\n\n\tmove(to, after){\n\t\tthis._row.moveToRow(to, after);\n\t}\n\n\tupdate(data){\n\t\treturn this._row.updateData(data);\n\t}\n\n\tnormalizeHeight(){\n\t\tthis._row.normalizeHeight(true);\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n\n\treformat(){\n\t\treturn this._row.reinitialize();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetNextRow(){\n\t\tvar row = this._row.nextRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n\n\tgetPrevRow(){\n\t\tvar row = this._row.prevRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport RowComponent from './RowComponent.js';\nimport Helpers from '../tools/Helpers.js';\n\nexport default class Row extends CoreFeature{\n\tconstructor (data, parent, type = \"row\"){\n\t\tsuper(parent.table);\n\t\t\n\t\tthis.parent = parent;\n\t\tthis.data = {};\n\t\tthis.type = type; //type of element\n\t\tthis.element = false;\n\t\tthis.modules = {}; //hold module variables;\n\t\tthis.cells = [];\n\t\tthis.height = 0; //hold element height\n\t\tthis.heightStyled = \"\"; //hold element height pre-styled to improve render efficiency\n\t\tthis.manualHeight = false; //user has manually set row height\n\t\tthis.outerHeight = 0; //hold elements outer height\n\t\tthis.initialized = false; //element has been rendered\n\t\tthis.heightInitialized = false; //element has resized cells to fit\n\t\tthis.position = 0; //store position of element in row list\n\t\tthis.positionWatchers = [];\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.created = false;\n\t\t\n\t\tthis.setData(data);\n\t}\n\t\n\tcreate(){\n\t\tif(!this.created){\n\t\t\tthis.created = true;\n\t\t\tthis.generateElement();\n\t\t}\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\tthis.element = el;\n\t}\n\t\n\tgetElement(){\n\t\tthis.create();\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.createElement();\n\t\tthis.dispatch(\"row-init\", this);\n\t}\n\t\n\tgenerateCells(){\n\t\tthis.cells = this.table.columnManager.generateCells(this);\n\t}\n\t\n\t//functions to setup on first render\n\tinitialize(force, inFragment){\n\t\tthis.create();\n\t\t\n\t\tif(!this.initialized || force){\n\t\t\t\n\t\t\tthis.deleteCells();\n\t\t\t\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-before\", this);\n\t\t\t\n\t\t\tthis.generateCells();\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t\t\n\t\t\tthis.table.columnManager.renderer.renderRowCells(this, inFragment);\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.normalizeHeight();\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout\", this);\n\t\t\t\n\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-after\", this);\n\t\t}else{\n\t\t\tthis.table.columnManager.renderer.rerenderRowCells(this, inFragment);\n\t\t}\n\t}\n\n\trendered(){\n\t\tthis.cells.forEach((cell) => {\n\t\t\tcell.cellRendered();\n\t\t});\n\t}\n\t\n\treinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.normalizeHeight(true);\n\t\t}\n\t}\n\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tdeinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t}\n\t\n\treinitialize(children){\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(!this.manualHeight){\n\t\t\tthis.height = 0;\n\t\t\tthis.heightStyled = \"\";\n\t\t}\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.initialize(true);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"row-relayout\", this);\n\t}\n\t\n\t//get heights when doing bulk row style calcs in virtual DOM\n\tcalcHeight(force){\n\t\tvar maxHeight = 0, minHeight  = 0;\n\n\t\tif(this.table.options.rowHeight){\n\t\t\tthis.height = this.table.options.rowHeight;\n\t\t}else{\n\t\t\tminHeight = this.calcMinHeight();\n\t\t\tmaxHeight = this.calcMaxHeight();\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.height = Math.max(maxHeight, minHeight);\n\t\t\t}else{\n\t\t\t\tthis.height = this.manualHeight ? this.height : Math.max(maxHeight, minHeight);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.heightStyled = this.height ? this.height + \"px\" : \"\";\n\t\tthis.outerHeight = this.element.offsetHeight;\n\t}\n\n\tcalcMinHeight(){\n\t\treturn this.table.options.resizableRows ? this.element.clientHeight : 0;\n\t}\n\n\tcalcMaxHeight(){\n\t\tvar maxHeight = 0;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tvar height = cell.getHeight();\n\n\t\t\tif(height > maxHeight){\n\t\t\t\tmaxHeight = height;\n\t\t\t}\n\t\t});\n\n\t\treturn maxHeight;\n\t}\n\t\n\t//set of cells\n\tsetCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setHeight();\n\t\t});\n\t\t\n\t\tthis.heightInitialized = true;\n\t}\n\t\n\tclearCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.clearHeight();\n\t\t});\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(force){\n\t\tif(force && !this.table.options.rowHeight){\n\t\t\tthis.clearCellHeight();\n\t\t}\n\t\t\n\t\tthis.calcHeight(force);\n\t\t\n\t\tthis.setCellHeight();\n\t}\n\t\n\t//set height of rows\n\tsetHeight(height, force){\n\t\tif(this.height != height || force){\n\t\t\t\n\t\t\tthis.manualHeight = true;\n\t\t\t\n\t\t\tthis.height = height;\n\t\t\tthis.heightStyled = height ? height + \"px\" : \"\";\n\t\t\t\n\t\t\tthis.setCellHeight();\n\t\t\t\n\t\t\t// this.outerHeight = this.element.outerHeight();\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\n\t\t\tif(this.subscribedExternal(\"rowHeight\")){\n\t\t\t\tthis.dispatchExternal(\"rowHeight\", this.getComponent());\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\t//return rows outer Width\n\tgetWidth(){\n\t\treturn this.element.offsetWidth;\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\t\n\t//////////////// Data Management /////////////////\n\tsetData(data){\n\t\tthis.data = this.chain(\"row-data-init-before\", [this, data], undefined, data);\n\t\t\n\t\tthis.dispatch(\"row-data-init-after\", this);\n\t}\n\t\n\t//update the rows data\n\tupdateData(updatedData){\n\t\tvar visible = this.element && Helpers.elVisible(this.element),\n\t\ttempData = {},\n\t\tnewRowData;\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof updatedData === \"string\"){\n\t\t\t\tupdatedData = JSON.parse(updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-before\", this);\n\t\t\t\n\t\t\tif(this.subscribed(\"row-data-changing\")){\n\t\t\t\ttempData = Object.assign(tempData, this.data);\n\t\t\t\ttempData = Object.assign(tempData, updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tnewRowData = this.chain(\"row-data-changing\", [this, tempData, updatedData], null, updatedData);\n\t\t\t\n\t\t\t//set data\n\t\t\tfor (let attrname in newRowData) {\n\t\t\t\tthis.data[attrname] = newRowData[attrname];\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-after\", this);\n\t\t\t\n\t\t\t//update affected cells only\n\t\t\tfor (let attrname in updatedData) {\n\t\t\t\t\n\t\t\t\tlet columns = this.table.columnManager.getColumnsByFieldRoot(attrname);\n\t\t\t\t\n\t\t\t\tcolumns.forEach((column) => {\n\t\t\t\t\tlet cell = this.getCell(column.getField());\n\t\t\t\t\t\n\t\t\t\t\tif(cell){\n\t\t\t\t\t\tlet value = column.getFieldValue(newRowData);\n\t\t\t\t\t\tif(cell.getValue() !== value){\n\t\t\t\t\t\t\tcell.setValueProcessData(value);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(visible){\n\t\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//Partial reinitialization if visible\n\t\t\tif(visible){\n\t\t\t\tthis.normalizeHeight(true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.initialized = false;\n\t\t\t\tthis.height = 0;\n\t\t\t\tthis.heightStyled = \"\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-changed\", this, visible, updatedData);\n\t\t\t\n\t\t\t//this.reinitialize();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"rowUpdated\", this.getComponent());\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\tgetData(transform){\n\t\tif(transform){\n\t\t\treturn this.chain(\"row-data-retrieve\", [this, transform], null, this.data);\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\tgetCell(column){\n\t\tvar match = false;\n\t\t\n\t\tcolumn = this.table.columnManager.findColumn(column);\n\t\t\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\tmatch = this.cells.find(function(cell){\n\t\t\treturn cell.column === column;\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetCellIndex(findCell){\n\t\treturn this.cells.findIndex(function(cell){\n\t\t\treturn cell === findCell;\n\t\t});\n\t}\n\t\n\tfindCell(subject){\n\t\treturn this.cells.find((cell) => {\n\t\t\treturn cell.element === subject;\n\t\t});\n\t}\n\t\n\tgetCells(){\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\treturn this.cells;\n\t}\n\t\n\tnextRow(){\n\t\tvar row = this.table.rowManager.nextDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tprevRow(){\n\t\tvar row = this.table.rowManager.prevDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tmoveToRow(to, before){\n\t\tvar toRow = this.table.rowManager.findRow(to);\n\t\t\n\t\tif(toRow){\n\t\t\tthis.table.rowManager.moveRowActual(this, toRow, !before);\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\", false, true);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", to);\n\t\t}\n\t}\n\t\n\t///////////////////// Actions  /////////////////////\n\tdelete(){\n\t\tthis.dispatch(\"row-delete\", this);\n\t\t\n\t\tthis.deleteActual();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\tdeleteActual(blockRedraw){\n\t\tthis.detachModules();\n\t\t\n\t\tthis.table.rowManager.deleteRow(this, blockRedraw);\n\t\t\n\t\tthis.deleteCells();\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\tthis.element = false;\n\t\t\n\t\tthis.dispatch(\"row-deleted\", this);\n\t}\n\t\n\tdetachModules(){\n\t\tthis.dispatch(\"row-deleting\", this);\n\t}\n\t\n\tdeleteCells(){\n\t\tvar cellCount = this.cells.length;\n\t\t\n\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\tthis.cells[0].delete();\n\t\t}\n\t}\n\t\n\twipe(){\n\t\tthis.detachModules();\n\t\tthis.deleteCells();\n\t\t\n\t\tif(this.element){\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.modules = {};\n\t}\n\n\tisDisplayed(){\n\t\treturn this.table.rowManager.getDisplayRows().includes(this);\n\t}\n\n\tgetPosition(){\n\t\treturn this.isDisplayed() ? this.position : false;\n\t}\n\n\tsetPosition(position){\n\t\tif(position != this.position){\n\t\t\tthis.position = position;\n\n\t\t\tthis.positionWatchers.forEach((callback) => {\n\t\t\t\tcallback(this.position);\n\t\t\t});\n\t\t}\n\t}\n\n\twatchPosition(callback){\n\t\tthis.positionWatchers.push(callback);\n\n\t\tcallback(this.position);\n\t}\n\t\n\tgetGroup(){\n\t\treturn this.modules.group || false;\n\t}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new RowComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n","export default {\n\t\"avg\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : 2;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn Number(sum) + Number(value);\n\t\t\t});\n\n\t\t\toutput = output / values.length;\n\n\t\t\toutput = precision !== false ? output.toFixed(precision) : output;\n\t\t}\n\n\t\treturn parseFloat(output).toString();\n\t},\n\t\"max\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value > output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"min\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value < output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"sum\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tvalue = Number(value);\n\n\t\t\t\toutput += !isNaN(value) ? Number(value) : 0;\n\t\t\t});\n\t\t}\n\n\t\treturn precision !== false ? output.toFixed(precision) : output;\n\t},\n\t\"concat\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn String(sum) + String(value);\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"count\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tif(value){\n\t\t\t\t\toutput ++;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"unique\":function(values, data, calcParams){\n\t\tvar unique = values.filter((value, index) => {\n\t\t\treturn (values || value === 0) && values.indexOf(value) === index;\n\t\t});\n\n\t\treturn unique.length;\n\t},\n};","import Module from '../../core/Module.js';\n\nimport CalcComponent from './CalcComponent.js';\n\nimport Cell from '../../core/cell/Cell.js';\nimport Column from '../../core/column/Column.js';\nimport Row from '../../core/row/Row.js';\n\nimport defaultCalculations from './defaults/calculations.js';\n\nexport default class ColumnCalcs extends Module{\n\n\tstatic moduleName = \"columnCalcs\";\n\n\t//load defaults\n\tstatic calculations = defaultCalculations;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.topCalcs = [];\n\t\tthis.botCalcs = [];\n\t\tthis.genColumn = false;\n\t\tthis.topElement = this.createElement();\n\t\tthis.botElement = this.createElement();\n\t\tthis.topRow = false;\n\t\tthis.botRow = false;\n\t\tthis.topInitialized = false;\n\t\tthis.botInitialized = false;\n\t\t\n\t\tthis.blocked = false;\n\t\tthis.recalcAfterBlock = false;\n\t\t\n\t\tthis.registerTableOption(\"columnCalcs\", true);\n\t\t\n\t\tthis.registerColumnOption(\"topCalc\");\n\t\tthis.registerColumnOption(\"topCalcParams\");\n\t\tthis.registerColumnOption(\"topCalcFormatter\");\n\t\tthis.registerColumnOption(\"topCalcFormatterParams\");\n\t\tthis.registerColumnOption(\"bottomCalc\");\n\t\tthis.registerColumnOption(\"bottomCalcParams\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatter\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatterParams\");\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-calcs-holder\");\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tthis.genColumn = new Column({field:\"value\"}, this);\n\t\t\n\t\tthis.subscribe(\"cell-value-changed\", this.cellValueChanged.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"column-moved\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"column-add\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.recalcActiveRowsRefresh.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t\t\n\t\tthis.subscribe(\"redraw-blocked\", this.blockRedraw.bind(this));\n\t\tthis.subscribe(\"redraw-restored\", this.restoreRedraw.bind(this));\n\n\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t\n\t\tthis.registerTableFunction(\"getCalcResults\", this.getResults.bind(this));\n\t\tthis.registerTableFunction(\"recalc\", this.userRecalc.bind(this));\n\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\t\n\ttableRedraw(force){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t\t\n\t\tif(force){\n\t\t\tthis.redraw();\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.blocked = true;\n\t\tthis.recalcAfterBlock = false;\n\t}\n\t\n\t\n\trestoreRedraw(){\n\t\tthis.blocked = false;\n\t\t\n\t\tif(this.recalcAfterBlock){\n\t\t\tthis.recalcAfterBlock = false;\n\t\t\tthis.recalcActiveRowsRefresh();\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tuserRecalc(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tblockCheck(){\n\t\tif(this.blocked){\n\t\t\tthis.recalcAfterBlock = true;\n\t\t}\n\t\t\n\t\treturn this.blocked;\n\t}\n\t\n\tvisibleRows(viewable, rows){\n\t\tif(this.topRow){\n\t\t\trows.unshift(this.topRow);\n\t\t}\n\t\t\n\t\tif(this.botRow){\n\t\t\trows.push(this.botRow);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.recalcRowGroup(row);\n\t\t}else{\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRowsRefresh(){\n\t\tif(this.table.options.groupBy && this.table.options.dataTreeStartExpanded && this.table.options.dataTree){\n\t\t\tthis.recalcAll();\n\t\t}else{\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRows(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\tcellValueChanged(cell){\n\t\tif(cell.column.definition.topCalc || cell.column.definition.bottomCalc){\n\t\t\tif(this.table.options.groupBy){\n\t\t\t\tif(this.table.options.columnCalcs == \"table\" || this.table.options.columnCalcs == \"both\"){\n\t\t\t\t\tthis.recalcActiveRows();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.recalcRowGroup(cell.row);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinitializeColumnCheck(column){\n\t\tif(column.definition.topCalc || column.definition.bottomCalc){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//initialize column calcs\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\tvar config = {\n\t\t\ttopCalcParams:def.topCalcParams || {},\n\t\t\tbotCalcParams:def.bottomCalcParams || {},\n\t\t};\n\t\t\n\t\tif(def.topCalc){\n\t\t\t\n\t\t\tswitch(typeof def.topCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.topCalc]){\n\t\t\t\t\t\tconfig.topCalc = ColumnCalcs.calculations[def.topCalc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.topCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.topCalc = def.topCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.topCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.topCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeTopRow();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tif(def.bottomCalc){\n\t\t\tswitch(typeof def.bottomCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.bottomCalc]){\n\t\t\t\t\t\tconfig.botCalc = ColumnCalcs.calculations[def.bottomCalc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.bottomCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.botCalc = def.bottomCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.botCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.botCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeBottomRow();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t//dummy functions to handle being mock column manager\n\tregisterColumnField(){}\n\t\n\tremoveCalcs(){\n\t\tvar changed = false;\n\t\t\n\t\tif(this.topInitialized){\n\t\t\tthis.topInitialized = false;\n\t\t\tthis.topElement.parentNode.removeChild(this.topElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(this.botInitialized){\n\t\t\tthis.botInitialized = false;\n\t\t\tthis.footerRemove(this.botElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\treinitializeCalcs(){\n\t\tif(this.topCalcs.length){\n\t\t\tthis.initializeTopRow();\n\t\t}\n\n\t\tif(this.botCalcs.length){\n\t\t\tthis.initializeBottomRow();\n\t\t}\n\t}\n\t\n\tinitializeTopRow(){\n\t\tvar\tfragment = document.createDocumentFragment();\n\t\t\n\t\tif(!this.topInitialized){\n\n\t\t\tfragment.appendChild(document.createElement(\"br\"));\n\t\t\tfragment.appendChild(this.topElement);\n\n\t\t\tthis.table.columnManager.getContentsElement().insertBefore(fragment, this.table.columnManager.headersElement.nextSibling);\n\t\t\tthis.topInitialized = true;\n\t\t}\n\t}\n\t\n\tinitializeBottomRow(){\n\t\tif(!this.botInitialized){\n\t\t\tthis.footerPrepend(this.botElement);\n\t\t\tthis.botInitialized = true;\n\t\t}\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tif(this.botInitialized && this.botRow){\n\t\t\tthis.botElement.scrollLeft = left;\n\t\t}\n\t}\n\t\n\trecalc(rows){\n\t\tvar data, row;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(this.topInitialized || this.botInitialized){\n\t\t\t\tdata = this.rowsToData(rows);\n\t\t\t\t\n\t\t\t\tif(this.topInitialized){\n\t\t\t\t\tif(this.topRow){\n\t\t\t\t\t\tthis.topRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"top\", data);\n\t\t\t\t\tthis.topRow = row;\n\t\t\t\t\twhile(this.topElement.firstChild) this.topElement.removeChild(this.topElement.firstChild);\n\t\t\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.botInitialized){\n\t\t\t\t\tif(this.botRow){\n\t\t\t\t\t\tthis.botRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"bottom\", data);\n\t\t\t\t\tthis.botRow = row;\n\t\t\t\t\twhile(this.botElement.firstChild) this.botElement.removeChild(this.botElement.firstChild);\n\t\t\t\t\tthis.botElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t\t\t\n\t\t\t\t//set resizable handles\n\t\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\t\tthis.table.modules.frozenColumns.layout();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcRowGroup(row){\n\t\tthis.recalcGroup(this.table.modules.groupRows.getRowGroup(row));\n\t}\n\t\n\trecalcAll(){\n\t\tif(this.topCalcs.length || this.botCalcs.length){\n\t\t\tif(this.table.options.columnCalcs !== \"group\"){\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.groupBy && this.table.options.columnCalcs !== \"table\"){\n\t\t\t\t\n\t\t\t\tvar groups = this.table.modules.groupRows.getChildGroups();\n\t\t\t\t\n\t\t\t\tgroups.forEach((group) => {\n\t\t\t\t\tthis.recalcGroup(group);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcGroup(group){\n\t\tvar data, rowData;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(group){\n\t\t\t\tif(group.calcs){\n\t\t\t\t\tif(group.calcs.bottom){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"bottom\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.bottom.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.bottom.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(group.calcs.top){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"top\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.top.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.top.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//generate top stats row\n\tgenerateTopRow(rows){\n\t\treturn this.generateRow(\"top\", this.rowsToData(rows));\n\t}\n\t//generate bottom stats row\n\tgenerateBottomRow(rows){\n\t\treturn this.generateRow(\"bottom\", this.rowsToData(rows));\n\t}\n\t\n\trowsToData(rows){\n\t\tvar data = [],\n\t\thasDataTreeColumnCalcs = this.table.options.dataTree && this.table.options.dataTreeChildColumnCalcs,\n\t\tdataTree = this.table.modules.dataTree;\n\n\t\trows.forEach((row) => {\n\t\t\tdata.push(row.getData());\n\n\t\t\tif(hasDataTreeColumnCalcs && row.modules.dataTree?.open){\n\t\t\t\tthis.rowsToData(dataTree.getFilteredTreeChildren(row)).forEach(dataRow =>{\n\t\t\t\t\tdata.push(row);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\t\n\t//generate stats row\n\tgenerateRow(pos, data){\n\t\tvar rowData = this.generateRowData(pos, data),\n\t\trow;\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.disable();\n\t\t}\n\t\t\n\t\trow = new Row(rowData, this, \"calc\");\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.enable();\n\t\t}\n\t\t\n\t\trow.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + pos);\n\t\t\n\t\trow.component = false;\n\t\t\n\t\trow.getComponent = () => {\n\t\t\tif(!row.component){\n\t\t\t\trow.component = new CalcComponent(row);\n\t\t\t}\n\t\t\t\n\t\t\treturn row.component;\n\t\t};\n\t\t\n\t\trow.generateCells = () => {\n\t\t\t\n\t\t\tvar cells = [];\n\t\t\t\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\t\n\t\t\t\t//set field name of mock column\n\t\t\t\tthis.genColumn.setField(column.getField());\n\t\t\t\tthis.genColumn.hozAlign = column.hozAlign;\n\t\t\t\t\n\t\t\t\tif(column.definition[pos + \"CalcFormatter\"] && this.table.modExists(\"format\")){\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.lookupFormatter(column.definition[pos + \"CalcFormatter\"]),\n\t\t\t\t\t\tparams: column.definition[pos + \"CalcFormatterParams\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.lookupFormatter(\"plaintext\"),\n\t\t\t\t\t\tparams:{}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//ensure css class definition is replicated to calculation cell\n\t\t\t\tthis.genColumn.definition.cssClass = column.definition.cssClass;\n\t\t\t\t\n\t\t\t\t//generate cell and assign to correct column\n\t\t\t\tvar cell = new Cell(this.genColumn, row);\n\t\t\t\tcell.getElement();\n\t\t\t\tcell.column = column;\n\t\t\t\tcell.setWidth();\n\t\t\t\t\n\t\t\t\tcolumn.cells.push(cell);\n\t\t\t\tcells.push(cell);\n\t\t\t\t\n\t\t\t\tif(!column.visible){\n\t\t\t\t\tcell.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\trow.cells = cells;\n\t\t};\n\t\t\n\t\treturn row;\n\t}\n\t\n\t//generate stats row\n\tgenerateRowData(pos, data){\n\t\tvar rowData = {},\n\t\tcalcs = pos == \"top\" ? this.topCalcs : this.botCalcs,\n\t\ttype = pos == \"top\" ? \"topCalc\" : \"botCalc\",\n\t\tparams, paramKey;\n\t\t\n\t\tcalcs.forEach(function(column){\n\t\t\tvar values = [];\n\t\t\t\n\t\t\tif(column.modules.columnCalcs && column.modules.columnCalcs[type]){\n\t\t\t\tdata.forEach(function(item){\n\t\t\t\t\tvalues.push(column.getFieldValue(item));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tparamKey = type + \"Params\";\n\t\t\t\tparams = typeof column.modules.columnCalcs[paramKey] === \"function\" ? column.modules.columnCalcs[paramKey](values, data) : column.modules.columnCalcs[paramKey];\n\t\t\t\t\n\t\t\t\tcolumn.setFieldValue(rowData, column.modules.columnCalcs[type](values, data, params));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowData;\n\t}\n\t\n\thasTopCalcs(){\n\t\treturn\t!!(this.topCalcs.length);\n\t}\n\t\n\thasBottomCalcs(){\n\t\treturn\t!!(this.botCalcs.length);\n\t}\n\t\n\t//handle table redraw\n\tredraw(){\n\t\tif(this.topRow){\n\t\t\tthis.topRow.normalizeHeight(true);\n\t\t}\n\t\tif(this.botRow){\n\t\t\tthis.botRow.normalizeHeight(true);\n\t\t}\n\t}\n\t\n\t//return the calculated\n\tgetResults(){\n\t\tvar results = {},\n\t\tgroups;\n\t\t\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tgroups = this.table.modules.groupRows.getGroups(true);\n\t\t\t\n\t\t\tgroups.forEach((group) => {\n\t\t\t\tresults[group.getKey()] = this.getGroupResults(group);\n\t\t\t});\n\t\t}else{\n\t\t\tresults = {\n\t\t\t\ttop: this.topRow ? this.topRow.getData() : {},\n\t\t\t\tbottom: this.botRow ? this.botRow.getData() : {},\n\t\t\t};\n\t\t}\n\t\t\n\t\treturn results;\n\t}\n\t\n\t//get results from a group\n\tgetGroupResults(group){\n\t\tvar groupObj = group._getSelf(),\n\t\tsubGroups = group.getSubGroups(),\n\t\tsubGroupResults = {},\n\t\tresults = {};\n\t\t\n\t\tsubGroups.forEach((subgroup) => {\n\t\t\tsubGroupResults[subgroup.getKey()] = this.getGroupResults(subgroup);\n\t\t});\n\t\t\n\t\tresults = {\n\t\t\ttop: groupObj.calcs.top ? groupObj.calcs.top.getData() : {},\n\t\t\tbottom: groupObj.calcs.bottom ? groupObj.calcs.bottom.getData() : {},\n\t\t\tgroups: subGroupResults,\n\t\t};\n\t\t\n\t\treturn results;\n\t}\n\t\n\tadjustForScrollbar(width){\n\t\tif(this.botRow){\n\t\t\tif(this.table.rtl){\n\t\t\t\tthis.botElement.style.paddingLeft = width + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.botElement.style.paddingRight = width + \"px\";\n\t\t\t}\n\t\t}\n\t}\n}","import Module from '../../core/Module.js';\n\nimport Row from '../../core/row/Row.js';\n\nimport RowComponent from '../../core/row/RowComponent.js';\n\nexport default class DataTree extends Module{\n\n\tstatic moduleName = \"dataTree\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.indent = 10;\n\t\tthis.field = \"\";\n\t\tthis.collapseEl = null;\n\t\tthis.expandEl = null;\n\t\tthis.branchEl = null;\n\t\tthis.elementField = false;\n\n\t\tthis.startOpen = function(){};\n\n\t\tthis.registerTableOption(\"dataTree\", false); //enable data tree\n\t\tthis.registerTableOption(\"dataTreeFilter\", true); //filter child rows\n\t\tthis.registerTableOption(\"dataTreeSort\", true); //sort child rows\n\t\tthis.registerTableOption(\"dataTreeElementColumn\", false);\n\t\tthis.registerTableOption(\"dataTreeBranchElement\", true);//show data tree branch element\n\t\tthis.registerTableOption(\"dataTreeChildIndent\", 9); //data tree child indent in px\n\t\tthis.registerTableOption(\"dataTreeChildField\", \"_children\");//data tre column field to look for child rows\n\t\tthis.registerTableOption(\"dataTreeCollapseElement\", false);//data tree row collapse element\n\t\tthis.registerTableOption(\"dataTreeExpandElement\", false);//data tree row expand element\n\t\tthis.registerTableOption(\"dataTreeStartExpanded\", false);\n\t\tthis.registerTableOption(\"dataTreeChildColumnCalcs\", false);//include visible data tree rows in column calculations\n\t\tthis.registerTableOption(\"dataTreeSelectPropagate\", false);//selecting a parent row selects its children\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"treeCollapse\", this.collapseRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeExpand\", this.expandRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeToggle\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeParent\", this.getTreeParent.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeChildren\", this.getRowChildren.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"addTreeChild\", this.addTreeChildRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isTreeExpanded\", this.isRowExpanded.bind(this));\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.dataTree){\n\t\t\tvar dummyEl = null,\n\t\t\toptions = this.table.options;\n\n\t\t\tthis.field = options.dataTreeChildField;\n\t\t\tthis.indent = options.dataTreeChildIndent;\n\n\t\t\tif(this.options(\"movableRows\")){\n\t\t\t\tconsole.warn(\"The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeBranchElement){\n\n\t\t\t\tif(options.dataTreeBranchElement === true){\n\t\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch\");\n\t\t\t\t}else{\n\t\t\t\t\tif(typeof options.dataTreeBranchElement === \"string\"){\n\t\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\t\tdummyEl.innerHTML = options.dataTreeBranchElement;\n\t\t\t\t\t\tthis.branchEl = dummyEl.firstChild;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.branchEl = options.dataTreeBranchElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch-empty\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeCollapseElement){\n\t\t\t\tif(typeof options.dataTreeCollapseElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeCollapseElement;\n\t\t\t\t\tthis.collapseEl = dummyEl.firstChild;\n\t\t\t\t}else{\n\t\t\t\t\tthis.collapseEl = options.dataTreeCollapseElement;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.collapseEl = document.createElement(\"div\");\n\t\t\t\tthis.collapseEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.collapseEl.tabIndex = 0;\n\t\t\t\tthis.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\";\n\t\t\t}\n\n\t\t\tif(options.dataTreeExpandElement){\n\t\t\t\tif(typeof options.dataTreeExpandElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeExpandElement;\n\t\t\t\t\tthis.expandEl = dummyEl.firstChild;\n\t\t\t\t}else{\n\t\t\t\t\tthis.expandEl = options.dataTreeExpandElement;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.expandEl = document.createElement(\"div\");\n\t\t\t\tthis.expandEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.expandEl.tabIndex = 0;\n\t\t\t\tthis.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\";\n\t\t\t}\n\n\n\t\t\tswitch(typeof options.dataTreeStartExpanded){\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tthis.startOpen = options.dataTreeStartExpanded;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded[index];\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowDelete.bind(this),0);\n\t\t\tthis.subscribe(\"row-data-changed\", this.rowDataChanged.bind(this), 10);\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"edit-cancelled\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"column-moving-rows\", this.columnMoving.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.initializeElementField.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedrawing.bind(this));\n\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 30);\n\t\t}\n\t}\n\n\ttableRedrawing(force){\n\t\tvar rows;\n\n\t\tif(force){\n\t\t\trows = this.table.rowManager.getRows();\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.reinitializeRowChildren(row);\n\t\t\t});\n\t\t}\n\t}\n\n\tinitializeElementField(){\n\t\tvar firstCol = this.table.columnManager.getFirstVisibleColumn();\n\n\t\tthis.elementField = this.table.options.dataTreeElementColumn || (firstCol ? firstCol.field : false);\n\t}\n\t\n\tgetRowChildren(row){\n\t\treturn this.getTreeChildren(row, true);\n\t}\n\n\tcolumnMoving(){\n\t\tvar rows = [];\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trows = rows.concat(this.getTreeChildren(row, false, true));\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\trowDataChanged(row, visible, updatedData){\n\t\tif(this.redrawNeeded(updatedData)){\n\t\t\tthis.initializeRow(row);\n\n\t\t\tif(visible){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tcellValueChanged(cell){\n\t\tvar field = cell.column.getField();\n\n\t\tif(field === this.elementField){\n\t\t\tthis.layoutRow(cell.row);\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar childArray = row.getData()[this.field];\n\t\tvar isArray = Array.isArray(childArray);\n\n\t\tvar children = isArray || (!isArray && typeof childArray === \"object\" && childArray !== null);\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.branchEl){\n\t\t\trow.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);\n\t\t}\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.controlEl){\n\t\t\trow.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);\n\t\t}\n\n\t\trow.modules.dataTree = {\n\t\t\tindex: row.modules.dataTree ? row.modules.dataTree.index : 0,\n\t\t\topen: children ? (row.modules.dataTree ? row.modules.dataTree.open : this.startOpen(row.getComponent(), 0)) : false,\n\t\t\tcontrolEl: row.modules.dataTree && children ? row.modules.dataTree.controlEl : false,\n\t\t\tbranchEl: row.modules.dataTree && children ? row.modules.dataTree.branchEl : false,\n\t\t\tparent: row.modules.dataTree ? row.modules.dataTree.parent : false,\n\t\t\tchildren:children,\n\t\t};\n\t}\n\n\treinitializeRowChildren(row){\n\t\tvar children = this.getTreeChildren(row, false, true);\n\n\t\tchildren.forEach(function(child){\n\t\t\tchild.reinitialize(true);\n\t\t});\n\t}\n\n\tlayoutRow(row){\n\t\tvar cell = this.elementField ? row.getCell(this.elementField) : row.getCells()[0],\n\t\tel = cell.getElement(),\n\t\tconfig = row.modules.dataTree;\n\n\t\tif(config.branchEl){\n\t\t\tif(config.branchEl.parentNode){\n\t\t\t\tconfig.branchEl.parentNode.removeChild(config.branchEl);\n\t\t\t}\n\t\t\tconfig.branchEl = false;\n\t\t}\n\n\t\tif(config.controlEl){\n\t\t\tif(config.controlEl.parentNode){\n\t\t\t\tconfig.controlEl.parentNode.removeChild(config.controlEl);\n\t\t\t}\n\t\t\tconfig.controlEl = false;\n\t\t}\n\n\t\tthis.generateControlElement(row, el);\n\n\t\trow.getElement().classList.add(\"tabulator-tree-level-\" + config.index);\n\n\t\tif(config.index){\n\t\t\tif(this.branchEl){\n\t\t\t\tconfig.branchEl = this.branchEl.cloneNode(true);\n\t\t\t\tel.insertBefore(config.branchEl, el.firstChild);\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tconfig.branchEl.style.marginRight = (((config.branchEl.offsetWidth + config.branchEl.style.marginLeft) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}else{\n\t\t\t\t\tconfig.branchEl.style.marginLeft = (((config.branchEl.offsetWidth + config.branchEl.style.marginRight) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tel.style.paddingRight = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-right')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}else{\n\t\t\t\t\tel.style.paddingLeft = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateControlElement(row, el){\n\t\tvar config = row.modules.dataTree,\n\t\toldControl = config.controlEl;\n\n\t\tel = el || row.getCells()[0].getElement();\n\n\t\tif(config.children !== false){\n\n\t\t\tif(config.open){\n\t\t\t\tconfig.controlEl = this.collapseEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.collapseRow(row);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconfig.controlEl = this.expandEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.expandRow(row);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconfig.controlEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tif(oldControl && oldControl.parentNode === el){\n\t\t\t\toldControl.parentNode.replaceChild(config.controlEl,oldControl);\n\t\t\t}else{\n\t\t\t\tel.insertBefore(config.controlEl, el.firstChild);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetRows(rows){\n\t\tvar output = [];\n\n\t\trows.forEach((row, i) => {\n\t\t\tvar config, children;\n\n\t\t\toutput.push(row);\n\n\t\t\tif(row instanceof Row){\n\n\t\t\t\trow.create();\n\n\t\t\t\tconfig = row.modules.dataTree;\n\n\t\t\t\tif(!config.index && config.children !== false){\n\t\t\t\t\tchildren = this.getChildren(row, false, true);\n\n\t\t\t\t\tchildren.forEach((child) => {\n\t\t\t\t\t\tchild.create();\n\t\t\t\t\t\toutput.push(child);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetChildren(row, allChildren, sortOnly){\n\t\tvar config = row.modules.dataTree,\n\t\tchildren = [],\n\t\toutput = [];\n\n\t\tif(config.children !== false && (config.open || allChildren)){\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else{\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"sort\") && this.table.options.dataTreeSort){\n\t\t\t\tthis.table.modules.sort.sort(children, sortOnly);\n\t\t\t}\n\n\t\t\tchildren.forEach((child) => {\n\t\t\t\toutput.push(child);\n\n\t\t\t\tvar subChildren = this.getChildren(child, false, true);\n\n\t\t\t\tsubChildren.forEach((sub) => {\n\t\t\t\t\toutput.push(sub);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgenerateChildren(row){\n\t\tvar children = [];\n\n\t\tvar childArray = row.getData()[this.field];\n\n\t\tif(!Array.isArray(childArray)){\n\t\t\tchildArray = [childArray];\n\t\t}\n\n\t\tchildArray.forEach((childData) => {\n\t\t\tvar childRow = new Row(childData || {}, this.table.rowManager);\n\n\t\t\tchildRow.create();\n\n\t\t\tchildRow.modules.dataTree.index = row.modules.dataTree.index + 1;\n\t\t\tchildRow.modules.dataTree.parent = row;\n\n\t\t\tif(childRow.modules.dataTree.children){\n\t\t\t\tchildRow.modules.dataTree.open = this.startOpen(childRow.getComponent(), childRow.modules.dataTree.index);\n\t\t\t}\n\t\t\tchildren.push(childRow);\n\t\t});\n\n\t\treturn children;\n\t}\n\n\texpandRow(row, silent){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = true;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowExpanded\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\tcollapseRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = false;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowCollapsed\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\ttoggleRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tif(config.open){\n\t\t\t\tthis.collapseRow(row);\n\t\t\t}else{\n\t\t\t\tthis.expandRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowExpanded(row){\n\t\treturn row.modules.dataTree.open;\n\t}\n\n\tgetTreeParent(row){\n\t\treturn row.modules.dataTree.parent ? row.modules.dataTree.parent.getComponent() : false;\n\t}\n\n\tgetTreeParentRoot(row){\n\t\treturn row.modules.dataTree && row.modules.dataTree.parent ? this.getTreeParentRoot(row.modules.dataTree.parent) : row;\n\t}\n\n\tgetFilteredTreeChildren(row){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [], children;\n\n\t\tif(config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else{\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tchildren.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(childRow);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\trowDelete(row){\n\t\tvar parent = row.modules.dataTree.parent,\n\t\tchildIndex;\n\n\t\tif(parent){\n\t\t\tchildIndex = this.findChildIndex(row, parent);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\tparent.data[this.field].splice(childIndex, 1);\n\t\t\t}\n\n\t\t\tif(!parent.data[this.field].length){\n\t\t\t\tdelete parent.data[this.field];\n\t\t\t}\n\n\t\t\tthis.initializeRow(parent);\n\t\t\tthis.layoutRow(parent);\n\t\t}\n\n\t\tthis.refreshData(true);\n\t}\n\n\taddTreeChildRow(row, data, top, index){\n\t\tvar childIndex = false;\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(!Array.isArray(row.data[this.field])){\n\t\t\trow.data[this.field] = [];\n\n\t\t\trow.modules.dataTree.open = this.startOpen(row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tchildIndex = this.findChildIndex(index, row);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\trow.data[this.field].splice((top ? childIndex : childIndex + 1), 0, data);\n\t\t\t}\n\t\t}\n\n\t\tif(childIndex === false){\n\t\t\tif(top){\n\t\t\t\trow.data[this.field].unshift(data);\n\t\t\t}else{\n\t\t\t\trow.data[this.field].push(data);\n\t\t\t}\n\t\t}\n\n\t\tthis.initializeRow(row);\n\t\tthis.layoutRow(row);\n\n\t\tthis.refreshData(true);\n\t}\n\n\tfindChildIndex(subject, parent){\n\t\tvar match = false;\n\n\t\tif(typeof subject == \"object\"){\n\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\tmatch = subject.data;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\tmatch = subject._getSelf().data;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\tif(parent.modules.dataTree){\n\t\t\t\t\tmatch = parent.modules.dataTree.children.find((childRow) => {\n\t\t\t\t\t\treturn childRow instanceof Row ? childRow.element === subject : false;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tmatch = match.data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(subject === null){\n\t\t\t\tmatch = false;\n\t\t\t}\n\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\tmatch = false;\n\t\t}else{\n\t\t\t//subject should be treated as the index of the row\n\t\t\tmatch = parent.data[this.field].find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t}\n\n\t\tif(match){\n\n\t\t\tif(Array.isArray(parent.data[this.field])){\n\t\t\t\tmatch = parent.data[this.field].indexOf(match);\n\t\t\t}\n\n\t\t\tif(match == -1){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\t//catch all for any other type of input\n\n\t\treturn match;\n\t}\n\n\tgetTreeChildren(row, component, recurse){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [];\n\n\t\tif(config && config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tconfig.children.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(component ? childRow.getComponent() : childRow);\n\n\t\t\t\t\tif(recurse){\n\t\t\t\t\t\tthis.getTreeChildren(childRow, component, recurse).forEach(child => {\n\t\t\t\t\t\t\toutput.push(child);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetChildField(){\n\t\treturn this.field;\n\t}\n\n\tredrawNeeded(data){\n\t\treturn (this.field ? typeof data[this.field] !== \"undefined\" : false) || (this.elementField ? typeof data[this.elementField] !== \"undefined\" : false);\n\t}\n}","export default function(list, options = {}, setFileContents){\n\tvar delimiter = options.delimiter ? options.delimiter : \",\",\n\tfileContents = [],\n\theaders = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = [];\n\n\t\tswitch(row.type){\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"header\":\n\t\t\t\trow.columns.forEach((col, i) => {\n\t\t\t\t\tif(col && col.depth === 1){\n\t\t\t\t\t\theaders[i] = typeof col.value == \"undefined\"  || col.value === null ? \"\" : ('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\n\t\t\t\t\tif(col){\n\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.push('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item.join(delimiter));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(headers.length){\n\t\tfileContents.unshift(headers.join(delimiter));\n\t}\n\n\tfileContents = fileContents.join(\"\\n\");\n\n\tif(options.bom){\n\t\tfileContents = \"\\ufeff\" + fileContents;\n\t}\n\n\tsetFileContents(fileContents, \"text/csv\");\n}\n","export default function(list, options, setFileContents){\n\tvar fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = {};\n\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif(col){\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfileContents = JSON.stringify(fileContents, null, '\\t');\n\n\tsetFileContents(fileContents, \"application/json\");\n}","export default function(list, options = {}, setFileContents){\n\tvar header = [],\n\tbody = [],\n\tautoTableParams = {},\n\trowGroupStyles = options.rowGroupStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 12,\n\t\tcellPadding: 6,\n\t\tfillColor: 220,\n\t},\n\trowCalcStyles = options.rowCalcStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 10,\n\t\tcellPadding: 4,\n\t\tfillColor: 232,\n\t},\n\tjsPDFParams = options.jsPDF || {},\n\ttitle = options.title ? options.title : \"\",\n\tjspdfLib, doc;\n\n\tif(!jsPDFParams.orientation){\n\t\tjsPDFParams.orientation = options.orientation || \"landscape\";\n\t}\n\n\tif(!jsPDFParams.unit){\n\t\tjsPDFParams.unit = \"pt\";\n\t}\n\n\t//parse row list\n\tlist.forEach((row) => {\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\theader.push(parseRow(row));\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tbody.push(parseRow(row, rowGroupStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tbody.push(parseRow(row, rowCalcStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\tbody.push(parseRow(row));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfunction parseRow(row, styles){\n\t\tvar rowData = [];\n\n\t\trow.columns.forEach((col) =>{\n\t\t\tvar cell;\n\n\t\t\tif(col){\n\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcell = {\n\t\t\t\t\tcontent:col.value,\n\t\t\t\t\tcolSpan:col.width,\n\t\t\t\t\trowSpan:col.height,\n\t\t\t\t};\n\n\t\t\t\tif(styles){\n\t\t\t\t\tcell.styles = styles;\n\t\t\t\t}\n\n\t\t\t\trowData.push(cell);\n\t\t\t}\n\t\t});\n\n\t\treturn rowData;\n\t}\n\n\n\t//configure PDF\n\tjspdfLib = this.dependencyRegistry.lookup(\"jspdf\", \"jsPDF\");\n\tdoc = new jspdfLib(jsPDFParams); //set document to landscape, better for most tables\n\n\tif(options.autoTable){\n\t\tif(typeof options.autoTable === \"function\"){\n\t\t\tautoTableParams = options.autoTable(doc) || {};\n\t\t}else{\n\t\t\tautoTableParams = options.autoTable;\n\t\t}\n\t}\n\n\tif(title){\n\t\tautoTableParams.didDrawPage = function(data) {\n\t\t\tdoc.text(title, 40, 30);\n\t\t};\n\t}\n\n\tautoTableParams.head = header;\n\tautoTableParams.body = body;\n\n\tdoc.autoTable(autoTableParams);\n\n\tif(options.documentProcessing){\n\t\toptions.documentProcessing(doc);\n\t}\n\n\tsetFileContents(doc.output(\"arraybuffer\"), \"application/pdf\");\n}\n","import CoreFeature from '../../../../core/CoreFeature.js';\n\nexport default function(list, options, setFileContents){\n\tvar self = this,\n\tsheetName = options.sheetName || \"Sheet1\",\n\tXLSXLib = this.dependencyRegistry.lookup(\"XLSX\"),\n\tworkbook = XLSXLib.utils.book_new(),\n\ttableFeatures = new CoreFeature(this),\n\tcompression =  'compress' in options ? options.compress : true,\n\twriteOptions = options.writeOptions || {bookType:'xlsx', bookSST:true, compression},\n\toutput;\n\n\twriteOptions.type = 'binary';\n\n\tworkbook.SheetNames = [];\n\tworkbook.Sheets = {};\n\n\tfunction generateSheet(){\n\t\tvar rows = [],\n\t\tmerges = [],\n\t\tworksheet = {},\n\t\trange = {s: {c:0, r:0}, e: {c:(list[0] ? list[0].columns.reduce((a, b) => a + (b && b.width ? b.width : 1), 0) : 0), r:list.length }};\n\n\t\t//parse row list\n\t\tlist.forEach((row, i) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach(function(col, j){\n\n\t\t\t\tif(col){\n\t\t\t\t\trowData.push(!(col.value instanceof Date) && typeof col.value === \"object\" ? JSON.stringify(col.value) : col.value);\n\n\t\t\t\t\tif(col.width > 1 || col.height > -1){\n\t\t\t\t\t\tif(col.height > 1 || col.width > 1){\n\t\t\t\t\t\t\tmerges.push({s:{r:i,c:j},e:{r:i + col.height - 1,c:j + col.width - 1}});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\trowData.push(\"\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trows.push(rowData);\n\t\t});\n\n\t\t//convert rows to worksheet\n\t\tXLSXLib.utils.sheet_add_aoa(worksheet, rows);\n\n\t\tworksheet['!ref'] = XLSXLib.utils.encode_range(range);\n\n\t\tif(merges.length){\n\t\t\tworksheet[\"!merges\"] = merges;\n\t\t}\n\n\t\treturn worksheet;\n\t}\n\n\tif(options.sheetOnly){\n\t\tsetFileContents(generateSheet());\n\t\treturn;\n\t}\n\n\tif(options.sheets){\n\t\tfor(var sheet in options.sheets){\n\n\t\t\tif(options.sheets[sheet] === true){\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\t\t\t\tworkbook.Sheets[sheet] = generateSheet();\n\t\t\t}else{\n\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\n\t\t\t\ttableFeatures.commsSend(options.sheets[sheet], \"download\", \"intercept\",{\n\t\t\t\t\ttype:\"xlsx\",\n\t\t\t\t\toptions:{sheetOnly:true},\n\t\t\t\t\tactive:self.active,\n\t\t\t\t\tintercept:function(data){\n\t\t\t\t\t\tworkbook.Sheets[sheet] = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}else{\n\t\tworkbook.SheetNames.push(sheetName);\n\t\tworkbook.Sheets[sheetName] = generateSheet();\n\t}\n\n\tif(options.documentProcessing){\n\t\tworkbook = options.documentProcessing(workbook);\n\t}\n\n\t//convert workbook to binary array\n\tfunction s2ab(s) {\n\t\tvar buf = new ArrayBuffer(s.length);\n\t\tvar view = new Uint8Array(buf);\n\t\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\t\treturn buf;\n\t}\n\n\toutput = XLSXLib.write(workbook, writeOptions);\n\n\tsetFileContents(s2ab(output), \"application/octet-stream\");\n}\n","export default function(list, options, setFileContents){\n\tif(this.modExists(\"export\", true)){\n\t\tsetFileContents(this.modules.export.generateHTMLTable(list), \"text/html\");\n\t}\n}","export default function (list, options, setFileContents) {\n\tconst fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tconst item = {};\n\n\t\tswitch (row.type) {\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif (col) {\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(JSON.stringify(item));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tsetFileContents(fileContents.join(\"\\n\"), \"application/x-ndjson\");\n}","import csv from './downloaders/csv.js';\nimport json from './downloaders/json.js';\nimport pdf from './downloaders/pdf.js';\nimport xlsx from './downloaders/xlsx.js';\nimport html from './downloaders/html.js';\nimport jsonLines from './downloaders/jsonLines.js';\n\nexport default {\n\tcsv:csv,\n\tjson:json,\n\tjsonLines:jsonLines,\n\tpdf:pdf,\n\txlsx:xlsx,\n\thtml:html,\n};","import Module from '../../core/Module.js';\n\nimport defaultDownloaders from './defaults/downloaders.js';\n\nexport default class Download extends Module{\n\n\tstatic moduleName = \"download\";\n\n\t//load defaults\n\tstatic downloaders = defaultDownloaders;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.registerTableOption(\"downloadEncoder\", function(data, mimeType){\n\t\t\treturn new Blob([data],{type:mimeType});\n\t\t}); //function to manipulate download data\n\t\t// this.registerTableOption(\"downloadReady\", undefined); //warn of function deprecation\n\t\tthis.registerTableOption(\"downloadConfig\", {}); //download config\n\t\tthis.registerTableOption(\"downloadRowRange\", \"active\"); //restrict download to active rows only\n\n\t\tthis.registerColumnOption(\"download\");\n\t\tthis.registerColumnOption(\"titleDownload\");\n\t}\n\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\n\t\tthis.registerTableFunction(\"download\", this.download.bind(this));\n\t\tthis.registerTableFunction(\"downloadToTab\", this.downloadToTab.bind(this));\n\t}\n\n\tdeprecatedOptionsCheck(){\n\t\t// this.deprecationCheck(\"downloadReady\", \"downloadEncoder\");\n\t}\t\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tdownloadToTab(type, filename, options, active){\n\t\tthis.download(type, filename, options, active, true);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//trigger file download\n\tdownload(type, filename, options, range, interceptCallback){\n\t\tvar downloadFunc = false;\n\n\t\tfunction buildLink(data, mime){\n\t\t\tif(interceptCallback){\n\t\t\t\tif(interceptCallback === true){\n\t\t\t\t\tthis.triggerDownload(data, mime, type, filename, true);\n\t\t\t\t}else{\n\t\t\t\t\tinterceptCallback(data);\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tthis.triggerDownload(data, mime, type, filename);\n\t\t\t}\n\t\t}\n\n\t\tif(typeof type == \"function\"){\n\t\t\tdownloadFunc = type;\n\t\t}else{\n\t\t\tif(Download.downloaders[type]){\n\t\t\t\tdownloadFunc = Download.downloaders[type];\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Download Error - No such download type found: \", type);\n\t\t\t}\n\t\t}\n\n\t\tif(downloadFunc){\n\t\t\tvar list = this.generateExportList(range);\n\n\t\t\tdownloadFunc.call(this.table, list , options || {}, buildLink.bind(this));\n\t\t}\n\t}\n\n\tgenerateExportList(range){\n\t\tvar list = this.table.modules.export.generateExportList(this.table.options.downloadConfig, false, range || this.table.options.downloadRowRange, \"download\");\n\n\t\t//assign group header formatter\n\t\tvar groupHeader = this.table.options.groupHeaderDownload;\n\n\t\tif(groupHeader && !Array.isArray(groupHeader)){\n\t\t\tgroupHeader = [groupHeader];\n\t\t}\n\n\t\tlist.forEach((row) => {\n\t\t\tvar group;\n\n\t\t\tif(row.type === \"group\"){\n\t\t\t\tgroup = row.columns[0];\n\n\t\t\t\tif(groupHeader && groupHeader[row.indent]){\n\t\t\t\t\tgroup.value = groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn list;\n\t}\n\n\ttriggerDownload(data, mime, type, filename, newTab){\n\t\tvar element = document.createElement('a'),\n\t\tblob = this.table.options.downloadEncoder(data, mime);\n\n\t\tif(blob){\n\t\t\tif(newTab){\n\t\t\t\twindow.open(window.URL.createObjectURL(blob));\n\t\t\t}else{\n\t\t\t\tfilename = filename || \"Tabulator.\" + (typeof type === \"function\" ? \"txt\" : type);\n\t\t\t\t\n\t\t\t\tif(navigator.msSaveOrOpenBlob){\n\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, filename);\n\t\t\t\t}else{\n\t\t\t\t\telement.setAttribute('href', window.URL.createObjectURL(blob));\n\n\t\t\t\t\t//set file title\n\t\t\t\t\telement.setAttribute('download', filename);\n\n\t\t\t\t\t//trigger download\n\t\t\t\t\telement.style.display = 'none';\n\t\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\t\telement.click();\n\n\t\t\t\t\t//remove temporary link element\n\t\t\t\t\tdocument.body.removeChild(element);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"downloadComplete\");\n\t\t}\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"intercept\":\n\t\t\t\tthis.download(data.type, \"\", data.options, data.active, data.intercept);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}","export default function maskInput(el, options){\n\tvar mask = options.mask,\n\tmaskLetter = typeof options.maskLetterChar !== \"undefined\" ? options.maskLetterChar : \"A\",\n\tmaskNumber = typeof options.maskNumberChar !== \"undefined\" ? options.maskNumberChar : \"9\",\n\tmaskWildcard = typeof options.maskWildcardChar !== \"undefined\" ? options.maskWildcardChar : \"*\";\n\n\tfunction fillSymbols(index){\n\t\tvar symbol = mask[index];\n\t\tif(typeof symbol !== \"undefined\" && symbol !== maskWildcard && symbol !== maskLetter && symbol !== maskNumber){\n\t\t\tel.value = el.value + \"\" + symbol;\n\t\t\tfillSymbols(index+1);\n\t\t}\n\t}\n\n\tel.addEventListener(\"keydown\", (e) => {\n\t\tvar index = el.value.length,\n\t\tchar = e.key;\n\n\t\tif(e.keyCode > 46 && !e.ctrlKey && !e.metaKey){\n\t\t\tif(index >= mask.length){\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\tswitch(mask[index]){\n\t\t\t\t\tcase maskLetter:\n\t\t\t\t\t\tif(char.toUpperCase() == char.toLowerCase()){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskNumber:\n\t\t\t\t\t\tif(isNaN(char)){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskWildcard:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(char !== mask[index]){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn;\n\t});\n\n\tel.addEventListener(\"keyup\", (e) => {\n\t\tif(e.keyCode > 46){\n\t\t\tif(options.maskAutoFill){\n\t\t\t\tfillSymbols(el.value.length);\n\t\t\t}\n\t\t}\n\t});\n\n\n\tif(!el.placeholder){\n\t\tel.placeholder = mask;\n\t}\n\n\tif(options.maskAutoFill){\n\t\tfillSymbols(el.value.length);\n\t}\n}","import maskInput from '../../inputMask.js';\n\n//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", editorParams.search ? \"search\" : \"text\");\n\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange(e);\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}","import maskInput from '../../inputMask.js';\n\n//resizable text area element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"hybrid\",\n\tvalue = String(cellValue !== null && typeof cellValue !== \"undefined\"  ? cellValue : \"\"),\n\tinput = document.createElement(\"textarea\"),\n\tscrollHeight = 0;\n\n\t//create and style input\n\tinput.style.display = \"block\";\n\tinput.style.padding = \"2px\";\n\tinput.style.height = \"100%\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\tinput.style.whiteSpace = \"pre-wrap\";\n\tinput.style.resize = \"none\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = value;\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tinput.scrollHeight;\n\t\t\tinput.style.height = input.scrollHeight + \"px\";\n\t\t\tcell.getRow().normalizeHeight();\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tcell.getRow().normalizeHeight();\n\t\t\t},300);\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\tinput.addEventListener(\"keyup\", function(){\n\n\t\tinput.style.height = \"\";\n\n\t\tvar heightNow = input.scrollHeight;\n\n\t\tinput.style.height = heightNow + \"px\";\n\n\t\tif(heightNow != scrollHeight){\n\t\t\tscrollHeight = heightNow;\n\t\t\tcell.getRow().normalizeHeight();\n\t\t}\n\t});\n\n\tinput.addEventListener(\"keydown\", function(e){\n\n\t\tswitch(e.keyCode){\n\n\t\t\tcase 13:\n\t\t\t\tif(e.shiftKey && editorParams.shiftEnterSubmit){\n\t\t\t\t\tonChange(e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart !== input.value.length)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}","import maskInput from '../../inputMask.js';\n\n//input element with type of number\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", \"number\");\n\n\tif(typeof editorParams.max != \"undefined\"){\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\n\tif(typeof editorParams.min != \"undefined\"){\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\n\tif(typeof editorParams.step != \"undefined\"){\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = cellValue;\n\n\tvar blurFunc = function(e){\n\t\tonChange();\n\t};\n\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\t//submit new value on blur\n\t\t\tinput.removeEventListener(\"blur\", blurFunc);\n\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\t//submit new value on blur\n\t\t\tinput.addEventListener(\"blur\", blurFunc);\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(){\n\t\tvar value = input.value;\n\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\n\t\tif(value !== cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}","//input element with type of number\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.setAttribute(\"type\", \"range\");\n\t\n\tif (typeof editorParams.max != \"undefined\") {\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\t\n\tif (typeof editorParams.min != \"undefined\") {\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\t\n\tif (typeof editorParams.step != \"undefined\") {\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\t\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value;\n\t\t\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\t\t\n\t\tif(value != cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e){\n\t\tonChange();\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}","//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tfunction convertDate(value){\n\t\tvar newDatetime;\n\t\t\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else{\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\t\t\n\t\treturn newDatetime.toFormat(\"yyyy-MM-dd\");\n\t}\n\t\n\tinput.type = \"date\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.max){\n\t\tinput.setAttribute(\"max\", inputFormat ? convertDate(editorParams.max) : editorParams.max);\n\t}\n\n\tif(editorParams.min){\n\t\tinput.setAttribute(\"min\", inputFormat ? convertDate(editorParams.min) : editorParams.min);\n\t}\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\t\t\n\t\t\tcellValue = convertDate(cellValue);\t\t\t\n\t\t}else{\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDate;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDate = DT.fromFormat(String(value), \"yyyy-MM-dd\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDate;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDate.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDate.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n","//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"time\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else{\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"HH:mm\");\n\t\t\t\n\t\t}else{\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() == \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxTime = DT.fromFormat(String(value), \"hh:mm\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n","//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (this.table.dependencyRegistry.lookup([\"luxon\", \"DateTime\"], \"DateTime\")) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"datetime-local\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else{\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"yyyy-MM-dd\")  + \"T\" + newDatetime.toFormat(\"HH:mm\");\n\t\t}else{\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDateTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDateTime = DT.fromISO(String(value));\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDateTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDateTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDateTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n","import maskInput from './inputMask.js';\nimport urlBuilder from '../Ajax/defaults/urlGenerator.js';\n\nexport default class Edit{\n\tconstructor(editor, cell, onRendered, success, cancel, editorParams){\n\t\tthis.edit = editor;\n\t\tthis.table = editor.table;\n\t\tthis.cell = cell;\n\t\tthis.params = this._initializeParams(editorParams);\n\t\t\n\t\tthis.data = [];\n\t\tthis.displayItems = [];\n\t\tthis.currentItems = [];\n\t\tthis.focusedItem = null;\n\t\t\n\t\tthis.input = this._createInputElement();\n\t\tthis.listEl = this._createListElement();\n\t\t\n\t\tthis.initialValues = null; \n\t\t\n\t\tthis.isFilter = cell.getType() === \"header\";\n\t\t\n\t\tthis.filterTimeout = null;\n\t\tthis.filtered = false;\n\t\tthis.typing = false;\n\t\t\n\t\tthis.values = []; \n\t\tthis.popup = null;  \n\t\t\n\t\tthis.listIteration = 0;\n\t\t\n\t\tthis.lastAction=\"\";\n\t\tthis.filterTerm=\"\";\n\t\t\n\t\tthis.blurable = true;\n\t\t\n\t\tthis.actions = {\n\t\t\tsuccess:success,\n\t\t\tcancel:cancel\n\t\t};\n\t\t\n\t\tthis._deprecatedOptionsCheck();\n\t\tthis._initializeValue();\n\t\t\n\t\tonRendered(this._onRendered.bind(this));\n\t}\n\t\n\t_deprecatedOptionsCheck(){\n\t\t// if(this.params.listItemFormatter){\n\t\t// \tthis.cell.getTable().deprecationAdvisor.msg(\"The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t// }\n\t\t\n\t\t// if(this.params.sortValuesList){\n\t\t// \tthis.cell.getTable().deprecationAdvisor.msg(\"The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t// }\n\t\t\n\t\t// if(this.params.searchFunc){\n\t\t// \tthis.cell.getTable().deprecationAdvisor.msg(\"The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t// }\n\t\t\n\t\t// if(this.params.searchingPlaceholder){\n\t\t// \tthis.cell.getTable().deprecationAdvisor.msg(\"The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t// }\n\t}\n\t\n\t_initializeValue(){\n\t\tvar initialValue = this.cell.getValue();\n\t\t\n\t\tif(typeof initialValue === \"undefined\" && typeof this.params.defaultValue !== \"undefined\"){\n\t\t\tinitialValue = this.params.defaultValue;\n\t\t}\n\t\t\n\t\tthis.initialValues = this.params.multiselect ? initialValue : [initialValue];\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.input.value = this.initialValues ? this.initialValues.join(\",\") : \"\";\n\t\t\tthis.headerFilterInitialListGen();            \n\t\t}\n\t}\n\t\n\t_onRendered(){\n\t\tvar cellEl = this.cell.getElement();\n\t\t\n\t\tfunction clickStop(e){\n\t\t\te.stopPropagation();\n\t\t}\t\n\t\t\n\t\tif(!this.isFilter){\n\t\t\tthis.input.style.height = \"100%\";\n\t\t\tthis.input.focus({preventScroll: true});\n\t\t}\n\t\t\n\t\t\n\t\tcellEl.addEventListener(\"click\", clickStop);\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tcellEl.removeEventListener(\"click\", clickStop);\n\t\t}, 1000);\n\t\t\n\t\tthis.input.addEventListener(\"mousedown\", this._preventPopupBlur.bind(this));\n\t}\n\t\n\t_createListElement(){\n\t\tvar listEl = document.createElement(\"div\");\n\t\tlistEl.classList.add(\"tabulator-edit-list\");\n\t\t\n\t\tlistEl.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\tlistEl.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\t\n\t\treturn listEl;\n\t}\n\t\n\t_setListWidth(){\n\t\tvar element = this.isFilter ? this.input : this.cell.getElement();\n\t\t\n\t\tthis.listEl.style.minWidth = element.offsetWidth + \"px\";\n\t\t\n\t\tif(this.params.maxWidth){\n\t\t\tif(this.params.maxWidth === true){\n\t\t\t\tthis.listEl.style.maxWidth = element.offsetWidth + \"px\";\n\t\t\t}else if(typeof this.params.maxWidth === \"number\"){\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t_createInputElement(){\n\t\tvar attribs = this.params.elementAttributes;\n\t\tvar input = document.createElement(\"input\");\n\t\t\n\t\tinput.setAttribute(\"type\", this.params.clearable ? \"search\" : \"text\");\n\t\t\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\t\t\n\t\tif(!this.params.autocomplete){\n\t\t\tinput.style.cursor = \"default\";\n\t\t\tinput.style.caretColor = \"transparent\";\n\t\t\t// input.readOnly = (this.edit.currentCell != false);\n\t\t}\n\t\t\n\t\tif(attribs && typeof attribs == \"object\"){\n\t\t\tfor (let key in attribs){\n\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + attribs[\"+\" + key]);\n\t\t\t\t}else{\n\t\t\t\t\tinput.setAttribute(key, attribs[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(this.params.mask){\n\t\t\tmaskInput(input, this.params);\n\t\t}\n\t\t\n\t\tthis._bindInputEvents(input);\n\t\t\n\t\treturn input;\n\t}\n\t\n\t_initializeParams(params){\n\t\tvar valueKeys = [\"values\", \"valuesURL\", \"valuesLookup\"],\n\t\tvalueCheck;\n\t\t\n\t\tparams = Object.assign({}, params);\n\t\t\n\t\tparams.verticalNavigation = params.verticalNavigation || \"editor\";\n\t\tparams.placeholderLoading = typeof params.placeholderLoading === \"undefined\" ? \"Searching ...\" : params.placeholderLoading;\n\t\tparams.placeholderEmpty = typeof params.placeholderEmpty === \"undefined\" ? \"No Results Found\" : params.placeholderEmpty;\n\t\tparams.filterDelay = typeof params.filterDelay === \"undefined\" ? 300 : params.filterDelay;\n\t\t\n\t\tparams.emptyValue = Object.keys(params).includes(\"emptyValue\") ? params.emptyValue : \"\";\n\t\t\n\t\tvalueCheck = Object.keys(params).filter(key => valueKeys.includes(key)).length;\n\t\t\n\t\tif(!valueCheck){\n\t\t\tconsole.warn(\"list editor config error - either the values, valuesURL, or valuesLookup option must be set\");\n\t\t}else if(valueCheck > 1){\n\t\t\tconsole.warn(\"list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor\");\n\t\t}\n\t\t\n\t\tif(params.autocomplete){\n\t\t\tif(params.multiselect){\n\t\t\t\tparams.multiselect = false;\n\t\t\t\tconsole.warn(\"list editor config error - multiselect option is not available when autocomplete is enabled\");\n\t\t\t}\n\t\t}else{\n\t\t\tif(params.freetext){\n\t\t\t\tparams.freetext = false;\n\t\t\t\tconsole.warn(\"list editor config error - freetext option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterFunc){\n\t\t\t\tparams.filterFunc = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterFunc option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterRemote){\n\t\t\t\tparams.filterRemote = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterRemote option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.mask){\n\t\t\t\tparams.mask = false;\n\t\t\t\tconsole.warn(\"list editor config error - mask option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.allowEmpty){\n\t\t\t\tparams.allowEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - allowEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.listOnEmpty){\n\t\t\t\tparams.listOnEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - listOnEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(params.filterRemote && !(typeof params.valuesLookup === \"function\" || params.valuesURL)){\n\t\t\tparams.filterRemote = false;\n\t\t\tconsole.warn(\"list editor config error - filterRemote option should only be used when values list is populated from a remote source\");\n\t\t}\n\t\treturn params;\n\t}\n\t//////////////////////////////////////\n\t////////// Event Handling ////////////\n\t//////////////////////////////////////\n\t\n\t_bindInputEvents(input){\n\t\tinput.addEventListener(\"focus\", this._inputFocus.bind(this));\n\t\tinput.addEventListener(\"click\", this._inputClick.bind(this));\n\t\tinput.addEventListener(\"blur\", this._inputBlur.bind(this));\n\t\tinput.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\tinput.addEventListener(\"search\", this._inputSearch.bind(this));\n\t\t\n\t\tif(this.params.autocomplete){\n\t\t\tinput.addEventListener(\"keyup\", this._inputKeyUp.bind(this));\n\t\t}\n\t}\n\t\n\t\n\t_inputFocus(e){\n\t\tthis.rebuildOptionsList();\n\t}\n\t\n\t_filter(){\n\t\tif(this.params.filterRemote){\n\t\t\tclearTimeout(this.filterTimeout);\n\t\t\t\n\t\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\t\tthis.rebuildOptionsList();\n\t\t\t}, this.params.filterDelay);\n\t\t}else{\n\t\t\tthis._filterList();\n\t\t}\n\t}\n\t\n\t_inputClick(e){\n\t\te.stopPropagation();\n\t}\n\t\n\t_inputBlur(e){\n\t\tif(this.blurable){\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.hide();\n\t\t\t}else{\n\t\t\t\tthis._resolveValue(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_inputSearch(){\n\t\tthis._clearChoices();\n\t}\n\t\n\t_inputKeyDown(e){\n\t\tswitch(e.keyCode){\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\t\tthis._keyUp(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 40: //down arrow\n\t\t\t\tthis._keyDown(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //right arrow\n\t\t\t\tthis._keySide(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 13: //enter\n\t\t\t\tthis._keyEnter();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27: //escape\n\t\t\t\tthis._keyEsc();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 36: //home\n\t\t\tcase 35: //end\n\t\t\t\tthis._keyHomeEnd(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 9: //tab\n\t\t\t\tthis._keyTab(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keySelectLetter(e);\n\t\t}\n\t}\n\t\n\t_inputKeyUp(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 38: //up arrow\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //up arrow\n\t\t\tcase 40: //right arrow\n\t\t\tcase 13: //enter\n\t\t\tcase 27: //escape\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keyAutoCompLetter(e);\n\t\t}\n\t}\n\t\n\t_preventPopupBlur(){\n\t\tif(this.popup){\n\t\t\tthis.popup.blockHide();\n\t\t}\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.restoreHide();\n\t\t\t}\n\t\t}, 10);\n\t}\n\t\n\t_preventBlur(){\n\t\tthis.blurable = false;\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tthis.blurable = true;\n\t\t}, 10);\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Keyboard Navigation /////////\n\t//////////////////////////////////////\n\t\n\t_keyTab(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else{\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyUp(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index > 0){\n\t\t\t\tthis._focusItem(this.displayItems[index - 1]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyDown(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index < this.displayItems.length - 1)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index < this.displayItems.length - 1){\n\t\t\t\tif(index == -1){\n\t\t\t\t\tthis._focusItem(this.displayItems[0]);\n\t\t\t\t}else{\n\t\t\t\t\tthis._focusItem(this.displayItems[index + 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keySide(e){\n\t\tif(!this.params.autocomplete){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\t\n\t_keyEnter(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else{\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyEsc(e){\n\t\tthis._cancel();\n\t}\n\t\n\t_keyHomeEnd(e){\n\t\tif(this.params.autocomplete){\n\t\t\t//prevent table navigation while using input element\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t}\n\t\n\t_keySelectLetter(e){\n\t\tif(!this.params.autocomplete){\n\t\t\t// if(this.edit.currentCell === false){\n\t\t\te.preventDefault();\n\t\t\t// }\n\t\t\t\n\t\t\tif(e.keyCode >= 38 && e.keyCode <= 90){\n\t\t\t\tthis._scrollToValue(e.keyCode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyAutoCompLetter(e){\n\t\tthis._filter();\n\t\tthis.lastAction = \"typing\";\n\t\tthis.typing = true;\n\t}\n\t\n\t\n\t_scrollToValue(char){\n\t\tclearTimeout(this.filterTimeout);\n\t\t\n\t\tvar character = String.fromCharCode(char).toLowerCase();\n\t\tthis.filterTerm += character.toLowerCase();\n\t\t\n\t\tvar match = this.displayItems.find((item) => {\n\t\t\treturn typeof item.label !== \"undefined\" && item.label.toLowerCase().startsWith(this.filterTerm);\n\t\t});\n\t\t\n\t\tif(match){\n\t\t\tthis._focusItem(match);\n\t\t}\n\t\t\n\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\tthis.filterTerm = \"\";\n\t\t}, 800);\n\t}\n\t\n\t_focusItem(item){\n\t\tthis.lastAction = \"focus\";\n\t\t\n\t\tif(this.focusedItem && this.focusedItem.element){\n\t\t\tthis.focusedItem.element.classList.remove(\"focused\");\n\t\t}\n\t\t\n\t\tthis.focusedItem = item;\n\t\t\n\t\tif(item && item.element){\n\t\t\titem.element.classList.add(\"focused\");\n\t\t\titem.element.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'start'});\n\t\t}\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t/////// Data List Generation /////////\n\t//////////////////////////////////////\n\theaderFilterInitialListGen(){\n\t\tthis._generateOptions(true);\n\t}\n\t\n\trebuildOptionsList(){\n\t\tthis._generateOptions()\n\t\t\t.then(this._sortOptions.bind(this))\n\t\t\t.then(this._buildList.bind(this))\n\t\t\t.then(this._showList.bind(this))\n\t\t\t.catch((e) => {\n\t\t\t\tif(!Number.isInteger(e)){\n\t\t\t\t\tconsole.error(\"List generation error\", e);\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\t_filterList(){\n\t\tthis._buildList(this._filterOptions());\n\t\tthis._showList();\n\t}\n\t\n\t_generateOptions(silent){\n\t\tvar values = [];\n\t\tvar iteration = ++ this.listIteration;\n\t\t\n\t\tthis.filtered = false;\n\t\t\n\t\tif(this.params.values){\n\t\t\tvalues = this.params.values;\n\t\t}else if (this.params.valuesURL){\n\t\t\tvalues = this._ajaxRequest(this.params.valuesURL, this.input.value);\n\t\t}else{\n\t\t\tif(typeof this.params.valuesLookup === \"function\"){\n\t\t\t\tvalues = this.params.valuesLookup(this.cell, this.input.value);\n\t\t\t}else if(this.params.valuesLookup){\n\t\t\t\tvalues = this._uniqueColumnValues(this.params.valuesLookupField);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(values instanceof Promise){\n\t\t\tif(!silent){\n\t\t\t\tthis._addPlaceholder(this.params.placeholderLoading);\n\t\t\t}\n\t\t\t\n\t\t\treturn values.then()\n\t\t\t\t.then((responseValues) => {\n\t\t\t\t\tif(this.listIteration === iteration){\n\t\t\t\t\t\treturn this._parseList(responseValues);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn Promise.reject(iteration);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}else{\n\t\t\treturn Promise.resolve(this._parseList(values));\n\t\t}\n\t}\n\t\n\t_addPlaceholder(contents){\n\t\tvar placeholder = document.createElement(\"div\");\n\t\t\n\t\tif(typeof contents === \"function\"){\n\t\t\tcontents = contents(this.cell.getComponent(), this.listEl);\n\t\t}\n\t\t\n\t\tif(contents){\n\t\t\tthis._clearList();\n\t\t\t\n\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\tplaceholder = contents;\n\t\t\t}else{\n\t\t\t\tplaceholder.classList.add(\"tabulator-edit-list-placeholder\");\n\t\t\t\tplaceholder.innerHTML = contents;\n\t\t\t}\n\t\t\t\n\t\t\tthis.listEl.appendChild(placeholder);\n\t\t\t\n\t\t\tthis._showList();\n\t\t}\n\t}\n\t\n\t_ajaxRequest(url, term){\n\t\tvar params = this.params.filterRemote ? {term:term} : {};\n\t\turl = urlBuilder(url, {}, params);\n\t\t\n\t\treturn fetch(url)\n\t\t\t.then((response)=>{\n\t\t\t\tif(response.ok) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t.catch((error)=>{\n\t\t\t\t\t\t\tconsole.warn(\"List Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \", error);\n\t\t\t\treturn Promise.reject(error);\n\t\t\t});\n\t}\n\t\n\t_uniqueColumnValues(field){\n\t\tvar output = {},\n\t\tdata = this.table.getData(this.params.valuesLookup),\n\t\tcolumn;\n\t\t\n\t\tif(field){\n\t\t\tcolumn = this.table.columnManager.getColumnByField(field);\n\t\t}else{\n\t\t\tcolumn = this.cell.getColumn()._getSelf();\n\t\t}\n\t\t\n\t\tif(column){\n\t\t\tdata.forEach((row) => {\n\t\t\t\tvar val = column.getFieldValue(row);\n\t\t\t\t\n\t\t\t\tif(!this._emptyValueCheck(val)){\n\t\t\t\t\tif(this.params.multiselect && Array.isArray(val)){\n\t\t\t\t\t\tval.forEach((item) => {\n\t\t\t\t\t\t\tif(!this._emptyValueCheck(item)){\n\t\t\t\t\t\t\t\toutput[item] = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\toutput[val] = true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"unable to find matching column to create select lookup list:\", field);\n\t\t\toutput = [];\n\t\t}\n\t\t\n\t\treturn Object.keys(output);\n\t}\n\n\t_emptyValueCheck(value){\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\";\n\t}\n\t\n\t_parseList(inputValues){\n\t\tvar data = [];\n\t\t\n\t\tif(!Array.isArray(inputValues)){\n\t\t\tinputValues = Object.entries(inputValues).map(([key, value]) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:key,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\t\n\t\tinputValues.forEach((value) => {\n\t\t\tif(typeof value !== \"object\"){\n\t\t\t\tvalue = {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:value,\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tthis._parseListItem(value, data, 0);\n\t\t});\n\t\t\n\t\tif(!this.currentItems.length && this.params.freetext){\n\t\t\tthis.input.value = this.initialValues;\n\t\t\tthis.typing = true;\n\t\t\tthis.lastAction = \"typing\";\n\t\t}\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\treturn data;    \n\t}\n\t\n\t_parseListItem(option, data, level){\n\t\tvar item = {};\n\t\t\n\t\tif(option.options){\n\t\t\titem = this._parseListGroup(option, level + 1);\n\t\t}else{\n\t\t\titem = {\n\t\t\t\tlabel:option.label,\n\t\t\t\tvalue:option.value,\n\t\t\t\titemParams:option.itemParams,\n\t\t\t\telementAttributes: option.elementAttributes,\n\t\t\t\telement:false,\n\t\t\t\tselected:false,\n\t\t\t\tvisible:true,\n\t\t\t\tlevel:level,\n\t\t\t\toriginal:option,\n\t\t\t};\n\t\t\t\n\t\t\tif(this.initialValues && this.initialValues.indexOf(option.value) > -1){\n\t\t\t\tthis._chooseItem(item, true);\n\t\t\t}\n\t\t}\n\t\t\n\t\tdata.push(item);\n\t}\n\t\n\t_parseListGroup(option, level){\n\t\tvar item = {\n\t\t\tlabel:option.label,\n\t\t\tgroup:true,\n\t\t\titemParams:option.itemParams,\n\t\t\telementAttributes:option.elementAttributes,\n\t\t\telement:false,\n\t\t\tvisible:true,\n\t\t\tlevel:level,\n\t\t\toptions:[],\n\t\t\toriginal:option,\n\t\t};\n\t\t\n\t\toption.options.forEach((child) => {\n\t\t\tthis._parseListItem(child, item.options, level);\n\t\t});\n\t\t\n\t\treturn item;\n\t}\n\t\n\t_sortOptions(options){\n\t\tvar sorter;\n\t\t\n\t\tif(this.params.sort){\n\t\t\tsorter = typeof this.params.sort === \"function\" ? this.params.sort : this._defaultSortFunction.bind(this);\n\t\t\t\n\t\t\tthis._sortGroup(sorter, options);\n\t\t}\n\t\t\n\t\treturn options;\n\t}\n\t\n\t_sortGroup(sorter, options){\n\t\toptions.sort((a,b) => {\n\t\t\treturn sorter(a.label, b.label, a.value, b.value, a.original, b.original);\n\t\t});\n\t\t\n\t\toptions.forEach((option) => {\n\t\t\tif(option.group){\n\t\t\t\tthis._sortGroup(sorter, option.options);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_defaultSortFunction(as, bs){\n\t\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\t\tvar emptyAlign = 0;\n\t\t\n\t\tif(this.params.sort === \"desc\"){\n\t\t\t[as, bs] = [bs, as];\n\t\t}\n\t\t\n\t\t//handle empty values\n\t\tif(!as && as!== 0){\n\t\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t\t}else if(!bs && bs!== 0){\n\t\t\temptyAlign =  1;\n\t\t}else{\n\t\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\t\ta = String(as).toLowerCase();\n\t\t\tb = String(bs).toLowerCase();\n\t\t\tif(a === b) return 0;\n\t\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\t\ta = a.match(rx);\n\t\t\tb = b.match(rx);\n\t\t\tL = a.length > b.length ? b.length : a.length;\n\t\t\twhile(i < L){\n\t\t\t\ta1= a[i];\n\t\t\t\tb1= b[i++];\n\t\t\t\tif(a1 !== b1){\n\t\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\t\treturn a1 - b1;\n\t\t\t\t\t}\n\t\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn a.length > b.length;\n\t\t}\n\t\t\n\t\treturn emptyAlign;\n\t}\n\t\n\t_filterOptions(){\n\t\tvar filterFunc = this.params.filterFunc || this._defaultFilterFunc,\n\t\tterm = this.input.value;\n\t\t\n\t\tif(term){\n\t\t\tthis.filtered = true;\n\t\t\t\n\t\t\tthis.data.forEach((item) => {\n\t\t\t\tthis._filterItem(filterFunc, term, item);\n\t\t\t});\n\t\t}else{\n\t\t\tthis.filtered = false;\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\t_filterItem(func, term, item){\n\t\tvar matches = false;\n\t\t\n\t\tif(!item.group){\n\t\t\titem.visible = func(term, item.label, item.value, item.original);\n\t\t}else{\n\t\t\titem.options.forEach((option) => {\n\t\t\t\tif(this._filterItem(func, term, option)){\n\t\t\t\t\tmatches = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\titem.visible = matches;\n\t\t}\n\t\t\n\t\treturn item.visible;\n\t}\n\t\n\t_defaultFilterFunc(term, label, value, item){\n\t\tterm = String(term).toLowerCase();\n\t\t\n\t\tif(label !== null && typeof label !== \"undefined\"){\n\t\t\tif(String(label).toLowerCase().indexOf(term) > -1 || String(value).toLowerCase().indexOf(term) > -1){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\t//////////////////////////////////////\n\t/////////// Display List /////////////\n\t//////////////////////////////////////\n\t\n\t_clearList(){\n\t\twhile(this.listEl.firstChild) this.listEl.removeChild(this.listEl.firstChild);\n\t\t\n\t\tthis.displayItems = [];\n\t}\n\t\n\t_buildList(data){\n\t\tthis._clearList();\n\t\t\n\t\tdata.forEach((option) => {\n\t\t\tthis._buildItem(option);\n\t\t});\n\t\t\n\t\tif(!this.displayItems.length){\n\t\t\tthis._addPlaceholder(this.params.placeholderEmpty);\n\t\t}  \n\t}\n\t\n\t_buildItem(item){\n\t\tvar el = item.element,\n\t\tcontents;\n\t\t\n\t\tif(!this.filtered || item.visible){\n\t\t\t\n\t\t\tif(!el){\n\t\t\t\tel = document.createElement(\"div\");\n\t\t\t\tel.tabIndex = 0;\n\t\t\t\t\n\t\t\t\tcontents = this.params.itemFormatter ? this.params.itemFormatter(item.label, item.value, item.original, el) : item.label;\n\t\t\t\t\n\t\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else{\n\t\t\t\t\tel.innerHTML = contents;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-group\");\n\t\t\t\t}else{\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-item\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.classList.add(\"tabulator-edit-list-group-level-\" + item.level);\n\t\t\t\t\n\t\t\t\tif(item.elementAttributes && typeof item.elementAttributes == \"object\"){\n\t\t\t\t\tfor (let key in item.elementAttributes){\n\t\t\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\t\t\tel.setAttribute(key, this.input.getAttribute(key) + item.elementAttributes[\"+\" + key]);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tel.setAttribute(key, item.elementAttributes[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.addEventListener(\"click\", this._groupClick.bind(this, item));\n\t\t\t\t}else{\n\t\t\t\t\tel.addEventListener(\"click\", this._itemClick.bind(this, item));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\t\t\t\n\t\t\t\titem.element = el;\n\t\t\t}\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tthis.listEl.appendChild(el);\n\t\t\t\n\t\t\tif(item.group){\n\t\t\t\titem.options.forEach((option) => {\n\t\t\t\t\tthis._buildItem(option);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis.displayItems.push(item);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_showList(){\n\t\tvar startVis = this.popup && this.popup.isVisible();\n\t\t\n\t\tif(this.input.parentNode){\n\t\t\tif(this.params.autocomplete && this.input.value === \"\" && !this.params.listOnEmpty){\n\t\t\t\tif(this.popup){\n\t\t\t\t\tthis.popup.hide(true);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis._setListWidth();\n\t\t\t\n\t\t\tif(!this.popup){\n\t\t\t\tthis.popup = this.edit.popup(this.listEl);\n\t\t\t}\n\t\t\t\n\t\t\tthis.popup.show(this.cell.getElement(), \"bottom\");\n\t\t\t\n\t\t\tif(!startVis){\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.popup.hideOnBlur(this._resolveValue.bind(this, true));\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_styleItem(item){\n\t\tif(item && item.element){\n\t\t\tif(item.selected){\n\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t}else{\n\t\t\t\titem.element.classList.remove(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// User Interaction ///////////\n\t//////////////////////////////////////\n\t\n\t_itemClick(item, e){\n\t\te.stopPropagation();\n\t\t\n\t\tthis._chooseItem(item);\n\t}\n\t\n\t_groupClick(item, e){\n\t\te.stopPropagation();\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t////// Current Item Management ///////\n\t//////////////////////////////////////\n\t\n\t_cancel(){\n\t\tthis.popup.hide(true);\n\t\tthis.actions.cancel();\n\t}\n\t\n\t_clearChoices(){\n\t\tthis.typing = true;\n\t\t\n\t\tthis.currentItems.forEach((item) => {\n\t\t\titem.selected = false;\n\t\t\tthis._styleItem(item);\n\t\t});\n\t\t\n\t\tthis.currentItems = [];\n\t\t\n\t\tthis.focusedItem = null;\n\t}\n\t\n\t_chooseItem(item, silent){\n\t\tvar index;\n\t\t\n\t\tthis.typing = false;\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\tindex = this.currentItems.indexOf(item);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.currentItems.splice(index, 1);\n\t\t\t\titem.selected = false;\n\t\t\t}else{\n\t\t\t\tthis.currentItems.push(item);\n\t\t\t\titem.selected = true;\n\t\t\t}\n\t\t\t\n\t\t\tthis.input.value = this.currentItems.map(item => item.label).join(\",\");\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t}else{\n\t\t\tthis.currentItems = [item];\n\t\t\titem.selected = true;\n\t\t\t\n\t\t\tthis.input.value = item.label;\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis._resolveValue();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis._focusItem(item);\n\t}\n\t\n\t_resolveValue(blur){\n\t\tvar output, initialValue;\n\t\t\n\t\tif(this.popup){\n\t\t\tthis.popup.hide(true);\n\t\t}\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\toutput = this.currentItems.map(item => item.value);\n\t\t}else{\n\t\t\tif(blur && this.params.autocomplete && this.typing){\n\t\t\t\tif(this.params.freetext || (this.params.allowEmpty && this.input.value === \"\")){\n\t\t\t\t\toutput = this.input.value;\n\t\t\t\t}else{\n\t\t\t\t\tthis.actions.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.currentItems[0]){\n\t\t\t\t\toutput = this.currentItems[0].value;\n\t\t\t\t}else{\n\t\t\t\t\tinitialValue = Array.isArray(this.initialValues) ? this.initialValues[0] : this.initialValues;\n\t\t\t\t\t\n\t\t\t\t\tif(initialValue === null || typeof initialValue === \"undefined\" || initialValue === \"\"){\n\t\t\t\t\t\toutput = initialValue;\n\t\t\t\t\t}else{\n\t\t\t\t\t\toutput = this.params.emptyValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(output === \"\"){\n\t\t\toutput = this.params.emptyValue;\n\t\t}\n\t\t\n\t\tthis.actions.success(output);\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.initialValues = output && !Array.isArray(output) ? [output] : output;\n\t\t\tthis.currentItems = [];\n\t\t}\n\t}\n\t\n}\n","import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}","//star rating\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar self = this,\n\telement = cell.getElement(),\n\tvalue = cell.getValue(),\n\tmaxStars = element.getElementsByTagName(\"svg\").length || 5,\n\tsize = element.getElementsByTagName(\"svg\")[0] ? element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\n\tstars = [],\n\tstarsHolder = document.createElement(\"div\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n\n\n\t//change star type\n\tfunction starChange(val){\n\t\tstars.forEach(function(star, i){\n\t\t\tif(i < val){\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-active\");\n\t\t\t\t}else{\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}else{\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-inactive\");\n\t\t\t\t}else{\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}\n\t\t});\n\t}\n\n\t//build stars\n\tfunction buildStar(i){\n\n\t\tvar starHolder =  document.createElement(\"span\");\n\t\tvar nextStar = star.cloneNode(true);\n\n\t\tstars.push(nextStar);\n\n\t\tstarHolder.addEventListener(\"mouseenter\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tstarChange(i);\n\t\t});\n\n\t\tstarHolder.addEventListener(\"mousemove\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\n\t\tstarHolder.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tsuccess(i);\n\t\t\telement.blur();\n\t\t});\n\n\t\tstarHolder.appendChild(nextStar);\n\t\tstarsHolder.appendChild(starHolder);\n\n\t}\n\n\t//handle keyboard navigation value change\n\tfunction changeValue(val){\n\t\tvalue = val;\n\t\tstarChange(val);\n\t}\n\n\t//style cell\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\t//style holding element\n\tstarsHolder.style.verticalAlign = \"middle\";\n\tstarsHolder.style.display = \"inline-block\";\n\tstarsHolder.style.padding = \"4px\";\n\n\t//style star\n\tstar.setAttribute(\"width\", size);\n\tstar.setAttribute(\"height\", size);\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tstarsHolder.setAttribute(key, starsHolder.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tstarsHolder.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//create correct number of stars\n\tfor(var i=1;i<= maxStars;i++){\n\t\tbuildStar(i);\n\t}\n\n\t//ensure value does not exceed number of stars\n\tvalue = Math.min(parseInt(value), maxStars);\n\n\t// set initial styling of stars\n\tstarChange(value);\n\n\tstarsHolder.addEventListener(\"mousemove\", function(e){\n\t\tstarChange(0);\n\t});\n\n\tstarsHolder.addEventListener(\"click\", function(e){\n\t\tsuccess(0);\n\t});\n\n\telement.addEventListener(\"blur\", function(e){\n\t\tcancel();\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\tchangeValue(value + 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\tchangeValue(value - 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 13: //enter\n\t\t\t\tsuccess(value);\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn starsHolder;\n}","//draggable progress bar\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar element = cell.getElement(),\n\tmax = typeof editorParams.max === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"max\")) || 100) : editorParams.max,\n\tmin = typeof editorParams.min === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"min\")) || 0) : editorParams.min,\n\tpercent = (max - min) / 100,\n\tvalue = cell.getValue() || 0,\n\thandle = document.createElement(\"div\"),\n\tbar = document.createElement(\"div\"),\n\tmouseDrag, mouseDragWidth;\n\n\t//set new value\n\tfunction updateValue(){\n\t\tvar style = window.getComputedStyle(element, null);\n\n\t\tvar calcVal = (percent * Math.round(bar.offsetWidth / ((element.clientWidth - parseInt(style.getPropertyValue(\"padding-left\")) - parseInt(style.getPropertyValue(\"padding-right\")))/100))) + min;\n\t\tsuccess(calcVal);\n\t\telement.setAttribute(\"aria-valuenow\", calcVal);\n\t\telement.setAttribute(\"aria-label\", value);\n\t}\n\n\t//style handle\n\thandle.style.position = \"absolute\";\n\thandle.style.right = \"0\";\n\thandle.style.top = \"0\";\n\thandle.style.bottom = \"0\";\n\thandle.style.width = \"5px\";\n\thandle.classList.add(\"tabulator-progress-handle\");\n\n\t//style bar\n\tbar.style.display = \"inline-block\";\n\tbar.style.position = \"relative\";\n\t// bar.style.top = \"8px\";\n\t// bar.style.bottom = \"8px\";\n\t// bar.style.left = \"4px\";\n\t// bar.style.marginRight = \"4px\";\n\tbar.style.height = \"100%\";\n\tbar.style.backgroundColor = \"#488CE9\";\n\tbar.style.maxWidth = \"100%\";\n\tbar.style.minWidth = \"0%\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tbar.setAttribute(key, bar.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tbar.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//style cell\n\telement.style.padding = \"4px 4px\";\n\n\t//make sure value is in range\n\tvalue = Math.min(parseFloat(value), max);\n\tvalue = Math.max(parseFloat(value), min);\n\n\t//workout percentage\n\tvalue = Math.round((value - min) / percent);\n\t// bar.style.right = value + \"%\";\n\tbar.style.width = value + \"%\";\n\n\telement.setAttribute(\"aria-valuemin\", min);\n\telement.setAttribute(\"aria-valuemax\", max);\n\n\tbar.appendChild(handle);\n\n\thandle.addEventListener(\"mousedown\", function(e){\n\t\tmouseDrag = e.screenX;\n\t\tmouseDragWidth = bar.offsetWidth;\n\t});\n\n\thandle.addEventListener(\"mouseover\", function(){\n\t\thandle.style.cursor = \"ew-resize\";\n\t});\n\n\telement.addEventListener(\"mousemove\", function(e){\n\t\tif(mouseDrag){\n\t\t\tbar.style.width = (mouseDragWidth + e.screenX - mouseDrag) + \"px\";\n\t\t}\n\t});\n\n\telement.addEventListener(\"mouseup\", function(e){\n\t\tif(mouseDrag){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\n\t\t\tmouseDrag = false;\n\t\t\tmouseDragWidth = false;\n\n\t\t\tupdateValue();\n\t\t}\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth + element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth - element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 9: //tab\n\t\t\tcase 13: //enter\n\t\t\t\tupdateValue();\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\n\telement.addEventListener(\"blur\", function(){\n\t\tcancel();\n\t});\n\n\treturn bar;\n}","//checkbox\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar value = cell.getValue(),\n\tinput = document.createElement(\"input\"),\n\ttristate = editorParams.tristate,\n\tindetermValue = typeof editorParams.indeterminateValue === \"undefined\" ? null : editorParams.indeterminateValue,\n\tindetermState = false,\n\ttrueValueSet = Object.keys(editorParams).includes(\"trueValue\"),\n\tfalseValueSet = Object.keys(editorParams).includes(\"falseValue\");\n\t\n\tinput.setAttribute(\"type\", \"checkbox\");\n\tinput.style.marginTop = \"5px\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = value;\n\t\n\tif(tristate && (typeof value === \"undefined\" || value === indetermValue || value === \"\")){\n\t\tindetermState = true;\n\t\tinput.indeterminate = true;\n\t}\n\t\n\tif(this.table.browser != \"firefox\" && this.table.browser != \"safari\"){ //prevent blur issue on mac firefox\n\t\tonRendered(function(){\n\t\t\tif(cell.getType() === \"cell\"){\n\t\t\t\tinput.focus({preventScroll: true});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tinput.checked = trueValueSet ? value === editorParams.trueValue : (value === true || value === \"true\" || value === \"True\" || value === 1);\n\t\n\tfunction setValue(blur){\n\t\tvar checkedValue = input.checked;\n\t\t\n\t\tif(trueValueSet && checkedValue){\n\t\t\tcheckedValue = editorParams.trueValue;\n\t\t}else if(falseValueSet && !checkedValue){\n\t\t\tcheckedValue = editorParams.falseValue;\n\t\t}\n\t\t\n\t\tif(tristate){\n\t\t\tif(!blur){\n\t\t\t\tif(input.checked && !indetermState){\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t\tinput.indeterminate = true;\n\t\t\t\t\tindetermState = true;\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else{\n\t\t\t\t\tindetermState = false;\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(indetermState){\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else{\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\treturn checkedValue;\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"change\", function(e){\n\t\tsuccess(setValue());\n\t});\n\n\tinput.addEventListener(\"blur\", function(e){\n\t\tsuccess(setValue(true));\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tif(e.keyCode == 13){\n\t\t\tsuccess(setValue());\n\t\t}\n\t\tif(e.keyCode == 27){\n\t\t\tcancel();\n\t\t}\n\t});\n\t\n\treturn input;\n}","export default function(cell, onRendered, success, cancel, params){\r\n\tvar column = cell._getSelf().column,\r\n\tlookup, editorFunc, editorParams;\r\n    \r\n\tfunction defaultLookup(cell){\r\n\t\tvar value = cell.getValue(),\r\n\t\teditor = \"input\";\r\n        \r\n\t\tswitch(typeof value){\r\n\t\t\tcase \"number\":\r\n\t\t\t\teditor = \"number\";\r\n\t\t\t\tbreak;\r\n            \r\n\t\t\tcase \"boolean\":\r\n\t\t\t\teditor = \"tickCross\";\r\n\t\t\t\tbreak;\r\n            \r\n\t\t\tcase \"string\":\r\n\t\t\t\tif(value.includes(\"\\n\")){\r\n\t\t\t\t\teditor = \"textarea\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n        \r\n\t\treturn editor;\r\n\t}\r\n    \r\n\tlookup = params.editorLookup ? params.editorLookup(cell) : defaultLookup(cell);\r\n\r\n\tif(params.paramsLookup){\r\n\t\teditorParams = typeof params.paramsLookup === \"function\" ? params.paramsLookup(lookup, cell) : params.paramsLookup[lookup];\r\n\t}\r\n\r\n\teditorFunc = this.table.modules.edit.lookupEditor(lookup, column);\r\n    \r\n\treturn  editorFunc.call(this, cell, onRendered, success, cancel, editorParams || {});\r\n}","import input from './editors/input.js';\nimport textarea from './editors/textarea.js';\nimport number from './editors/number.js';\nimport range from './editors/range.js';\nimport date from './editors/date.js';\nimport time from './editors/time.js';\nimport datetime from './editors/datetime.js';\nimport list from './editors/list.js';\nimport star from './editors/star.js';\nimport progress from './editors/progress.js';\nimport tickCross from './editors/tickCross.js';\nimport adaptable from './editors/adaptable.js';\n\nexport default {\n\tinput:input,\n\ttextarea:textarea,\n\tnumber:number,\n\trange:range,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tlist:list,\n\tstar:star,\n\tprogress:progress,\n\ttickCross:tickCross,\n\tadaptable:adaptable,\n};","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultEditors from './defaults/editors.js';\n\nexport default class Edit extends Module{\n\n\tstatic moduleName = \"edit\";\n\n\t//load defaults\n\tstatic editors = defaultEditors;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.currentCell = false; //hold currently editing cell\n\t\tthis.mouseClick = false; //hold mousedown state to prevent click binding being overridden by editor opening\n\t\tthis.recursionBlock = false; //prevent focus recursion\n\t\tthis.invalidEdit = false;\n\t\tthis.editedCells = [];\n\t\tthis.convertEmptyValues = false;\n\t\t\n\t\tthis.editors = Edit.editors;\n\t\n\t\tthis.registerTableOption(\"editTriggerEvent\", \"focus\");\n\t\tthis.registerTableOption(\"editorEmptyValue\");\n\t\tthis.registerTableOption(\"editorEmptyValueFunc\", this.emptyValueCheck.bind(this));\n\n\t\tthis.registerColumnOption(\"editable\");\n\t\tthis.registerColumnOption(\"editor\");\n\t\tthis.registerColumnOption(\"editorParams\");\n\t\tthis.registerColumnOption(\"editorEmptyValue\");\n\t\tthis.registerColumnOption(\"editorEmptyValueFunc\");\n\t\t\n\t\tthis.registerColumnOption(\"cellEditing\");\n\t\tthis.registerColumnOption(\"cellEdited\");\n\t\tthis.registerColumnOption(\"cellEditCancelled\");\n\t\t\n\t\tthis.registerTableFunction(\"getEditedCells\", this.getEditedCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellEdited\", this.clearCellEdited.bind(this));\n\t\tthis.registerTableFunction(\"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerTableFunction(\"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerTableFunction(\"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerTableFunction(\"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerTableFunction(\"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerTableFunction(\"navigateDown\", this.navigateDown.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isEdited\", this.cellIsEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearEdited\", this.clearEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"edit\", this.editCell.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"cancelEdit\", this.cellCancelEdit.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateDown\", this.navigateDown.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-init\", this.bindEditor.bind(this));\n\t\tthis.subscribe(\"cell-delete\", this.clearEdited.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.updateCellClass.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.columnDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-deleting\", this.rowDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-layout\", this.rowEditableCheck.bind(this));\n\t\tthis.subscribe(\"data-refreshing\", this.cancelEdit.bind(this));\n\t\tthis.subscribe(\"clipboard-paste\", this.pasteBlocker.bind(this));\n\t\t\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.navigatePrev.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keybindingNavigateNext.bind(this));\n\t\t\n\t\t// this.subscribe(\"keybinding-nav-left\", this.navigateLeft.bind(this, undefined));\n\t\t// this.subscribe(\"keybinding-nav-right\", this.navigateRight.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.navigateUp.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.navigateDown.bind(this, undefined));\n\n\t\tif(Object.keys(this.table.options).includes(\"editorEmptyValue\")){\n\t\t\tthis.convertEmptyValues = true;\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Paste Negation //////////\n\t///////////////////////////////////\n\t\n\tpasteBlocker(e){\n\t\tif(this.currentCell){\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Keybinding Functions ///////\n\t///////////////////////////////////\n\t\n\tkeybindingNavigateNext(e){\n\t\tvar cell = this.currentCell,\n\t\tnewRow = this.options(\"tabEndNewRow\");\n\n\t\tif(cell){\n\t\t\tif(!this.navigateNext(cell, e)){\n\t\t\t\tif(newRow){\n\t\t\t\t\tcell.getElement().firstChild.blur();\n\t\t\t\t\t\n\t\t\t\t\tif(!this.invalidEdit){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(newRow === true){\n\t\t\t\t\t\t\tnewRow = this.table.addRow({});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(typeof newRow == \"function\"){\n\t\t\t\t\t\t\t\tnewRow = this.table.addRow(newRow(cell.row.getComponent()));\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tnewRow = this.table.addRow(Object.assign({}, newRow));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tnewRow.then(() => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tcell.getComponent().navigateNext();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Cell Functions //////////\n\t///////////////////////////////////\n\t\n\tcellIsEdited(cell){\n\t\treturn !! cell.modules.edit && cell.modules.edit.edited;\n\t}\n\t\n\tcellCancelEdit(cell){\n\t\tif(cell === this.currentCell){\n\t\t\tthis.table.modules.edit.cancelEdit();\n\t\t}else{\n\t\t\tconsole.warn(\"Cancel Editor Error - This cell is not currently being edited \");\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tupdateCellClass(cell){\n\t\tif(this.allowEdit(cell)) {\n\t\t\tcell.getElement().classList.add(\"tabulator-editable\");\n\t\t}\n\t\telse {\n\t\t\tcell.getElement().classList.remove(\"tabulator-editable\");\n\t\t}\n\t}\n\t\n\tclearCellEdited(cells){\n\t\tif(!cells){\n\t\t\tcells = this.table.modules.edit.getEditedCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.table.modules.edit.clearEdited(cell._getSelf());\n\t\t});\n\t}\n\t\n\tnavigatePrev(cell = this.currentCell, e){\n\t\tvar nextCell, prevRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateLeft();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tprevRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(prevRow){\n\t\t\t\t\tnextCell = this.findPrevEditableCell(prevRow, prevRow.cells.length);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateNext(cell = this.currentCell, e){\n\t\tvar nextCell, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateRight();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(nextRow){\n\t\t\t\t\tnextCell = this.findNextEditableCell(nextRow, -1);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateLeft(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findPrevEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateRight(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findNextEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateUp(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateDown(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tfindNextEditableCell(row, index){\n\t\tvar nextCell = false;\n\t\t\n\t\tif(index < row.cells.length-1){\n\t\t\tfor(var i = index+1; i < row.cells.length; i++){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tnextCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn nextCell;\n\t}\n\t\n\tfindPrevEditableCell(row, index){\n\t\tvar prevCell = false;\n\t\t\n\t\tif(index > 0){\n\t\t\tfor(var i = index-1; i >= 0; i--){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tprevCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn prevCell;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.editor !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\tcolumnDeleteCheck(column){\n\t\tif(this.currentCell && this.currentCell.column === column){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\t\n\trowDeleteCheck(row){\n\t\tif(this.currentCell && this.currentCell.row === row){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\t\n\trowEditableCheck(row){\n\t\trow.getCells().forEach((cell) => {\n\t\t\tif(cell.column.modules.edit && typeof cell.column.modules.edit.check === \"function\"){\n\t\t\t\tthis.updateCellClass(cell);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//initialize column editor\n\tinitializeColumn(column){\n\t\tvar convertEmpty = Object.keys(column.definition).includes(\"editorEmptyValue\");\n\n\t\tvar config = {\n\t\t\teditor:false,\n\t\t\tblocked:false,\n\t\t\tcheck:column.definition.editable,\n\t\t\tparams:column.definition.editorParams || {},\n\t\t\tconvertEmptyValues:convertEmpty,\n\t\t\teditorEmptyValue:column.definition.editorEmptyValue,\n\t\t\teditorEmptyValueFunc:column.definition.editorEmptyValueFunc,\n\t\t};\n\t\t\n\t\t//set column editor\n\t\tconfig.editor = this.lookupEditor(column.definition.editor, column);\n\t\t\n\t\tif(config.editor){\n\t\t\tcolumn.modules.edit = config;\n\t\t}\n\t}\n\n\tlookupEditor(editor, column){\n\t\tvar editorFunc;\n\n\t\tswitch(typeof editor){\n\t\t\tcase \"string\":\n\t\t\t\tif(this.editors[editor]){\n\t\t\t\t\teditorFunc = this.editors[editor];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Editor Error - No such editor found: \", editor);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\teditorFunc = editor;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"boolean\":\n\t\t\t\tif(editor === true){\n\t\t\t\t\tif(typeof column.definition.formatter !== \"function\"){\n\t\t\t\t\t\tif(this.editors[column.definition.formatter]){\n\t\t\t\t\t\t\teditorFunc = this.editors[column.definition.formatter];\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\teditorFunc = this.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", column.definition.formatter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn editorFunc;\n\t}\n\t\n\tgetCurrentCell(){\n\t\treturn this.currentCell ? this.currentCell.getComponent() : false;\n\t}\n\t\n\tclearEditor(cancel){\n\t\tvar cell = this.currentCell,\n\t\tcellEl;\n\t\t\n\t\tthis.invalidEdit = false;\n\t\t\n\t\tif(cell){\n\t\t\tthis.currentCell = false;\n\t\t\t\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tthis.dispatch(\"edit-editor-clear\", cell, cancel);\n\t\t\t\n\t\t\tcellEl.classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\twhile(cellEl.firstChild) cellEl.removeChild(cellEl.firstChild);\n\t\t\t\n\t\t\tcell.row.getElement().classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\tcell.table.element.classList.remove(\"tabulator-editing\");\n\t\t}\n\t}\n\t\n\tcancelEdit(){\n\t\tif(this.currentCell){\n\t\t\tvar cell = this.currentCell;\n\t\t\tvar component = this.currentCell.getComponent();\n\t\t\t\n\t\t\tthis.clearEditor(true);\n\t\t\tcell.setValueActual(cell.getValue());\n\t\t\tcell.cellRendered();\n\t\t\t\n\t\t\tif(cell.column.definition.editor == \"textarea\" || cell.column.definition.variableHeight){\n\t\t\t\tcell.row.normalizeHeight(true);\n\t\t\t}\n\t\t\t\n\t\t\tif(cell.column.definition.cellEditCancelled){\n\t\t\t\tcell.column.definition.cellEditCancelled.call(this.table, component);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"edit-cancelled\", cell);\n\t\t\tthis.dispatchExternal(\"cellEditCancelled\", component);\n\t\t}\n\t}\n\t\n\t//return a formatted value for a cell\n\tbindEditor(cell){\n\t\tif(cell.column.modules.edit){\n\t\t\tvar self = this,\n\t\t\telement = cell.getElement(true);\n\t\t\t\n\t\t\tthis.updateCellClass(cell);\n\t\t\telement.setAttribute(\"tabindex\", 0);\n\t\t\t\n\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif (e.button === 2) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}else{\n\t\t\t\t\tself.mouseClick = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(this.options(\"editTriggerEvent\") === \"dblclick\"){\n\t\t\t\telement.addEventListener(\"dblclick\", function(e){\n\t\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(this.options(\"editTriggerEvent\") === \"focus\" || this.options(\"editTriggerEvent\") === \"click\"){\n\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tif(this.options(\"editTriggerEvent\") === \"focus\"){\n\t\t\t\telement.addEventListener(\"focus\", function(e){\n\t\t\t\t\tif(!self.recursionBlock){\n\t\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfocusCellNoEvent(cell, block){\n\t\tthis.recursionBlock = true;\n\t\t\n\t\tif(!(block && this.table.browser === \"ie\")){\n\t\t\tcell.getElement().focus({preventScroll: true});\n\t\t}\n\t\t\n\t\tthis.recursionBlock = false;\n\t}\n\t\n\teditCell(cell, forceEdit){\n\t\tthis.focusCellNoEvent(cell);\n\t\tthis.edit(cell, false, forceEdit);\n\t}\n\t\n\tfocusScrollAdjust(cell){\n\t\tif(this.table.rowManager.getRenderMode() == \"virtual\"){\n\t\t\tvar topEdge = this.table.rowManager.element.scrollTop,\n\t\t\tbottomEdge = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\n\t\t\trowEl = cell.row.getElement();\n\t\t\t\n\t\t\tif(rowEl.offsetTop < topEdge){\n\t\t\t\tthis.table.rowManager.element.scrollTop -= (topEdge - rowEl.offsetTop);\n\t\t\t}else{\n\t\t\t\tif(rowEl.offsetTop + rowEl.offsetHeight  > bottomEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollTop += (rowEl.offsetTop + rowEl.offsetHeight - bottomEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar leftEdge = this.table.rowManager.element.scrollLeft,\n\t\t\trightEdge = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\tleftEdge += parseInt(this.table.modules.frozenColumns.leftMargin || 0);\n\t\t\t\trightEdge -= parseInt(this.table.modules.frozenColumns.rightMargin || 0);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleftEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t\trightEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t}\n\t\t\t\n\t\t\tif(cellEl.offsetLeft < leftEdge){\n\t\t\t\tthis.table.rowManager.element.scrollLeft -= (leftEdge - cellEl.offsetLeft);\n\t\t\t}else{\n\t\t\t\tif(cellEl.offsetLeft + cellEl.offsetWidth  > rightEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollLeft += (cellEl.offsetLeft + cellEl.offsetWidth - rightEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tallowEdit(cell) {\n\t\tvar check = cell.column.modules.edit ? true : false;\n\t\t\n\t\tif(cell.column.modules.edit){\n\t\t\tswitch(typeof cell.column.modules.edit.check){\n\t\t\t\tcase \"function\":\n\t\t\t\t\tif(cell.row.initialized){\n\t\t\t\t\t\tcheck = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"string\":\n\t\t\t\t\tcheck = !!cell.row.data[cell.column.modules.edit.check];\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tcheck = cell.column.modules.edit.check;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn check;\n\t}\n\t\n\tedit(cell, e, forceEdit){\n\t\tvar self = this,\n\t\tallowEdit = true,\n\t\trendered = function(){},\n\t\telement = cell.getElement(),\n\t\teditFinished = false,\n\t\tcellEditor, component, params;\n\n\t\t//prevent editing if another cell is refusing to leave focus (eg. validation fail)\n\t\t\n\t\tif(this.currentCell){\n\t\t\tif(!this.invalidEdit && this.currentCell !== cell){\n\t\t\t\tthis.cancelEdit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//handle successful value change\n\t\tfunction success(value){\n\t\t\tif(self.currentCell === cell && !editFinished){\n\t\t\t\tvar valid = self.chain(\"edit-success\", [cell, value], true, true);\n\n\t\t\t\tif(valid === true || self.table.options.validationMode === \"highlight\"){\n\n\t\t\t\t\teditFinished = true;\n\n\t\t\t\t\tself.clearEditor();\n\t\t\t\t\t\n\t\t\t\t\tif(!cell.modules.edit){\n\t\t\t\t\t\tcell.modules.edit = {};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.modules.edit.edited = true;\n\t\t\t\t\t\n\t\t\t\t\tif(self.editedCells.indexOf(cell) == -1){\n\t\t\t\t\t\tself.editedCells.push(cell);\n\t\t\t\t\t}\n\n\t\t\t\t\tvalue = self.transformEmptyValues(value, cell);\n\t\t\t\t\t\n\t\t\t\t\tcell.setValue(value, true);\n\n\t\t\t\t\treturn valid === true;\n\t\t\t\t}else{\n\t\t\t\t\teditFinished = true;\n\t\t\t\t\tself.invalidEdit = true;\n\t\t\t\t\tself.focusCellNoEvent(cell, true);\n\t\t\t\t\trendered();\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\teditFinished = false;\n\t\t\t\t\t}, 10);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call success on a cell that is no longer being edited\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//handle aborted edit\n\t\tfunction cancel(){\n\t\t\t// editFinished = true;\n\n\t\t\tif(self.currentCell === cell && !editFinished){\n\t\t\t\tself.cancelEdit();\n\t\t\t}else{\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call cancel on a cell that is no longer being edited\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\trendered = callback;\n\t\t}\n\t\t\n\t\tif(!cell.column.modules.edit.blocked){\n\t\t\tif(e){\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\t\n\t\t\tallowEdit = this.allowEdit(cell);\n\t\t\t\n\t\t\tif(allowEdit || forceEdit){\n\t\t\t\tself.cancelEdit();\n\t\t\t\t\n\t\t\t\tself.currentCell = cell;\n\t\t\t\t\n\t\t\t\tthis.focusScrollAdjust(cell);\n\t\t\t\t\n\t\t\t\tcomponent = cell.getComponent();\n\t\t\t\t\n\t\t\t\tif(this.mouseClick){\n\t\t\t\t\tthis.mouseClick = false;\n\t\t\t\t\t\n\t\t\t\t\tif(cell.column.definition.cellClick){\n\t\t\t\t\t\tcell.column.definition.cellClick.call(this.table, e, component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(cell.column.definition.cellEditing){\n\t\t\t\t\tcell.column.definition.cellEditing.call(this.table, component);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"cell-editing\", cell);\n\t\t\t\tthis.dispatchExternal(\"cellEditing\", component);\n\t\t\t\t\n\t\t\t\tparams = typeof cell.column.modules.edit.params === \"function\" ? cell.column.modules.edit.params(component) : cell.column.modules.edit.params;\n\t\t\t\t\n\t\t\t\tcellEditor = cell.column.modules.edit.editor.call(self, component, onRendered, success, cancel, params);\n\t\t\t\t\n\t\t\t\t//if editor returned, add to DOM, if false, abort edit\n\t\t\t\tif(this.currentCell && cellEditor !== false){\n\t\t\t\t\tif(cellEditor instanceof Node){\n\t\t\t\t\t\telement.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.row.getElement().classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.table.element.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\t\t\t\telement.appendChild(cellEditor);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//trigger onRendered Callback\n\t\t\t\t\t\trendered();\n\t\t\t\t\t\t\n\t\t\t\t\t\t//prevent editing from triggering rowClick event\n\t\t\t\t\t\tvar children = element.children;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\t\t\tchildren[i].addEventListener(\"click\", function(e){\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", cellEditor);\n\t\t\t\t\t\tthis.blur(element);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.blur(element);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tthis.mouseClick = false;\n\t\t\t\tthis.blur(element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tthis.mouseClick = false;\n\t\t\tthis.blur(element);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\temptyValueCheck(value){\n\t\treturn value === \"\" || value === null || typeof value === \"undefined\";\n\t}\n\n\ttransformEmptyValues(value, cell){\n\t\tvar mod = cell.column.modules.edit, \n\t\tconvert = mod.convertEmptyValues || this.convertEmptyValues,\n\t\tcheckFunc;\n\t\t\n\t\tif(convert){\n\t\t\tcheckFunc = mod.editorEmptyValueFunc || this.options(\"editorEmptyValueFunc\");\n\n\t\t\tif(checkFunc && checkFunc(value)){\n\t\t\t\tvalue = mod.convertEmptyValues ? mod.editorEmptyValue : this.options(\"editorEmptyValue\");\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn value;\n\t}\n\t\n\tblur(element){\n\t\tif(!this.confirm(\"edit-blur\", [element]) ){\n\t\t\telement.blur();\n\t\t}\n\t}\n\t\n\tgetEditedCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.editedCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearEdited(cell){\n\t\tvar editIndex;\n\t\t\n\t\tif(cell.modules.edit && cell.modules.edit.edited){\n\t\t\tcell.modules.edit.edited = false;\n\t\t\t\n\t\t\tthis.dispatch(\"edit-edited-clear\", cell);\n\t\t}\n\t\t\n\t\teditIndex = this.editedCells.indexOf(cell);\n\t\t\n\t\tif(editIndex > -1){\n\t\t\tthis.editedCells.splice(editIndex, 1);\n\t\t}\n\t}\n}","export default class ExportRow{\n\tconstructor(type, columns, component, indent){\n\t\tthis.type = type;\n\t\tthis.columns = columns;\n\t\tthis.component = component || false;\n\t\tthis.indent = indent || 0;\n\t}\n}","export default class ExportColumn{\n\tconstructor(value, component, width, height, depth){\n\t\tthis.value = value;\n\t\tthis.component = component || false;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = depth;\n\t}\n}","export default {\r\n\r\n};","export default {\r\n\tvisible:function(){\r\n\t\treturn this.rowManager.getVisibleRows(false, true);\r\n\t},\r\n\tall:function(){\r\n\t\treturn this.rowManager.rows;\r\n\t},\r\n\tselected:function(){\r\n\t\treturn this.modules.selectRow.selectedRows;\r\n\t},\r\n\tactive:function(){\r\n\t\tif(this.options.pagination){\r\n\t\t\treturn this.rowManager.getDisplayRows(this.rowManager.displayRows.length - 2);\r\n\t\t}else{\r\n\t\t\treturn this.rowManager.getDisplayRows();\r\n\t\t}\r\n\t},\r\n};","import Module from '../../core/Module.js';\n\nimport ExportRow from './ExportRow.js';\nimport ExportColumn from './ExportColumn.js';\n\nimport columnLookups from './defaults/columnLookups.js';\nimport rowLookups from './defaults/rowLookups.js';\n\nexport default class Export extends Module{\n\n\tstatic moduleName = \"export\";\n\n\tstatic columnLookups = columnLookups;\n\tstatic rowLookups = rowLookups;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {};\n\t\tthis.cloneTableStyle = true;\n\t\tthis.colVisProp = \"\";\n\t\tthis.colVisPropAttach = \"\";\n\t\t\n\t\tthis.registerTableOption(\"htmlOutputConfig\", false); //html output config\n\t\t\n\t\tthis.registerColumnOption(\"htmlOutput\");\n\t\tthis.registerColumnOption(\"titleHtmlOutput\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.registerTableFunction(\"getHtml\", this.getHtml.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tgenerateExportList(config, style, range, colVisProp){\n\t\tvar headers, body, columns, colLookup;\n\n\t\tthis.cloneTableStyle = style;\n\t\tthis.config = config || {};\n\t\tthis.colVisProp = colVisProp;\n\t\tthis.colVisPropAttach = this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1);\n\n\t\tcolLookup = Export.columnLookups[range];\n\n\t\tif(colLookup){\n\t\t\tcolumns = colLookup.call(this.table);\n\t\t\tcolumns = columns.filter(col => this.columnVisCheck(col));\n\t\t}\n\n\t\theaders = this.config.columnHeaders !== false ? this.headersToExportRows(this.generateColumnGroupHeaders(columns)) : [];\n\n\t\tif(columns){\n\t\t\tcolumns = columns.map(col => col.getComponent());\n\t\t}\n\t\t\n\t\tbody = this.bodyToExportRows(this.rowLookup(range), columns);\n\n\t\treturn headers.concat(body);\n\t}\n\t\n\tgenerateTable(config, style, range, colVisProp){\n\t\tvar list = this.generateExportList(config, style, range, colVisProp);\n\t\t\n\t\treturn this.generateTableElement(list);\n\t}\n\t\n\trowLookup(range){\n\t\tvar rows = [], \n\t\trowLookup;\n\t\t\n\t\tif(typeof range == \"function\"){\n\t\t\trange.call(this.table).forEach((row) =>{\n\t\t\t\trow = this.table.rowManager.findRow(row);\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trows.push(row);\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\trowLookup = Export.rowLookups[range] || Export.rowLookups[\"active\"];\n\n\t\t\trows = rowLookup.call(this.table);\n\t\t}\n\t\t\n\t\treturn Object.assign([], rows);\n\t}\n\t\n\tgenerateColumnGroupHeaders(columns){\n\t\tvar output = [];\n\t\t\n\t\tif (!columns) {\n\t\t\tcolumns = this.config.columnGroups !== false ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex;\n\t\t}\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\tvar colData = this.processColumnGroup(column);\n\t\t\t\n\t\t\tif(colData){\n\t\t\t\toutput.push(colData);\n\t\t\t}\n\t\t});\n\n\n\n\t\treturn output;\n\t}\n\t\n\tprocessColumnGroup(column){\n\t\tvar subGroups = column.columns,\n\t\tmaxDepth = 0,\n\t\ttitle = column.definition[\"title\" + (this.colVisPropAttach)] || column.definition.title;\n\t\t\n\t\tvar groupData = {\n\t\t\ttitle:title,\n\t\t\tcolumn:column,\n\t\t\tdepth:1,\n\t\t};\n\t\t\n\t\tif(subGroups.length){\n\t\t\tgroupData.subGroups = [];\n\t\t\tgroupData.width = 0;\n\t\t\t\n\t\t\tsubGroups.forEach((subGroup) => {\n\t\t\t\tvar subGroupData = this.processColumnGroup(subGroup);\n\t\t\t\t\n\t\t\t\tif(subGroupData){\n\t\t\t\t\tgroupData.width += subGroupData.width;\n\t\t\t\t\tgroupData.subGroups.push(subGroupData);\n\t\t\t\t\t\n\t\t\t\t\tif(subGroupData.depth > maxDepth){\n\t\t\t\t\t\tmaxDepth = subGroupData.depth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tgroupData.depth += maxDepth;\n\t\t\t\n\t\t\tif(!groupData.width){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.columnVisCheck(column)){\n\t\t\t\tgroupData.width = 1;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn groupData;\n\t}\n\t\n\tcolumnVisCheck(column){\n\t\tvar visProp = column.definition[this.colVisProp];\n\n\t\tif(this.config.rowHeaders === false && column.isRowHeader){\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tif(typeof visProp === \"function\"){\n\t\t\tvisProp = visProp.call(this.table, column.getComponent());\n\t\t}\n\n\t\tif(visProp === false || visProp === true){\n\t\t\treturn visProp;\n\t\t}\n\n\t\treturn column.visible && column.field;\n\t}\n\t\n\theadersToExportRows(columns){\n\t\tvar headers = [],\n\t\theaderDepth = 0,\n\t\texportRows = [];\n\t\t\n\t\tfunction parseColumnGroup(column, level){\n\t\t\t\n\t\t\tvar depth = headerDepth - level;\n\t\t\t\n\t\t\tif(typeof headers[level] === \"undefined\"){\n\t\t\t\theaders[level] = [];\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.height = column.subGroups ? 1 : (depth - column.depth) + 1;\n\t\t\t\n\t\t\theaders[level].push(column);\n\t\t\t\n\t\t\tif(column.height > 1){\n\t\t\t\tfor(let i = 1; i < column.height; i ++){\n\t\t\t\t\t\n\t\t\t\t\tif(typeof headers[level + i] === \"undefined\"){\n\t\t\t\t\t\theaders[level + i] = [];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\theaders[level + i].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.width > 1){\n\t\t\t\tfor(let i = 1; i < column.width; i ++){\n\t\t\t\t\theaders[level].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.subGroups){\n\t\t\t\tcolumn.subGroups.forEach(function(subGroup){\n\t\t\t\t\tparseColumnGroup(subGroup, level+1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t//calculate maximum header depth\n\t\tcolumns.forEach(function(column){\n\t\t\tif(column.depth > headerDepth){\n\t\t\t\theaderDepth = column.depth;\n\t\t\t}\n\t\t});\n\t\t\n\t\tcolumns.forEach(function(column){\n\t\t\tparseColumnGroup(column,0);\n\t\t});\n\t\t\n\t\theaders.forEach((header) => {\n\t\t\tvar columns = [];\n\t\t\t\n\t\t\theader.forEach((col) => {\n\t\t\t\tif(col){\n\t\t\t\t\tlet title = typeof col.title === \"undefined\" ? \"\" : col.title;\n\t\t\t\t\tcolumns.push(new ExportColumn(title, col.column.getComponent(), col.width, col.height, col.depth));\n\t\t\t\t}else{\n\t\t\t\t\tcolumns.push(null);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\texportRows.push(new ExportRow(\"header\", columns));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tbodyToExportRows(rows, columns = []){\n\t\tvar exportRows = [];\n\t\t\n\t\tif (columns.length === 0) {\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif (this.columnVisCheck(column)) {\n\t\t\t\t\tcolumns.push(column.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(this.config.columnCalcs !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized){\n\t\t\t\trows.unshift(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized){\n\t\t\t\trows.push(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t}\n\n\t\trows = rows.filter((row) => {\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn this.config.rowGroups !== false;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\treturn this.config.columnCalcs !== false;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\treturn !(this.table.options.dataTree && this.config.dataTree === false && row.modules.dataTree.parent);\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\trows.forEach((row, i) => {\n\t\t\tvar rowData = row.getData(this.colVisProp);\n\t\t\tvar exportCols = [];\n\t\t\tvar indent = 0;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\tindent = row.level;\n\t\t\t\t\texportCols.push(new ExportColumn(row.key, row.getComponent(), columns.length, 1));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\" :\n\t\t\t\tcase \"row\" :\n\t\t\t\t\tcolumns.forEach((col) => {\n\t\t\t\t\t\texportCols.push(new ExportColumn(col._column.getFieldValue(rowData), col, 1, 1));\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\t\tindent = row.modules.dataTree.index;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\texportRows.push(new ExportRow(row.type, exportCols, row.getComponent(), indent));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tgenerateTableElement(list){\n\t\tvar table = document.createElement(\"table\"),\n\t\theaderEl = document.createElement(\"thead\"),\n\t\tbodyEl = document.createElement(\"tbody\"),\n\t\tstyles = this.lookupTableStyles(),\n\t\trowFormatter = this.table.options[\"rowFormatter\" + (this.colVisPropAttach)],\n\t\tsetup = {};\n\t\t\n\t\tsetup.rowFormatter = rowFormatter !== null ? rowFormatter : this.table.options.rowFormatter;\n\t\t\n\t\tif(this.table.options.dataTree &&this.config.dataTree !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tsetup.treeElementField = this.table.modules.dataTree.elementField;\n\t\t}\n\t\t\n\t\t//assign group header formatter\n\t\tsetup.groupHeader = this.table.options[\"groupHeader\" + (this.colVisPropAttach)];\n\t\t\n\t\tif(setup.groupHeader && !Array.isArray(setup.groupHeader)){\n\t\t\tsetup.groupHeader = [setup.groupHeader];\n\t\t}\n\t\t\n\t\ttable.classList.add(\"tabulator-print-table\");\n\t\t\n\t\tthis.mapElementStyles(this.table.columnManager.getHeadersElement(), headerEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\n\t\tif(list.length > 1000){\n\t\t\tconsole.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");\n\t\t}\n\t\t\n\t\tlist.forEach((row, i) => {\n\t\t\tlet rowEl;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"header\":\n\t\t\t\t\theaderEl.appendChild(this.generateHeaderElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"group\":\n\t\t\t\t\tbodyEl.appendChild(this.generateGroupElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\tbodyEl.appendChild(this.generateCalcElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\trowEl = this.generateRowElement(row, setup, styles);\n\t\t\t\t\n\t\t\t\t\tthis.mapElementStyles(((i % 2) && styles.evenRow) ? styles.evenRow : styles.oddRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\t\t\tbodyEl.appendChild(rowEl);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(headerEl.innerHTML){\n\t\t\ttable.appendChild(headerEl);\n\t\t}\n\t\t\n\t\ttable.appendChild(bodyEl);\n\t\t\n\t\t\n\t\tthis.mapElementStyles(this.table.element, table, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]);\n\t\treturn table;\n\t}\n\t\n\tlookupTableStyles(){\n\t\tvar styles = {};\n\t\t\n\t\t//lookup row styles\n\t\tif(this.cloneTableStyle && window.getComputedStyle){\n\t\t\tstyles.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");\n\t\t\tstyles.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0];\n\t\t\t\n\t\t\tif(styles.firstRow){\n\t\t\t\tstyles.styleCells = styles.firstRow.getElementsByClassName(\"tabulator-cell\");\n\t\t\t\tstyles.styleRowHeader = styles.firstRow.getElementsByClassName(\"tabulator-row-header\")[0];\n\t\t\t\tstyles.firstCell = styles.styleCells[0];\n\t\t\t\tstyles.lastCell = styles.styleCells[styles.styleCells.length - 1];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn styles;\n\t}\n\t\n\tgenerateHeaderElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trow.columns.forEach((column) => {\n\t\t\tif(column){\n\t\t\t\tvar cellEl = document.createElement(\"th\");\n\t\t\t\tvar classNames = column.component._column.definition.cssClass ? column.component._column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tcellEl.colSpan = column.width;\n\t\t\t\tcellEl.rowSpan = column.height;\n\t\t\t\t\n\t\t\t\tcellEl.innerHTML = column.value;\n\t\t\t\t\n\t\t\t\tif(this.cloneTableStyle){\n\t\t\t\t\tcellEl.style.boxSizing = \"border-box\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"text-align\", \"border-left\", \"border-right\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\t\tthis.mapElementStyles(column.component._column.contentElement, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\n\t\t\t\tif(column.component._column.visible){\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"width\"]);\n\t\t\t\t}else{\n\t\t\t\t\tif(column.component._column.definition.width){\n\t\t\t\t\t\tcellEl.style.width = column.component._column.definition.width + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.component._column.parent && column.component._column.parent.isGroup){\n\t\t\t\t\tthis.mapElementStyles(column.component._column.parent.groupElement, cellEl, [\"border-top\"]);\n\t\t\t\t}else{\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"border-top\"]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.component._column.isGroup){\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"border-bottom\"]);\n\t\t\t\t}else{\n\t\t\t\t\tthis.mapElementStyles(this.table.columnManager.getElement(), cellEl, [\"border-bottom\"]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateGroupElement(row, setup, styles){\n\t\t\n\t\tvar rowEl = document.createElement(\"tr\"),\n\t\tcellEl = document.createElement(\"td\"),\n\t\tgroup = row.columns[0];\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\tif(setup.groupHeader && setup.groupHeader[row.indent]){\n\t\t\tgroup.value = setup.groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t}else{\n\t\t\tif(setup.groupHeader !== false){\n\t\t\t\tgroup.value = row.component._group.generator(group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcellEl.colSpan = group.width;\n\t\tcellEl.innerHTML = group.value;\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-group\");\n\t\trowEl.classList.add(\"tabulator-group-level-\" + row.indent);\n\t\t\n\t\tif(group.component.isVisible()){\n\t\t\trowEl.classList.add(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tthis.mapElementStyles(styles.firstGroup, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\tthis.mapElementStyles(styles.firstGroup, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\n\t\trowEl.appendChild(cellEl);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateCalcElement(row, setup, styles){\n\t\tvar rowEl = this.generateRowElement(row, setup, styles);\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-calcs\");\n\t\tthis.mapElementStyles(styles.calcRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateRowElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\trow.columns.forEach((col, i) => {\n\t\t\tif(col){\n\t\t\t\tvar cellEl = document.createElement(\"td\"),\n\t\t\t\tcolumn = col.component._column,\n\t\t\t\ttable =  this.table,\n\t\t\t\tindex = table.columnManager.findColumnIndex(column),\n\t\t\t\tvalue = col.value,\n\t\t\t\tcellStyle, styleProps;\n\t\t\t\t\n\t\t\t\tvar cellWrapper = {\n\t\t\t\t\tmodules:{},\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn cellEl;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\treturn row.component.getData();\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn row.component;\n\t\t\t\t\t},\n\t\t\t\t\tgetTable:function(){\n\t\t\t\t\t\treturn table;\n\t\t\t\t\t},\n\t\t\t\t\tgetComponent:function(){\n\t\t\t\t\t\treturn cellWrapper;\n\t\t\t\t\t},\n\t\t\t\t\tcolumn:column,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvar classNames = column.definition.cssClass ? column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(this.table.modExists(\"format\") && this.config.formatCells !== false){\n\t\t\t\t\tvalue = this.table.modules.format.formatExportValue(cellWrapper, this.colVisProp);\n\t\t\t\t}else{\n\t\t\t\t\tswitch(typeof value){\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\tvalue = value !== null ? JSON.stringify(value) : \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(value instanceof Node){\n\t\t\t\t\tcellEl.appendChild(value);\n\t\t\t\t}else{\n\t\t\t\t\tcellEl.innerHTML = value;\n\t\t\t\t}\n\n\t\t\t\tstyleProps = [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"text-align\"];\n\n\t\t\t\tif(column.isRowHeader){\n\t\t\t\t\tcellStyle = styles.styleRowHeader;\n\t\t\t\t\tstyleProps.push(\"background-color\");\n\t\t\t\t}else{\n\t\t\t\t\tcellStyle = styles.styleCells && styles.styleCells[index] ? styles.styleCells[index] : styles.firstCell;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(cellStyle){\n\t\t\t\t\tthis.mapElementStyles(cellStyle, cellEl, styleProps);\n\t\t\t\t\t\n\t\t\t\t\tif(column.definition.align){\n\t\t\t\t\t\tcellEl.style.textAlign = column.definition.align;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\tif((setup.treeElementField && setup.treeElementField == column.field) || (!setup.treeElementField && i == 0)){\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.controlEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.branchEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t\t\n\t\t\t\tif(cellWrapper.modules.format && cellWrapper.modules.format.renderedCallback){\n\t\t\t\t\tcellWrapper.modules.format.renderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(setup.rowFormatter && row.type === \"row\" && this.config.formatCells !== false){\n\t\t\tlet formatComponent = Object.assign(row.component);\n\n\t\t\tformatComponent.getElement = function(){return rowEl;};\n\n\t\t\tsetup.rowFormatter(row.component);\n\t\t}\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateHTMLTable(list){\n\t\tvar holder = document.createElement(\"div\");\n\t\t\n\t\tholder.appendChild(this.generateTableElement(list));\n\t\t\n\t\treturn holder.innerHTML;\n\t}\n\t\n\tgetHtml(visible, style, config, colVisProp){\n\t\tvar list = this.generateExportList(config || this.table.options.htmlOutputConfig, style, visible, colVisProp || \"htmlOutput\");\n\t\t\n\t\treturn this.generateHTMLTable(list);\n\t}\n\t\n\tmapElementStyles(from, to, props){\n\t\tif(this.cloneTableStyle && from && to){\n\t\t\t\n\t\t\tvar lookup = {\n\t\t\t\t\"background-color\" : \"backgroundColor\",\n\t\t\t\t\"color\" : \"fontColor\",\n\t\t\t\t\"width\" : \"width\",\n\t\t\t\t\"font-weight\" : \"fontWeight\",\n\t\t\t\t\"font-family\" : \"fontFamily\",\n\t\t\t\t\"font-size\" : \"fontSize\",\n\t\t\t\t\"text-align\" : \"textAlign\",\n\t\t\t\t\"border-top\" : \"borderTop\",\n\t\t\t\t\"border-left\" : \"borderLeft\",\n\t\t\t\t\"border-right\" : \"borderRight\",\n\t\t\t\t\"border-bottom\" : \"borderBottom\",\n\t\t\t\t\"padding-top\" : \"paddingTop\",\n\t\t\t\t\"padding-left\" : \"paddingLeft\",\n\t\t\t\t\"padding-right\" : \"paddingRight\",\n\t\t\t\t\"padding-bottom\" : \"paddingBottom\",\n\t\t\t};\n\t\t\t\n\t\t\tif(window.getComputedStyle){\n\t\t\t\tvar fromStyle = window.getComputedStyle(from);\n\n\t\t\t\tprops.forEach(function(prop){\n\t\t\t\t\tif(!to.style[lookup[prop]]){\n\t\t\t\t\t\tto.style[lookup[prop]] = fromStyle.getPropertyValue(prop);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n","export default {\n\n\t//equal to\n\t\"=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal == filterVal ? true : false;\n\t},\n\n\t//less than\n\t\"<\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal < filterVal ? true : false;\n\t},\n\n\t//less than or equal to\n\t\"<=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal <= filterVal ? true : false;\n\t},\n\n\t//greater than\n\t\">\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal > filterVal ? true : false;\n\t},\n\n\t//greater than or equal to\n\t\">=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal >= filterVal ? true : false;\n\t},\n\n\t//not equal to\n\t\"!=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal != filterVal ? true : false;\n\t},\n\n\t\"regex\":function(filterVal, rowVal, rowData, filterParams){\n\n\t\tif(typeof filterVal == \"string\"){\n\t\t\tfilterVal = new RegExp(filterVal);\n\t\t}\n\n\t\treturn filterVal.test(rowVal);\n\t},\n\n\t//contains the string\n\t\"like\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase()) > -1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//contains the keywords\n\t\"keywords\":function(filterVal, rowVal, rowData, filterParams){\n\t\tvar keywords = filterVal.toLowerCase().split(typeof filterParams.separator === \"undefined\" ? \" \" : filterParams.separator),\n\t\tvalue = String(rowVal === null || typeof rowVal === \"undefined\" ? \"\" : rowVal).toLowerCase(),\n\t\tmatches = [];\n\n\t\tkeywords.forEach((keyword) =>{\n\t\t\tif(value.includes(keyword)){\n\t\t\t\tmatches.push(true);\n\t\t\t}\n\t\t});\n\n\t\treturn filterParams.matchAll ? matches.length === keywords.length : !!matches.length;\n\t},\n\n\t//starts with the string\n\t\"starts\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//ends with the string\n\t\"ends\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//in array\n\t\"in\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(Array.isArray(filterVal)){\n\t\t\treturn filterVal.length ? filterVal.indexOf(rowVal) > -1 : true;\n\t\t}else{\n\t\t\tconsole.warn(\"Filter Error - filter value is not an array:\", filterVal);\n\t\t\treturn false;\n\t\t}\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultFilters from './defaults/filters.js';\n\nexport default class Filter extends Module{\n\n\tstatic moduleName = \"filter\";\n\n\t//load defaults\n\tstatic filters = defaultFilters;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.filterList = []; //hold filter list\n\t\tthis.headerFilters = {}; //hold column filters\n\t\tthis.headerFilterColumns = []; //hold columns that use header filters\n\n\t\tthis.prevHeaderFilterChangeCheck = \"\";\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.changed = false; //has filtering changed since last render\n\t\tthis.tableInitialized = false;\n\n\t\tthis.registerTableOption(\"filterMode\", \"local\"); //local or remote filtering\n\n\t\tthis.registerTableOption(\"initialFilter\", false); //initial filtering criteria\n\t\tthis.registerTableOption(\"initialHeaderFilter\", false); //initial header filtering criteria\n\t\tthis.registerTableOption(\"headerFilterLiveFilterDelay\", 300); //delay before updating column after user types in header filter\n\t\tthis.registerTableOption(\"placeholderHeaderFilter\", false); //placeholder when header filter is empty\n\n\t\tthis.registerColumnOption(\"headerFilter\");\n\t\tthis.registerColumnOption(\"headerFilterPlaceholder\");\n\t\tthis.registerColumnOption(\"headerFilterParams\");\n\t\tthis.registerColumnOption(\"headerFilterEmptyCheck\");\n\t\tthis.registerColumnOption(\"headerFilterFunc\");\n\t\tthis.registerColumnOption(\"headerFilterFuncParams\");\n\t\tthis.registerColumnOption(\"headerFilterLiveFilter\");\n\n\t\tthis.registerTableFunction(\"searchRows\", this.searchRows.bind(this));\n\t\tthis.registerTableFunction(\"searchData\", this.searchData.bind(this));\n\n\t\tthis.registerTableFunction(\"setFilter\", this.userSetFilter.bind(this));\n\t\tthis.registerTableFunction(\"refreshFilter\", this.userRefreshFilter.bind(this));\n\t\tthis.registerTableFunction(\"addFilter\", this.userAddFilter.bind(this));\n\t\tthis.registerTableFunction(\"getFilters\", this.getFilters.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterFocus\", this.userSetHeaderFilterFocus.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilterValue\", this.userGetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterValue\", this.userSetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilters\", this.getHeaderFilters.bind(this));\n\t\tthis.registerTableFunction(\"removeFilter\", this.userRemoveFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearFilter\", this.userClearFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearHeaderFilter\", this.userClearHeaderFilter.bind(this));\n\n\t\tthis.registerComponentFunction(\"column\", \"headerFilterFocus\", this.setHeaderFilterFocus.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"reloadHeaderFilter\", this.reloadHeaderFilter.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getHeaderFilterValue\", this.getHeaderFilterValue.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"setHeaderFilterValue\", this.setHeaderFilterValue.bind(this));\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-init\", this.initializeColumnHeaderFilter.bind(this));\n\t\tthis.subscribe(\"column-width-fit-before\", this.hideHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"column-width-fit-after\", this.showHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.subscribe(\"placeholder\", this.generatePlaceholder.bind(this));\n\n\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteFilterParams.bind(this));\n\t\t}\n\n\t\tthis.registerDataHandler(this.filter.bind(this), 10);\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialFilter){\n\t\t\tthis.setFilter(this.table.options.initialFilter);\n\t\t}\n\n\t\tif(this.table.options.initialHeaderFilter){\n\t\t\tthis.table.options.initialHeaderFilter.forEach((item) => {\n\n\t\t\t\tvar column = this.table.columnManager.findColumn(item.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.setHeaderFilterValue(column, item.value);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", item.field);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.tableInitialized = true;\n\t}\n\n\tremoteFilterParams(data, config, silent, params){\n\t\tparams.filter = this.getFilters(true, true);\n\t\treturn params;\n\t}\n\n\tgeneratePlaceholder(text){\n\t\tif(this.table.options.placeholderHeaderFilter && Object.keys(this.headerFilters).length){\n\t\t\treturn this.table.options.placeholderHeaderFilter;\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t//set standard filters\n\tuserSetFilter(field, type, value, params){\n\t\tthis.setFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\t//set standard filters\n\tuserRefreshFilter(){\n\t\tthis.refreshFilter();\n\t}\n\n\t//add filter to array\n\tuserAddFilter(field, type, value, params){\n\t\tthis.addFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\tuserSetHeaderFilterFocus(field){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterFocus(column);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Focus Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tuserGetHeaderFilterValue(field) {\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\treturn this.getHeaderFilterValue(column);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t}\n\t}\n\n\tuserSetHeaderFilterValue(field, value){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterValue(column, value);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//remove filter from array\n\tuserRemoveFilter(field, type, value){\n\t\tthis.removeFilter(field, type, value);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear filters\n\tuserClearFilter(all){\n\t\tthis.clearFilter(all);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear header filters\n\tuserClearHeaderFilter(){\n\t\tthis.clearHeaderFilter();\n\t\tthis.refreshFilter();\n\t}\n\n\n\t//search for specific row components\n\tsearchRows(field, type, value){\n\t\treturn this.search(\"rows\", field, type, value);\n\t}\n\n\t//search for specific data\n\tsearchData(field, type, value){\n\t\treturn this.search(\"data\", field, type, value);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumnHeaderFilter(column){\n\t\tvar def = column.definition;\n\n\t\tif(def.headerFilter){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\n\t//initialize column header filter\n\tinitializeColumn(column, value){\n\t\tvar self = this,\n\t\tfield = column.getField();\n\n\t\t//handle successfully value change\n\t\tfunction success(value){\n\t\t\tvar filterType = (column.modules.filter.tagType == \"input\" && column.modules.filter.attrType == \"text\") || column.modules.filter.tagType == \"textarea\" ? \"partial\" : \"match\",\n\t\t\ttype = \"\",\n\t\t\tfilterChangeCheck = \"\",\n\t\t\tfilterFunc;\n\n\t\t\tif(typeof column.modules.filter.prevSuccess === \"undefined\" || column.modules.filter.prevSuccess !== value){\n\n\t\t\t\tcolumn.modules.filter.prevSuccess = value;\n\n\t\t\t\tif(!column.modules.filter.emptyFunc(value)){\n\t\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\t\tswitch(typeof column.definition.headerFilterFunc){\n\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\tif(Filter.filters[column.definition.headerFilterFunc]){\n\t\t\t\t\t\t\t\ttype = column.definition.headerFilterFunc;\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\t\treturn Filter.filters[column.definition.headerFilterFunc](value, fieldVal, data, params);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tconsole.warn(\"Header Filter Error - Matching filter function not found: \", column.definition.headerFilterFunc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\treturn column.definition.headerFilterFunc(value, fieldVal, data, params);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\ttype = filterFunc;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!filterFunc){\n\t\t\t\t\t\tswitch(filterType){\n\t\t\t\t\t\t\tcase \"partial\":\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar colVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tif(typeof colVal !== 'undefined' && colVal !== null){\n\t\t\t\t\t\t\t\t\t\treturn String(colVal).toLowerCase().indexOf(String(value).toLowerCase()) > -1;\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"like\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\treturn column.getFieldValue(data) == value;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tself.headerFilters[field] = {value:value, func:filterFunc, type:type};\n\t\t\t\t}else{\n\t\t\t\t\tdelete self.headerFilters[field];\n\t\t\t\t}\n\n\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\tfilterChangeCheck = JSON.stringify(self.headerFilters);\n\n\t\t\t\tif(self.prevHeaderFilterChangeCheck !== filterChangeCheck){\n\t\t\t\t\tself.prevHeaderFilterChangeCheck = filterChangeCheck;\n\n\t\t\t\t\tself.trackChanges();\n\t\t\t\t\tself.refreshFilter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcolumn.modules.filter = {\n\t\t\tsuccess:success,\n\t\t\tattrType:false,\n\t\t\ttagType:false,\n\t\t\temptyFunc:false,\n\t\t};\n\n\t\tthis.generateHeaderFilterElement(column);\n\t}\n\n\tgenerateHeaderFilterElement(column, initialValue, reinitialize){\n\t\tvar self = this,\n\t\tsuccess = column.modules.filter.success,\n\t\tfield = column.getField(),\n\t\tfilterElement, editor, editorElement, cellWrapper, typingTimer, searchTrigger, params, onRenderedCallback;\n\n\t\tcolumn.modules.filter.value = initialValue;\n\n\t\t//handle aborted edit\n\t\tfunction cancel(){}\n\n\t\tfunction onRendered(callback){\n\t\t\tonRenderedCallback = callback;\n\t\t}\n\n\t\tif(column.modules.filter.headerElement && column.modules.filter.headerElement.parentNode){\n\t\t\tcolumn.contentElement.removeChild(column.modules.filter.headerElement.parentNode);\n\t\t}\n\n\t\tif(field){\n\n\t\t\t//set empty value function\n\t\t\tcolumn.modules.filter.emptyFunc = column.definition.headerFilterEmptyCheck || function(value){\n\t\t\t\treturn !value && value !== 0;\n\t\t\t};\n\n\t\t\tfilterElement = document.createElement(\"div\");\n\t\t\tfilterElement.classList.add(\"tabulator-header-filter\");\n\n\t\t\t//set column editor\n\t\t\tswitch(typeof column.definition.headerFilter){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(self.table.modules.edit.editors[column.definition.headerFilter]){\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.headerFilter];\n\n\t\t\t\t\t\tif((column.definition.headerFilter === \"tick\" || column.definition.headerFilter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Filter Error - Cannot build header filter, No such editor found: \", column.definition.editor);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\teditor = column.definition.headerFilter;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tif(column.modules.edit && column.modules.edit.editor){\n\t\t\t\t\t\teditor = column.modules.edit.editor;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(column.definition.formatter && self.table.modules.edit.editors[column.definition.formatter]){\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.formatter];\n\n\t\t\t\t\t\t\tif((column.definition.formatter === \"tick\" || column.definition.formatter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(editor){\n\n\t\t\t\tcellWrapper = {\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn typeof initialValue !== \"undefined\" ? initialValue : \"\";\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn filterElement;\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:() => {\n\t\t\t\t\t\treturn \"header\";\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnormalizeHeight:function(){\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tparams = column.definition.headerFilterParams || {};\n\n\t\t\t\tparams = typeof params === \"function\" ? params.call(self.table, cellWrapper) : params;\n\n\t\t\t\teditorElement = editor.call(this.table.modules.edit, cellWrapper, onRendered, success, cancel, params);\n\n\t\t\t\tif(!editorElement){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor returned a value of false\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!(editorElement instanceof Node)){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor should return an instance of Node, the editor returned:\", editorElement);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//set Placeholder Text\n\t\t\t\tself.langBind(\"headerFilters|columns|\" + column.definition.field, function(value){\n\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof value !== \"undefined\" && value ? value : (column.definition.headerFilterPlaceholder || self.langText(\"headerFilters|default\")));\n\t\t\t\t});\n\n\t\t\t\t//focus on element on click\n\t\t\t\teditorElement.addEventListener(\"click\", function(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\teditorElement.focus();\n\t\t\t\t});\n\n\t\t\t\teditorElement.addEventListener(\"focus\", (e) => {\n\t\t\t\t\tvar left = this.table.columnManager.contentsElement.scrollLeft;\n\n\t\t\t\t\tvar headerPos = this.table.rowManager.element.scrollLeft;\n\n\t\t\t\t\tif(left !== headerPos){\n\t\t\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//live update filters as user types\n\t\t\t\ttypingTimer = false;\n\n\t\t\t\tsearchTrigger = function(e){\n\t\t\t\t\tif(typingTimer){\n\t\t\t\t\t\tclearTimeout(typingTimer);\n\t\t\t\t\t}\n\n\t\t\t\t\ttypingTimer = setTimeout(function(){\n\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t},self.table.options.headerFilterLiveFilterDelay);\n\t\t\t\t};\n\n\t\t\t\tcolumn.modules.filter.headerElement = editorElement;\n\t\t\t\tcolumn.modules.filter.attrType = editorElement.hasAttribute(\"type\") ? editorElement.getAttribute(\"type\").toLowerCase() : \"\" ;\n\t\t\t\tcolumn.modules.filter.tagType = editorElement.tagName.toLowerCase();\n\n\t\t\t\tif(column.definition.headerFilterLiveFilter !== false){\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'autocomplete' ||\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'tickCross' ||\n\t\t\t\t\t\t\t((column.definition.editor === 'autocomplete' ||\n\t\t\t\t\t\t\t\tcolumn.definition.editor === 'tickCross') &&\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === true)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\teditorElement.addEventListener(\"keyup\", searchTrigger);\n\t\t\t\t\t\teditorElement.addEventListener(\"search\", searchTrigger);\n\n\n\t\t\t\t\t\t//update number filtered columns on change\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"number\"){\n\t\t\t\t\t\t\teditorElement.addEventListener(\"change\", function(e){\n\t\t\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//change text inputs to search inputs to allow for clearing of field\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"text\" && this.table.browser !== \"ie\"){\n\t\t\t\t\t\t\teditorElement.setAttribute(\"type\", \"search\");\n\t\t\t\t\t\t// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//prevent input and select elements from propagating click to column sorters etc\n\t\t\t\t\tif(column.modules.filter.tagType == \"input\" || column.modules.filter.tagType == \"select\" || column.modules.filter.tagType == \"textarea\"){\n\t\t\t\t\t\teditorElement.addEventListener(\"mousedown\",function(e){\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfilterElement.appendChild(editorElement);\n\n\t\t\t\tcolumn.contentElement.appendChild(filterElement);\n\n\t\t\t\tif(!reinitialize){\n\t\t\t\t\tself.headerFilterColumns.push(column);\n\t\t\t\t}\n\n\t\t\t\tif(onRenderedCallback){\n\t\t\t\t\tonRenderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Filter Error - Cannot add header filter, column has no field set:\", column.definition.title);\n\t\t}\n\t}\n\n\t//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\thideHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = 'none';\n\t\t\t}\n\t\t});\n\t}\n\n\t//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\tshowHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = '';\n\t\t\t}\n\t\t});\n\t}\n\n\t//programmatically set focus of header filter\n\tsetHeaderFilterFocus(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\tcolumn.modules.filter.headerElement.focus();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Focus Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically get value of header filter\n\tgetHeaderFilterValue(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\treturn column.modules.filter.value;\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically set value of header filter\n\tsetHeaderFilterValue(column, value){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, value, true);\n\t\t\t\tcolumn.modules.filter.success(value);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\treloadHeaderFilter(column){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, column.modules.filter.value, true);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\trefreshFilter(){\n\t\tif(this.tableInitialized){\n\t\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\t\tthis.reloadData(null, false, false);\n\t\t\t}else{\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the filters has changed since last use\n\ttrackChanges(){\n\t\tthis.changed = true;\n\t\tthis.dispatch(\"filter-changed\");\n\t}\n\n\t//check if the filters has changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//set standard filters\n\tsetFilter(field, type, value, params){\n\t\tthis.filterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tthis.addFilter(field);\n\t}\n\n\t//add filter to array\n\taddFilter(field, type, value, params){\n\t\tvar changed = false;\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tthis.filterList.push(filter);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\n\t\tif(changed){\n\t\t\tthis.trackChanges();\n\t\t}\n\t}\n\n\tfindFilter(filter){\n\t\tvar column;\n\n\t\tif(Array.isArray(filter)){\n\t\t\treturn this.findSubFilters(filter);\n\t\t}\n\n\t\tvar filterFunc = false;\n\n\t\tif(typeof filter.field == \"function\"){\n\t\t\tfilterFunc = function(data){\n\t\t\t\treturn filter.field(data, filter.type || {});// pass params to custom filter function\n\t\t\t};\n\t\t}else{\n\n\t\t\tif(Filter.filters[filter.type]){\n\n\t\t\t\tcolumn = this.table.columnManager.getColumnByField(filter.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, column.getFieldValue(data), data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, data[filter.field], data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}\n\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Filter Error - No such filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t}\n\n\t\tfilter.func = filterFunc;\n\n\t\treturn filter.func ? filter : false;\n\t}\n\n\tfindSubFilters(filters){\n\t\tvar output = [];\n\n\t\tfilters.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\toutput.push(filter);\n\t\t\t}\n\t\t});\n\n\t\treturn output.length ? output : false;\n\t}\n\n\t//get all filters\n\tgetFilters(all, ajax){\n\t\tvar output = [];\n\n\t\tif(all){\n\t\t\toutput = this.getHeaderFilters();\n\t\t}\n\n\t\tif(ajax){\n\t\t\toutput.forEach(function(item){\n\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\titem.type = \"function\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\toutput = output.concat(this.filtersToArray(this.filterList, ajax));\n\n\t\treturn output;\n\t}\n\n\t//filter to Object\n\tfiltersToArray(filterList, ajax){\n\t\tvar output = [];\n\n\t\tfilterList.forEach((filter) => {\n\t\t\tvar item;\n\n\t\t\tif(Array.isArray(filter)){\n\t\t\t\toutput.push(this.filtersToArray(filter, ajax));\n\t\t\t}else{\n\t\t\t\titem = {field:filter.field, type:filter.type, value:filter.value};\n\n\t\t\t\tif(ajax){\n\t\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\t\titem.type = \"function\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toutput.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//get all filters\n\tgetHeaderFilters(){\n\t\tvar output = [];\n\n\t\tfor(var key in this.headerFilters){\n\t\t\toutput.push({field:key, type:this.headerFilters[key].type, value:this.headerFilters[key].value});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//remove filter from array\n\tremoveFilter(field, type, value){\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tvar index = -1;\n\n\t\t\tif(typeof filter.field == \"object\"){\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter === element;\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter.field === element.field && filter.type === element.type  && filter.value === element.value;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.filterList.splice(index, 1);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Filter Error - No matching filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear filters\n\tclearFilter(all){\n\t\tthis.filterList = [];\n\n\t\tif(all){\n\t\t\tthis.clearHeaderFilter();\n\t\t}\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear header filters\n\tclearHeaderFilter(){\n\t\tthis.headerFilters = {};\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.headerFilterColumns.forEach((column) => {\n\t\t\tif(typeof column.modules.filter.value !== \"undefined\"){\n\t\t\t\tdelete column.modules.filter.value;\n\t\t\t}\n\t\t\tcolumn.modules.filter.prevSuccess = undefined;\n\t\t\tthis.reloadHeaderFilter(column);\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//search data and return matching rows\n\tsearch (searchType, field, type, value){\n\t\tvar activeRows = [],\n\t\tfilterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tfilterList.push(filter);\n\t\t\t}\n\t\t});\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\tvar match = true;\n\n\t\t\tfilterList.forEach((filter) => {\n\t\t\t\tif(!this.filterRecurse(filter, row.getData())){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tactiveRows.push(searchType === \"data\" ? row.getData(\"data\") : row.getComponent());\n\t\t\t}\n\n\t\t});\n\n\t\treturn activeRows;\n\t}\n\n\t//filter row array\n\tfilter(rowList, filters){\n\t\tvar activeRows = [],\n\t\tactiveRowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataFiltering\")){\n\t\t\tthis.dispatchExternal(\"dataFiltering\", this.getFilters(true));\n\t\t}\n\n\t\tif(this.table.options.filterMode !== \"remote\" && (this.filterList.length || Object.keys(this.headerFilters).length)){\n\n\t\t\trowList.forEach((row) => {\n\t\t\t\tif(this.filterRow(row)){\n\t\t\t\t\tactiveRows.push(row);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}else{\n\t\t\tactiveRows = rowList.slice(0);\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataFiltered\")){\n\n\t\t\tactiveRows.forEach((row) => {\n\t\t\t\tactiveRowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataFiltered\", this.getFilters(true), activeRowComponents);\n\t\t}\n\n\t\treturn activeRows;\n\t}\n\n\t//filter individual row\n\tfilterRow(row, filters){\n\t\tvar match = true,\n\t\tdata = row.getData();\n\n\t\tthis.filterList.forEach((filter) => {\n\t\t\tif(!this.filterRecurse(filter, data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\n\n\t\tfor(var field in this.headerFilters){\n\t\t\tif(!this.headerFilters[field].func(data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\treturn match;\n\t}\n\n\tfilterRecurse(filter, data){\n\t\tvar match = false;\n\n\t\tif(Array.isArray(filter)){\n\t\t\tfilter.forEach((subFilter) => {\n\t\t\t\tif(this.filterRecurse(subFilter, data)){\n\t\t\t\t\tmatch = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tmatch = filter.func(data);\n\t\t}\n\n\t\treturn match;\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}","export default function(cell, formatterParams, onRendered){\n\treturn cell.getValue();\n}","export default function(cell, formatterParams, onRendered){\n\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}","export default function(cell, formatterParams, onRendered){\n\tvar floatVal = parseFloat(cell.getValue()),\n\tsign = \"\",\n\tnumber, integer, decimal, rgx, value;\n\n\tvar decimalSym = formatterParams.decimal || \".\";\n\tvar thousandSym = formatterParams.thousand || \",\";\n\tvar negativeSign = formatterParams.negativeSign || \"-\";\n\tvar symbol = formatterParams.symbol || \"\";\n\tvar after = !!formatterParams.symbolAfter;\n\tvar precision = typeof formatterParams.precision !== \"undefined\" ? formatterParams.precision : 2;\n\n\tif(isNaN(floatVal)){\n\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t}\n\n\tif(floatVal < 0){\n\t\tfloatVal = Math.abs(floatVal);\n\t\tsign = negativeSign;\n\t}\n\n\tnumber = precision !== false ? floatVal.toFixed(precision) : floatVal;\n\tnumber = String(number).split(\".\");\n\n\tinteger = number[0];\n\tdecimal = number.length > 1 ? decimalSym + number[1] : \"\";\n\n\tif (formatterParams.thousand !== false) {\n\t\trgx = /(\\d+)(\\d{3})/;\n\n\t\twhile (rgx.test(integer)){\n\t\t\tinteger = integer.replace(rgx, \"$1\" + thousandSym + \"$2\");\n\t\t}\n\t}\n\n\tvalue = integer + decimal;\n\t\n\tif(sign === true){\n\t\tvalue = \"(\" + value  + \")\";\n\t\treturn after ? value + symbol : symbol + value;\n\t}else{\n\t\treturn after ? sign + value + symbol : sign + symbol + value;\n\t}\n}","import Helpers from '../../../../core/tools/Helpers.js';\n\n\nexport default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\turlPrefix = formatterParams.urlPrefix || \"\",\n\tdownload = formatterParams.download,\n\tlabel = value,\n\tel = document.createElement(\"a\"),\n\tdata;\n\n\tfunction labelTraverse(path, data){\n\t\tvar item = path.shift(),\n\t\tvalue = data[item];\n\t\t\n\t\tif(path.length && typeof value === \"object\"){\n\t\t\treturn labelTraverse(path, value);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tif(formatterParams.labelField){\n\t\tdata = cell.getData();\n\t\tlabel = labelTraverse(formatterParams.labelField.split(this.table.options.nestedFieldSeparator), data);\n\t}\n\n\tif(formatterParams.label){\n\t\tswitch(typeof formatterParams.label){\n\t\t\tcase \"string\":\n\t\t\t\tlabel = formatterParams.label;\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tlabel = formatterParams.label(cell);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(label){\n\t\tif(formatterParams.urlField){\n\t\t\tdata = cell.getData();\n\n\t\t\tvalue = Helpers.retrieveNestedData(this.table.options.nestedFieldSeparator, formatterParams.urlField, data);\n\t\t}\n\n\t\tif(formatterParams.url){\n\t\t\tswitch(typeof formatterParams.url){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tvalue = formatterParams.url;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tvalue = formatterParams.url(cell);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tel.setAttribute(\"href\", urlPrefix + value);\n\n\t\tif(formatterParams.target){\n\t\t\tel.setAttribute(\"target\", formatterParams.target);\n\t\t}\n\n\t\tif(formatterParams.download){\n\n\t\t\tif(typeof download == \"function\"){\n\t\t\t\tdownload = download(cell);\n\t\t\t}else{\n\t\t\t\tdownload = download === true ? \"\" : download;\n\t\t\t}\n\n\t\t\tel.setAttribute(\"download\", download);\n\t\t}\n\n\t\tel.innerHTML = this.emptyToSpace(this.sanitizeHTML(label));\n\n\t\treturn el;\n\t}else{\n\t\treturn \"&nbsp;\";\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"img\"),\n\tsrc = cell.getValue();\n\n\tif(formatterParams.urlPrefix){\n\t\tsrc = formatterParams.urlPrefix + cell.getValue();\n\t}\n\n\tif(formatterParams.urlSuffix){\n\t\tsrc = src + formatterParams.urlSuffix;\n\t}\n\n\tel.setAttribute(\"src\", src);\n\n\tswitch(typeof formatterParams.height){\n\t\tcase \"number\":\n\t\t\tel.style.height = formatterParams.height + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.height = formatterParams.height;\n\t\t\tbreak;\n\t}\n\n\tswitch(typeof formatterParams.width){\n\t\tcase \"number\":\n\t\t\tel.style.width = formatterParams.width + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.width = formatterParams.width;\n\t\t\tbreak;\n\t}\n\n\tel.addEventListener(\"load\", function(){\n\t\tcell.getRow().normalizeHeight();\n\t});\n\n\treturn el;\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tempty = formatterParams.allowEmpty,\n\ttruthy = formatterParams.allowTruthy,\n\ttrueValueSet = Object.keys(formatterParams).includes(\"trueValue\"),\n\ttick = typeof formatterParams.tickElement !== \"undefined\" ? formatterParams.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\n\tcross = typeof formatterParams.crossElement !== \"undefined\" ? formatterParams.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n\n\tif((trueValueSet && value === formatterParams.trueValue) || (!trueValueSet && ((truthy && value) || (value === true || value === \"true\" || value === \"True\" || value === 1 || value === \"1\")))){\n\t\telement.setAttribute(\"aria-checked\", true);\n\t\treturn tick || \"\";\n\t}else{\n\t\tif(empty && (value === \"null\" || value === \"\" || value === null || typeof value === \"undefined\")){\n\t\t\telement.setAttribute(\"aria-checked\", \"mixed\");\n\t\t\treturn \"\";\n\t\t}else{\n\t\t\telement.setAttribute(\"aria-checked\", false);\n\t\t\treturn cross || \"\";\n\t\t}\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\tvar DT = this.table.dependencyRegistry.lookup([\"luxon\", \"DateTime\"], \"DateTime\");\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar\toutputFormat = formatterParams.outputFormat || \"dd/MM/yyyy HH:mm:ss\";\n\tvar\tinvalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else{\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif(newDatetime.isValid){\n\t\t\tif(formatterParams.timezone){\n\t\t\t\tnewDatetime = newDatetime.setZone(formatterParams.timezone);\n\t\t\t}\n\n\t\t\treturn newDatetime.toFormat(outputFormat);\n\t\t}else{\n\t\t\tif(invalid === true || !value){\n\t\t\t\treturn value;\n\t\t\t}else if(typeof invalid === \"function\"){\n\t\t\t\treturn invalid(value);\n\t\t\t}else{\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tconsole.error(\"Format Error - 'datetime' formatter is dependant on luxon.js\");\n\t}\n}","export default function (cell, formatterParams, onRendered) {\n\tvar DT = this.table.dependencyRegistry.lookup([\"luxon\", \"DateTime\"], \"DateTime\");\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar suffix = typeof formatterParams.suffix !== \"undefined\" ? formatterParams.suffix : false;\n\tvar unit = typeof formatterParams.unit !== \"undefined\" ? formatterParams.unit : \"days\";\n\tvar humanize = typeof formatterParams.humanize !== \"undefined\" ? formatterParams.humanize : false;\n\tvar date = typeof formatterParams.date !== \"undefined\" ? formatterParams.date : DT.now();\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else{\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif (newDatetime.isValid){\n\t\t\tif(humanize){\n\t\t\t\treturn newDatetime.diff(date, unit).toHuman()  + (suffix ? \" \" + suffix : \"\");\n\t\t\t}else{\n\t\t\t\treturn parseInt(newDatetime.diff(date, unit)[unit]) + (suffix ? \" \" + suffix : \"\");\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (invalid === true) {\n\t\t\t\treturn value;\n\t\t\t} else if (typeof invalid === \"function\") {\n\t\t\t\treturn invalid(value);\n\t\t\t} else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tconsole.error(\"Format Error - 'datetimediff' formatter is dependant on luxon.js\");\n\t}\n}","export default function (cell, formatterParams, onRendered) {\n\tvar value = cell.getValue();\n\n\tif (typeof formatterParams[value] === \"undefined\") {\n\t\tconsole.warn('Missing display value for ' + value);\n\t\treturn value;\n\t}\n\n\treturn formatterParams[value];\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tmaxStars = formatterParams && formatterParams.stars ? formatterParams.stars : 5,\n\tstars = document.createElement(\"span\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\"),\n\tstarActive = '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',\n\tstarInactive = '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\n\t//style stars holder\n\tstars.style.verticalAlign = \"middle\";\n\n\t//style star\n\tstar.setAttribute(\"width\", \"14\");\n\tstar.setAttribute(\"height\", \"14\");\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tvalue = value && !isNaN(value) ? parseInt(value) : 0;\n\n\tvalue = Math.max(0, Math.min(value, maxStars));\n\n\tfor(var i=1;i<= maxStars;i++){\n\t\tvar nextStar = star.cloneNode(true);\n\t\tnextStar.innerHTML = i <= value ? starActive : starInactive;\n\n\t\tstars.appendChild(nextStar);\n\t}\n\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\telement.setAttribute(\"aria-label\", value);\n\n\treturn stars;\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\tel = document.createElement(\"span\"),\n\tmax = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\tcolors = formatterParams && typeof formatterParams.color !== \"undefined\" ? formatterParams.color : [\"red\", \"orange\", \"green\"],\n\tcolor = \"#666666\",\n\tpercent, percentValue;\n\n\tif(isNaN(value) || typeof cell.getValue() === \"undefined\"){\n\t\treturn;\n\t}\n\n\tel.classList.add(\"tabulator-traffic-light\");\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set color\n\tswitch(typeof colors){\n\t\tcase \"string\":\n\t\t\tcolor = colors;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = colors(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(colors)){\n\t\t\t\tvar unit = 100 / colors.length;\n\t\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, colors.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = colors[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n\n\tel.style.backgroundColor = color;\n\n\treturn el;\n}","import CellComponent from '../../../../core/cell/CellComponent.js';\n\nexport default function(cell, formatterParams = {}, onRendered){ //progress bar\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\telement = cell.getElement(),\n\tmax = formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams.min ? formatterParams.min : 0,\n\tlegendAlign = formatterParams.legendAlign ? formatterParams.legendAlign : \"center\",\n\tpercent, percentValue, color, legend, legendColor;\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set bar color\n\tswitch(typeof formatterParams.color){\n\t\tcase \"string\":\n\t\t\tcolor = formatterParams.color;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = formatterParams.color(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.color)){\n\t\t\t\tlet unit = 100 / formatterParams.color.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.color.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = formatterParams.color[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t\tdefault:\n\t\t\tcolor = \"#2DC214\";\n\t}\n\n\t//generate legend\n\tswitch(typeof formatterParams.legend){\n\t\tcase \"string\":\n\t\t\tlegend = formatterParams.legend;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegend = formatterParams.legend(value);\n\t\t\tbreak;\n\t\tcase \"boolean\":\n\t\t\tlegend = value;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegend = false;\n\t}\n\n\t//set legend color\n\tswitch(typeof formatterParams.legendColor){\n\t\tcase \"string\":\n\t\t\tlegendColor = formatterParams.legendColor;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegendColor = formatterParams.legendColor(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.legendColor)){\n\t\t\t\tlet unit = 100 / formatterParams.legendColor.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.legendColor.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tlegendColor = formatterParams.legendColor[index];\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegendColor = \"#000\";\n\t}\n\n\telement.style.minWidth = \"30px\";\n\telement.style.position = \"relative\";\n\n\telement.setAttribute(\"aria-label\", percentValue);\n\n\tvar barEl = document.createElement(\"div\");\n\tbarEl.style.display = \"inline-block\";\n\tbarEl.style.width = percentValue + \"%\";\n\tbarEl.style.backgroundColor = color;\n\tbarEl.style.height = \"100%\";\n\n\tbarEl.setAttribute('data-max', max);\n\tbarEl.setAttribute('data-min', min);\n\n\tvar barContainer = document.createElement(\"div\");\n\tbarContainer.style.position = \"relative\";\n\tbarContainer.style.width = \"100%\";\n\tbarContainer.style.height = \"100%\";\n\n\tif(legend){\n\t\tvar legendEl = document.createElement(\"div\");\n\t\tlegendEl.style.position = \"absolute\";\n\t\tlegendEl.style.top = 0;\n\t\tlegendEl.style.left = 0;\n\t\tlegendEl.style.textAlign = legendAlign;\n\t\tlegendEl.style.width = \"100%\";\n\t\tlegendEl.style.color = legendColor;\n\t\tlegendEl.innerHTML = legend;\n\t}\n\n\tonRendered(function(){\n\n\t\t//handle custom element needed if formatter is to be included in printed/downloaded output\n\t\tif(!(cell instanceof CellComponent)){\n\t\t\tvar holderEl = document.createElement(\"div\");\n\t\t\tholderEl.style.position = \"absolute\";\n\t\t\tholderEl.style.top = \"4px\";\n\t\t\tholderEl.style.bottom = \"4px\";\n\t\t\tholderEl.style.left = \"4px\";\n\t\t\tholderEl.style.right = \"4px\";\n\n\t\t\telement.appendChild(holderEl);\n\n\t\t\telement = holderEl;\n\t\t}\n\n\t\telement.appendChild(barContainer);\n\t\tbarContainer.appendChild(barEl);\n\n\t\tif(legend){\n\t\t\tbarContainer.appendChild(legendEl);\n\t\t}\n\t});\n\n\treturn \"\";\n}","export default function(cell, formatterParams, onRendered){\n\tcell.getElement().style.backgroundColor = this.sanitizeHTML(cell.getValue());\n\treturn \"\";\n}","export default function(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\n}","export default function(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n}","export default function(cell, formatterParams, onRendered){\r\n\tvar value = cell.getValue(),\r\n\tsize = formatterParams.size ||15,\r\n\tsizePx = size + \"px\",\r\n\tcontainEl, switchEl,\r\n\tonValue = formatterParams.hasOwnProperty(\"onValue\") ? formatterParams.onValue : true,\r\n\toffValue = formatterParams.hasOwnProperty(\"offValue\") ? formatterParams.offValue : false,\r\n\r\n\r\n\tstate = formatterParams.onTruthy ? value : value === onValue;\r\n\r\n\t\r\n\tcontainEl = document.createElement(\"div\");\r\n\tcontainEl.classList.add(\"tabulator-toggle\");\r\n\r\n\tif(state){\r\n\t\tcontainEl.classList.add(\"tabulator-toggle-on\");\r\n\t\tcontainEl.style.flexDirection = \"row-reverse\";\r\n\r\n\t\tif(formatterParams.onColor){\r\n\t\t\tcontainEl.style.background = formatterParams.onColor;\r\n\t\t}\r\n\t}else{\r\n\t\tif(formatterParams.offColor){\r\n\t\t\tcontainEl.style.background = formatterParams.offColor;\r\n\t\t}\r\n\t}\r\n\r\n\tcontainEl.style.width = (2.5 * size) + \"px\";\r\n\tcontainEl.style.borderRadius = sizePx;\r\n\r\n\tif(formatterParams.clickable){\r\n\t\tcontainEl.addEventListener(\"click\", (e) => {\r\n\t\t\tcell.setValue(state ? offValue : onValue);\r\n\t\t});\r\n\t}\r\n\r\n\tswitchEl = document.createElement(\"div\");\r\n\tswitchEl.classList.add(\"tabulator-toggle-switch\");\r\n\r\n\tswitchEl.style.height = sizePx;\r\n\tswitchEl.style.width = sizePx;\r\n\tswitchEl.style.borderRadius = sizePx;\r\n\t\r\n\tcontainEl.appendChild(switchEl);\r\n\t\r\n\treturn containEl;\r\n}","export default function(cell, formatterParams, onRendered){\n\tvar content = document.createElement(\"span\");\n\tvar row = cell.getRow();\n\tvar table = cell.getTable();\n\n\trow.watchPosition((position) => {\n\t\tif (formatterParams.relativeToPage) {\n\t\t\tposition += table.modules.page.getPageSize() * (table.modules.page.getPage() - 1);\n\t\t}\n\t\tcontent.innerText = position;\n\t});\n\t\n\treturn content;\n}\n","export default function(cell, formatterParams, onRendered){\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\treturn \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\n}","export default function(cell, params, onRendered){\r\n\tvar lookup, formatterFunc, formatterParams;\r\n    \r\n\tfunction defaultLookup(cell){\r\n\t\tvar value = cell.getValue(),\r\n\t\tformatter = \"plaintext\";\r\n        \r\n\t\tswitch(typeof value){           \r\n\t\t\tcase \"boolean\":\r\n\t\t\t\tformatter = \"tickCross\";\r\n\t\t\t\tbreak;\r\n            \r\n\t\t\tcase \"string\":\r\n\t\t\t\tif(value.includes(\"\\n\")){\r\n\t\t\t\t\tformatter = \"textarea\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n        \r\n\t\treturn formatter;\r\n\t}\r\n    \r\n\tlookup = params.formatterLookup ? params.formatterLookup(cell) : defaultLookup(cell);\r\n\r\n\tif(params.paramsLookup){\r\n\t\tformatterParams = typeof params.paramsLookup === \"function\" ? params.paramsLookup(lookup, cell) : params.paramsLookup[lookup];\r\n\t}\r\n\r\n\tformatterFunc = this.table.modules.format.lookupFormatter(lookup);\r\n    \r\n\treturn  formatterFunc.call(this, cell, formatterParams || {}, onRendered);\r\n}","import Helpers from '../../../../core/tools/Helpers.js';\n\nexport default function(cell, formatterParams, onRendered){\n\tvar delimiter = formatterParams.delimiter || \",\",\n\tvalue = cell.getValue(),\n\ttable = this.table,\n\tvalueMap;\n\t\n\tif(formatterParams.valueMap){\n\t\tif(typeof formatterParams.valueMap === \"string\"){\n\t\t\tvalueMap = function(value){\n\t\t\t\treturn value.map((item) => {\n\t\t\t\t\treturn Helpers.retrieveNestedData(table.options.nestedFieldSeparator, formatterParams.valueMap, item);\n\t\t\t\t});\n\t\t\t};\n\t\t}else{\n\t\t\tvalueMap = formatterParams.valueMap;\n\t\t}\n\t}\n\n\tif(Array.isArray(value)){\n\t\tif(valueMap){\n\t\t\tvalue = valueMap(value);\n\t\t}\n\n\t\treturn value.join(delimiter);\n\t}else{\n\t\treturn value;\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\tvar indent = formatterParams.indent || \"\\t\",\n\tmultiline = typeof formatterParams.multiline === \"undefined\" ? true : formatterParams.multiline,\n\treplacer = formatterParams.replacer || null,\n\tvalue = cell.getValue();\n\t\n\tif(multiline){\n\t\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\t}\n\n\treturn JSON.stringify(value, replacer, indent);\n}","import plaintext from './formatters/plaintext.js';\nimport html from './formatters/html.js';\nimport textarea from './formatters/textarea.js';\nimport money from './formatters/money.js';\nimport link from './formatters/link.js';\nimport image from './formatters/image.js';\nimport tickCross from './formatters/tickCross.js';\nimport datetime from './formatters/datetime.js';\nimport datetimediff from './formatters/datetimediff.js';\nimport lookup from './formatters/lookup.js';\nimport star from './formatters/star.js';\nimport traffic from './formatters/traffic.js';\nimport progress from './formatters/progress.js';\nimport color from './formatters/color.js';\nimport buttonTick from './formatters/buttonTick.js';\nimport buttonCross from './formatters/buttonCross.js';\nimport toggle from './formatters/toggle.js';\nimport rownum from './formatters/rownum.js';\nimport handle from './formatters/handle.js';\nimport adaptable from './formatters/adaptable.js';\nimport array from './formatters/array.js';\nimport json from './formatters/json.js';\n\nexport default {\n\tplaintext:plaintext,\n\thtml:html,\n\ttextarea:textarea,\n\tmoney:money,\n\tlink:link,\n\timage:image,\n\ttickCross:tickCross,\n\tdatetime:datetime,\n\tdatetimediff:datetimediff,\n\tlookup:lookup,\n\tstar:star,\n\ttraffic:traffic,\n\tprogress:progress,\n\tcolor:color,\n\tbuttonTick:buttonTick,\n\tbuttonCross:buttonCross,\n\ttoggle:toggle,\n\trownum:rownum,\n\thandle:handle,\n\tadaptable:adaptable,\n\tarray:array,\n\tjson:json,\n};","import Module from '../../core/Module.js';\n\nimport defaultFormatters from './defaults/formatters.js';\n\nexport default class Format extends Module{\n\t\n\tstatic moduleName = \"format\";\n\t\n\t//load defaults\n\tstatic formatters = defaultFormatters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.registerColumnOption(\"formatter\");\n\t\tthis.registerColumnOption(\"formatterParams\");\n\t\t\n\t\tthis.registerColumnOption(\"formatterPrint\");\n\t\tthis.registerColumnOption(\"formatterPrintParams\");\n\t\tthis.registerColumnOption(\"formatterClipboard\");\n\t\tthis.registerColumnOption(\"formatterClipboardParams\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutput\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutputParams\");\n\t\tthis.registerColumnOption(\"titleFormatter\");\n\t\tthis.registerColumnOption(\"titleFormatterParams\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-format\", this.formatValue.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.cellRendered.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-format\", this.formatHeader.bind(this));\n\t}\n\t\n\t//initialize column formatter\n\tinitializeColumn(column){\n\t\tcolumn.modules.format = this.lookupTypeFormatter(column, \"\");\n\t\t\n\t\tif(typeof column.definition.formatterPrint !== \"undefined\"){\n\t\t\tcolumn.modules.format.print = this.lookupTypeFormatter(column, \"Print\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterClipboard !== \"undefined\"){\n\t\t\tcolumn.modules.format.clipboard = this.lookupTypeFormatter(column, \"Clipboard\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterHtmlOutput !== \"undefined\"){\n\t\t\tcolumn.modules.format.htmlOutput = this.lookupTypeFormatter(column, \"HtmlOutput\");\n\t\t}\n\t}\n\t\n\tlookupTypeFormatter(column, type){\n\t\tvar config = {params:column.definition[\"formatter\" + type + \"Params\"] || {}},\n\t\tformatter = column.definition[\"formatter\" + type];\n\t\t\n\t\tconfig.formatter = this.lookupFormatter(formatter);\n\t\t\n\t\treturn config;\n\t}\n\t\n\t\n\tlookupFormatter(formatter){\n\t\tvar formatterFunc;\n\n\t\t//set column formatter\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tformatterFunc = Format.formatters[formatter];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tformatterFunc = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tformatterFunc = formatter;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tformatterFunc = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn formatterFunc;\n\t}\n\t\n\tcellRendered(cell){\n\t\tif(cell.modules.format && cell.modules.format.renderedCallback && !cell.modules.format.rendered){\n\t\t\tcell.modules.format.renderedCallback();\n\t\t\tcell.modules.format.rendered = true;\n\t\t}\n\t}\n\t\n\t//return a formatted value for a column header\n\tformatHeader(column, title, el){\n\t\tvar formatter, params, onRendered, mockCell;\n\t\t\n\t\tif(column.definition.titleFormatter){\n\t\t\tformatter = this.lookupFormatter(column.definition.titleFormatter);\n\t\t\t\n\t\t\tonRendered = (callback) => {\n\t\t\t\tcolumn.titleFormatterRendered = callback;\n\t\t\t};\n\t\t\t\n\t\t\tmockCell = {\n\t\t\t\tgetValue:function(){\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tgetElement:function(){\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\t\t\t\tgetType:function(){\n\t\t\t\t\treturn \"header\";\n\t\t\t\t},\n\t\t\t\tgetColumn:function(){\n\t\t\t\t\treturn column.getComponent();\n\t\t\t\t},\n\t\t\t\tgetTable:() => {\n\t\t\t\t\treturn this.table;\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tparams = column.definition.titleFormatterParams || {};\n\t\t\t\n\t\t\tparams = typeof params === \"function\" ? params() : params;\n\t\t\t\n\t\t\treturn formatter.call(this, mockCell, params, onRendered);\n\t\t}else{\n\t\t\treturn title;\n\t\t}\n\t}\n\t\n\t\n\t//return a formatted value for a cell\n\tformatValue(cell){\n\t\tvar component = cell.getComponent(),\n\t\tparams = typeof cell.column.modules.format.params === \"function\" ? cell.column.modules.format.params(component) : cell.column.modules.format.params;\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\tif(!cell.modules.format){\n\t\t\t\tcell.modules.format = {};\n\t\t\t}\n\t\t\t\n\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\tcell.modules.format.rendered = false;\n\t\t}\n\t\t\n\t\treturn cell.column.modules.format.formatter.call(this, component, params, onRendered);\n\t}\n\t\n\tformatExportValue(cell, type){\n\t\tvar formatter = cell.column.modules.format[type],\n\t\tparams;\n\t\t\n\t\tif(formatter){\n\t\t\tparams = typeof formatter.params === \"function\" ? formatter.params(cell.getComponent()) : formatter.params;\n\t\t\t\n\t\t\tfunction onRendered(callback){\n\t\t\t\tif(!cell.modules.format){\n\t\t\t\t\tcell.modules.format = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\t\tcell.modules.format.rendered = false;\n\t\t\t}\n\t\t\t\n\t\t\treturn formatter.formatter.call(this, cell.getComponent(), params, onRendered);\n\t\t\t\n\t\t}else{\n\t\t\treturn this.formatValue(cell);\n\t\t}\n\t}\n\t\n\tsanitizeHTML(value){\n\t\tif(value){\n\t\t\tvar entityMap = {\n\t\t\t\t'&': '&amp;',\n\t\t\t\t'<': '&lt;',\n\t\t\t\t'>': '&gt;',\n\t\t\t\t'\"': '&quot;',\n\t\t\t\t\"'\": '&#39;',\n\t\t\t\t'/': '&#x2F;',\n\t\t\t\t'`': '&#x60;',\n\t\t\t\t'=': '&#x3D;'\n\t\t\t};\n\t\t\t\n\t\t\treturn String(value).replace(/[&<>\"'`=/]/g, function (s) {\n\t\t\t\treturn entityMap[s];\n\t\t\t});\n\t\t}else{\n\t\t\treturn value;\n\t\t}\n\t}\n\t\n\temptyToSpace(value){\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\n\t}\n\t\n}","import Module from '../../core/Module.js';\n\nexport default class FrozenColumns extends Module{\n\n\tstatic moduleName = \"frozenColumns\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.initializationMode = \"left\";\n\t\tthis.active = false;\n\t\tthis.blocked = true;\n\t\t\n\t\tthis.registerColumnOption(\"frozen\");\n\t}\n\t\n\t//reset initial state\n\treset(){\n\t\tthis.initializationMode = \"left\";\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.active = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-layout\", this.layoutCell.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layout.bind(this));\n\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\tthis.subscribe(\"table-layout\", this.layout.bind(this));\n\t\tthis.subscribe(\"columns-loading\", this.reset.bind(this));\n\t\t\n\t\tthis.subscribe(\"column-add\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-deleted\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-hide\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-show\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"columns-loaded\", this.reinitializeColumns.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-redraw\", this.layout.bind(this));\n\t\tthis.subscribe(\"layout-refreshing\", this.blockLayout.bind(this));\n\t\tthis.subscribe(\"layout-refreshed\", this.unblockLayout.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t}\n\t\n\tblockLayout(){\n\t\tthis.blocked = true;\n\t}\n\t\n\tunblockLayout(){\n\t\tthis.blocked = false;\n\t}\n\t\n\tlayoutCell(cell){\n\t\tthis.layoutElement(cell.element, cell.column);\n\t}\n\t\n\treinitializeColumns(){\n\t\tthis.reset();\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tthis.initializeColumn(column);\n\t\t});\n\n\t\tthis.layout();\n\t}\n\t\n\t//initialize specific column\n\tinitializeColumn(column){\n\t\tvar config = {margin:0, edge:false};\n\t\t\n\t\tif(!column.isGroup){\t\t\t\n\t\t\tif(this.frozenCheck(column)){\n\t\t\t\tconfig.position = this.initializationMode;\n\t\t\t\t\n\t\t\t\tif(this.initializationMode == \"left\"){\n\t\t\t\t\tthis.leftColumns.push(column);\n\t\t\t\t}else{\n\t\t\t\t\tthis.rightColumns.unshift(column);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.active = true;\n\t\t\t\t\n\t\t\t\tcolumn.modules.frozen = config;\n\t\t\t}else{\n\t\t\t\tthis.initializationMode = \"right\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfrozenCheck(column){\n\t\tif(column.parent.isGroup && column.definition.frozen){\n\t\t\tconsole.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");\n\t\t}\n\t\t\n\t\tif(column.parent.isGroup){\n\t\t\treturn this.frozenCheck(column.parent);\n\t\t}else{\n\t\t\treturn column.definition.frozen;\n\t\t}\n\t}\n\t\n\t//layout calculation rows\n\tlayoutCalcRows(){\n\t\tif(this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modExists(\"groupRows\")){\n\t\t\t\tthis.layoutGroupCalcs(this.table.modules.groupRows.getGroups());\n\t\t\t}\n\t\t}\n\t}\n\t\n\tlayoutGroupCalcs(groups){\n\t\tgroups.forEach((group) => {\n\t\t\tif(group.calcs.top){\n\t\t\t\tthis.layoutRow(group.calcs.top);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.calcs.bottom){\n\t\t\t\tthis.layoutRow(group.calcs.bottom);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.groupList && group.groupList.length){\n\t\t\t\tthis.layoutGroupCalcs(group.groupList);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//calculate column positions and layout headers\n\tlayoutColumnPosition(allCells){\n\t\tvar leftParents = [];\n\t\t\n\t\tvar leftMargin = 0;\n\t\tvar rightMargin = 0;\n\t\t\n\t\tthis.leftColumns.forEach((column, i) => {\t\n\t\t\tcolumn.modules.frozen.marginValue = leftMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tleftMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.leftColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else{\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tvar parentEl = this.getColGroupParentElement(column);\n\t\t\t\tif(!leftParents.includes(parentEl)){\n\t\t\t\t\tthis.layoutElement(parentEl, column);\n\t\t\t\t\tleftParents.push(parentEl);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tparentEl.classList.toggle(\"tabulator-frozen-left\",  column.modules.frozen.edge && column.modules.frozen.position === \"left\");\n\t\t\t\tparentEl.classList.toggle(\"tabulator-frozen-right\", column.modules.frozen.edge && column.modules.frozen.position === \"right\");\n\t\t\t}else{\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column, i) => {\n\t\t\t\n\t\t\tcolumn.modules.frozen.marginValue = rightMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\trightMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.rightColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else{\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tthis.layoutElement(this.getColGroupParentElement(column), column);\n\t\t\t}else{\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tgetColGroupParentElement(column){\n\t\treturn column.parent.isGroup ? this.getColGroupParentElement(column.parent) : column.getElement();\n\t}\n\t\n\t//layout columns appropriately\n\tlayout(){\t\n\t\tif(this.active && !this.blocked){\n\t\t\t//calculate left columns\n\t\t\tthis.layoutColumnPosition();\n\t\t\t\n\t\t\tthis.reinitializeRows();\n\t\t\t\n\t\t\tthis.layoutCalcRows();\n\t\t}\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.table.rowManager.getVisibleRows(true);\n\t\tvar otherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\t\t\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t\t\n\t\tvisibleRows.forEach((row) =>{\n\t\t\tif(row.type === \"row\"){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutRow(row){\n\t\tif(this.table.options.layout === \"fitDataFill\" && this.rightColumns.length){\n\t\t\tthis.table.rowManager.getTableElement().style.minWidth = \"calc(100% - \" + this.rightMargin + \")\";\n\t\t}\n\t\t\n\t\tthis.leftColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutElement(element, column){\n\t\tvar position;\n\t\t\n\t\tif(column.modules.frozen && element){\n\t\t\telement.style.position = \"sticky\";\n\n\t\t\tif(this.table.rtl){\n\t\t\t\tposition = column.modules.frozen.position === \"left\" ? \"right\" : \"left\";\n\t\t\t}else{\n\t\t\t\tposition = column.modules.frozen.position;\n\t\t\t}\n\t\t\n\t\t\telement.style[position] = column.modules.frozen.margin;\n\n\t\t\telement.classList.add(\"tabulator-frozen\");\n\t\t\t\n\t\t\telement.classList.toggle(\"tabulator-frozen-left\",  column.modules.frozen.edge && column.modules.frozen.position === \"left\");\n\t\t\telement.classList.toggle(\"tabulator-frozen-right\", column.modules.frozen.edge && column.modules.frozen.position === \"right\");\n\t\t}\n\t}\n\n\tadjustForScrollbar(width){\n\t\tif(this.rightColumns.length){\n\t\t\tthis.table.columnManager.getContentsElement().style.width = \"calc(100% - \" + width + \"px)\";\n\t\t}\n\t}\n\n\tgetFrozenColumns(){\n\t\treturn this.leftColumns.concat(this.rightColumns);\n\t}\n\t\n\t_calcSpace(columns, index){\n\t\tvar width = 0;\n\t\t\n\t\tfor (let i = 0; i < index; i++){\n\t\t\tif(columns[i].visible){\n\t\t\t\twidth += columns[i].getWidth();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn width;\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class FrozenRows extends Module{\n\n\tstatic moduleName = \"frozenRows\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.topElement = document.createElement(\"div\");\n\t\tthis.rows = [];\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"freeze\", this.freezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"unfreeze\", this.unfreezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isFrozen\", this.isRowFrozen.bind(this));\n\n\t\t//register table options\n\t\tthis.registerTableOption(\"frozenRowsField\", \"id\"); //field to choose frozen rows by\n\t\tthis.registerTableOption(\"frozenRows\", false); //holder for frozen row identifiers\n\t}\n\n\tinitialize(){\n\t\tvar\tfragment = document.createDocumentFragment();\n\t\t\n\t\tthis.rows = [];\n\n\t\tthis.topElement.classList.add(\"tabulator-frozen-rows-holder\");\n\t\t\n\t\tfragment.appendChild(document.createElement(\"br\"));\n\t\tfragment.appendChild(this.topElement);\n\n\t\t// this.table.columnManager.element.append(this.topElement);\n\t\tthis.table.columnManager.getContentsElement().insertBefore(fragment, this.table.columnManager.headersElement.nextSibling);\n\n\t\tthis.subscribe(\"row-deleting\", this.detachRow.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\n\t\tthis.registerDisplayHandler(this.getRows.bind(this), 10);\n\n\t\tif(this.table.options.frozenRows){\n\t\t\tthis.subscribe(\"data-processed\", this.initializeRows.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t}\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\tinitializeRows(){\n\t\tthis.table.rowManager.getRows().forEach((row) => {\n\t\t\tthis.initializeRow(row);\n\t\t});\n\t}\n\n\tinitializeRow(row){\n\t\tvar frozenRows = this.table.options.frozenRows,\n\t\trowType = typeof frozenRows;\n\n\t\tif(rowType === \"number\"){\n\t\t\tif(row.getPosition() && (row.getPosition() + this.rows.length) <= frozenRows){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(rowType === \"function\"){\n\t\t\tif(frozenRows.call(this.table, row.getComponent())){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(Array.isArray(frozenRows)){\n\t\t\tif(frozenRows.includes(row.data[this.options(\"frozenRowsField\")])){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowFrozen(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\treturn index > -1;\n\t}\n\n\tisFrozen(){\n\t\treturn !!this.rows.length;\n\t}\n\n\tvisibleRows(viewable, rows){\n\t\tthis.rows.forEach((row) => {\n\t\t\trows.push(row);\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\t//filter frozen rows out of display data\n\tgetRows(rows){\n\t\tvar output = rows.slice(0);\n\n\t\tthis.rows.forEach(function(row){\n\t\t\tvar index = output.indexOf(row);\n\n\t\t\tif(index > -1){\n\t\t\t\toutput.splice(index, 1);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tfreezeRow(row){\n\t\tif(!row.modules.frozen){\n\t\t\trow.modules.frozen = true;\n\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\trow.initialize();\n\t\t\trow.normalizeHeight();\n\t\t\n\t\t\tthis.rows.push(row);\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.styleRows();\n\n\t\t}else{\n\t\t\tconsole.warn(\"Freeze Error - Row is already frozen\");\n\t\t}\n\t}\n\n\tunfreezeRow(row){\n\t\tif(row.modules.frozen){\n\n\t\t\trow.modules.frozen = false;\n\n\t\t\tthis.detachRow(row);\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tif(this.rows.length){\n\t\t\t\tthis.styleRows();\n\t\t\t}\n\n\t\t}else{\n\t\t\tconsole.warn(\"Freeze Error - Row is already unfrozen\");\n\t\t}\n\t}\n\n\tdetachRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t}\n\n\tstyleRows(row){\n\t\tthis.rows.forEach((row, i) => {\n\t\t\tthis.table.rowManager.styleRow(row, i);\n\t\t});\n\t}\n}","//public group object\nexport default class GroupComponent {\n\tconstructor (group){\n\t\tthis._group = group;\n\t\tthis.type = \"GroupComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._group.groupManager.table.componentFunctionBinder.handle(\"group\", target._group, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKey(){\n\t\treturn this._group.key;\n\t}\n\n\tgetField(){\n\t\treturn this._group.field;\n\t}\n\n\tgetElement(){\n\t\treturn this._group.element;\n\t}\n\n\tgetRows(){\n\t\treturn this._group.getRows(true);\n\t}\n\n\tgetSubGroups(){\n\t\treturn this._group.getSubGroups(true);\n\t}\n\n\tgetParentGroup(){\n\t\treturn this._group.parent ? this._group.parent.getComponent() : false;\n\t}\n\n\tisVisible(){\n\t\treturn this._group.visible;\n\t}\n\n\tshow(){\n\t\tthis._group.show();\n\t}\n\n\thide(){\n\t\tthis._group.hide();\n\t}\n\n\ttoggle(){\n\t\tthis._group.toggleVisibility();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._group.groupManager.table.rowManager.scrollToRow(this._group, position, ifVisible);\n\t}\n\n\t_getSelf(){\n\t\treturn this._group;\n\t}\n\n\tgetTable(){\n\t\treturn this._group.groupManager.table;\n\t}\n}","import Helpers from '../../core/tools/Helpers.js';\nimport GroupComponent from './GroupComponent.js';\n\n//Group functions\nexport default class Group{\n\t\n\tconstructor(groupManager, parent, level, key, field, generator, oldGroup){\n\t\tthis.groupManager = groupManager;\n\t\tthis.parent = parent;\n\t\tthis.key = key;\n\t\tthis.level = level;\n\t\tthis.field = field;\n\t\tthis.hasSubGroups = level < (groupManager.groupIDLookups.length - 1);\n\t\tthis.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow;\n\t\tthis.type = \"group\"; //type of element\n\t\tthis.old = oldGroup;\n\t\tthis.rows = [];\n\t\tthis.groups = [];\n\t\tthis.groupList = [];\n\t\tthis.generator = generator;\n\t\tthis.element = false;\n\t\tthis.elementContents = false;\n\t\tthis.height = 0;\n\t\tthis.outerHeight = 0;\n\t\tthis.initialized = false;\n\t\tthis.calcs = {};\n\t\tthis.initialized = false;\n\t\tthis.modules = {};\n\t\tthis.arrowElement = false;\n\t\t\n\t\tthis.visible = oldGroup ? oldGroup.visible : (typeof groupManager.startOpen[level] !== \"undefined\" ? groupManager.startOpen[level] : groupManager.startOpen[0]);\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.createElements();\n\t\tthis.addBindings();\n\t\t\n\t\tthis.createValueGroups();\n\t}\n\t\n\twipe(elementsOnly){\n\t\tif(!elementsOnly){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\tgroup.wipe();\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tif(row.modules){\n\t\t\t\t\t\tdelete row.modules.group;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.arrowElement = false;\n\t\tthis.elementContents = false;\n\t}\n\t\n\tcreateElements(){\n\t\tvar arrow = document.createElement(\"div\");\n\t\tarrow.classList.add(\"tabulator-arrow\");\n\t\t\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-row\");\n\t\tthis.element.classList.add(\"tabulator-group\");\n\t\tthis.element.classList.add(\"tabulator-group-level-\" + this.level);\n\t\tthis.element.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tthis.arrowElement = document.createElement(\"div\");\n\t\tthis.arrowElement.classList.add(\"tabulator-group-toggle\");\n\t\tthis.arrowElement.appendChild(arrow);\n\t\t\n\t\t//setup movable rows\n\t\tif(this.groupManager.table.options.movableRows !== false && this.groupManager.table.modExists(\"moveRow\")){\n\t\t\tthis.groupManager.table.modules.moveRow.initializeGroupHeader(this);\n\t\t}\n\t}\n\t\n\tcreateValueGroups(){\n\t\tvar level = this.level + 1;\n\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\tthis.groupManager.allowedValues[level].forEach((value) => {\n\t\t\t\tthis._createGroup(value, level);\n\t\t\t});\n\t\t}\n\t}\n\t\n\taddBindings(){\n\t\tvar toggleElement;\n\t\t\n\t\tif(this.groupManager.table.options.groupToggleElement){\n\t\t\ttoggleElement = this.groupManager.table.options.groupToggleElement == \"arrow\" ? this.arrowElement : this.element;\n\t\t\t\n\t\t\ttoggleElement.addEventListener(\"click\", (e) => {\n\t\t\t\tif(this.groupManager.table.options.groupToggleElement === \"arrow\"){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t}\n\n\t\t\t\t//allow click event to propagate before toggling visibility\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.toggleVisibility();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\t\n\t_createGroup(groupID, level){\n\t\tvar groupKey = level + \"_\" + groupID;\n\t\tvar group = new Group(this.groupManager, this, level, groupID,  this.groupManager.groupIDLookups[level].field, this.groupManager.headerGenerator[level] || this.groupManager.headerGenerator[0], this.old ? this.old.groups[groupKey] : false);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\t_addRowToGroup(row){\n\t\t\n\t\tvar level = this.level + 1;\n\t\t\n\t\tif(this.hasSubGroups){\n\t\t\tvar groupID = this.groupManager.groupIDLookups[level].func(row.getData()),\n\t\t\tgroupKey = level + \"_\" + groupID;\n\t\t\t\n\t\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\t\tif(this.groups[groupKey]){\n\t\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(!this.groups[groupKey]){\n\t\t\t\t\tthis._createGroup(groupID, level);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_addRow(row){\n\t\tthis.rows.push(row);\n\t\trow.modules.group = this;\n\t}\n\t\n\tinsertRow(row, to, after){\n\t\tvar data = this.conformRowData({});\n\t\t\n\t\trow.updateData(data);\n\t\t\n\t\tvar toIndex = this.rows.indexOf(to);\n\t\t\n\t\tif(toIndex > -1){\n\t\t\tif(after){\n\t\t\t\tthis.rows.splice(toIndex+1, 0, row);\n\t\t\t}else{\n\t\t\t\tthis.rows.splice(toIndex, 0, row);\n\t\t\t}\n\t\t}else{\n\t\t\tif(after){\n\t\t\t\tthis.rows.push(row);\n\t\t\t}else{\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\trow.modules.group = this;\n\t\t\n\t\t// this.generateGroupHeaderContents();\n\t\t\n\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t}\n\t\t\n\t\tthis.groupManager.updateGroupRows(true);\n\t}\n\t\n\tscrollHeader(left){\n\t\tif(this.arrowElement){\n\t\t\tthis.arrowElement.style.marginLeft = left;\n\t\t\t\n\t\t\tthis.groupList.forEach(function(child){\n\t\t\t\tchild.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tgetRowIndex(row){}\n\t\n\t//update row data to match grouping constraints\n\tconformRowData(data){\n\t\tif(this.field){\n\t\t\tdata[this.field] = this.key;\n\t\t}else{\n\t\t\tconsole.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");\n\t\t}\n\t\t\n\t\tif(this.parent){\n\t\t\tdata = this.parent.conformRowData(data);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\tremoveRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\tvar el = row.getElement();\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t\t\n\t\tif(!this.groupManager.table.options.groupValues && !this.rows.length){\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t}else{\n\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t}\t\t\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else{\n\t\t\t\n\t\t\tif(el.parentNode){\n\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupManager.blockRedraw){\n\t\t\t\tthis.generateGroupHeaderContents();\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupList.length){\n\t\t\t\tif(this.parent){\n\t\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t\t}else{\n\t\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetHeadersAndRows(){\n\t\tvar output = [];\n\t\t\n\t\toutput.push(this);\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\t\n\t\tif(this.calcs.top){\n\t\t\tthis.calcs.top.detachElement();\n\t\t\tthis.calcs.top.deleteCells();\n\t\t}\n\t\t\n\t\tif(this.calcs.bottom){\n\t\t\tthis.calcs.bottom.detachElement();\n\t\t\tthis.calcs.bottom.deleteCells();\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tif(this.visible){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput = output.concat(this.rows);\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" &&  this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\n\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(!this.groupList.length && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\")){\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetData(visible, transform){\n\t\tvar output = [];\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(!visible || (visible && this.visible)){\n\t\t\tthis.rows.forEach((row) => {\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRowCount(){\n\t\tvar count = 0;\n\t\t\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tcount += group.getRowCount();\n\t\t\t});\n\t\t}else{\n\t\t\tcount = this.rows.length;\n\t\t}\n\t\treturn count;\n\t}\n\n\t\n\ttoggleVisibility(){\n\t\tif(this.visible){\n\t\t\tthis.hide();\n\t\t}else{\n\t\t\tthis.show();\n\t\t}\n\t}\n\t\n\thide(){\n\t\tthis.visible = false;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\t\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\trow.detachElement();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else{\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), false);\n\t}\n\t\n\tshow(){\n\t\tthis.visible = true;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tvar prev = this.generateElement();\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\t\trow.initialize();\n\t\t\t\t\t\tprev = rowEl;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\trow.initialize();\n\t\t\t\t\tprev = rowEl;\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}else{\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), true);\n\t}\n\t\n\t_visSet(){\n\t\tvar data = [];\n\t\t\n\t\tif(typeof this.visible == \"function\"){\n\t\t\t\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\tdata.push(row.getData());\n\t\t\t});\n\t\t\t\n\t\t\tthis.visible = this.visible(this.key, this.getRowCount(), data, this.getComponent());\n\t\t}\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\t\n\t\t\t\tif(result){\n\t\t\t\t\tmatch = result;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tif(this.rows.find(function(item){\n\t\t\t\treturn item === row;\n\t\t\t})){\n\t\t\t\tmatch = this;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetSubGroups(component){\n\t\tvar output = [];\n\t\t\n\t\tthis.groupList.forEach(function(child){\n\t\t\toutput.push(component ? child.getComponent() : child);\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRows(component, includeChildren){\n\t\tvar output = [];\n\t\t\n\t\tif(includeChildren && this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getRows(component, includeChildren));\n\t\t\t});\n\t\t}else{\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\toutput.push(component ? row.getComponent() : row);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgenerateGroupHeaderContents(){\n\t\tvar data = [];\n\t\t\n\t\tvar rows = this.getRows(false, true);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\tthis.elementContents = this.generator(this.key, this.getRowCount(), data, this.getComponent());\n\t\t\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\n\t\tif(typeof this.elementContents === \"string\"){\n\t\t\tthis.element.innerHTML = this.elementContents;\n\t\t}else{\n\t\t\tthis.element.appendChild(this.elementContents);\n\t\t}\n\t\t\n\t\tthis.element.insertBefore(this.arrowElement, this.element.firstChild);\n\t}\n\t\n\tgetPath(path = []) {\n\t\tpath.unshift(this.key);\n\t\tif(this.parent) {\n\t\t\tthis.parent.getPath(path);\n\t\t}\n\t\treturn path;\n\t}\n\t\n\t////////////// Standard Row Functions //////////////\n\t\n\tgetElement(){\n\t\treturn this.elementContents ? this.element : this.generateElement();\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.addBindings = false;\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(this.visible){\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t}else{\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tfor(var i = 0; i < this.element.childNodes.length; ++i){\n\t\t\tthis.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);\n\t\t}\n\t\t\n\t\tthis.generateGroupHeaderContents();\n\t\t\n\t\t// this.addBindings();\n\t\t\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(){\n\t\tthis.setHeight(this.element.clientHeight);\n\t}\n\t\n\tinitialize(force){\n\t\tif(!this.initialized || force){\n\t\t\tthis.normalizeHeight();\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\treinitialize(){\n\t\tthis.initialized = false;\n\t\tthis.height = 0;\n\t\t\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.initialize(true);\n\t\t}\n\t}\n\t\n\tsetHeight(height){\n\t\tif(this.height != height){\n\t\t\tthis.height = height;\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\tgetGroup(){\n\t\treturn this;\n\t}\n\t\n\treinitializeHeight(){}\n\t\n\tcalcHeight(){}\n\t\n\tsetCellHeight(){}\n\t\n\tclearCellHeight(){}\n\t\n\tdeinitializeHeight(){}\n\n\trendered(){}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new GroupComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}","import Module from '../../core/Module.js';\n\nimport Group from './Group.js';\n\nexport default class GroupRows extends Module{\n\n\tstatic moduleName = \"groupRows\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.groupIDLookups = false; //enable table grouping and set field to group by\n\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\tthis.groupList = []; //ordered list of groups\n\t\tthis.allowedValues = false;\n\t\tthis.groups = {}; //hold row groups\n\t\t\n\t\tthis.displayHandler = this.getRows.bind(this);\n\n\t\tthis.blockRedraw = false;\n\t\t\n\t\t//register table options\n\t\tthis.registerTableOption(\"groupBy\", false); //enable table grouping and set field to group by\n\t\tthis.registerTableOption(\"groupStartOpen\", true); //starting state of group\n\t\tthis.registerTableOption(\"groupValues\", false);\n\t\tthis.registerTableOption(\"groupUpdateOnCellEdit\", false);\n\t\tthis.registerTableOption(\"groupHeader\", false); //header generation function\n\t\tthis.registerTableOption(\"groupHeaderPrint\", null);\n\t\tthis.registerTableOption(\"groupHeaderClipboard\", null);\n\t\tthis.registerTableOption(\"groupHeaderHtmlOutput\", null);\n\t\tthis.registerTableOption(\"groupHeaderDownload\", null);\n\t\tthis.registerTableOption(\"groupToggleElement\", \"arrow\");\n\t\tthis.registerTableOption(\"groupClosedShowCalcs\", false);\n\t\t\n\t\t//register table functions\n\t\tthis.registerTableFunction(\"setGroupBy\", this.setGroupBy.bind(this));\n\t\tthis.registerTableFunction(\"setGroupValues\", this.setGroupValues.bind(this));\n\t\tthis.registerTableFunction(\"setGroupStartOpen\", this.setGroupStartOpen.bind(this));\n\t\tthis.registerTableFunction(\"setGroupHeader\", this.setGroupHeader.bind(this));\n\t\tthis.registerTableFunction(\"getGroups\", this.userGetGroups.bind(this));\n\t\tthis.registerTableFunction(\"getGroupedData\", this.userGetGroupedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"getGroup\", this.rowGetGroup.bind(this));\n\t}\n\t\n\t//initialize group configuration\n\tinitialize(){\n\t\tthis.subscribe(\"table-destroy\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wipe\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wiped\", this._restore_redrawing.bind(this));\n\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.groupUpdateOnCellEdit){\n\t\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.reassignRowToGroup.bind(this), 0);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-built\", this.configureGroupSetup.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleting.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHeaders.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.wipe.bind(this));\n\t\t\tthis.subscribe(\"rows-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-moving\", this.rowMoving.bind(this));\n\t\t\tthis.subscribe(\"row-adding-index\", this.rowAddingIndex.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"rows-sample\", this.rowSample.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"render-virtual-fill\", this.virtualRenderFill.bind(this));\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.displayHandler, 20);\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t_blockRedrawing(){\n\t\tthis.blockRedraw = true;\n\t}\n\n\t_restore_redrawing(){\n\t\tthis.blockRedraw = false;\n\t}\n\n\tconfigureGroupSetup(){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar groupBy = this.table.options.groupBy,\n\t\t\tstartOpen = this.table.options.groupStartOpen,\n\t\t\tgroupHeader = this.table.options.groupHeader;\n\t\t\t\n\t\t\tthis.allowedValues = this.table.options.groupValues;\n\t\t\t\n\t\t\tif(Array.isArray(groupBy) && Array.isArray(groupHeader) && groupBy.length > groupHeader.length){\n\t\t\t\tconsole.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\t\t\n\t\t\tthis.langBind(\"groups|item\", (langValue, lang) => {\n\t\t\t\tthis.headerGenerator[0] = (value, count, data) => { //header layout function\n\t\t\t\t\treturn (typeof value === \"undefined\" ? \"\" : value) + \"<span>(\" + count + \" \" + ((count === 1) ? langValue : lang.groups.items) + \")</span>\";\n\t\t\t\t};\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupIDLookups = [];\n\t\t\t\n\t\t\tif(groupBy){\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"table\" && this.table.options.columnCalcs != \"both\"){\n\t\t\t\t\tthis.table.modules.columnCalcs.removeCalcs();\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\t\n\t\t\t\t\tvar cols = this.table.columnManager.getRealColumns();\n\t\t\t\t\t\n\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\tif(col.definition.topCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeTopRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(col.definition.bottomCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeBottomRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!Array.isArray(groupBy)){\n\t\t\t\tgroupBy = [groupBy];\n\t\t\t}\n\t\t\t\n\t\t\tgroupBy.forEach((group, i) => {\n\t\t\t\tvar lookupFunc, column;\n\t\t\t\t\n\t\t\t\tif(typeof group == \"function\"){\n\t\t\t\t\tlookupFunc = group;\n\t\t\t\t}else{\n\t\t\t\t\tcolumn = this.table.columnManager.getColumnByField(group);\n\t\t\t\t\t\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn column.getFieldValue(data);\n\t\t\t\t\t\t};\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn data[group];\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groupIDLookups.push({\n\t\t\t\t\tfield: typeof group === \"function\" ? false : group,\n\t\t\t\t\tfunc:lookupFunc,\n\t\t\t\t\tvalues:this.allowedValues ? this.allowedValues[i] : false,\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tif(startOpen){\n\t\t\t\tif(!Array.isArray(startOpen)){\n\t\t\t\t\tstartOpen = [startOpen];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tstartOpen.forEach((level) => {\n\t\t\t\t\tlevel = typeof level == \"function\" ? level : function(){return true;};\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.startOpen = startOpen;\n\t\t\t}\n\t\t\t\n\t\t\tif(groupHeader){\n\t\t\t\tthis.headerGenerator = Array.isArray(groupHeader) ? groupHeader : [groupHeader];\n\t\t\t}\n\t\t}else{\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\trowSample(rows, prevValue){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar group = this.getGroups(false)[0];\n\t\t\t\n\t\t\tprevValue.push(group.getRows(false)[0]);\n\t\t}\n\t\t\n\t\treturn prevValue;\n\t}\n\t\n\tvirtualRenderFill(){\n\t\tvar el = this.table.rowManager.tableElement;\n\t\tvar rows = this.table.rowManager.getVisibleRows();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\trows = rows.filter((row) => {\n\t\t\t\treturn row.type !== \"group\";\n\t\t\t});\n\t\t\t\n\t\t\tel.style.minWidth = !rows.length ? this.table.columnManager.getWidth() + \"px\" : \"\";\n\t\t}else{\n\t\t\treturn rows;\n\t\t}\n\t}\n\t\n\trowAddingIndex(row, index, top){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.assignRowToGroup(row);\n\t\t\t\n\t\t\tvar groupRows = row.modules.group.rows;\n\t\t\t\n\t\t\tif(groupRows.length > 1){\n\t\t\t\tif(!index || (index && groupRows.indexOf(index) == -1)){\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tif(groupRows[0] !== row){\n\t\t\t\t\t\t\tindex = groupRows[0];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(groupRows[groupRows.length -1] !== row){\n\t\t\t\t\t\t\tindex = groupRows[groupRows.length -1];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn index;\n\t\t}\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"group-changed\");\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tsetGroupBy(groups){\n\t\tthis.table.options.groupBy = groups;\n\t\t\n\t\tif(!this.initialized){\n\t\t\tthis.initialize();\n\t\t}\n\t\t\n\t\tthis.configureGroupSetup();\n\n\t\tif(!groups && this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs === true){\n\t\t\tthis.table.modules.columnCalcs.reinitializeCalcs();\n\t\t}\n\t\t\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupValues(groupValues){\n\t\tthis.table.options.groupValues = groupValues;\n\t\tthis.configureGroupSetup();\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupStartOpen(values){\n\t\tthis.table.options.groupStartOpen = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else{\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tsetGroupHeader(values){\n\t\tthis.table.options.groupHeader = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else{\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tuserGetGroups(values){\n\t\treturn this.getGroups(true);\n\t}\n\t\n\t// get grouped table data in the same format as getData()\n\tuserGetGroupedData(){\n\t\treturn this.table.options.groupBy ? this.getGroupedData() : this.getData();\n\t}\n\t\n\t\n\t///////////////////////////////////////\n\t///////// Component Functions /////////\n\t///////////////////////////////////////\n\t\n\trowGetGroup(row){\n\t\treturn row.modules.group ? row.modules.group.getComponent() : false;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\trowMoving(from, to, after){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(!after && to instanceof Group){\n\t\t\t\tto = this.table.rowManager.prevDisplayRow(from) || to;\n\t\t\t}\n\t\t\t\n\t\t\tvar toGroup = to instanceof Group ? to : to.modules.group;\n\t\t\tvar fromGroup = from instanceof Group ? from : from.modules.group;\n\t\t\t\n\t\t\tif(toGroup === fromGroup){\n\t\t\t\tthis.table.rowManager.moveRowInArray(toGroup.rows, from, to, after);\n\t\t\t}else{\n\t\t\t\tif(fromGroup){\n\t\t\t\t\tfromGroup.removeRow(from);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttoGroup.insertRow(from, to, after);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\trowDeleting(row){\n\t\t//remove from group\n\t\tif(this.table.options.groupBy && row.modules.group){\n\t\t\trow.modules.group.removeRow(row);\n\t\t}\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.updateGroupRows(true);\n\t\t}\t\n\t}\n\t\n\tcellUpdated(cell){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.reassignRowToGroup(cell.row);\n\t\t}\n\t}\n\t\n\t//return appropriate rows with group headers\n\tgetRows(rows){\n\t\tif(this.table.options.groupBy && this.groupIDLookups.length){\n\t\t\t\n\t\t\tthis.dispatchExternal(\"dataGrouping\");\n\t\t\t\n\t\t\tthis.generateGroups(rows);\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataGrouped\")){\n\t\t\t\tthis.dispatchExternal(\"dataGrouped\", this.getGroups(true));\n\t\t\t}\n\t\t\t\n\t\t\treturn this.updateGroupRows();\n\t\t\t\n\t\t}else{\n\t\t\treturn rows.slice(0);\n\t\t}\n\t}\n\t\n\tgetGroups(component){\n\t\tvar groupComponents = [];\n\t\t\n\t\tthis.groupList.forEach(function(group){\n\t\t\tgroupComponents.push(component ? group.getComponent() : group);\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\tgetChildGroups(group){\n\t\tvar groupComponents = [];\n\t\t\n\t\tif(!group){\n\t\t\tgroup = this;\n\t\t}\n\t\t\n\t\tgroup.groupList.forEach((child) => {\n\t\t\tif(child.groupList.length){\n\t\t\t\tgroupComponents = groupComponents.concat(this.getChildGroups(child));\n\t\t\t}else{\n\t\t\t\tgroupComponents.push(child);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\twipe(){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tgroup.wipe();\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\tpullGroupListData(groupList) {\n\t\tvar groupListData = [];\n\t\t\n\t\tgroupList.forEach((group) => {\n\t\t\tvar groupHeader = {};\n\t\t\tgroupHeader.level = 0;\n\t\t\tgroupHeader.rowCount = 0;\n\t\t\tgroupHeader.headerContent = \"\";\n\t\t\tvar childData = [];\n\t\t\t\n\t\t\tif (group.hasSubGroups) {\n\t\t\t\tchildData = this.pullGroupListData(group.groupList);\n\t\t\t\t\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.rowCount = childData.length - group.groupList.length; // data length minus number of sub-headers\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, groupHeader.rowCount, group.rows, group);\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\tgroupListData = groupListData.concat(childData);\n\t\t\t}\n\t\t\t\n\t\t\telse {\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, group.rows.length, group.rows, group);\n\t\t\t\tgroupHeader.rowCount = group.getRows().length;\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\t\n\t\t\t\tgroup.getRows().forEach((row) => {\n\t\t\t\t\tgroupListData.push(row.getData(\"data\"));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupListData;\n\t}\n\t\n\tgetGroupedData(){\n\t\t\n\t\treturn this.pullGroupListData(this.groupList);\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\t\n\t\tif(this.options(\"dataTree\")){\n\t\t\trow = this.table.modules.dataTree.getTreeParentRoot(row);\n\t\t}\n\t\t\n\t\tthis.groupList.forEach((group) => {\n\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\n\t\t\tif(result){\n\t\t\t\tmatch = result;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tcountGroups(){\n\t\treturn this.groupList.length;\n\t}\n\t\n\tgenerateGroups(rows){\n\t\tvar oldGroups = this.groups;\n\t\t\n\t\tthis.groups = {};\n\t\tthis.groupList = [];\n\t\t\n\t\tif(this.allowedValues && this.allowedValues[0]){\n\t\t\tthis.allowedValues[0].forEach((value) => {\n\t\t\t\tthis.createGroup(value, 0, oldGroups);\n\t\t\t});\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToExistingGroup(row, oldGroups);\n\t\t\t});\n\t\t}else{\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToGroup(row, oldGroups);\n\t\t\t});\n\t\t}\n\t\t\n\t\tObject.values(oldGroups).forEach((group) => {\n\t\t\tgroup.wipe(true);\n\t\t});\t\n\t}\n\t\n\t\n\tcreateGroup(groupID, level, oldGroups){\n\t\tvar groupKey = level + \"_\" + groupID,\n\t\tgroup;\n\t\t\n\t\toldGroups = oldGroups || [];\n\t\t\n\t\tgroup = new Group(this, false, level, groupID, this.groupIDLookups[0].field, this.headerGenerator[0], oldGroups[groupKey]);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\tassignRowToExistingGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tgroupKey = \"0_\" + groupID;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tthis.groups[groupKey].addRow(row);\n\t\t}\n\t}\n\t\n\tassignRowToGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tnewGroupNeeded = !this.groups[\"0_\" + groupID];\n\t\t\n\t\tif(newGroupNeeded){\n\t\t\tthis.createGroup(groupID, 0, oldGroups);\n\t\t}\n\t\t\n\t\tthis.groups[\"0_\" + groupID].addRow(row);\n\t\t\n\t\treturn !newGroupNeeded;\n\t}\n\t\n\treassignRowToGroup(row){\n\t\tif(row.type === \"row\"){\n\t\t\tvar oldRowGroup = row.modules.group,\n\t\t\toldGroupPath = oldRowGroup.getPath(),\n\t\t\tnewGroupPath = this.getExpectedPath(row),\n\t\t\tsamePath;\n\t\t\t\n\t\t\t// figure out if new group path is the same as old group path\n\t\t\tsamePath = (oldGroupPath.length == newGroupPath.length) && oldGroupPath.every((element, index) => {\n\t\t\t\treturn element === newGroupPath[index];\n\t\t\t});\n\t\t\t\n\t\t\t// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\n\t\t\tif(!samePath) {\n\t\t\t\toldRowGroup.removeRow(row);\n\t\t\t\tthis.assignRowToGroup(row, this.groups);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetExpectedPath(row) {\n\t\tvar groupPath = [], rowData = row.getData();\n\t\t\n\t\tthis.groupIDLookups.forEach((groupId) => {\n\t\t\tgroupPath.push(groupId.func(rowData));\n\t\t});\n\t\t\n\t\treturn groupPath;\n\t}\n\t\n\tupdateGroupRows(force){\n\t\tvar output = [];\n\n\t\tif(!this.blockRedraw){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tscrollHeaders(left){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleft -= this.table.columnManager.renderer.vDomPadLeft;\n\t\t\t}\n\t\t\t\n\t\t\tleft = left + \"px\";\n\t\t\t\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tgroup.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcheckBasicModeGroupHeaderWidth(){\n\t\tvar element = this.table.rowManager.tableElement,\n\t\tonlyGroupHeaders = true;\n\t\t\n\t\tthis.table.rowManager.getDisplayRows().forEach((row, index) =>{\n\t\t\tthis.table.rowManager.styleRow(row, index);\n\t\t\telement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\t\t\t\n\t\t\tif(row.type !== \"group\"){\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else{\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n}","export default {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.oldValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\taction.component.deleteActual();\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowDelete: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowMove: function(action){\n\t\tvar after = (action.data.posFrom  - action.data.posTo) > 0;\n\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posFrom), after);\n\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};","export default {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.newValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowDelete:function(action){\n\t\taction.component.deleteActual();\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowMove: function(action){\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posTo), action.data.after);\n\t\t\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};","export default {\r\n\tundo:[\"ctrl + 90\", \"meta + 90\"],\r\n\tredo:[\"ctrl + 89\", \"meta + 89\"],\r\n};\r\n","export default {\r\n\tundo:function(e){\r\n\t\tvar cell = false;\r\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\r\n\r\n\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\tif(!cell){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.table.modules.history.undo();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tredo:function(e){\r\n\t\tvar cell = false;\r\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\r\n\r\n\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\tif(!cell){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.table.modules.history.redo();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n};\r\n","import bindings from './keybindings/bindings.js';\r\nimport actions from './keybindings/actions.js';\r\n\r\nexport default {\r\n\tkeybindings:{\r\n\t\tbindings:bindings,\r\n\t\tactions:actions\r\n\t},\r\n};","import Module from '../../core/Module.js';\nimport Row from '../../core/row/Row.js';\nimport Cell from '../../core/cell/Cell.js';\n\nimport defaultUndoers from './defaults/undoers.js';\nimport defaultRedoers from './defaults/redoers.js';\nimport extensions from './extensions/extensions.js';\n\nexport default class History extends Module{\n\n\tstatic moduleName = \"history\";\n\tstatic moduleExtensions = extensions;\n\n\t//load defaults\n\tstatic undoers = defaultUndoers;\n\tstatic redoers = defaultRedoers;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\n\t\tthis.registerTableOption(\"history\", false); //enable edit history\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.history){\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.clearComponentHistory.bind(this));\n\t\t\tthis.subscribe(\"row-delete\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clear.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowAdded.bind(this));\n\t\t\tthis.subscribe(\"row-move\", this.rowMoved.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"undo\", this.undo.bind(this));\n\t\tthis.registerTableFunction(\"redo\", this.redo.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryUndoSize\", this.getHistoryUndoSize.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryRedoSize\", this.getHistoryRedoSize.bind(this));\n\t\tthis.registerTableFunction(\"clearHistory\", this.clear.bind(this));\n\t}\n\n\trowMoved(from, to, after){\n\t\tthis.action(\"rowMove\", from, {posFrom:from.getPosition(), posTo:to.getPosition(), to:to, after:after});\n\t}\n\n\trowAdded(row, data, pos, index){\n\t\tthis.action(\"rowAdd\", row, {data:data, pos:pos, index:index});\n\t}\n\n\trowDeleted(row){\n\t\tvar index, rows;\n\n\t\tif(this.table.options.groupBy){\n\n\t\t\trows = row.getComponent().getGroup()._getSelf().rows;\n\t\t\tindex = rows.indexOf(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = rows[index-1];\n\t\t\t}\n\t\t}else{\n\t\t\tindex = row.table.rowManager.getRowIndex(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = row.table.rowManager.rows[index-1];\n\t\t\t}\n\t\t}\n\n\t\tthis.action(\"rowDelete\", row, {data:row.getData(), pos:!index, index:index});\n\t}\n\n\tcellUpdated(cell){\n\t\tthis.action(\"cellEdit\", cell, {oldValue:cell.oldValue, newValue:cell.value});\n\t}\n\n\tclear(){\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\t}\n\n\taction(type, component, data){\n\t\tthis.history = this.history.slice(0, this.index + 1);\n\n\t\tthis.history.push({\n\t\t\ttype:type,\n\t\t\tcomponent:component,\n\t\t\tdata:data,\n\t\t});\n\n\t\tthis.index ++;\n\t}\n\n\tgetHistoryUndoSize(){\n\t\treturn this.index + 1;\n\t}\n\n\tgetHistoryRedoSize(){\n\t\treturn this.history.length - (this.index + 1);\n\t}\n\n\tclearComponentHistory(component){\n\t\tvar index = this.history.findIndex(function(item){\n\t\t\treturn item.component === component;\n\t\t});\n\n\t\tif(index > -1){\n\t\t\tthis.history.splice(index, 1);\n\t\t\tif(index <= this.index){\n\t\t\t\tthis.index--;\n\t\t\t}\n\n\t\t\tthis.clearComponentHistory(component);\n\t\t}\n\t}\n\n\tundo(){\n\t\tif(this.index > -1){\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.undoers[action.type].call(this, action);\n\n\t\t\tthis.index--;\n\n\t\t\tthis.dispatchExternal(\"historyUndo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(this.options(\"history\") ? \"History Undo Error - No more history to undo\" : \"History module not enabled\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tredo(){\n\t\tif(this.history.length-1 > this.index){\n\n\t\t\tthis.index++;\n\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.redoers[action.type].call(this, action);\n\n\t\t\tthis.dispatchExternal(\"historyRedo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(this.options(\"history\") ? \"History Redo Error - No more history to redo\" : \"History module not enabled\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//rebind rows to new element after deletion\n\t_rebindRow(oldRow, newRow){\n\t\tthis.history.forEach(function(action){\n\t\t\tif(action.component instanceof Row){\n\t\t\t\tif(action.component === oldRow){\n\t\t\t\t\taction.component = newRow;\n\t\t\t\t}\n\t\t\t}else if(action.component instanceof Cell){\n\t\t\t\tif(action.component.row === oldRow){\n\t\t\t\t\tvar field = action.component.column.getField();\n\n\t\t\t\t\tif(field){\n\t\t\t\t\t\taction.component = newRow.getCell(field);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class HtmlTableImport extends Module{\n\n\tstatic moduleName = \"htmlTableImport\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.fieldIndex = [];\n\t\tthis.hasIndex = false;\n\t}\n\n\tinitialize(){\n\t\tthis.tableElementCheck();\n\t}\n\n\ttableElementCheck(){\n\t\tif(this.table.originalElement && this.table.originalElement.tagName === \"TABLE\"){\n\t\t\tif(this.table.originalElement.childNodes.length){\n\t\t\t\tthis.parseTable();\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element.\");\n\t\t\t}\n\t\t}\n\t}\n\n\tparseTable(){\n\t\tvar element = this.table.originalElement,\n\t\toptions = this.table.options,\n\t\theaders = element.getElementsByTagName(\"th\"),\n\t\trows = element.getElementsByTagName(\"tbody\")[0],\n\t\tdata = [];\n\n\t\tthis.hasIndex = false;\n\n\t\tthis.dispatchExternal(\"htmlImporting\");\n\n\t\trows = rows ? rows.getElementsByTagName(\"tr\") : [];\n\n\t\t//check for Tabulator inline options\n\t\tthis._extractOptions(element, options);\n\n\t\tif(headers.length){\n\t\t\tthis._extractHeaders(headers, rows);\n\t\t}else{\n\t\t\tthis._generateBlankHeaders(headers, rows);\n\t\t}\n\n\t\t//iterate through table rows and build data set\n\t\tfor(var index = 0; index < rows.length; index++){\n\t\t\tvar row = rows[index],\n\t\t\tcells = row.getElementsByTagName(\"td\"),\n\t\t\titem = {};\n\n\t\t\t//create index if the don't exist in table\n\t\t\tif(!this.hasIndex){\n\t\t\t\titem[options.index] = index;\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\tvar cell = cells[i];\n\t\t\t\tif(typeof this.fieldIndex[i] !== \"undefined\"){\n\t\t\t\t\titem[this.fieldIndex[i]] = cell.innerHTML;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//add row data to item\n\t\t\tdata.push(item);\n\t\t}\n\n\t\toptions.data = data;\n\n\t\tthis.dispatchExternal(\"htmlImported\");\n\t}\n\n\t//extract tabulator attribute options\n\t_extractOptions(element, options, defaultOptions){\n\t\tvar attributes = element.attributes;\n\t\tvar optionsArr = defaultOptions ? Object.keys(defaultOptions) : Object.keys(options);\n\t\tvar optionsList = {};\n\n\t\toptionsArr.forEach((item) => {\n\t\t\toptionsList[item.toLowerCase()] = item;\n\t\t});\n\n\t\tfor(var index in attributes){\n\t\t\tvar attrib = attributes[index];\n\t\t\tvar name;\n\n\t\t\tif(attrib && typeof attrib == \"object\" && attrib.name && attrib.name.indexOf(\"tabulator-\") === 0){\n\t\t\t\tname = attrib.name.replace(\"tabulator-\", \"\");\n\n\t\t\t\tif(typeof optionsList[name] !== \"undefined\"){\n\t\t\t\t\toptions[optionsList[name]] = this._attribValue(attrib.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//get value of attribute\n\t_attribValue(value){\n\t\tif(value === \"true\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(value === \"false\"){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t//find column if it has already been defined\n\t_findCol(title){\n\t\tvar match = this.table.options.columns.find((column) => {\n\t\t\treturn column.title === title;\n\t\t});\n\n\t\treturn match || false;\n\t}\n\n\t//extract column from headers\n\t_extractHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\texists = false,\n\t\t\tcol = this._findCol(header.textContent),\n\t\t\twidth;\n\n\t\t\tif(col){\n\t\t\t\texists = true;\n\t\t\t}else{\n\t\t\t\tcol = {title:header.textContent.trim()};\n\t\t\t}\n\n\t\t\tif(!col.field) {\n\t\t\t\tcol.field = header.textContent.trim().toLowerCase().replaceAll(\" \", \"_\");\n\t\t\t}\n\n\t\t\twidth = header.getAttribute(\"width\");\n\n\t\t\tif(width && !col.width)\t{\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\t//check for Tabulator inline options\n\t\t\tthis._extractOptions(header, col, this.table.columnManager.optionsList.registeredDefaults);\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tif(col.field == this.table.options.index){\n\t\t\t\tthis.hasIndex = true;\n\t\t\t}\n\n\t\t\tif(!exists){\n\t\t\t\tthis.table.options.columns.push(col);\n\t\t\t}\n\n\t\t}\n\t}\n\n\t//generate blank headers\n\t_generateBlankHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\tcol = {title:\"\", field:\"col\" + index};\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tvar width = header.getAttribute(\"width\");\n\n\t\t\tif(width){\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\tthis.table.options.columns.push(col);\n\t\t}\n\t}\n}","export default function(input){\n\tvar data = [],\n\trow = 0, \n\tcol = 0,\n\tinQuote = false;\n    \n\t//Iterate over each character\n\tfor (let index = 0; index < input.length; index++) {\n\t\tlet char = input[index], \n\t\tnextChar = input[index+1];      \n        \n\t\t//Initialize empty row\n\t\tif(!data[row]){\n\t\t\tdata[row] = [];\n\t\t}\n\n\t\t//Initialize empty column\n\t\tif(!data[row][col]){\n\t\t\tdata[row][col] = \"\";\n\t\t}\n        \n\t\t//Handle quotation mark inside string\n\t\tif (char == '\"' && inQuote && nextChar == '\"') { \n\t\t\tdata[row][col] += char; \n\t\t\tindex++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//Begin / End Quote\n\t\tif (char == '\"') { \n\t\t\tinQuote = !inQuote;\n\t\t\tcontinue;\n\t\t}\n        \n\t\t//Next column (if not in quote)\n\t\tif (char == ',' && !inQuote) { \n\t\t\tcol++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CRLF) \n\t\tif (char == '\\r' && nextChar == '\\n' && !inQuote) { \n\t\t\tcol = 0; \n\t\t\trow++; \n\t\t\tindex++; \n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CR or LF) \n\t\tif ((char == '\\r' || char == '\\n') && !inQuote) { \n\t\t\tcol = 0;\n\t\t\trow++;\n\t\t\tcontinue; \n\t\t}\n\n\t\t//Normal Character, append to column\n\t\tdata[row][col] += char;\n\t}\n\n\treturn data;\n}","export default function(input){\n\ttry {\n\t\treturn JSON.parse(input);\n\t} catch(e) {\n\t\tconsole.warn(\"JSON Import Error - File contents is invalid JSON\", e);\n\t\treturn Promise.reject();\n\t}\n}","export default function (input){\n\treturn input;\n}","export default function(input){\r\n\tvar XLSXLib = this.dependencyRegistry.lookup(\"XLSX\"),\r\n\tworkbook2 = XLSXLib.read(input),\r\n\tsheet = workbook2.Sheets[workbook2.SheetNames[0]];\r\n\t\r\n\treturn XLSXLib.utils.sheet_to_json(sheet, {header: 1 });\r\n}","import csv from './importers/csv.js';\nimport json from './importers/json.js';\nimport array from './importers/array.js';\nimport xlsx from './importers/xlsx.js';\n\nexport default {\n\tcsv:csv,\n\tjson:json,\n\tarray:array,\n\txlsx:xlsx,\n};","import Module from '../../core/Module.js';\n\nimport defaultImporters from './defaults/importers.js';\n\nexport default class Import extends Module{\n\t\n\tstatic moduleName = \"import\";\n\t\n\t//load defaults\n\tstatic importers = defaultImporters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.registerTableOption(\"importFormat\");\n\t\tthis.registerTableOption(\"importReader\", \"text\");\n\t\tthis.registerTableOption(\"importHeaderTransform\");\n\t\tthis.registerTableOption(\"importValueTransform\");\n\t\tthis.registerTableOption(\"importDataValidator\");\n\t\tthis.registerTableOption(\"importFileValidator\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.registerTableFunction(\"import\", this.importFromFile.bind(this));\n\t\t\n\t\tif(this.table.options.importFormat){\n\t\t\tthis.subscribe(\"data-loading\", this.loadDataCheck.bind(this), 10);\n\t\t\tthis.subscribe(\"data-load\", this.loadData.bind(this), 10);\n\t\t}\n\t}\n\t\n\tloadDataCheck(data){\n\t\treturn this.table.options.importFormat && (typeof data === \"string\" || (Array.isArray(data) && data.length && Array.isArray(data)));\n\t}\n\t\n\tloadData(data, params, config, silent, previousData){\n\t\treturn this.importData(this.lookupImporter(), data)\n\t\t\t.then(this.structureData.bind(this))\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import data\");\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t}\n\t\n\tlookupImporter(importFormat){\n\t\tvar importer;\n\t\t\n\t\tif(!importFormat){\n\t\t\timportFormat = this.table.options.importFormat;\n\t\t}\n\t\t\n\t\tif(typeof importFormat === \"string\"){\n\t\t\timporter = Import.importers[importFormat];\n\t\t}else{\n\t\t\timporter = importFormat;\n\t\t}\n\t\t\n\t\tif(!importer){\n\t\t\tconsole.error(\"Import Error - Importer not found:\", importFormat);\n\t\t}\n\t\t\n\t\treturn importer;\n\t}\n\t\n\timportFromFile(importFormat, extension, importReader){\n\t\tvar importer = this.lookupImporter(importFormat);\n\t\t\n\t\tif(importer){\n\t\t\treturn this.pickFile(extension, importReader)\n\t\t\t\t.then(this.importData.bind(this, importer))\n\t\t\t\t.then(this.structureData.bind(this))\n\t\t\t\t.then(this.mutateData.bind(this))\n\t\t\t\t.then(this.validateData.bind(this))\n\t\t\t\t.then(this.setData.bind(this))\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tthis.dispatch(\"import-error\", err);\n\t\t\t\t\tthis.dispatchExternal(\"importError\", err);\n\t\t\t\t\t\n\t\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import file\");\n\t\t\t\t\t\n\t\t\t\t\tthis.table.dataLoader.alertError();\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.table.dataLoader.clearAlert();\n\t\t\t\t\t}, 3000);\n\t\t\t\t\t\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\tpickFile(extensions, importReader){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.type = \"file\";\n\t\t\tinput.accept = extensions;\n\t\t\t\n\t\t\tinput.addEventListener(\"change\", (e) => {\n\t\t\t\tvar file = input.files[0],\n\t\t\t\treader = new FileReader(),\n\t\t\t\tvalid = this.validateFile(file);\n\n\t\t\t\tif(valid === true){\n\t\t\t\t\n\t\t\t\t\tthis.dispatch(\"import-importing\", input.files);\n\t\t\t\t\tthis.dispatchExternal(\"importImporting\", input.files);\n\t\t\t\t\n\t\t\t\t\tswitch(importReader || this.table.options.importReader){\n\t\t\t\t\t\tcase \"buffer\":\n\t\t\t\t\t\t\treader.readAsArrayBuffer(file);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"binary\":\n\t\t\t\t\t\t\treader.readAsBinaryString(file);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"url\":\n\t\t\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treader.onload = (e) => {\n\t\t\t\t\t\tresolve(reader.result);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\treader.onerror = (e) => {\n\t\t\t\t\t\tconsole.warn(\"File Load Error - Unable to read file\");\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\treject(valid);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatch(\"import-choose\");\n\t\t\tthis.dispatchExternal(\"importChoose\");\n\t\t\tinput.click();\n\t\t});\n\t}\n\t\n\timportData(importer, fileContents){\n\t\tvar data;\n\t\t\n\t\tthis.table.dataLoader.alertLoader();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tdata = importer.call(this.table, fileContents);\n\t\t\t\t\n\t\t\t\tif(data instanceof Promise){\n\t\t\t\t\tresolve(data);\n\t\t\t\t}else{\n\t\t\t\t\tdata ? resolve(data) : reject();\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t});\n\t}\n\t\n\tstructureData(parsedData){\n\t\tvar data = [];\n\t\t\n\t\tif(Array.isArray(parsedData) && parsedData.length && Array.isArray(parsedData[0])){\n\t\t\tif(this.table.options.autoColumns){\n\t\t\t\tdata = this.structureArrayToObject(parsedData);\n\t\t\t}else{\n\t\t\t\tdata = this.structureArrayToColumns(parsedData);\n\t\t\t}\n\t\t\t\n\t\t\treturn data;\n\t\t}else{\n\t\t\treturn parsedData;\n\t\t}\n\t}\n\t\n\tmutateData(data){\n\t\tvar output = [];\n\t\t\n\t\tif(Array.isArray(data)){\n\t\t\tdata.forEach((row) => {\n\t\t\t\toutput.push(this.table.modules.mutator.transformRow(row, \"import\"));\n\t\t\t});\n\t\t}else{\n\t\t\toutput = data;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\ttransformHeader(headers){\n\t\tvar output = [];\n\t\t\n\t\tif(this.table.options.importHeaderTransform){\n\t\t\theaders.forEach((item) => {\n\t\t\t\toutput.push(this.table.options.importHeaderTransform.call(this.table, item, headers));\n\t\t\t});\n\t\t}else{\n\t\t\treturn headers;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\ttransformData(row){\n\t\tvar output = [];\n\n\t\tif(this.table.options.importValueTransform){\n\t\t\trow.forEach((item) => {\n\t\t\t\toutput.push(this.table.options.importValueTransform.call(this.table, item, row));\n\t\t\t});\n\t\t}else{\n\t\t\treturn row;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tstructureArrayToObject(parsedData){\n\t\tvar columns = this.transformHeader(parsedData.shift());\t\n\t\t\n\t\tvar data = parsedData.map((values) => {\n\t\t\tvar row = {};\n\n\t\t\tvalues = this.transformData(values);\n\t\t\t\n\t\t\tcolumns.forEach((key, i) => {\n\t\t\t\trow[key] = values[i];\n\t\t\t});\n\t\t\t\n\t\t\treturn row;\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tstructureArrayToColumns(parsedData){\n\t\tvar data = [],\n\t\tfirstRow = this.transformHeader(parsedData[0]),\n\t\tcolumns = this.table.getColumns();\n\t\t\n\t\t//remove first row if it is the column names\n\t\tif(columns[0] && firstRow[0]){\n\t\t\tif(columns[0].getDefinition().title === firstRow[0]){\n\t\t\t\tparsedData.shift();\n\t\t\t}\n\t\t}\n\t\t\n\t\t//convert row arrays to objects\n\t\tparsedData.forEach((rowData) => {\n\t\t\tvar row = {};\n\n\t\t\trowData = this.transformData(rowData);\n\t\t\t\n\t\t\trowData.forEach((value, index) => {\n\t\t\t\tvar column = columns[index];\n\t\t\t\t\n\t\t\t\tif(column){\n\t\t\t\t\trow[column.getField()] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tdata.push(row);\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\n\tvalidateFile(file){\n\t\tif(this.table.options.importFileValidator){\n\t\t\treturn this.table.options.importFileValidator.call(this.table, file);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tvalidateData(data){\n\t\tvar result;\n\n\t\tif(this.table.options.importDataValidator){\n\t\t\tresult = this.table.options.importDataValidator.call(this.table, data);\n\n\t\t\tif(result === true){\n\t\t\t\treturn data;\n\t\t\t}else{\n\t\t\t\treturn Promise.reject(result);\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\t\n\tsetData(data){\n\t\tthis.dispatch(\"import-imported\", data);\n\t\tthis.dispatchExternal(\"importImported\", data);\n\t\t\n\t\tthis.table.dataLoader.clearAlert();\n\t\t\n\t\treturn this.table.setData(data);\n\t}\n}","import Module from '../../core/Module.js';\n\nimport Cell from '../../core/cell/Cell.js';\nimport Column from '../../core/column/Column.js';\n\nexport default class Interaction extends Module{\n\n\tstatic moduleName = \"interaction\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.eventMap = {\n\t\t\t//row events\n\t\t\trowClick:\"row-click\",\n\t\t\trowDblClick:\"row-dblclick\",\n\t\t\trowContext:\"row-contextmenu\",\n\t\t\trowMouseEnter:\"row-mouseenter\",\n\t\t\trowMouseLeave:\"row-mouseleave\",\n\t\t\trowMouseOver:\"row-mouseover\",\n\t\t\trowMouseOut:\"row-mouseout\",\n\t\t\trowMouseMove:\"row-mousemove\",\n\t\t\trowMouseDown:\"row-mousedown\",\n\t\t\trowMouseUp:\"row-mouseup\",\n\t\t\trowTap:\"row\",\n\t\t\trowDblTap:\"row\",\n\t\t\trowTapHold:\"row\",\n\n\t\t\t//cell events\n\t\t\tcellClick:\"cell-click\",\n\t\t\tcellDblClick:\"cell-dblclick\",\n\t\t\tcellContext:\"cell-contextmenu\",\n\t\t\tcellMouseEnter:\"cell-mouseenter\",\n\t\t\tcellMouseLeave:\"cell-mouseleave\",\n\t\t\tcellMouseOver:\"cell-mouseover\",\n\t\t\tcellMouseOut:\"cell-mouseout\",\n\t\t\tcellMouseMove:\"cell-mousemove\",\n\t\t\tcellMouseDown:\"cell-mousedown\",\n\t\t\tcellMouseUp:\"cell-mouseup\",\n\t\t\tcellTap:\"cell\",\n\t\t\tcellDblTap:\"cell\",\n\t\t\tcellTapHold:\"cell\",\n\n\t\t\t//column header events\n\t\t\theaderClick:\"column-click\",\n\t\t\theaderDblClick:\"column-dblclick\",\n\t\t\theaderContext:\"column-contextmenu\",\n\t\t\theaderMouseEnter:\"column-mouseenter\",\n\t\t\theaderMouseLeave:\"column-mouseleave\",\n\t\t\theaderMouseOver:\"column-mouseover\",\n\t\t\theaderMouseOut:\"column-mouseout\",\n\t\t\theaderMouseMove:\"column-mousemove\",\n\t\t\theaderMouseDown:\"column-mousedown\",\n\t\t\theaderMouseUp:\"column-mouseup\",\n\t\t\theaderTap:\"column\",\n\t\t\theaderDblTap:\"column\",\n\t\t\theaderTapHold:\"column\",\n\n\t\t\t//group header\n\t\t\tgroupClick:\"group-click\",\n\t\t\tgroupDblClick:\"group-dblclick\",\n\t\t\tgroupContext:\"group-contextmenu\",\n\t\t\tgroupMouseEnter:\"group-mouseenter\",\n\t\t\tgroupMouseLeave:\"group-mouseleave\",\n\t\t\tgroupMouseOver:\"group-mouseover\",\n\t\t\tgroupMouseOut:\"group-mouseout\",\n\t\t\tgroupMouseMove:\"group-mousemove\",\n\t\t\tgroupMouseDown:\"group-mousedown\",\n\t\t\tgroupMouseUp:\"group-mouseup\",\n\t\t\tgroupTap:\"group\",\n\t\t\tgroupDblTap:\"group\",\n\t\t\tgroupTapHold:\"group\",\n\t\t};\n\n\t\tthis.subscribers = {};\n\n\t\tthis.touchSubscribers = {};\n\n\t\tthis.columnSubscribers = {};\n\n\t\tthis.touchWatchers = {\n\t\t\trow:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcell:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcolumn:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tgroup:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t}\n\t\t};\n\n\t\tthis.registerColumnOption(\"headerClick\");\n\t\tthis.registerColumnOption(\"headerDblClick\");\n\t\tthis.registerColumnOption(\"headerContext\");\n\t\tthis.registerColumnOption(\"headerMouseEnter\");\n\t\tthis.registerColumnOption(\"headerMouseLeave\");\n\t\tthis.registerColumnOption(\"headerMouseOver\");\n\t\tthis.registerColumnOption(\"headerMouseOut\");\n\t\tthis.registerColumnOption(\"headerMouseMove\");\n\t\tthis.registerColumnOption(\"headerMouseDown\");\n\t\tthis.registerColumnOption(\"headerMouseUp\");\n\t\tthis.registerColumnOption(\"headerTap\");\n\t\tthis.registerColumnOption(\"headerDblTap\");\n\t\tthis.registerColumnOption(\"headerTapHold\");\n\n\t\tthis.registerColumnOption(\"cellClick\");\n\t\tthis.registerColumnOption(\"cellDblClick\");\n\t\tthis.registerColumnOption(\"cellContext\");\n\t\tthis.registerColumnOption(\"cellMouseEnter\");\n\t\tthis.registerColumnOption(\"cellMouseLeave\");\n\t\tthis.registerColumnOption(\"cellMouseOver\");\n\t\tthis.registerColumnOption(\"cellMouseOut\");\n\t\tthis.registerColumnOption(\"cellMouseMove\");\n\t\tthis.registerColumnOption(\"cellMouseDown\");\n\t\tthis.registerColumnOption(\"cellMouseUp\");\n\t\tthis.registerColumnOption(\"cellTap\");\n\t\tthis.registerColumnOption(\"cellDblTap\");\n\t\tthis.registerColumnOption(\"cellTapHold\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.initializeExternalEvents();\n\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"cell-dblclick\", this.cellContentsSelectionFixer.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.clearTouchWatchers.bind(this));\n\t\tthis.subscribe(\"scroll-vertical\", this.clearTouchWatchers.bind(this));\n\t}\n\n\tclearTouchWatchers(){\n\t\tvar types = Object.values(this.touchWatchers);\n\n\t\ttypes.forEach((type) => {\n\t\t\tfor(let key in type){\n\t\t\t\ttype[key] = null;\n\t\t\t}\n\t\t});\n\t}\n\t\t\n\tcellContentsSelectionFixer(e, cell){\n\t\tvar range;\n\n\t\tif(this.table.modExists(\"edit\")){\n\t\t\tif (this.table.modules.edit.currentCell === cell){\n\t\t\t\treturn; //prevent instant selection of editor content\n\t\t\t}\n\t\t}\n\n\t\te.preventDefault();\n\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(cell.getElement());\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNode(cell.getElement());\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\n\tinitializeExternalEvents(){\n\t\tfor(let key in this.eventMap){\n\t\t\tthis.subscriptionChangeExternal(key, this.subscriptionChanged.bind(this, key));\n\t\t}\n\t}\n\n\tsubscriptionChanged(key, added){\n\t\tif(added){\n\t\t\tif(!this.subscribers[key]){\n\t\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\t\tthis.subscribers[key] = this.handle.bind(this, key);\n\t\t\t\t\tthis.subscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t}else{\n\t\t\t\t\tthis.subscribeTouchEvents(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\tif(this.subscribers[key] && !this.columnSubscribers[key]  && !this.subscribedExternal(key)){\n\t\t\t\t\tthis.unsubscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t\tdelete this.subscribers[key];\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.unsubscribeTouchEvents(key);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tsubscribeTouchEvents(key){\n\t\tvar type = this.eventMap[key];\n\n\t\tif(!this.touchSubscribers[type + \"-touchstart\"]){\n\t\t\tthis.touchSubscribers[type + \"-touchstart\"] = this.handleTouch.bind(this, type, \"start\");\n\t\t\tthis.touchSubscribers[type + \"-touchend\"] = this.handleTouch.bind(this, type, \"end\");\n\n\t\t\tthis.subscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\tthis.subscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\t\t}\n\n\t\tthis.subscribers[key] = true;\n\t}\n\n\tunsubscribeTouchEvents(key){\n\t\tvar noTouch = true,\n\t\ttype = this.eventMap[key];\n\n\t\tif(this.subscribers[key] && !this.subscribedExternal(key)){\n\t\t\tdelete this.subscribers[key];\n\n\t\t\tfor(let i in this.eventMap){\n\t\t\t\tif(this.eventMap[i] === type){\n\t\t\t\t\tif(this.subscribers[i]){\n\t\t\t\t\t\tnoTouch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(noTouch){\n\t\t\t\tthis.unsubscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\t\tthis.unsubscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchstart\"];\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchend\"];\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\n\t\tfor(let key in this.eventMap){\n\t\t\tif(def[key]){\n\t\t\t\tthis.subscriptionChanged(key, true);\n\n\t\t\t\tif(!this.columnSubscribers[key]){\n\t\t\t\t\tthis.columnSubscribers[key] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.columnSubscribers[key].push(column);\n\t\t\t}\n\t\t}\n\t}\n\n\thandle(action, e, component){\n\t\tthis.dispatchEvent(action, e, component);\n\t}\n\n\thandleTouch(type, action, e, component){\n\t\tvar watchers = this.touchWatchers[type];\n\n\t\tif(type === \"column\"){\n\t\t\ttype = \"header\";\n\t\t}\n\n\t\tswitch(action){\n\t\t\tcase \"start\":\n\t\t\t\twatchers.tap = true;\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\n\t\t\t\twatchers.tapHold = setTimeout(() => {\n\t\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\t\twatchers.tapHold = null;\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"TapHold\", e,  component);\n\t\t\t\t}, 1000);\n\t\t\t\tbreak;\n\n\t\t\tcase \"end\":\n\t\t\t\tif(watchers.tap){\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tthis.dispatchEvent(type + \"Tap\", e,  component);\n\t\t\t\t}\n\n\t\t\t\tif(watchers.tapDbl){\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"DblTap\", e,  component);\n\t\t\t\t}else{\n\t\t\t\t\twatchers.tapDbl = setTimeout(() => {\n\t\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\t\twatchers.tapDbl = null;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\twatchers.tapHold = null;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tdispatchEvent(action, e, component){\n\t\tvar componentObj = component.getComponent(),\n\t\tcallback;\n\n\t\tif(this.columnSubscribers[action]){\n\n\t\t\tif(component instanceof Cell){\n\t\t\t\tcallback = component.column.definition[action];\n\t\t\t}else if(component instanceof Column){\n\t\t\t\tcallback = component.definition[action];\n\t\t\t}\n\n\t\t\tif(callback){\n\t\t\t\tcallback(e, componentObj);\n\t\t\t}\n\t\t}\n\n\t\tthis.dispatchExternal(action, e, componentObj);\n\t}\n}","export default {\n\tnavPrev:\"shift + 9\",\n\tnavNext:9,\n\tnavUp:38,\n\tnavDown:40,\n\tnavLeft:37,\n\tnavRight:39,\n\tscrollPageUp:33,\n\tscrollPageDown:34,\n\tscrollToStart:36,\n\tscrollToEnd:35,\n};\n","export default {\n\tkeyBlock:function(e){\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t},\n\n\tscrollPageUp:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop - rowManager.element.clientHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos >= 0){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else{\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\n\tscrollPageDown:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop + rowManager.element.clientHeight,\n\t\tscrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos <= scrollMax){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else{\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\n\t},\n\n\tscrollToStart:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\n\tscrollToEnd:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\n\tnavPrev:function(e){\n\t\tthis.dispatch(\"keybinding-nav-prev\", e);\n\t},\n\n\tnavNext:function(e){\n\t\tthis.dispatch(\"keybinding-nav-next\", e);\n\t},\n\n\tnavLeft:function(e){\n\t\tthis.dispatch(\"keybinding-nav-left\", e);\n\t},\n\n\tnavRight:function(e){\n\t\tthis.dispatch(\"keybinding-nav-right\", e);\n\t},\n\n\tnavUp:function(e){\n\t\tthis.dispatch(\"keybinding-nav-up\", e);\n\t},\n\n\tnavDown:function(e){\n\t\tthis.dispatch(\"keybinding-nav-down\", e);\n\t},\n};\n","import Module from '../../core/Module.js';\n\nimport defaultBindings from './defaults/bindings.js';\nimport defaultActions from './defaults/actions.js';\n\nexport default class Keybindings extends Module{\n\n\tstatic moduleName = \"keybindings\";\n\n\t//load defaults\n\tstatic bindings = defaultBindings;\n\tstatic actions = defaultActions;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.watchKeys = null;\n\t\tthis.pressedKeys = null;\n\t\tthis.keyupBinding = false;\n\t\tthis.keydownBinding = false;\n\n\t\tthis.registerTableOption(\"keybindings\", {}); //array for keybindings\n\t\tthis.registerTableOption(\"tabEndNewRow\", false); //create new row when tab to end of table\n\t}\n\n\tinitialize(){\n\t\tvar bindings = this.table.options.keybindings,\n\t\tmergedBindings = {};\n\n\t\tthis.watchKeys = {};\n\t\tthis.pressedKeys = [];\n\n\t\tif(bindings !== false){\n\t\t\tObject.assign(mergedBindings, Keybindings.bindings);\n\t\t\tObject.assign(mergedBindings, bindings);\n\n\t\t\tthis.mapBindings(mergedBindings);\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t}\n\n\tmapBindings(bindings){\n\t\tfor(let key in bindings){\n\t\t\tif(Keybindings.actions[key]){\n\t\t\t\tif(bindings[key]){\n\t\t\t\t\tif(typeof bindings[key] !== \"object\"){\n\t\t\t\t\t\tbindings[key] = [bindings[key]];\n\t\t\t\t\t}\n\n\t\t\t\t\tbindings[key].forEach((binding) => {\n\t\t\t\t\t\tvar bindingList = Array.isArray(binding) ?  binding : [binding];\n\t\t\t\t\t\t\n\t\t\t\t\t\tbindingList.forEach((item) => {\n\t\t\t\t\t\t\tthis.mapBinding(key, item);\n\t\t\t\t\t\t});\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Key Binding Error - no such action:\", key);\n\t\t\t}\n\t\t}\n\t}\n\n\tmapBinding(action, symbolsList){\n\t\tvar binding = {\n\t\t\taction: Keybindings.actions[action],\n\t\t\tkeys: [],\n\t\t\tctrl: false,\n\t\t\tshift: false,\n\t\t\tmeta: false,\n\t\t};\n\n\t\tvar symbols = symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");\n\n\t\tsymbols.forEach((symbol) => {\n\t\t\tswitch(symbol){\n\t\t\t\tcase \"ctrl\":\n\t\t\t\t\tbinding.ctrl = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"shift\":\n\t\t\t\t\tbinding.shift = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"meta\":\n\t\t\t\t\tbinding.meta = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tsymbol = isNaN(symbol) ? symbol.toUpperCase().charCodeAt(0) : parseInt(symbol);\n\t\t\t\t\tbinding.keys.push(symbol);\n\n\t\t\t\t\tif(!this.watchKeys[symbol]){\n\t\t\t\t\t\tthis.watchKeys[symbol] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.watchKeys[symbol].push(binding);\n\t\t\t}\n\t\t});\n\t}\n\n\tbindEvents(){\n\t\tvar self = this;\n\n\t\tthis.keyupBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tself.pressedKeys.push(code);\n\n\t\t\t\tbindings.forEach(function(binding){\n\t\t\t\t\tself.checkBinding(e, binding);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis.keydownBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tvar index = self.pressedKeys.indexOf(code);\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tself.pressedKeys.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.table.element.addEventListener(\"keydown\", this.keyupBinding);\n\n\t\tthis.table.element.addEventListener(\"keyup\", this.keydownBinding);\n\t}\n\n\tclearBindings(){\n\t\tif(this.keyupBinding){\n\t\t\tthis.table.element.removeEventListener(\"keydown\", this.keyupBinding);\n\t\t}\n\n\t\tif(this.keydownBinding){\n\t\t\tthis.table.element.removeEventListener(\"keyup\", this.keydownBinding);\n\t\t}\n\t}\n\n\tcheckBinding(e, binding){\n\t\tvar match = true;\n\n\t\tif(e.ctrlKey == binding.ctrl && e.shiftKey == binding.shift && e.metaKey == binding.meta){\n\t\t\tbinding.keys.forEach((key) => {\n\t\t\t\tvar index = this.pressedKeys.indexOf(key);\n\n\t\t\t\tif(index == -1){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tbinding.action.call(this, e);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class Menu extends Module{\n\n\tstatic moduleName = \"menu\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.menuContainer = null;\n\t\tthis.nestedMenuBlock = false;\n\t\t\n\t\tthis.currentComponent = null;\n\t\tthis.rootPopup = null;\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\t// this.registerTableOption(\"menuContainer\", undefined); //deprecated\n\t\t\n\t\tthis.registerTableOption(\"rowContextMenu\", false);\n\t\tthis.registerTableOption(\"rowClickMenu\", false);\n\t\tthis.registerTableOption(\"rowDblClickMenu\", false);\n\t\tthis.registerTableOption(\"groupContextMenu\", false);\n\t\tthis.registerTableOption(\"groupClickMenu\", false);\n\t\tthis.registerTableOption(\"groupDblClickMenu\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextMenu\");\n\t\tthis.registerColumnOption(\"headerClickMenu\");\n\t\tthis.registerColumnOption(\"headerDblClickMenu\");\n\t\tthis.registerColumnOption(\"headerMenu\");\n\t\tthis.registerColumnOption(\"headerMenuIcon\");\n\t\tthis.registerColumnOption(\"contextMenu\");\n\t\tthis.registerColumnOption(\"clickMenu\");\n\t\tthis.registerColumnOption(\"dblClickMenu\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\t// if(!this.deprecationCheck(\"menuContainer\", \"popupContainer\")){\n\t\t// \tthis.table.options.popupContainer = this.table.options.menuContainer;\n\t\t// }\n\t}\t\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextMenu){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickMenu){\n\t\t\tthis.subscribe(\"row-click\", this.loadMenuEvent.bind(this, this.table.options.rowClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowDblClickMenu){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadMenuEvent.bind(this, this.table.options.rowDblClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextMenu){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickMenu){\n\t\t\tthis.subscribe(\"group-click\", this.loadMenuEvent.bind(this, this.table.options.groupClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupDblClickMenu){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadMenuEvent.bind(this, this.table.options.groupDblClickMenu));\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar\tdef = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextMenu && !this.columnSubscribers.headerContextMenu){\n\t\t\tthis.columnSubscribers.headerContextMenu = this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextMenu);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickMenu && !this.columnSubscribers.headerClickMenu){\n\t\t\tthis.columnSubscribers.headerClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerClickMenu\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerDblClickMenu && !this.columnSubscribers.headerDblClickMenu){\n\t\t\tthis.columnSubscribers.headerDblClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerDblClickMenu\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerMenu){\n\t\t\tthis.initializeColumnHeaderMenu(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextMenu && !this.columnSubscribers.contextMenu){\n\t\t\tthis.columnSubscribers.contextMenu = this.loadMenuTableCellEvent.bind(this, \"contextMenu\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextMenu);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadMenuTableCellEvent.bind(this, \"contextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.clickMenu && !this.columnSubscribers.clickMenu){\n\t\t\tthis.columnSubscribers.clickMenu = this.loadMenuTableCellEvent.bind(this, \"clickMenu\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickMenu);\n\t\t}\n\t\t\n\t\tif(def.dblClickMenu && !this.columnSubscribers.dblClickMenu){\n\t\t\tthis.columnSubscribers.dblClickMenu = this.loadMenuTableCellEvent.bind(this, \"dblClickMenu\");\n\t\t\tthis.subscribe(\"cell-dblclick\", this.columnSubscribers.dblClickMenu);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderMenu(column){\n\t\tvar icon = column.definition.headerMenuIcon,\n\t\theaderMenuEl;\n\t\t\n\t\theaderMenuEl = document.createElement(\"span\");\n\t\theaderMenuEl.classList.add(\"tabulator-header-popup-button\");\n\t\t\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderMenuEl.appendChild(icon);\n\t\t\t}else{\n\t\t\t\theaderMenuEl.innerHTML = icon;\n\t\t\t}\n\t\t}else{\n\t\t\theaderMenuEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderMenuEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadMenuEvent(column.definition.headerMenu, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerMenuEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadMenuTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadMenuEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadMenuTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadMenuEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadMenuEvent(menu, e, component){\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tmenu = typeof menu == \"function\" ? menu.call(this.table, e, component.getComponent()) : menu;\n\t\t\n\t\tthis.loadMenu(e, component, menu);\n\t}\n\t\n\tloadMenu(e, component, menu, parentEl, parentPopup){\n\t\tvar touch = !(e instanceof MouseEvent),\t\t\n\t\tmenuEl = document.createElement(\"div\"),\n\t\tpopup;\n\t\t\n\t\tmenuEl.classList.add(\"tabulator-menu\");\n\t\t\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\t//abort if no menu set\n\t\tif(!menu || !menu.length){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!parentEl){\n\t\t\tif(this.nestedMenuBlock){\n\t\t\t\t//abort if child menu already open\n\t\t\t\tif(this.rootPopup){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.nestedMenuBlock = setTimeout(() => {\n\t\t\t\t\tthis.nestedMenuBlock = false;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.rootPopup = popup = this.popup(menuEl);\n\t\t\t\n\t\t}else{\n\t\t\tpopup = parentPopup.child(menuEl);\n\t\t}\n\t\t\n\t\tmenu.forEach((item) => {\n\t\t\tvar itemEl = document.createElement(\"div\"),\n\t\t\tlabel = item.label,\n\t\t\tdisabled = item.disabled;\n\t\t\t\n\t\t\tif(item.separator){\n\t\t\t\titemEl.classList.add(\"tabulator-menu-separator\");\n\t\t\t}else{\n\t\t\t\titemEl.classList.add(\"tabulator-menu-item\");\n\t\t\t\t\n\t\t\t\tif(typeof label == \"function\"){\n\t\t\t\t\tlabel = label.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(label instanceof Node){\n\t\t\t\t\titemEl.appendChild(label);\n\t\t\t\t}else{\n\t\t\t\t\titemEl.innerHTML = label;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(typeof disabled == \"function\"){\n\t\t\t\t\tdisabled = disabled.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(disabled){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-disabled\");\n\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tthis.loadMenu(e, component, item.menu, itemEl, popup);\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(item.action){\n\t\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\t\titem.action(e, component.getComponent());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-submenu\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tmenuEl.appendChild(itemEl);\n\t\t});\n\t\t\n\t\tmenuEl.addEventListener(\"click\", (e) => {\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\n\t\t\t}\n\t\t});\n\t\t\n\t\tpopup.show(parentEl || e);\n\t\t\n\t\tif(popup === this.rootPopup){\n\t\t\tthis.rootPopup.hideOnBlur(() => {\n\t\t\t\tthis.rootPopup = null;\n\t\t\t\t\n\t\t\t\tif(this.currentComponent){\n\t\t\t\t\tthis.dispatch(\"menu-closed\", menu, popup);\n\t\t\t\t\tthis.dispatchExternal(\"menuClosed\", this.currentComponent.getComponent());\n\t\t\t\t\tthis.currentComponent = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.currentComponent = component;\n\t\t\t\n\t\t\tthis.dispatch(\"menu-opened\", menu, popup);\n\t\t\tthis.dispatchExternal(\"menuOpened\", component.getComponent());\n\t\t}\n\t}\n}\n","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nexport default class MoveColumns extends Module{\n\n\tstatic moduleName = \"moveColumn\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating column header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 250; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving column\n\t\tthis.toCol = false; //destination column\n\t\tthis.toColAfter = false; //position of moving column relative to the destination column\n\t\tthis.startX = 0; //starting position within header element\n\t\tthis.autoScrollMargin = 40; //auto scroll on edge when within margin\n\t\tthis.autoScrollStep = 5; //auto scroll distance in pixels\n\t\tthis.autoScrollTimeout = false; //auto scroll timeout\n\t\tthis.touchMove = false;\n\t\t\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"movableColumns\", false); //enable movable columns\n\t}\n\t\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.classList.add(\"tabulator-col-placeholder\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.movableColumns){\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"alert-show\", this.abortMove.bind(this));\n\t\t}\n\t}\n\n\tabortMove(){\n\t\tclearTimeout(this.checkTimeout);\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\tcolEl;\n\n\t\tif(!column.modules.frozen && !column.isGroup && !column.isRowHeader){\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tconfig.mousemove = function(e){\n\t\t\t\tif(column.parent === self.moving.parent){\n\t\t\t\t\tif((((self.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(colEl).left) + self.table.columnManager.contentsElement.scrollLeft) > (column.getWidth() / 2)){\n\t\t\t\t\t\tif(self.toCol !== column || !self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl.nextSibling);\n\t\t\t\t\t\t\tself.moveColumn(column, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(self.toCol !== column || self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl);\n\t\t\t\t\t\t\tself.moveColumn(column, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(self);\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tself.touchMove = false;\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, column);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tself.bindTouchEvents(column);\n\t\t}\n\t\t\n\t\tcolumn.modules.moveColumn = config;\n\t}\n\t\n\tbindTouchEvents(column){\n\t\tvar colEl = column.getElement(),\n\t\tstartXMove = false, //shifting center position of the cell\n\t\tnextCol, prevCol, nextColWidth, prevColWidth, nextColWidthLast, prevColWidthLast;\n\t\t\n\t\tcolEl.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextCol = column.nextColumn();\n\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth()/2 : 0;\n\t\t\t\tprevCol = column.prevColumn();\n\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth()/2 : 0;\n\t\t\t\tnextColWidthLast = 0;\n\t\t\t\tprevColWidthLast = 0;\n\t\t\t\tstartXMove = false;\n\t\t\t\t\n\t\t\t\tthis.startMove(e, column);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchmove\", (e) => {\n\t\t\tvar diff, moveToCol;\n\t\t\t\n\t\t\tif(this.moving){\n\t\t\t\tthis.moveHover(e);\n\t\t\t\t\n\t\t\t\tif(!startXMove){\n\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdiff = e.touches[0].pageX - startXMove;\n\t\t\t\t\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextCol && diff - nextColWidthLast > nextColWidth){\n\t\t\t\t\t\tmoveToCol = nextCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(prevCol && -diff - prevColWidthLast >  prevColWidth){\n\t\t\t\t\t\tmoveToCol = prevCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement());\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(moveToCol){\n\t\t\t\t\tnextCol = moveToCol.nextColumn();\n\t\t\t\t\tnextColWidthLast = nextColWidth;\n\t\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\n\t\t\t\t\tprevCol = moveToCol.prevColumn();\n\t\t\t\t\tprevColWidthLast = prevColWidth;\n\t\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tstartMove(e, column){\n\t\tvar element = column.getElement(),\n\t\theaderElement = this.table.columnManager.getContentsElement(),\n\t\theadersElement = this.table.columnManager.getHeadersElement();\n\t\t\n\t\t//Prevent moving columns when range selection is active\n\t\tif(this.table.modules.selectRange && this.table.modules.selectRange.columnSelection){\n\t\t\tif(this.table.modules.selectRange.mousedown && this.table.modules.selectRange.selecting === \"column\"){\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.moving = column;\n\t\tthis.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(element).left;\n\t\t\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = column.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = column.getHeight() + \"px\";\n\t\t\n\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\telement.parentNode.removeChild(element);\n\t\t\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\t\t\n\t\theaderElement.appendChild(this.hoverElement);\n\t\t\n\t\tthis.hoverElement.style.left = \"0\";\n\t\tthis.hoverElement.style.bottom = (headerElement.clientHeight - headersElement.offsetHeight) + \"px\";\n\t\t\n\t\tif(!this.touchMove){\n\t\t\tthis._bindMouseMove();\n\t\t\t\n\t\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\t\t}\n\t\t\n\t\tthis.moveHover(e);\n\n\t\tthis.dispatch(\"column-moving\", e, this.moving);\n\t}\n\t\n\t_bindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().addEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_unbindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().removeEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmoveColumn(column, after){\n\t\tvar movingCells = this.moving.getCells();\n\t\t\n\t\tthis.toCol = column;\n\t\tthis.toColAfter = after;\n\t\t\n\t\tif(after){\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl.nextSibling);\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tendMove(e){\n\t\tif(e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\t\t\t\n\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\t\t\t\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(this.toCol){\n\t\t\t\tthis.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter);\n\t\t\t}\n\n\t\t\tthis.moving = false;\n\t\t\tthis.toCol = false;\n\t\t\tthis.toColAfter = false;\n\t\t\t\n\t\t\tif(!this.touchMove){\n\t\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tmoveHover(e){\n\t\tvar columnHolder = this.table.columnManager.getContentsElement(),\n\t\tscrollLeft = columnHolder.scrollLeft,\n\t\txPos = ((this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(columnHolder).left) + scrollLeft,\n\t\tscrollPos;\n\t\t\n\t\tthis.hoverElement.style.left = (xPos - this.startX) + \"px\";\n\t\t\n\t\tif(xPos - scrollLeft < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.max(0,scrollLeft-5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(scrollLeft + columnHolder.clientWidth - xPos < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.min(columnHolder.clientWidth, scrollLeft+5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t}\n}","export default {\r\n\tdelete:function(fromRow, toRow, toTable){\r\n\t\tfromRow.delete();\r\n\t}\r\n};","export default{\r\n\tinsert:function(fromRow, toRow, fromTable){\r\n\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\r\n\t\treturn true;\r\n\t},\r\n\r\n\tadd:function(fromRow, toRow, fromTable){\r\n\t\tthis.table.addRow(fromRow.getData());\r\n\t\treturn true;\r\n\t},\r\n\r\n\tupdate:function(fromRow, toRow, fromTable){\r\n\t\tif(toRow){\r\n\t\t\ttoRow.update(fromRow.getData());\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\treplace:function(fromRow, toRow, fromTable){\r\n\t\tif(toRow){\r\n\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\r\n\t\t\ttoRow.delete();\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n};","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultSenders from './defaults/senders.js';\nimport defaultReceivers from './defaults/receivers.js';\n\nexport default class MoveRows extends Module{\n\n\tstatic moduleName = \"moveRow\";\n\n\t//load defaults\n\tstatic senders = defaultSenders;\n\tstatic receivers = defaultReceivers;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating row header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 150; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving row\n\t\tthis.toRow = false; //destination row\n\t\tthis.toRowAfter = false; //position of moving row relative to the destination row\n\t\tthis.hasHandle = false; //row has handle instead of fully movable row\n\t\tthis.startY = 0; //starting Y position within header element\n\t\tthis.startX = 0; //starting X position within header element\n\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\tthis.tableRowDropEvent = false;\n\n\t\tthis.touchMove = false;\n\n\t\tthis.connection = false;\n\t\tthis.connectionSelectorsTables = false;\n\t\tthis.connectionSelectorsElements = false;\n\t\tthis.connectionElements = [];\n\t\tthis.connections = [];\n\n\t\tthis.connectedTable = false;\n\t\tthis.connectedRow = false;\n\n\t\tthis.registerTableOption(\"movableRows\", false); //enable movable rows\n\t\tthis.registerTableOption(\"movableRowsConnectedTables\", false); //tables for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsConnectedElements\", false); //other elements for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsSender\", false);\n\t\tthis.registerTableOption(\"movableRowsReceiver\", \"insert\");\n\n\t\tthis.registerColumnOption(\"rowHandle\");\n\t}\n\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.classList.add(\"tabulator-row-placeholder\");\n\n\t\treturn el;\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.movableRows){\n\t\t\tthis.connectionSelectorsTables = this.table.options.movableRowsConnectedTables;\n\t\t\tthis.connectionSelectorsElements = this.table.options.movableRowsConnectedElements;\n\n\t\t\tthis.connection = this.connectionSelectorsTables || this.connectionSelectorsElements;\n\n\t\t\tthis.subscribe(\"cell-init\", this.initializeCell.bind(this));\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeGroupHeader(group){\n\t\tvar self = this,\n\t\tconfig = {};\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, group);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl;\n\n\t\t\tif(((e.pageY - Helpers.elOffset(group.element).top) + self.table.rowManager.element.scrollTop) > (group.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== group || !self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(group, true);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(self.toRow !== group || self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\tif(rowEl.previousSibling){\n\t\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\t\tself.moveRow(group, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\t\tgroup.modules.moveRow = config;\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\trowEl;\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, row);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(((e.pageY - Helpers.elOffset(rowEl).top) + self.table.rowManager.element.scrollTop) > (row.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== row || !self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(row, true);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(self.toRow !== row || self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\tself.moveRow(row, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\n\t\tif(!this.hasHandle){\n\n\t\t\trowEl = row.getElement();\n\n\t\t\trowEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trowEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(row, row.getElement());\n\t\t}\n\n\t\trow.modules.moveRow = config;\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tthis.hasHandle = true;\n\t\t}\n\t}\n\n\tinitializeCell(cell){\n\t\tif(cell.column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tvar self = this,\n\t\t\tcellEl = cell.getElement(true);\n\n\t\t\tcellEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, cell.row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcellEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(cell.row, cellEl);\n\t\t}\n\t}\n\n\tbindTouchEvents(row, element){\n\t\tvar startYMove = false, //shifting center position of the cell\n\t\tnextRow, prevRow, nextRowHeight, prevRowHeight, nextRowHeightLast, prevRowHeightLast;\n\n\t\telement.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextRow = row.nextRow();\n\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight()/2 : 0;\n\t\t\t\tprevRow = row.prevRow();\n\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight()/2 : 0;\n\t\t\t\tnextRowHeightLast = 0;\n\t\t\t\tprevRowHeightLast = 0;\n\t\t\t\tstartYMove = false;\n\n\t\t\t\tthis.startMove(e, row);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\tthis.moving, this.toRow, this.toRowAfter;\n\t\telement.addEventListener(\"touchmove\", (e) => {\n\n\t\t\tvar diff, moveToRow;\n\n\t\t\tif(this.moving){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tthis.moveHover(e);\n\n\t\t\t\tif(!startYMove){\n\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t}\n\n\t\t\t\tdiff = e.touches[0].pageY - startYMove;\n\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextRow && diff - nextRowHeightLast > nextRowHeight){\n\t\t\t\t\t\tmoveToRow = nextRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(prevRow && -diff - prevRowHeightLast >  prevRowHeight){\n\t\t\t\t\t\tmoveToRow = prevRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement());\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(moveToRow){\n\t\t\t\t\tnextRow = moveToRow.nextRow();\n\t\t\t\t\tnextRowHeightLast = nextRowHeight;\n\t\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\n\t\t\t\t\tprevRow = moveToRow.prevRow();\n\t\t\t\t\tprevRowHeightLast = prevRowHeight;\n\t\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\telement.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t\tthis.touchMove = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t_bindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().addEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\t_unbindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().removeEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\tstartMove(e, row){\n\t\tvar element = row.getElement();\n\n\t\tthis.setStartPosition(e, row);\n\n\t\tthis.moving = row;\n\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = row.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = row.getHeight() + \"px\";\n\n\t\tif(!this.connection){\n\t\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\t\telement.parentNode.removeChild(element);\n\t\t}else{\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-sending\");\n\t\t\tthis.connectToTables(row);\n\t\t}\n\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\n\t\tif(this.connection){\n\t\t\tdocument.body.appendChild(this.hoverElement);\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\t\t\tthis.hoverElement.style.width = this.table.element.clientWidth + \"px\";\n\t\t\tthis.hoverElement.style.whiteSpace = \"nowrap\";\n\t\t\tthis.hoverElement.style.overflow = \"hidden\";\n\t\t\tthis.hoverElement.style.pointerEvents = \"none\";\n\t\t}else{\n\t\t\tthis.table.rowManager.getTableElement().appendChild(this.hoverElement);\n\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\n\t\t\tthis._bindMouseMove();\n\t\t}\n\n\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\n\t\tthis.dispatchExternal(\"rowMoving\", row.getComponent());\n\n\t\tthis.moveHover(e);\n\t}\n\n\tsetStartPosition(e, row){\n\t\tvar pageX = this.touchMove ? e.touches[0].pageX : e.pageX,\n\t\tpageY = this.touchMove ? e.touches[0].pageY : e.pageY,\n\t\telement, position;\n\n\t\telement = row.getElement();\n\t\tif(this.connection){\n\t\t\tposition = element.getBoundingClientRect();\n\n\t\t\tthis.startX = position.left - pageX + window.pageXOffset;\n\t\t\tthis.startY = position.top - pageY + window.pageYOffset;\n\t\t}else{\n\t\t\tthis.startY = (pageY - element.getBoundingClientRect().top);\n\t\t}\n\t}\n\n\tendMove(e){\n\t\tif(!e || e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\n\t\t\tif(!this.connection){\n\t\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\t}\n\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tif(this.toRow){\n\t\t\t\tthis.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter);\n\t\t\t}else{\n\t\t\t\tthis.dispatchExternal(\"rowMoveCancelled\", this.moving.getComponent());\n\t\t\t}\n\n\t\t\tthis.moving = false;\n\t\t\tthis.toRow = false;\n\t\t\tthis.toRowAfter = false;\n\n\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\n\t\t\tif(this.connection){\n\t\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-sending\");\n\t\t\t\tthis.disconnectFromTables();\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveRow(row, after){\n\t\tthis.toRow = row;\n\t\tthis.toRowAfter = after;\n\t}\n\n\tmoveHover(e){\n\t\tif(this.connection){\n\t\t\tthis.moveHoverConnections.call(this, e);\n\t\t}else{\n\t\t\tthis.moveHoverTable.call(this, e);\n\t\t}\n\t}\n\n\tmoveHoverTable(e){\n\t\tvar rowHolder = this.table.rowManager.getElement(),\n\t\tscrollTop = rowHolder.scrollTop,\n\t\tyPos = ((this.touchMove ? e.touches[0].pageY : e.pageY) - rowHolder.getBoundingClientRect().top) + scrollTop;\n\t\t\n\t\tthis.hoverElement.style.top = Math.min(yPos - this.startY, this.table.rowManager.element.scrollHeight - this.hoverElement.offsetHeight) + \"px\";\n\t}\n\n\tmoveHoverConnections(e){\n\t\tthis.hoverElement.style.left = (this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX)) + \"px\";\n\t\tthis.hoverElement.style.top = (this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY)) + \"px\";\n\t}\n\n\telementRowDrop(e, element, row){\n\t\tthis.dispatchExternal(\"movableRowsElementDrop\", e, element, row ? row.getComponent() : false);\n\t}\n\n\t//establish connection with other tables\n\tconnectToTables(row){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStart\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\n\t\t\t\trow:row,\n\t\t\t});\n\t\t}\n\n\t\tif(this.connectionSelectorsElements){\n\n\t\t\tthis.connectionElements = [];\n\n\t\t\tif(!Array.isArray(this.connectionSelectorsElements)){\n\t\t\t\tthis.connectionSelectorsElements = [this.connectionSelectorsElements];\n\t\t\t}\n\n\t\t\tthis.connectionSelectorsElements.forEach((query) => {\n\t\t\t\tif(typeof query === \"string\"){\n\t\t\t\t\tthis.connectionElements = this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));\n\t\t\t\t}else{\n\t\t\t\t\tthis.connectionElements.push(query);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.connectionElements.forEach((element) => {\n\t\t\t\tvar dropEvent = (e) => {\n\t\t\t\t\tthis.elementRowDrop(e, element, this.moving);\n\t\t\t\t};\n\n\t\t\t\telement.addEventListener(\"mouseup\", dropEvent);\n\t\t\t\telement.tabulatorElementDropEvent = dropEvent;\n\n\t\t\t\telement.classList.add(\"tabulator-movingrow-receiving\");\n\t\t\t});\n\t\t}\n\t}\n\n\t//disconnect from other tables\n\tdisconnectFromTables(){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStop\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"disconnect\");\n\t\t}\n\n\t\tthis.connectionElements.forEach((element) => {\n\t\t\telement.classList.remove(\"tabulator-movingrow-receiving\");\n\t\t\telement.removeEventListener(\"mouseup\", element.tabulatorElementDropEvent);\n\t\t\tdelete element.tabulatorElementDropEvent;\n\t\t});\n\t}\n\n\t//accept incomming connection\n\tconnect(table, row){\n\t\tif(!this.connectedTable){\n\t\t\tthis.connectedTable = table;\n\t\t\tthis.connectedRow = row;\n\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().addEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.tableRowDropEvent = this.tableRowDrop.bind(this);\n\n\t\t\tthis.table.element.addEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStart\", row, table);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//close incoming connection\n\tdisconnect(table){\n\t\tif(table === this.connectedTable){\n\t\t\tthis.connectedTable = false;\n\t\t\tthis.connectedRow = false;\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) =>{\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().removeEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.element.removeEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStop\", table);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Row Error - trying to disconnect from non connected table\");\n\t\t}\n\t}\n\n\tdropComplete(table, row, success){\n\t\tvar sender = false;\n\n\t\tif(success){\n\n\t\t\tswitch(typeof this.table.options.movableRowsSender){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tsender = MoveRows.senders[this.table.options.movableRowsSender];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tsender = this.table.options.movableRowsSender;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(sender){\n\t\t\t\tsender.call(this, this.moving ? this.moving.getComponent() : undefined, row ? row.getComponent() : undefined, table);\n\t\t\t}else{\n\t\t\t\tif(this.table.options.movableRowsSender){\n\t\t\t\t\tconsole.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"movableRowsSent\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"movableRowsSentFailed\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}\n\n\t\tthis.endMove();\n\t}\n\n\ttableRowDrop(e, row){\n\t\tvar receiver = false,\n\t\tsuccess = false;\n\n\t\te.stopImmediatePropagation();\n\n\t\tswitch(typeof this.table.options.movableRowsReceiver){\n\t\t\tcase \"string\":\n\t\t\t\treceiver = MoveRows.receivers[this.table.options.movableRowsReceiver];\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\treceiver = this.table.options.movableRowsReceiver;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(receiver){\n\t\t\tsuccess = receiver.call(this, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else{\n\t\t\tconsole.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver);\n\t\t}\n\n\t\tif(success){\n\t\t\tthis.dispatchExternal(\"movableRowsReceived\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"movableRowsReceivedFailed\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}\n\n\t\tthis.commsSend(this.connectedTable, \"moveRow\", \"dropcomplete\", {\n\t\t\trow:row,\n\t\t\tsuccess:success,\n\t\t});\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"connect\":\n\t\t\t\treturn this.connect(table, data.row);\n\n\t\t\tcase \"disconnect\":\n\t\t\t\treturn this.disconnect(table);\n\n\t\t\tcase \"dropcomplete\":\n\t\t\t\treturn this.dropComplete(table, data.row, data.success);\n\t\t}\n\t}\n}","export default {};","import Module from '../../core/Module.js';\n\nimport defaultMutators from './defaults/mutators.js';\n\nexport default class Mutator extends Module{\n\n\tstatic moduleName = \"mutator\";\n\n\t//load defaults\n\tstatic mutators = defaultMutators;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\", \"import\"]; //list of mutation types\n\t\tthis.enabled = true;\n\n\t\tthis.registerColumnOption(\"mutator\");\n\t\tthis.registerColumnOption(\"mutatorParams\");\n\t\tthis.registerColumnOption(\"mutatorData\");\n\t\tthis.registerColumnOption(\"mutatorDataParams\");\n\t\tthis.registerColumnOption(\"mutatorEdit\");\n\t\tthis.registerColumnOption(\"mutatorEditParams\");\n\t\tthis.registerColumnOption(\"mutatorClipboard\");\n\t\tthis.registerColumnOption(\"mutatorClipboardParams\");\n\t\tthis.registerColumnOption(\"mutatorImport\");\n\t\tthis.registerColumnOption(\"mutatorImportParams\");\n\t\tthis.registerColumnOption(\"mutateLink\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"cell-value-changing\", this.transformCell.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.mutateLink.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-init-before\", this.rowDataChanged.bind(this));\n\t\tthis.subscribe(\"row-data-changing\", this.rowDataChanged.bind(this));\n\t}\n\n\trowDataChanged(row, tempData, updatedData){\n\t\treturn this.transformRow(tempData, \"data\", updatedData);\n\t}\n\n\t//initialize column mutator\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\tmutator;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\tmutator = this.lookupMutator(column.definition[key]);\n\n\t\t\t\tif(mutator){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\tmutator:mutator,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.mutate = config;\n\t\t}\n\t}\n\n\tlookupMutator(value){\n\t\tvar mutator = false;\n\n\t\t//set column mutator\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Mutator.mutators[value]){\n\t\t\t\t\tmutator = Mutator.mutators[value];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Mutator Error - No such mutator found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tmutator = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn mutator;\n\t}\n\n\t//apply mutator to row\n\ttransformRow(data, type, updatedData){\n\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\tvalue;\n\n\t\t// console.log(\"key\", key)\n\n\t\tif(this.enabled){\n\n\t\t\tthis.table.columnManager.traverse((column) => {\n\t\t\t\tvar mutator, params, component;\n\n\t\t\t\tif(column.modules.mutate){\n\t\t\t\t\tmutator = column.modules.mutate[key] || column.modules.mutate.mutator || false;\n\n\t\t\t\t\tif(mutator){\n\t\t\t\t\t\tvalue = column.getFieldValue(typeof updatedData !== \"undefined\" ? updatedData : data);\n\n\t\t\t\t\t\tif((type == \"data\" && !updatedData)|| typeof value !== \"undefined\"){\n\t\t\t\t\t\t\tcomponent = column.getComponent();\n\t\t\t\t\t\t\tparams = typeof mutator.params === \"function\" ? mutator.params(value, data, type, component) : mutator.params;\n\t\t\t\t\t\t\tcolumn.setFieldValue(data, mutator.mutator(value, data, type, params, component));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//apply mutator to new cell value\n\ttransformCell(cell, value){\n\t\tif(cell.column.modules.mutate){\n\t\t\tvar mutator = cell.column.modules.mutate.mutatorEdit || cell.column.modules.mutate.mutator || false,\n\t\t\ttempData = {};\n\n\t\t\tif(mutator){\n\t\t\t\ttempData = Object.assign(tempData, cell.row.getData());\n\t\t\t\tcell.column.setFieldValue(tempData, value);\n\t\t\t\treturn mutator.mutator(value, tempData, \"edit\", mutator.params, cell.getComponent());\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tmutateLink(cell){\n\t\tvar links = cell.column.definition.mutateLink;\n\n\t\tif(links){\n\t\t\tif(!Array.isArray(links)){\n\t\t\t\tlinks = [links];\n\t\t\t}\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tvar linkCell = cell.row.getCell(link);\n\n\t\t\t\tif(linkCell){\n\t\t\t\t\tlinkCell.setValue(linkCell.getValue(), true, true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tenable(){\n\t\tthis.enabled = true;\n\t}\n\n\tdisable(){\n\t\tthis.enabled = false;\n\t}\n}","export default function(pageSize, currentRow, currentPage, totalRows, totalPages){\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|rows\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\n\tif(totalRows){\n\t\tvalueEl.innerHTML = \" \" + currentRow + \"-\" + Math.min((currentRow + pageSize - 1), totalRows) + \" \";\n\t\t\n\t\ttotalEl.innerHTML = \" \" + totalRows + \" \";\n\t\t\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(ofEl);\n\t\tel.appendChild(totalEl);\n\t\tel.appendChild(rowsEl);\n\t}else{\n\t\tvalueEl.innerHTML = \" 0 \";\n\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(rowsEl);\n\t}\n\t\n\treturn el;\n}","export default function(pageSize, currentRow, currentPage, totalRows, totalPages){\n\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\t\n\tvalueEl.innerHTML = \" \" + currentPage + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\t\n\ttotalEl.innerHTML = \" \" + totalPages + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|pages\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\t\n\tel.appendChild(showingEl);\n\tel.appendChild(valueEl);\n\tel.appendChild(ofEl);\n\tel.appendChild(totalEl);\n\tel.appendChild(rowsEl);\n\t\n\treturn el;\n}","import rows from './pageCounters/rows.js';\nimport pages from './pageCounters/pages.js';\n\n\nexport default {\n\trows:rows,\n\tpages:pages,\n};","import Module from '../../core/Module.js';\n\nimport defaultPageCounters from './defaults/pageCounters.js';\n\nexport default class Page extends Module{\n\n\tstatic moduleName = \"page\";\n\n\t//load defaults\n\tstatic pageCounters = defaultPageCounters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.mode = \"local\";\n\t\tthis.progressiveLoad = false;\n\t\t\n\t\tthis.element = null;\n\t\tthis.pageCounterElement = null;\n\t\tthis.pageCounter = null;\n\t\t\n\t\tthis.size = 0;\n\t\tthis.page = 1;\n\t\tthis.count = 5;\n\t\tthis.max = 1;\n\n\t\tthis.remoteRowCountEstimate = null;\n\t\t\n\t\tthis.initialLoad = true;\n\t\tthis.dataChanging = false; //flag to check if data is being changed by this module\n\t\t\n\t\tthis.pageSizes = [];\n\t\t\n\t\tthis.registerTableOption(\"pagination\", false); //set pagination type\n\t\tthis.registerTableOption(\"paginationMode\", \"local\"); //local or remote pagination\n\t\tthis.registerTableOption(\"paginationSize\", false); //set number of rows to a page\n\t\tthis.registerTableOption(\"paginationInitialPage\", 1); //initial page to show on load\n\t\tthis.registerTableOption(\"paginationCounter\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationCounterElement\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationButtonCount\", 5);  // set count of page button\n\t\tthis.registerTableOption(\"paginationSizeSelector\", false); //add pagination size selector element\n\t\tthis.registerTableOption(\"paginationElement\", false); //element to hold pagination numbers\n\t\t// this.registerTableOption(\"paginationDataSent\", {}); //pagination data sent to the server\n\t\t// this.registerTableOption(\"paginationDataReceived\", {}); //pagination data received from the server\n\t\tthis.registerTableOption(\"paginationAddRow\", \"page\"); //add rows on table or page\n\t\tthis.registerTableOption(\"paginationOutOfRange\", false); //reset the current page when the last page < this.page, values: false|function|any value accepted by setPage()\n\t\t\n\t\tthis.registerTableOption(\"progressiveLoad\", false); //progressive loading\n\t\tthis.registerTableOption(\"progressiveLoadDelay\", 0); //delay between requests\n\t\tthis.registerTableOption(\"progressiveLoadScrollMargin\", 0); //margin before scroll begins\n\t\t\n\t\tthis.registerTableFunction(\"setMaxPage\", this.setMaxPage.bind(this));\n\t\tthis.registerTableFunction(\"setPage\", this.setPage.bind(this));\n\t\tthis.registerTableFunction(\"setPageToRow\", this.userSetPageToRow.bind(this));\n\t\tthis.registerTableFunction(\"setPageSize\", this.userSetPageSize.bind(this));\n\t\tthis.registerTableFunction(\"getPageSize\", this.getPageSize.bind(this));\n\t\tthis.registerTableFunction(\"previousPage\", this.previousPage.bind(this));\n\t\tthis.registerTableFunction(\"nextPage\", this.nextPage.bind(this));\n\t\tthis.registerTableFunction(\"getPage\", this.getPage.bind(this));\n\t\tthis.registerTableFunction(\"getPageMax\", this.getPageMax.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"pageTo\", this.setPageToRow.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"footer-redraw\", this.footerRedraw.bind(this));\n\n\t\t\tif(this.table.options.paginationAddRow == \"page\"){\n\t\t\t\tthis.subscribe(\"row-adding-position\", this.rowAddingPosition.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.paginationMode === \"remote\"){\n\t\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad){\n\t\t\t\tconsole.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.restOnRenderBefore.bind(this), 40);\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 50);\n\t\t\t\n\t\t\tthis.createElements();\n\t\t\tthis.initializePageCounter();\n\t\t\tthis.initializePaginator();\n\t\t}else if(this.table.options.progressiveLoad){\n\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\t\n\t\t\tthis.initializeProgressive(this.table.options.progressiveLoad);\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad === \"scroll\"){\n\t\t\t\tthis.subscribe(\"scroll-vertical\", this.scrollVertical.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowAddingPosition(row, top){\n\t\tvar rowManager = this.table.rowManager,\n\t\tdisplayRows = rowManager.getDisplayRows(),\n\t\tindex;\n\t\t\n\t\tif(top){\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[0];\n\t\t\t}else{\n\t\t\t\tif(rowManager.activeRows.length){\n\t\t\t\t\tindex = rowManager.activeRows[rowManager.activeRows.length-1];\n\t\t\t\t\ttop = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[displayRows.length - 1];\n\t\t\t\ttop = displayRows.length < this.size ? false : true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn {index, top};\n\t}\n\t\n\tcalculatePageSizes(){\n\t\tvar testElRow, testElCell;\n\t\t\n\t\tif(this.table.options.paginationSize){\n\t\t\tthis.size = this.table.options.paginationSize;\n\t\t}else{\n\t\t\ttestElRow = document.createElement(\"div\");\n\t\t\ttestElRow.classList.add(\"tabulator-row\");\n\t\t\ttestElRow.style.visibility = \"hidden\";\n\t\t\t\n\t\t\ttestElCell = document.createElement(\"div\");\n\t\t\ttestElCell.classList.add(\"tabulator-cell\");\n\t\t\ttestElCell.innerHTML = \"Page Row Test\";\n\t\t\t\n\t\t\ttestElRow.appendChild(testElCell);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().appendChild(testElRow);\n\t\t\t\n\t\t\tthis.size = Math.floor(this.table.rowManager.getElement().clientHeight / testElRow.offsetHeight);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().removeChild(testElRow);\n\t\t}\n\n\t\tthis.dispatchExternal(\"pageSizeChanged\", this.size);\n\t\t\n\t\tthis.generatePageSizeSelectList();\n\t}\n\t\n\tinitialLoadComplete(){\n\t\tthis.initialLoad = false;\n\t}\n\t\n\tremotePageParams(data, config, silent, params){\n\t\tif(!this.initialLoad){\n\t\t\tif((this.progressiveLoad && !silent) || (!this.progressiveLoad && !this.dataChanging)){\n\t\t\t\tthis.reset(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//configure request params\n\t\tparams.page = this.page;\n\t\t\n\t\t//set page size if defined\n\t\tif(this.size){\n\t\t\tparams.size = this.size;\n\t\t}\n\t\t\n\t\treturn params;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetPageToRow(row){\n\t\tif(this.table.options.pagination){\n\t\t\trow = this.table.rowManager.findRow(row);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\treturn this.setPageToRow(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Promise.reject();\n\t}\n\t\n\tuserSetPageSize(size){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.setPageSize(size);\n\t\t\treturn this.setPage(1);\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tscrollVertical(top, dir){\n\t\tvar element, diff, margin;\n\t\tif(!dir && !this.table.dataLoader.loading){\n\t\t\telement = this.table.rowManager.getElement();\n\t\t\tdiff = element.scrollHeight - element.clientHeight - top;\n\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (element.clientHeight * 2);\n\t\t\t\n\t\t\tif(diff < margin){\n\t\t\t\tthis.nextPage()\n\t\t\t\t\t.catch(() => {}); //consume the exception thrown when on the last page\n\t\t\t}\n\t\t}\n\t}\n\t\n\trestOnRenderBefore(rows, renderInPosition){\n\t\tif(!renderInPosition){\n\t\t\tif(this.mode === \"local\"){\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(){\n\t\tthis.refreshData(true, \"all\");\n\t}\n\t\n\tcreateElements(){\n\t\tvar button;\n\t\t\n\t\tthis.element = document.createElement(\"span\");\n\t\tthis.element.classList.add(\"tabulator-paginator\");\n\t\t\n\t\tthis.pagesElement = document.createElement(\"span\");\n\t\tthis.pagesElement.classList.add(\"tabulator-pages\");\n\t\t\n\t\tbutton = document.createElement(\"button\");\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\tbutton.setAttribute(\"aria-label\", \"\");\n\t\tbutton.setAttribute(\"title\", \"\");\n\t\t\n\t\tthis.firstBut = button.cloneNode(true);\n\t\tthis.firstBut.setAttribute(\"data-page\", \"first\");\n\t\t\n\t\tthis.prevBut = button.cloneNode(true);\n\t\tthis.prevBut.setAttribute(\"data-page\", \"prev\");\n\t\t\n\t\tthis.nextBut = button.cloneNode(true);\n\t\tthis.nextBut.setAttribute(\"data-page\", \"next\");\n\t\t\n\t\tthis.lastBut = button.cloneNode(true);\n\t\tthis.lastBut.setAttribute(\"data-page\", \"last\");\n\t\t\n\t\tif(this.table.options.paginationSizeSelector){\n\t\t\tthis.pageSizeSelect = document.createElement(\"select\");\n\t\t\tthis.pageSizeSelect.classList.add(\"tabulator-page-size\");\n\t\t}\n\t}\n\t\n\tgeneratePageSizeSelectList(){\n\t\tvar pageSizes = [];\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t\n\t\t\tif(Array.isArray(this.table.options.paginationSizeSelector)){\n\t\t\t\tpageSizes = this.table.options.paginationSizeSelector;\n\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes.unshift(this.size);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes = [];\n\t\t\t\t\t\n\t\t\t\t\tfor (let i = 1; i < 5; i++){\n\t\t\t\t\t\tpageSizes.push(this.size * i);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t}else{\n\t\t\t\t\tpageSizes = this.pageSizes;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\twhile(this.pageSizeSelect.firstChild) this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\n\t\t\t\n\t\t\tpageSizes.forEach((item) => {\n\t\t\t\tvar itemEl = document.createElement(\"option\");\n\t\t\t\titemEl.value = item;\n\t\t\t\t\n\t\t\t\tif(item === true){\n\t\t\t\t\tthis.langBind(\"pagination|all\", function(value){\n\t\t\t\t\t\titemEl.innerHTML = value;\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\titemEl.innerHTML = item;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.appendChild(itemEl);\n\t\t\t});\n\t\t\t\n\t\t\tthis.pageSizeSelect.value = this.size;\n\t\t}\n\t}\n\t\n\tinitializePageCounter(){\n\t\tvar counter = this.table.options.paginationCounter,\n\t\tpageCounter = null;\n\t\t\n\t\tif(counter){\n\t\t\tif(typeof counter === \"function\"){\n\t\t\t\tpageCounter = counter;\n\t\t\t}else{\n\t\t\t\tpageCounter = Page.pageCounters[counter];\n\t\t\t}\n\t\t\t\n\t\t\tif(pageCounter){\n\t\t\t\tthis.pageCounter = pageCounter;\n\t\t\t\t\n\t\t\t\tthis.pageCounterElement = document.createElement(\"span\");\n\t\t\t\tthis.pageCounterElement.classList.add(\"tabulator-page-counter\");\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Pagination Error - No such page counter found: \", counter);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup pagination\n\tinitializePaginator(hidden){\n\t\tvar pageSelectLabel, paginationCounterHolder;\n\t\t\n\t\tif(!hidden){\n\t\t\t//build pagination element\n\t\t\t\n\t\t\t//bind localizations\n\t\t\tthis.langBind(\"pagination|first\", (value) => {\n\t\t\t\tthis.firstBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|first_title\", (value) => {\n\t\t\t\tthis.firstBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.firstBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev\", (value) => {\n\t\t\t\tthis.prevBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev_title\", (value) => {\n\t\t\t\tthis.prevBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.prevBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next\", (value) => {\n\t\t\t\tthis.nextBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next_title\", (value) => {\n\t\t\t\tthis.nextBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.nextBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last\", (value) => {\n\t\t\t\tthis.lastBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last_title\", (value) => {\n\t\t\t\tthis.lastBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.lastBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\t//click bindings\n\t\t\tthis.firstBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(1);\n\t\t\t});\n\t\t\t\n\t\t\tthis.prevBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.previousPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.nextBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.nextPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.lastBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(this.max);\n\t\t\t});\n\t\t\t\n\t\t\tif(this.table.options.paginationElement){\n\t\t\t\tthis.element = this.table.options.paginationElement;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.pageSizeSelect){\n\t\t\t\tpageSelectLabel = document.createElement(\"label\");\n\t\t\t\t\n\t\t\t\tthis.langBind(\"pagination|page_size\", (value) => {\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"aria-label\", value);\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"title\", value);\n\t\t\t\t\tpageSelectLabel.innerHTML = value;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.element.appendChild(pageSelectLabel);\n\t\t\t\tthis.element.appendChild(this.pageSizeSelect);\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.addEventListener(\"change\", (e) => {\n\t\t\t\t\tthis.setPageSize(this.pageSizeSelect.value == \"true\" ? true : this.pageSizeSelect.value);\n\t\t\t\t\tthis.setPage(1);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//append to DOM\n\t\t\tthis.element.appendChild(this.firstBut);\n\t\t\tthis.element.appendChild(this.prevBut);\n\t\t\tthis.element.appendChild(this.pagesElement);\n\t\t\tthis.element.appendChild(this.nextBut);\n\t\t\tthis.element.appendChild(this.lastBut);\n\t\t\t\n\t\t\tif(!this.table.options.paginationElement){\n\t\t\t\tif(this.table.options.paginationCounter){\n\n\t\t\t\t\tpaginationCounterHolder; \n\n\t\t\t\t\tif(this.table.options.paginationCounterElement){\n\t\t\t\t\t\tif(this.table.options.paginationCounterElement instanceof HTMLElement){\n\t\t\t\t\t\t\tthis.table.options.paginationCounterElement.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t}else if(typeof this.table.options.paginationCounterElement === \"string\"){\n\t\t\t\t\t\t\tpaginationCounterHolder = document.querySelector(this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(paginationCounterHolder){\n\t\t\t\t\t\t\t\tpaginationCounterHolder.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tconsole.warn(\"Pagination Error - Unable to find element matching paginationCounterElement selector:\", this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.footerAppend(this.pageCounterElement);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.footerAppend(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.page = this.table.options.paginationInitialPage;\n\t\t\tthis.count = this.table.options.paginationButtonCount;\n\t\t}\n\t\t\n\t\t//set default values\n\t\tthis.mode = this.table.options.paginationMode;\n\t}\n\t\n\tinitializeProgressive(mode){\n\t\tthis.initializePaginator(true);\n\t\tthis.mode = \"progressive_\" + mode;\n\t\tthis.progressiveLoad = true;\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"page-changed\");\n\t}\n\t\n\t//calculate maximum page from number of rows\n\tsetMaxRows(rowCount){\n\t\tif(!rowCount){\n\t\t\tthis.max = 1;\n\t\t}else{\n\t\t\tthis.max = this.size === true ?  1 : Math.ceil(rowCount/this.size);\n\t\t}\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t}\n\t}\n\t\n\t//reset to first page without triggering action\n\treset(force){\n\t\tif(!this.initialLoad){\n\t\t\tif(this.mode == \"local\" || force){\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.trackChanges();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//set the maximum page\n\tsetMaxPage(max){\n\t\t\n\t\tmax = parseInt(max);\n\t\t\n\t\tthis.max = max || 1;\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t\tthis.trigger();\n\t\t}\n\t}\n\t\n\t//set current page number\n\tsetPage(page){\n\t\tswitch(page){\n\t\t\tcase \"first\":\n\t\t\t\treturn this.setPage(1);\n\t\n\t\t\tcase \"prev\":\n\t\t\t\treturn this.previousPage();\n\t\t\t\n\t\t\tcase \"next\":\n\t\t\t\treturn this.nextPage();\n\t\t\t\n\t\t\tcase \"last\":\n\t\t\t\treturn this.setPage(this.max);\n\t\t}\n\t\t\n\t\tpage = parseInt(page);\n\t\t\n\t\tif((page > 0 && page <= this.max) || this.mode !== \"local\"){\n\t\t\tthis.page = page;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Requested page is out of range of 1 - \" + this.max + \":\", page);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageToRow(row){\n\t\tvar rows = this.displayRows(-1);\n\t\tvar index = rows.indexOf(row);\n\t\n\t\tif(index > -1){\n\t\t\tvar page = this.size === true ? 1 : Math.ceil((index + 1) / this.size);\n\t\t\t\n\t\t\treturn this.setPage(page);\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Requested row is not visible\");\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageSize(size){\n\t\tif(size !== true){\n\t\t\tsize = parseInt(size);\n\t\t}\n\n\t\tif(size > 0){\n\t\t\tthis.size = size;\n\t\t\tthis.dispatchExternal(\"pageSizeChanged\", size);\n\t\t}\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t// this.pageSizeSelect.value = size;\n\t\t\tthis.generatePageSizeSelectList();\n\t\t}\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\t_setPageCounter(totalRows, size, currentRow){\n\t\tvar content;\n\t\t\n\t\tif(this.pageCounter){\n\n\t\t\tif(this.mode === \"remote\"){\n\t\t\t\tsize = this.size;\n\t\t\t\tcurrentRow = ((this.page - 1) * this.size) + 1;\n\t\t\t\ttotalRows = this.remoteRowCountEstimate;\n\t\t\t}\n\n\t\t\tcontent = this.pageCounter.call(this, size, currentRow, this.page, totalRows, this.max);\n\t\t\t\n\t\t\tswitch(typeof content){\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif(content instanceof Node){\n\t\t\t\t\t\n\t\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\t\twhile(this.pageCounterElement.firstChild) this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.pageCounterElement.appendChild(content);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\t\n\t\t\t\t\t\tif(content != null){\n\t\t\t\t\t\t\tconsole.warn(\"Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:\", content);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"undefined\":\n\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.pageCounterElement.innerHTML = content;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup the pagination buttons\n\t_setPageButtons(){\n\t\tlet leftSize = Math.floor((this.count-1) / 2);\n\t\tlet rightSize = Math.ceil((this.count-1) / 2);\n\t\tlet min = this.max - this.page + leftSize + 1 < this.count ? this.max-this.count+1: Math.max(this.page-leftSize,1);\n\t\tlet max = this.page <= rightSize? Math.min(this.count, this.max) :Math.min(this.page+rightSize, this.max);\n\t\t\n\t\twhile(this.pagesElement.firstChild) this.pagesElement.removeChild(this.pagesElement.firstChild);\n\t\t\n\t\tif(this.page == 1){\n\t\t\tthis.firstBut.disabled = true;\n\t\t\tthis.prevBut.disabled = true;\n\t\t}else{\n\t\t\tthis.firstBut.disabled = false;\n\t\t\tthis.prevBut.disabled = false;\n\t\t}\n\t\t\n\t\tif(this.page == this.max){\n\t\t\tthis.lastBut.disabled = true;\n\t\t\tthis.nextBut.disabled = true;\n\t\t}else{\n\t\t\tthis.lastBut.disabled = false;\n\t\t\tthis.nextBut.disabled = false;\n\t\t}\n\t\t\n\t\tfor(let i = min; i <= max; i++){\n\t\t\tif(i>0 && i <= this.max){\n\t\t\t\tthis.pagesElement.appendChild(this._generatePageButton(i));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.footerRedraw();\n\t}\n\t\n\t_generatePageButton(page){\n\t\tvar button = document.createElement(\"button\");\n\t\t\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tif(page == this.page){\n\t\t\tbutton.classList.add(\"active\");\n\t\t}\n\t\t\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\t\n\t\tthis.langBind(\"pagination|page_title\", (value) => {\n\t\t\tbutton.setAttribute(\"aria-label\", value + \" \" + page);\n\t\t\tbutton.setAttribute(\"title\", value + \" \" + page);\n\t\t});\n\t\t\n\t\tbutton.setAttribute(\"data-page\", page);\n\t\tbutton.textContent = page;\n\t\t\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\tthis.setPage(page);\n\t\t});\n\t\t\n\t\treturn button;\n\t}\n\t\n\t//previous page\n\tpreviousPage(){\n\t\tif(this.page > 1){\n\t\t\tthis.page--;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Previous page would be less than page 1:\", 0);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//next page\n\tnextPage(){\n\t\tif(this.page < this.max){\n\t\t\tthis.page++;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else{\n\t\t\tif(!this.progressiveLoad){\n\t\t\t\tconsole.warn(\"Pagination Error - Next page would be greater than maximum page of \" + this.max + \":\", this.max + 1);\n\t\t\t}\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//return current page number\n\tgetPage(){\n\t\treturn this.page;\n\t}\n\t\n\t//return max page number\n\tgetPageMax(){\n\t\treturn this.max;\n\t}\n\t\n\tgetPageSize(size){\n\t\treturn this.size;\n\t}\n\t\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\t\n\t//return appropriate rows for current page\n\tgetRows(data){\n\t\tvar actualRowPageSize = 0,\n\t\toutput, start, end, actualStartRow;\n\n\t\tvar actualRows = data.filter((row) => {\n\t\t\treturn row.type === \"row\";\n\t\t});\n\t\t\n\t\tif(this.mode == \"local\"){\n\t\t\toutput = [];\n\t\t\t\n\t\t\tthis.setMaxRows(data.length);\n\t\t\t\n\t\t\tif(this.size === true){\n\t\t\t\tstart = 0;\n\t\t\t\tend = data.length;\n\t\t\t}else{\n\t\t\t\tstart = this.size * (this.page - 1);\n\t\t\t\tend = start + parseInt(this.size);\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageButtons();\n\t\t\t\n\t\t\tfor(let i = start; i < end; i++){\n\t\t\t\tlet row = data[i];\n\n\t\t\t\tif(row){\n\t\t\t\t\toutput.push(row);\n\n\t\t\t\t\tif(row.type === \"row\"){\n\t\t\t\t\t\tif(!actualStartRow){\n\t\t\t\t\t\t\tactualStartRow = row;\n\t\t\t\t\t\t}\t\n\n\t\t\t\t\t\tactualRowPageSize++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageCounter(actualRows.length, actualRowPageSize, actualStartRow ? (actualRows.indexOf(actualStartRow) + 1) : 0);\n\t\t\t\n\t\t\treturn output;\n\t\t}else{\n\t\t\tthis._setPageButtons();\n\t\t\tthis._setPageCounter(actualRows.length);\n\t\t\t\n\t\t\treturn data.slice(0);\n\t\t}\n\t}\n\t\n\ttrigger(){\n\t\tvar left;\n\t\t\n\t\tswitch(this.mode){\n\t\t\tcase \"local\":\n\t\t\t\tleft = this.table.rowManager.scrollLeft;\n\t\t\t\n\t\t\t\tthis.refreshData();\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\", this.getPage());\n\t\t\t\n\t\t\t\treturn Promise.resolve();\n\t\t\t\n\t\t\tcase \"remote\":\n\t\t\t\tthis.dataChanging = true;\n\t\t\t\treturn this.reloadData(null)\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.dataChanging = false;\n\t\t\t\t\t});\n\t\t\t\n\t\t\tcase \"progressive_load\":\n\t\t\tcase \"progressive_scroll\":\n\t\t\t\treturn this.reloadData(null, true);\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconsole.warn(\"Pagination Error - no such pagination mode:\", this.mode);\n\t\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t_parseRemoteData(data){\n\t\tvar margin, paginationOutOfRange;\n\t\t\n\t\tif(typeof data.last_page === \"undefined\"){\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").last_page || \"last_page\") + \"' property\");\n\t\t}\n\t\t\n\t\tif(data.data){\n\t\t\tthis.max = parseInt(data.last_page) || 1;\n\n\t\t\tthis.remoteRowCountEstimate = typeof data.last_row !== \"undefined\" ? data.last_row : (data.last_page * this.size - (this.page == data.last_page ? (this.size - data.data.length) : 0));\n\t\t\t\n\t\t\tif(this.progressiveLoad){\n\t\t\t\tswitch(this.mode){\n\t\t\t\t\tcase \"progressive_load\":\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page == 1){\n\t\t\t\t\t\t\tthis.table.rowManager.setData(data.data, false, this.page == 1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.table.rowManager.addRows(data.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t}, this.table.options.progressiveLoadDelay);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"progressive_scroll\":\n\t\t\t\t\t\tdata = this.page === 1 ? data.data : this.table.rowManager.getData().concat(data.data);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.table.rowManager.setData(data, this.page !== 1, this.page == 1);\n\t\t\t\t\t\n\t\t\t\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (this.table.rowManager.element.clientHeight * 2);\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.rowManager.element.scrollHeight <= (this.table.rowManager.element.clientHeight + margin)){\n\t\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn false;\n\t\t\t}else{\n\n\t\t\t\tif(this.page > this.max){\n\t\t\t\t\tconsole.warn( \"Remote Pagination Error - Server returned last page value lower than the current page\" );\n\n\t\t\t\t\tpaginationOutOfRange = this.options('paginationOutOfRange');\n\n\t\t\t\t\tif(paginationOutOfRange){\n\t\t\t\t\t\treturn this.setPage(typeof paginationOutOfRange === 'function' ? paginationOutOfRange.call(this, this.page, this.max) :\tpaginationOutOfRange);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// left = this.table.rowManager.scrollLeft;\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\",  this.getPage());\n\t\t\t\t// this.table.rowManager.scrollHorizontal(left);\n\t\t\t\t// this.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").data || \"data\") + \"' property\");\n\t\t}\n\t\t\n\t\treturn data.data;\n\t}\n\t\n\t//handle the footer element being redrawn\n\tfooterRedraw(){\n\t\tvar footer = this.table.footerManager.containerElement;\n\n\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\tthis.pagesElement.style.display = 'none';\n\t\t}else{\n\t\t\tthis.pagesElement.style.display = '';\n\t\t\t\n\t\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\t\tthis.pagesElement.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n}","// read persistance information from storage\nexport default {\n\tlocal:function(id, type){\n\t\tvar data = localStorage.getItem(id + \"-\" + type);\n\n\t\treturn data ? JSON.parse(data) : false;\n\t},\n\tcookie:function(id, type){\n\t\tvar cookie = document.cookie,\n\t\tkey = id + \"-\" + type,\n\t\tcookiePos = cookie.indexOf(key + \"=\"),\n\t\tend, data;\n\n\t\t//if cookie exists, decode and load column data into tabulator\n\t\tif(cookiePos > -1){\n\t\t\tcookie = cookie.slice(cookiePos);\n\n\t\t\tend = cookie.indexOf(\";\");\n\n\t\t\tif(end > -1){\n\t\t\t\tcookie = cookie.slice(0, end);\n\t\t\t}\n\n\t\t\tdata = cookie.replace(key + \"=\", \"\");\n\t\t}\n\n\t\treturn data ? JSON.parse(data) : false;\n\t}\n};\n","//write persistence information to storage\nexport default {\n\tlocal:function(id, type, data){\n\t\tlocalStorage.setItem(id + \"-\" + type, JSON.stringify(data));\n\t},\n\tcookie:function(id, type, data){\n\t\tvar expireDate = new Date();\n\n\t\texpireDate.setDate(expireDate.getDate() + 10000);\n\n\t\tdocument.cookie = id + \"-\" + type + \"=\" + JSON.stringify(data) + \"; expires=\" + expireDate.toUTCString();\n\t}\n};","import Module from '../../core/Module.js';\n\nimport defaultReaders from './defaults/readers.js';\nimport defaultWriters from './defaults/writers.js';\n\nexport default class Persistence extends Module{\n\n\tstatic moduleName = \"persistence\";\n\n\tstatic moduleInitOrder = -10;\n\n\t//load defaults\n\tstatic readers = defaultReaders;\n\tstatic writers = defaultWriters;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = \"\";\n\t\tthis.id = \"\";\n\t\t// this.persistProps = [\"field\", \"width\", \"visible\"];\n\t\tthis.defWatcherBlock = false;\n\t\tthis.config = {};\n\t\tthis.readFunc = false;\n\t\tthis.writeFunc = false;\n\n\t\tthis.registerTableOption(\"persistence\", false);\n\t\tthis.registerTableOption(\"persistenceID\", \"\"); //key for persistent storage\n\t\tthis.registerTableOption(\"persistenceMode\", true); //mode for storing persistence information\n\t\tthis.registerTableOption(\"persistenceReaderFunc\", false); //function for handling persistence data reading\n\t\tthis.registerTableOption(\"persistenceWriterFunc\", false); //function for handling persistence data writing\n\t}\n\n\t// Test for whether localStorage is available for use.\n\tlocalStorageTest() {\n\t\tvar  testKey =  \"_tabulator_test\";\n\n\t\ttry {\n\t\t\twindow.localStorage.setItem( testKey, testKey);\n\t\t\twindow.localStorage.removeItem( testKey );\n\t\t\treturn true;\n\t\t} catch(e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//setup parameters\n\tinitialize(){\n\t\tif(this.table.options.persistence){\n\t\t\t//determine persistent layout storage type\n\t\t\tvar mode = this.table.options.persistenceMode,\n\t\t\tid = this.table.options.persistenceID,\n\t\t\tretrievedData;\n\n\t\t\tthis.mode = mode !== true ?  mode : (this.localStorageTest() ? \"local\" : \"cookie\");\n\n\t\t\tif(this.table.options.persistenceReaderFunc){\n\t\t\t\tif(typeof this.table.options.persistenceReaderFunc === \"function\"){\n\t\t\t\t\tthis.readFunc = this.table.options.persistenceReaderFunc;\n\t\t\t\t}else{\n\t\t\t\t\tif(Persistence.readers[this.table.options.persistenceReaderFunc]){\n\t\t\t\t\t\tthis.readFunc = Persistence.readers[this.table.options.persistenceReaderFunc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(Persistence.readers[this.mode]){\n\t\t\t\t\tthis.readFunc = Persistence.readers[this.mode];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.table.options.persistenceWriterFunc){\n\t\t\t\tif(typeof this.table.options.persistenceWriterFunc === \"function\"){\n\t\t\t\t\tthis.writeFunc = this.table.options.persistenceWriterFunc;\n\t\t\t\t}else{\n\t\t\t\t\tif(Persistence.writers[this.table.options.persistenceWriterFunc]){\n\t\t\t\t\t\tthis.writeFunc = Persistence.writers[this.table.options.persistenceWriterFunc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(Persistence.writers[this.mode]){\n\t\t\t\t\tthis.writeFunc = Persistence.writers[this.mode];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid writer set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//set storage tag\n\t\t\tthis.id = \"tabulator-\" + (id || (this.table.element.getAttribute(\"id\") || \"\"));\n\n\t\t\tthis.config = {\n\t\t\t\tsort:this.table.options.persistence === true || this.table.options.persistence.sort,\n\t\t\t\tfilter:this.table.options.persistence === true || this.table.options.persistence.filter,\n\t\t\t\theaderFilter:this.table.options.persistence === true || this.table.options.persistence.headerFilter,\n\t\t\t\tgroup:this.table.options.persistence === true || this.table.options.persistence.group,\n\t\t\t\tpage:this.table.options.persistence === true || this.table.options.persistence.page,\n\t\t\t\tcolumns:this.table.options.persistence === true ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns,\n\t\t\t};\n\n\t\t\t//load pagination data if needed\n\t\t\tif(this.config.page){\n\t\t\t\tretrievedData = this.retrieveData(\"page\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.paginationSize !== \"undefined\" && (this.config.page === true || this.config.page.size)){\n\t\t\t\t\t\tthis.table.options.paginationSize = retrievedData.paginationSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof retrievedData.paginationInitialPage !== \"undefined\" && (this.config.page === true || this.config.page.page)){\n\t\t\t\t\t\tthis.table.options.paginationInitialPage = retrievedData.paginationInitialPage;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//load group data if needed\n\t\t\tif(this.config.group){\n\t\t\t\tretrievedData = this.retrieveData(\"group\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.groupBy !== \"undefined\" && (this.config.group === true || this.config.group.groupBy)){\n\t\t\t\t\t\tthis.table.options.groupBy = retrievedData.groupBy;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupStartOpen !== \"undefined\" && (this.config.group === true || this.config.group.groupStartOpen)){\n\t\t\t\t\t\tthis.table.options.groupStartOpen = retrievedData.groupStartOpen;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupHeader !== \"undefined\" && (this.config.group === true || this.config.group.groupHeader)){\n\t\t\t\t\t\tthis.table.options.groupHeader = retrievedData.groupHeader;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.config.columns){\n\t\t\t\tthis.table.options.columns = this.load(\"columns\", this.table.options.columns);\n\t\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\t\tthis.subscribe(\"column-show\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-hide\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-moved\", this.save.bind(this, \"columns\"));\n\t\t\t}\n\n\t\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this), 0);\n\n\t\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"filter\"));\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"headerFilter\"));\n\t\t\tthis.subscribe(\"sort-changed\", this.eventSave.bind(this, \"sort\"));\n\t\t\tthis.subscribe(\"group-changed\", this.eventSave.bind(this, \"group\"));\n\t\t\tthis.subscribe(\"page-changed\", this.eventSave.bind(this, \"page\"));\n\t\t\tthis.subscribe(\"column-resized\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"column-width\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"layout-refreshed\", this.eventSave.bind(this, \"columns\"));\n\t\t}\n\n\t\tthis.registerTableFunction(\"getColumnLayout\", this.getColumnLayout.bind(this));\n\t\tthis.registerTableFunction(\"setColumnLayout\", this.setColumnLayout.bind(this));\n\t}\n\n\teventSave(type){\n\t\tif(this.config[type]){\n\t\t\tthis.save(type);\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tvar sorters, filters, headerFilters;\n\n\t\tif(this.config.sort){\n\t\t\tsorters = this.load(\"sort\");\n\n\t\t\tif(!sorters === false){\n\t\t\t\tthis.table.options.initialSort = sorters;\n\t\t\t}\n\t\t}\n\n\t\tif(this.config.filter){\n\t\t\tfilters = this.load(\"filter\");\n\n\t\t\tif(!filters === false){\n\t\t\t\tthis.table.options.initialFilter = filters;\n\t\t\t}\n\t\t}\n\t\tif(this.config.headerFilter){\n\t\t\theaderFilters = this.load(\"headerFilter\");\n\n\t\t\tif(!headerFilters === false){\n\t\t\t\tthis.table.options.initialHeaderFilter = headerFilters;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\ttableRedraw(force){\n\t\tif(force && this.config.columns){\n\t\t\tthis.save(\"columns\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tgetColumnLayout(){\n\t\treturn this.parseColumns(this.table.columnManager.getColumns());\n\t}\n\n\tsetColumnLayout(layout){\n\t\tthis.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns, layout, true));\n\t\treturn true;\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumn(column){\n\t\tvar def, keys;\n\n\t\tif(this.config.columns){\n\t\t\tthis.defWatcherBlock = true;\n\n\t\t\tdef = column.getDefinition();\n\n\t\t\tkeys = this.config.columns === true ? Object.keys(def) : this.config.columns;\n\n\t\t\tkeys.forEach((key)=>{\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(def, key);\n\t\t\t\tvar value = def[key];\n\n\t\t\t\tif(props){\n\t\t\t\t\tObject.defineProperty(def, key, {\n\t\t\t\t\t\tset: (newValue) => {\n\t\t\t\t\t\t\tvalue = newValue;\n\n\t\t\t\t\t\t\tif(!this.defWatcherBlock){\n\t\t\t\t\t\t\t\tthis.save(\"columns\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(props.set){\n\t\t\t\t\t\t\t\tprops.set(newValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget:() => {\n\t\t\t\t\t\t\tif(props.get){\n\t\t\t\t\t\t\t\tprops.get();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.defWatcherBlock = false;\n\t\t}\n\t}\n\n\t//load saved definitions\n\tload(type, current){\n\t\tvar data = this.retrieveData(type);\n\n\t\tif(current){\n\t\t\tdata = data ? this.mergeDefinition(current, data) : current;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//retrieve data from memory\n\tretrieveData(type){\n\t\treturn this.readFunc ? this.readFunc(this.id, type) : false;\n\t}\n\n\t//merge old and new column definitions\n\tmergeDefinition(oldCols, newCols, mergeAllNew){\n\t\tvar output = [];\n\n\t\tnewCols = newCols || [];\n\n\t\tnewCols.forEach((column, to) => {\n\t\t\tvar from = this._findColumn(oldCols, column),\n\t\t\tkeys;\n\n\t\t\tif(from){\n\t\t\t\tif(mergeAllNew){\n\t\t\t\t\tkeys = Object.keys(column);\n\t\t\t\t}else if(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(from);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t}else{\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tif(key !== \"columns\" && typeof column[key] !== \"undefined\"){\n\t\t\t\t\t\tfrom[key] = column[key];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(from.columns){\n\t\t\t\t\tfrom.columns = this.mergeDefinition(from.columns, column.columns);\n\t\t\t\t}\n\n\t\t\t\toutput.push(from);\n\t\t\t}\n\t\t});\n\n\t\toldCols.forEach((column, i) => {\n\t\t\tvar from = this._findColumn(newCols, column);\n\n\t\t\tif (!from) {\n\t\t\t\tif(output.length>i){\n\t\t\t\t\toutput.splice(i, 0, column);\n\t\t\t\t}else{\n\t\t\t\t\toutput.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//find matching columns\n\t_findColumn(columns, subject){\n\t\tvar type = subject.columns ? \"group\" : (subject.field ? \"field\" : \"object\");\n\n\t\treturn columns.find(function(col){\n\t\t\tswitch(type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn col.title === subject.title && col.columns.length === subject.columns.length;\n\n\t\t\t\tcase \"field\":\n\t\t\t\t\treturn col.field === subject.field;\n\n\t\t\t\tcase \"object\":\n\t\t\t\t\treturn col === subject;\n\t\t\t}\n\t\t});\n\t}\n\n\t//save data\n\tsave(type){\n\t\tvar data = {};\n\n\t\tswitch(type){\n\t\t\tcase \"columns\":\n\t\t\t\tdata = this.parseColumns(this.table.columnManager.getColumns());\n\t\t\t\tbreak;\n\n\t\t\tcase \"filter\":\n\t\t\t\tdata = this.table.modules.filter.getFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"headerFilter\":\n\t\t\t\tdata = this.table.modules.filter.getHeaderFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"sort\":\n\t\t\t\tdata = this.validateSorters(this.table.modules.sort.getSort());\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tdata = this.getGroupConfig();\n\t\t\t\tbreak;\n\n\t\t\tcase \"page\":\n\t\t\t\tdata = this.getPageConfig();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(this.writeFunc){\n\t\t\tthis.writeFunc(this.id, type, data);\n\t\t}\n\n\t}\n\n\t//ensure sorters contain no function data\n\tvalidateSorters(data){\n\t\tdata.forEach(function(item){\n\t\t\titem.column = item.field;\n\t\t\tdelete item.field;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tgetGroupConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.group){\n\t\t\tif(this.config.group === true || this.config.group.groupBy){\n\t\t\t\tdata.groupBy = this.table.options.groupBy;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupStartOpen){\n\t\t\t\tdata.groupStartOpen = this.table.options.groupStartOpen;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupHeader){\n\t\t\t\tdata.groupHeader = this.table.options.groupHeader;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tgetPageConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.page){\n\t\t\tif(this.config.page === true || this.config.page.size){\n\t\t\t\tdata.paginationSize = this.table.modules.page.getPageSize();\n\t\t\t}\n\n\t\t\tif(this.config.page === true || this.config.page.page){\n\t\t\t\tdata.paginationInitialPage = this.table.modules.page.getPage();\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\n\t//parse columns for data to store\n\tparseColumns(columns){\n\t\tvar definitions = [],\n\t\texcludedKeys = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\n\n\t\tcolumns.forEach((column) => {\n\t\t\tvar defStore = {},\n\t\t\tcolDef = column.getDefinition(),\n\t\t\tkeys;\n\n\t\t\tif(column.isGroup){\n\t\t\t\tdefStore.title = colDef.title;\n\t\t\t\tdefStore.columns = this.parseColumns(column.getColumns());\n\t\t\t}else{\n\t\t\t\tdefStore.field = column.getField();\n\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(colDef);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t\tkeys.push(\"visible\");\n\t\t\t\t}else{\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tswitch(key){\n\t\t\t\t\t\tcase \"width\":\n\t\t\t\t\t\t\tdefStore.width = column.getWidth();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"visible\":\n\t\t\t\t\t\t\tdefStore.visible = column.visible;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(typeof colDef[key] !== \"function\" && excludedKeys.indexOf(key) === -1){\n\t\t\t\t\t\t\t\tdefStore[key] = colDef[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdefinitions.push(defStore);\n\t\t});\n\n\t\treturn definitions;\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class Popup extends Module{\n\t\n\tstatic moduleName = \"popup\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"rowContextPopup\", false);\n\t\tthis.registerTableOption(\"rowClickPopup\", false);\n\t\tthis.registerTableOption(\"rowDblClickPopup\", false);\n\t\tthis.registerTableOption(\"groupContextPopup\", false);\n\t\tthis.registerTableOption(\"groupClickPopup\", false);\n\t\tthis.registerTableOption(\"groupDblClickPopup\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextPopup\");\n\t\tthis.registerColumnOption(\"headerClickPopup\");\n\t\tthis.registerColumnOption(\"headerDblClickPopup\");\n\t\tthis.registerColumnOption(\"headerPopup\");\n\t\tthis.registerColumnOption(\"headerPopupIcon\");\n\t\tthis.registerColumnOption(\"contextPopup\");\n\t\tthis.registerColumnOption(\"clickPopup\");\n\t\tthis.registerColumnOption(\"dblClickPopup\");\n\n\t\tthis.registerComponentFunction(\"cell\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"group\", \"popup\", this._componentPopupCall.bind(this));\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\t_componentPopupCall(component, contents, position){\n\t\tthis.loadPopupEvent(contents, null, component, position);\n\t}\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextPopup){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickPopup){\n\t\t\tthis.subscribe(\"row-click\", this.loadPopupEvent.bind(this, this.table.options.rowClickPopup));\n\t\t}\n\n\t\tif(this.table.options.rowDblClickPopup){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadPopupEvent.bind(this, this.table.options.rowDblClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextPopup){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickPopup){\n\t\t\tthis.subscribe(\"group-click\", this.loadPopupEvent.bind(this, this.table.options.groupClickPopup));\n\t\t}\n\n\t\tif(this.table.options.groupDblClickPopup){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadPopupEvent.bind(this, this.table.options.groupDblClickPopup));\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextPopup && !this.columnSubscribers.headerContextPopup){\n\t\t\tthis.columnSubscribers.headerContextPopup = this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextPopup);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickPopup && !this.columnSubscribers.headerClickPopup){\n\t\t\tthis.columnSubscribers.headerClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerClickPopup\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickPopup);\n\t\t\n\t\t\n\t\t}if(def.headerDblClickPopup && !this.columnSubscribers.headerDblClickPopup){\n\t\t\tthis.columnSubscribers.headerDblClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerDblClickPopup\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickPopup);\n\t\t}\n\t\t\n\t\tif(def.headerPopup){\n\t\t\tthis.initializeColumnHeaderPopup(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextPopup && !this.columnSubscribers.contextPopup){\n\t\t\tthis.columnSubscribers.contextPopup = this.loadPopupTableCellEvent.bind(this, \"contextPopup\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextPopup);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadPopupTableCellEvent.bind(this, \"contextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.clickPopup && !this.columnSubscribers.clickPopup){\n\t\t\tthis.columnSubscribers.clickPopup = this.loadPopupTableCellEvent.bind(this, \"clickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickPopup);\n\t\t}\n\n\t\tif(def.dblClickPopup && !this.columnSubscribers.dblClickPopup){\n\t\t\tthis.columnSubscribers.dblClickPopup = this.loadPopupTableCellEvent.bind(this, \"dblClickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.dblClickPopup);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderPopup(column){\n\t\tvar icon = column.definition.headerPopupIcon,\n\t\theaderPopupEl;\n\t\t\n\t\theaderPopupEl = document.createElement(\"span\");\n\t\theaderPopupEl.classList.add(\"tabulator-header-popup-button\");\n\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderPopupEl.appendChild(icon);\n\t\t\t}else{\n\t\t\t\theaderPopupEl.innerHTML = icon;\n\t\t\t}\n\t\t}else{\n\t\t\theaderPopupEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderPopupEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadPopupEvent(column.definition.headerPopup, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerPopupEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadPopupTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadPopupEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadPopupTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadPopupEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadPopupEvent(contents, e, component, position){\n\t\tvar renderedCallback;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tcontents = typeof contents == \"function\" ? contents.call(this.table, e, component.getComponent(),  onRendered) : contents;\n\t\t\n\t\tthis.loadPopup(e, component, contents, renderedCallback, position);\n\t}\n\t\n\tloadPopup(e, component, contents, renderedCallback, position){\n\t\tvar touch = !(e instanceof MouseEvent),\n\t\tcontentsEl, popup;\n\t\t\n\t\tif(contents instanceof HTMLElement){\n\t\t\tcontentsEl = contents;\n\t\t}else{\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\tcontentsEl.innerHTML = contents;\n\t\t}\n\t\t\n\t\tcontentsEl.classList.add(\"tabulator-popup\");\n\n\t\tcontentsEl.addEventListener(\"click\", (e) =>{\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\tpopup = this.popup(contentsEl);\n\n\t\tif(typeof renderedCallback === \"function\"){\n\t\t\tpopup.renderCallback(renderedCallback);\n\t\t}\n\n\t\tif(e){\n\t\t\tpopup.show(e);\n\t\t}else{\n\t\t\tpopup.show(component.getElement(), position || \"center\");\n\t\t}\n\n\t\t\n\t\tpopup.hideOnBlur(() => {\n\t\t\tthis.dispatchExternal(\"popupClosed\", component.getComponent());\n\t\t});\n\n\t\tthis.dispatchExternal(\"popupOpened\", component.getComponent());\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class Print extends Module{\n\n\tstatic moduleName = \"print\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.element = false;\n\t\tthis.manualBlock = false;\n\t\tthis.beforeprintEventHandler = null;\n\t\tthis.afterprintEventHandler = null;\n\n\t\tthis.registerTableOption(\"printAsHtml\", false); //enable print as html\n\t\tthis.registerTableOption(\"printFormatter\", false); //printing page formatter\n\t\tthis.registerTableOption(\"printHeader\", false); //page header contents\n\t\tthis.registerTableOption(\"printFooter\", false); //page footer contents\n\t\tthis.registerTableOption(\"printStyled\", true); //enable print as html styling\n\t\tthis.registerTableOption(\"printRowRange\", \"visible\"); //restrict print to visible rows only\n\t\tthis.registerTableOption(\"printConfig\", {}); //print config options\n\n\t\tthis.registerColumnOption(\"print\");\n\t\tthis.registerColumnOption(\"titlePrint\");\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\tthis.beforeprintEventHandler = this.replaceTable.bind(this);\n\t\t\tthis.afterprintEventHandler = this.cleanup.bind(this);\n\n\t\t\twindow.addEventListener(\"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.addEventListener(\"afterprint\", this.afterprintEventHandler);\n\t\t\tthis.subscribe(\"table-destroy\", this.destroy.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"print\", this.printFullscreen.bind(this));\n\t}\n\n\tdestroy(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\twindow.removeEventListener( \"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.removeEventListener( \"afterprint\", this.afterprintEventHandler );\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\treplaceTable(){\n\t\tif(!this.manualBlock){\n\t\t\tthis.element = document.createElement(\"div\");\n\t\t\tthis.element.classList.add(\"tabulator-print-table\");\n\n\t\t\tthis.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\"));\n\n\t\t\tthis.table.element.style.display = \"none\";\n\n\t\t\tthis.table.element.parentNode.insertBefore(this.element, this.table.element);\n\t\t}\n\t}\n\n\tcleanup(){\n\t\tdocument.body.classList.remove(\"tabulator-print-fullscreen-hide\");\n\n\t\tif(this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\tthis.table.element.style.display = \"\";\n\t\t}\n\t}\n\n\tprintFullscreen(visible, style, config){\n\t\tvar scrollX = window.scrollX,\n\t\tscrollY = window.scrollY,\n\t\theaderEl = document.createElement(\"div\"),\n\t\tfooterEl = document.createElement(\"div\"),\n\t\ttableEl = this.table.modules.export.generateTable(typeof config != \"undefined\" ? config : this.table.options.printConfig, typeof style != \"undefined\" ? style : this.table.options.printStyled, visible || this.table.options.printRowRange, \"print\"),\n\t\theaderContent, footerContent;\n\n\t\tthis.manualBlock = true;\n\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-print-fullscreen\");\n\n\t\tif(this.table.options.printHeader){\n\t\t\theaderEl.classList.add(\"tabulator-print-header\");\n\n\t\t\theaderContent = typeof this.table.options.printHeader == \"function\" ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader;\n\n\t\t\tif(typeof headerContent == \"string\"){\n\t\t\t\theaderEl.innerHTML = headerContent;\n\t\t\t}else{\n\t\t\t\theaderEl.appendChild(headerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(headerEl);\n\t\t}\n\n\t\tthis.element.appendChild(tableEl);\n\n\t\tif(this.table.options.printFooter){\n\t\t\tfooterEl.classList.add(\"tabulator-print-footer\");\n\n\t\t\tfooterContent = typeof this.table.options.printFooter == \"function\" ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter;\n\n\n\t\t\tif(typeof footerContent == \"string\"){\n\t\t\t\tfooterEl.innerHTML = footerContent;\n\t\t\t}else{\n\t\t\t\tfooterEl.appendChild(footerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(footerEl);\n\t\t}\n\n\t\tdocument.body.classList.add(\"tabulator-print-fullscreen-hide\");\n\t\tdocument.body.appendChild(this.element);\n\n\t\tif(this.table.options.printFormatter){\n\t\t\tthis.table.options.printFormatter(this.element, tableEl);\n\t\t}\n\n\t\twindow.print();\n\n\t\tthis.cleanup();\n\n\t\twindow.scrollTo(scrollX, scrollY);\n\n\t\tthis.manualBlock = false;\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class ReactiveData extends Module{\n\n\tstatic moduleName = \"reactiveData\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.data = false;\n\t\tthis.blocked = false; //block reactivity while performing update\n\t\tthis.origFuncs = {}; // hold original data array functions to allow replacement after data is done with\n\t\tthis.currentVersion = 0;\n\t\t\n\t\tthis.registerTableOption(\"reactiveData\", false); //enable data reactivity\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.reactiveData){\n\t\t\tthis.subscribe(\"cell-value-save-before\", this.block.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"cell-value-save-after\", this.unblock.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"row-data-save-before\", this.block.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-save-after\", this.unblock.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-init-after\", this.watchRow.bind(this));\n\t\t\tthis.subscribe(\"data-processing\", this.watchData.bind(this));\n\t\t\tthis.subscribe(\"table-destroy\", this.unwatchData.bind(this));\n\t\t}\n\t}\n\t\n\twatchData(data){\n\t\tvar self = this,\n\t\tversion;\n\t\t\n\t\tthis.currentVersion ++;\n\t\t\n\t\tversion = this.currentVersion;\n\t\t\n\t\tthis.unwatchData();\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\t//override array push function\n\t\tthis.origFuncs.push = data.push;\n\t\t\n\t\tObject.defineProperty(this.data, \"push\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\t\n\t\t\t\t\tself.block(\"data-push\");\n\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, false);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.push.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-push\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array unshift function\n\t\tthis.origFuncs.unshift = data.unshift;\n\t\t\n\t\tObject.defineProperty(this.data, \"unshift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-unshift\");\n\t\t\t\t\t\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, true);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.unshift.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-unshift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array shift function\n\t\tthis.origFuncs.shift = data.shift;\n\t\t\n\t\tObject.defineProperty(this.data, \"shift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-shift\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[0]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.shift.call(data);\n\n\t\t\t\t\tself.unblock(\"data-shift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array pop function\n\t\tthis.origFuncs.pop = data.pop;\n\t\t\n\t\tObject.defineProperty(this.data, \"pop\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-pop\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[self.data.length - 1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.pop.call(data);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-pop\");\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array splice function\n\t\tthis.origFuncs.splice = data.splice;\n\t\t\n\t\tObject.defineProperty(this.data, \"splice\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tstart = args[0] < 0 ? data.length + args[0] : args[0],\n\t\t\t\tend = args[1],\n\t\t\t\tnewRows = args[2] ? args.slice(2) : false,\n\t\t\t\tstartRow, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-splice\");\n\t\t\t\t\t//add new rows\n\t\t\t\t\tif(newRows){\n\t\t\t\t\t\tstartRow = data[start] ? self.table.rowManager.getRowFromDataObject(data[start]) : false;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(startRow){\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, startRow, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnewRows = newRows.slice().reverse();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, false, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//delete removed rows\n\t\t\t\t\tif(end !== 0){\n\t\t\t\t\t\tvar oldRows = data.slice(start, typeof args[1] === \"undefined\" ? args[1] : start + end);\n\t\t\t\t\t\t\n\t\t\t\t\t\toldRows.forEach((rowData, i) => {\n\t\t\t\t\t\t\tvar row = self.table.rowManager.getRowFromDataObject(rowData);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\t\trow.deleteActual(i !== oldRows.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(newRows || end !== 0){\n\t\t\t\t\t\tself.table.rowManager.reRenderInPosition();\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.splice.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-splice\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result ;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchData(){\n\t\tif(this.data !== false){\n\t\t\tfor(var key in this.origFuncs){\n\t\t\t\tObject.defineProperty(this.data, key, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable:true,\n\t\t\t\t\twritable:true,\n\t\t\t\t\tvalue: this.origFuncs.key,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\twatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tthis.watchKey(row, data, key);\n\t\t}\n\t\t\n\t\tif(this.table.options.dataTree){\n\t\t\tthis.watchTreeChildren(row);\n\t\t}\n\t}\n\t\n\twatchTreeChildren (row){\n\t\tvar self = this,\n\t\tchildField = row.getData()[this.table.options.dataTreeChildField],\n\t\torigFuncs = {};\n\t\t\n\t\tif(childField){\n\t\t\t\n\t\t\torigFuncs.push = childField.push;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"push\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-push\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result = origFuncs.push.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-push\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.unshift = childField.unshift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"unshift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-unshift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.unshift.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-unshift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.shift = childField.shift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"shift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-shift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.shift.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-shift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.pop = childField.pop;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"pop\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-pop\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.pop.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-pop\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.splice = childField.splice;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"splice\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-splice\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.splice.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-splice\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\trebuildTree(row){\n\t\tthis.table.modules.dataTree.initializeRow(row);\n\t\tthis.table.modules.dataTree.layoutRow(row);\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n\t}\n\t\n\twatchKey(row, data, key){\n\t\tvar self = this,\n\t\tprops = Object.getOwnPropertyDescriptor(data, key),\n\t\tvalue = data[key],\n\t\tversion = this.currentVersion;\n\t\t\n\t\tObject.defineProperty(data, key, {\n\t\t\tset: (newValue) => {\n\t\t\t\tvalue = newValue;\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"key\");\n\t\t\t\t\t\n\t\t\t\t\tvar update = {};\n\t\t\t\t\tupdate[key] = newValue;\n\t\t\t\t\trow.updateData(update);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"key\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(props.set){\n\t\t\t\t\tprops.set(newValue);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget:() => {\n\t\t\t\t\n\t\t\t\tif(props.get){\n\t\t\t\t\tprops.get();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn value;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tObject.defineProperty(data, key, {\n\t\t\t\tvalue:data[key],\n\t\t\t});\n\t\t}\n\t}\n\t\n\tblock(key){\n\t\tif(!this.blocked){\n\t\t\tthis.blocked = key;\n\t\t}\n\t}\n\t\n\tunblock(key){\n\t\tif(this.blocked === key){\n\t\t\tthis.blocked = false;\n\t\t}\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class ResizeColumns extends Module{\n\n\tstatic moduleName = \"resizeColumns\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.startColumn = false;\n\t\tthis.startX = false;\n\t\tthis.startWidth = false;\n\t\tthis.latestX = false;\n\t\tthis.handle = null;\n\t\tthis.initialNextColumn = null;\n\t\tthis.nextColumn = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.registerColumnOption(\"resizable\", true);\n\t\tthis.registerTableOption(\"resizableColumnFit\", false);\n\t\tthis.registerTableOption(\"resizableColumnGuide\", false);\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-rendered\", this.layoutColumnHeader.bind(this));\n\t}\n\t\n\tinitializeEventWatchers(){\n\t\tif(!this.initialized){\n\t\t\t\n\t\t\tthis.subscribe(\"cell-rendered\", this.layoutCellHandles.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.deInitializeComponent.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"cell-height\", this.resizeHandle.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.columnLayoutUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-hide\", this.deInitializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.columnLayoutUpdated.bind(this));\n\t\t\tthis.subscribe(\"column-width\", this.columnWidthUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-delete\", this.deInitializeComponent.bind(this));\n\t\t\tthis.subscribe(\"column-height\", this.resizeHandle.bind(this));\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t\n\tlayoutCellHandles(cell){\n\t\tif(cell.row.type === \"row\"){\n\t\t\tthis.deInitializeComponent(cell);\n\t\t\tthis.initializeColumn(\"cell\", cell, cell.column, cell.element);\n\t\t}\n\t}\n\t\n\tlayoutColumnHeader(column){\n\t\tif(column.definition.resizable){\n\t\t\tthis.initializeEventWatchers();\n\t\t\tthis.deInitializeComponent(column);\n\t\t\tthis.initializeColumn(\"header\", column, column, column.element);\n\t\t}\n\t}\n\t\n\tcolumnLayoutUpdated(column){\n\t\tvar prev = column.prevColumn();\n\t\t\n\t\tthis.reinitializeColumn(column);\n\t\t\n\t\tif(prev){\n\t\t\tthis.reinitializeColumn(prev);\n\t\t}\n\t}\n\t\n\tcolumnWidthUpdated(column){\n\t\tif(column.modules.frozen){\n\t\t\tif(this.table.modules.frozenColumns.leftColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}else if(this.table.modules.frozenColumns.rightColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfrozenColumnOffset(column){\n\t\tvar offset = false;\n\n\t\tif(column.modules.frozen){\n\t\t\toffset = column.modules.frozen.marginValue; \n\n\t\t\tif(column.modules.frozen.position === \"left\"){\n\t\t\t\toffset += column.getWidth() - 3;\n\t\t\t}else{\n\t\t\t\tif(offset){\n\t\t\t\t\toffset -= 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn offset !== false ? offset + \"px\" : false;\n\t}\n\t\n\treinitializeColumn(column){\n\t\tvar frozenOffset = this.frozenColumnOffset(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(cell.modules.resize && cell.modules.resize.handleEl){\n\t\t\t\tif(frozenOffset){\n\t\t\t\t\tcell.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t\t\tcell.modules.resize.handleEl.style[\"z-index\"] = 11;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.element.after(cell.modules.resize.handleEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(column.modules.resize && column.modules.resize.handleEl){\n\t\t\tif(frozenOffset){\n\t\t\t\tcolumn.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.element.after(column.modules.resize.handleEl);\n\t\t}\n\t}\n\t\n\tinitializeColumn(type, component, column, element){\n\t\tvar self = this,\n\t\tvariableHeight = false,\n\t\tmode = column.definition.resizable,\n\t\tconfig = {},\n\t\tnearestColumn = column.getLastColumn();\n\t\t\n\t\t//set column resize mode\n\t\tif(type === \"header\"){\n\t\t\tvariableHeight = column.definition.formatter == \"textarea\" || column.definition.variableHeight;\n\t\t\tconfig = {variableHeight:variableHeight};\n\t\t}\n\t\t\n\t\tif((mode === true || mode == type) && this._checkResizability(nearestColumn)){\n\t\t\t\n\t\t\tvar handle = document.createElement('span');\n\t\t\thandle.className = \"tabulator-col-resize-handle\";\n\t\t\t\n\t\t\thandle.addEventListener(\"click\", function(e){\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\tvar handleDown = function(e){\n\t\t\t\tself.startColumn = column;\n\t\t\t\tself.initialNextColumn = self.nextColumn = nearestColumn.nextColumn();\n\t\t\t\tself._mouseDown(e, nearestColumn, handle);\n\t\t\t};\n\t\t\t\n\t\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\t\t\t\n\t\t\t//resize column on  double click\n\t\t\thandle.addEventListener(\"dblclick\", (e) => {\n\t\t\t\tvar oldWidth = nearestColumn.getWidth();\n\t\t\t\t\n\t\t\t\te.stopPropagation();\n\t\t\t\tnearestColumn.reinitializeWidth(true);\n\t\t\t\t\n\t\t\t\tif(oldWidth !== nearestColumn.getWidth()){\n\t\t\t\t\tself.dispatch(\"column-resized\", nearestColumn);\n\t\t\t\t\tself.dispatchExternal(\"columnResized\", nearestColumn.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(column.modules.frozen){\n\t\t\t\thandle.style.position = \"sticky\";\n\t\t\t\thandle.style[column.modules.frozen.position] = this.frozenColumnOffset(column);\n\t\t\t}\n\t\t\t\n\t\t\tconfig.handleEl = handle;\n\t\t\t\n\t\t\tif(element.parentNode && column.visible){\n\t\t\t\telement.after(handle);\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponent.modules.resize = config;\n\t}\n\t\n\tdeInitializeColumn(column){\n\t\tthis.deInitializeComponent(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tthis.deInitializeComponent(cell);\n\t\t});\n\t}\n\t\n\tdeInitializeComponent(component){\n\t\tvar handleEl;\n\t\t\n\t\tif(component.modules.resize){\n\t\t\thandleEl = component.modules.resize.handleEl;\n\t\t\t\n\t\t\tif(handleEl && handleEl.parentElement){\n\t\t\t\thandleEl.parentElement.removeChild(handleEl);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tresizeHandle(component, height){\n\t\tif(component.modules.resize && component.modules.resize.handleEl){\n\t\t\tcomponent.modules.resize.handleEl.style.height = height;\n\t\t}\n\t}\n\t\n\tresize(e, column){\n\t\tvar x = typeof e.clientX === \"undefined\" ? e.touches[0].clientX : e.clientX,\n\t\tstartDiff = x - this.startX,\n\t\tmoveDiff = x - this.latestX,\n\t\tblockedBefore, blockedAfter;\n\n\t\tthis.latestX = x;\n\n\t\tif(this.table.rtl){\n\t\t\tstartDiff = -startDiff;\n\t\t\tmoveDiff = -moveDiff;\n\t\t}\n\n\t\tblockedBefore = column.width == column.minWidth || column.width == column.maxWidth;\n\n\t\tcolumn.setWidth(this.startWidth + startDiff);\n\n\t\tblockedAfter = column.width == column.minWidth || column.width == column.maxWidth;\n\n\t\tif(moveDiff < 0){\n\t\t\tthis.nextColumn = this.initialNextColumn;\n\t\t}\n\n\t\tif(this.table.options.resizableColumnFit && this.nextColumn && !(blockedBefore && blockedAfter)){\n\t\t\tlet colWidth = this.nextColumn.getWidth();\n\n\t\t\tif(moveDiff > 0){\n\t\t\t\tif(colWidth <= this.nextColumn.minWidth){\n\t\t\t\t\tthis.nextColumn = this.nextColumn.nextColumn();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.nextColumn){\n\t\t\t\tthis.nextColumn.setWidth(this.nextColumn.getWidth() - moveDiff);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.columnManager.rerenderColumns(true);\n\n\t\tif(!this.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\tcolumn.checkCellHeights();\n\t\t}\n\t}\n\n\tcalcGuidePosition(e, column, handle) {\n\t\tvar mouseX = typeof e.clientX === \"undefined\" ? e.touches[0].clientX : e.clientX,\n\t\thandleX = handle.getBoundingClientRect().x - this.table.element.getBoundingClientRect().x,\n\t\ttableX = this.table.element.getBoundingClientRect().x,\n\t\tcolumnX = column.element.getBoundingClientRect().left - tableX,\n\t\tmouseDiff = mouseX - this.startX,\n\t\tpos = Math.max(handleX + mouseDiff, columnX + column.minWidth);\n\n\t\tif(column.maxWidth){\n\t\t\tpos = Math.min(pos, columnX + column.maxWidth);\n\t\t}\n\n\t\treturn pos;\n\t}\n\n\t_checkResizability(column){\n\t\treturn column.definition.resizable;\n\t}\n\t\n\t_mouseDown(e, column, handle){\n\t\tvar self = this,\n\t\tguideEl;\n\n\t\tthis.dispatchExternal(\"columnResizing\", column.getComponent());\n\n\t\tif(self.table.options.resizableColumnGuide){\n\t\t\tguideEl = document.createElement(\"span\");\n\t\t\tguideEl.classList.add('tabulator-col-resize-guide');\n\t\t\tself.table.element.appendChild(guideEl);\n\t\t\tsetTimeout(() => {\n\t\t\t\tguideEl.style.left = self.calcGuidePosition(e, column, handle) + \"px\";\n\t\t\t});\n\t\t}\n\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\t\tfunction mouseMove(e){\n\t\t\tif(self.table.options.resizableColumnGuide){\n\t\t\t\tguideEl.style.left = self.calcGuidePosition(e, column, handle) + \"px\";\n\t\t\t}else{\n\t\t\t\tself.resize(e, column);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction mouseUp(e){\n\t\t\tif(self.table.options.resizableColumnGuide){\n\t\t\t\tself.resize(e, column);\n\t\t\t\tguideEl.remove();\n\t\t\t}\n\t\t\t\n\t\t\t//block editor from taking action while resizing is taking place\n\t\t\tif(self.startColumn.modules.edit){\n\t\t\t\tself.startColumn.modules.edit.blocked = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseUp);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\t\t\t\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\t\t\t\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(self.startWidth !== column.getWidth()){\n\t\t\t\tself.table.columnManager.verticalAlignHeaders();\n\n\t\t\t\tself.dispatch(\"column-resized\", column);\n\t\t\t\tself.dispatchExternal(\"columnResized\", column.getComponent());\n\t\t\t}\n\t\t}\n\t\t\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\t\t\n\t\t//block editor from taking action while resizing is taking place\n\t\tif(self.startColumn.modules.edit){\n\t\t\tself.startColumn.modules.edit.blocked = true;\n\t\t}\n\t\t\n\t\tself.startX = typeof e.clientX === \"undefined\" ? e.touches[0].clientX : e.clientX;\n\t\tself.latestX = self.startX;\n\t\tself.startWidth = column.getWidth();\n\t\t\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class ResizeRows extends Module{\n\n\tstatic moduleName = \"resizeRows\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.startColumn = false;\n\t\tthis.startY = false;\n\t\tthis.startHeight = false;\n\t\tthis.handle = null;\n\t\tthis.prevHandle = null;\n\n\t\tthis.registerTableOption(\"resizableRows\", false); //resizable rows\n\t\tthis.registerTableOption(\"resizableRowGuide\", false);\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.resizableRows){\n\t\t\tthis.subscribe(\"row-layout-after\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\trowEl = row.getElement();\n\n\t\tvar handle = document.createElement('div');\n\t\thandle.className = \"tabulator-row-resize-handle\";\n\n\t\tvar prevHandle = document.createElement('div');\n\t\tprevHandle.className = \"tabulator-row-resize-handle prev\";\n\n\t\thandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar handleDown = function(e){\n\t\t\tself.startRow = row;\n\t\t\tself._mouseDown(e, row, handle);\n\t\t};\n\n\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\n\t\tprevHandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar prevHandleDown =  function(e){\n\t\t\tvar prevRow = self.table.rowManager.prevDisplayRow(row);\n\n\t\t\tif(prevRow){\n\t\t\t\tself.startRow = prevRow;\n\t\t\t\tself._mouseDown(e, prevRow, prevHandle);\n\t\t\t}\n\t\t};\n\n\t\tprevHandle.addEventListener(\"mousedown\",prevHandleDown);\n\t\tprevHandle.addEventListener(\"touchstart\",prevHandleDown, {passive: true});\n\n\t\trowEl.appendChild(handle);\n\t\trowEl.appendChild(prevHandle);\n\t}\n\n\tresize(e, row) {\n\t\trow.setHeight(this.startHeight + ((typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY) - this.startY));\n\t}\n\n\tcalcGuidePosition(e, row, handle) {\n\t\tvar mouseY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY,\n\t\thandleY = handle.getBoundingClientRect().y - this.table.element.getBoundingClientRect().y,\n\t\ttableY = this.table.element.getBoundingClientRect().y,\n\t\trowY = row.element.getBoundingClientRect().top - tableY,\n\t\tmouseDiff = mouseY - this.startY;\n\n\t\treturn Math.max(handleY + mouseDiff, rowY);\n\t}\n\n\t_mouseDown(e, row, handle){\n\t\tvar self = this,\n\t\tguideEl;\n\n\t\tself.dispatchExternal(\"rowResizing\", row.getComponent());\n\n\t\tif(self.table.options.resizableRowGuide){\n\t\t\tguideEl = document.createElement(\"span\");\n\t\t\tguideEl.classList.add('tabulator-row-resize-guide');\n\t\t\tself.table.element.appendChild(guideEl);\n\t\t\tsetTimeout(() => {\n\t\t\t\tguideEl.style.top = self.calcGuidePosition(e, row, handle) + \"px\";\n\t\t\t});\n\t\t}\n\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\t\tfunction mouseMove(e){\n\t\t\tif(self.table.options.resizableRowGuide){\n\t\t\t\tguideEl.style.top = self.calcGuidePosition(e, row, handle) + \"px\";\n\t\t\t}else{\n\t\t\t\tself.resize(e, row);\n\t\t\t}\n\t\t}\n\n\t\tfunction mouseUp(e){\n\t\t\tif(self.table.options.resizableRowGuide){\n\t\t\t\tself.resize(e, row);\n\t\t\t\tguideEl.remove();\n\t\t\t}\n\n\t\t\t// //block editor from taking action while resizing is taking place\n\t\t\t// if(self.startColumn.modules.edit){\n\t\t\t// \tself.startColumn.modules.edit.blocked = false;\n\t\t\t// }\n\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseMove);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tself.dispatchExternal(\"rowResized\", row.getComponent());\n\t\t}\n\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\n\t\t//block editor from taking action while resizing is taking place\n\t\t// if(self.startColumn.modules.edit){\n\t\t// \tself.startColumn.modules.edit.blocked = true;\n\t\t// }\n\n\t\tself.startY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY;\n\t\tself.startHeight = row.getHeight();\n\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class ResizeTable extends Module{\n\n\tstatic moduleName = \"resizeTable\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.binding = false;\n\t\tthis.visibilityObserver = false;\n\t\tthis.resizeObserver = false;\n\t\tthis.containerObserver = false;\n\t\t\n\t\tthis.tableHeight = 0;\n\t\tthis.tableWidth = 0;\n\t\tthis.containerHeight = 0;\n\t\tthis.containerWidth = 0;\n\t\t\n\t\tthis.autoResize = false;\n\t\t\n\t\tthis.visible = false;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.initialRedraw = false;\n\t\t\n\t\tthis.registerTableOption(\"autoResize\", true); //auto resize table\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.autoResize){\n\t\t\tvar table = this.table,\n\t\t\ttableStyle;\n\t\t\t\n\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\n\t\t\tif(table.element.parentNode){\n\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof IntersectionObserver !== \"undefined\" && typeof ResizeObserver !== \"undefined\" && table.rowManager.getRenderMode() === \"virtual\"){\n\t\t\t\t\n\t\t\t\tthis.initializeVisibilityObserver();\n\t\t\t\t\n\t\t\t\tthis.autoResize = true;\n\t\t\t\t\n\t\t\t\tthis.resizeObserver = new ResizeObserver((entry) => {\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && (!table.modules.edit || (table.modules.edit && !table.modules.edit.currentCell)))){\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.tableHeight != nodeHeight || this.tableWidth != nodeWidth){\n\t\t\t\t\t\t\tthis.tableHeight = nodeHeight;\n\t\t\t\t\t\t\tthis.tableWidth = nodeWidth;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(table.element.parentNode){\n\t\t\t\t\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.resizeObserver.observe(table.element);\n\t\t\t\t\n\t\t\t\ttableStyle = window.getComputedStyle(table.element);\n\t\t\t\t\n\t\t\t\tif(this.table.element.parentNode && !this.table.rowManager.fixedHeight && (tableStyle.getPropertyValue(\"max-height\") || tableStyle.getPropertyValue(\"min-height\"))){\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver = new ResizeObserver((entry) => {\n\t\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && (!table.modules.edit || (table.modules.edit && !table.modules.edit.currentCell)))){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(this.containerHeight != nodeHeight || this.containerWidth != nodeWidth){\n\t\t\t\t\t\t\t\tthis.containerHeight = nodeHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = nodeWidth;\n\t\t\t\t\t\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\t\t\t\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver.observe(this.table.element.parentNode);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.subscribe(\"table-resize\", this.tableResized.bind(this));\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.binding = function(){\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && (!table.modules.edit || (table.modules.edit && !table.modules.edit.currentCell)))){\n\t\t\t\t\t\ttable.columnManager.rerenderColumns(true);\n\t\t\t\t\t\ttable.redraw();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\twindow.addEventListener(\"resize\", this.binding);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeVisibilityObserver(){\n\t\tthis.visibilityObserver = new IntersectionObserver((entries) => {\n\t\t\tthis.visible = entries[0].isIntersecting;\n\t\t\t\n\t\t\tif(!this.initialized){\n\t\t\t\tthis.initialized = true;\n\t\t\t\tthis.initialRedraw = !this.visible;\n\t\t\t}else{\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.redrawTable(this.initialRedraw);\n\t\t\t\t\tthis.initialRedraw = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.visibilityObserver.observe(this.table.element);\n\t}\n\t\n\tredrawTable(force){\n\t\tif(this.initialized && this.visible){\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\t\t\tthis.table.redraw(force);\n\t\t}\n\t}\n\t\n\ttableResized(){\n\t\tthis.table.rowManager.redraw();\n\t}\n\t\n\tclearBindings(){\n\t\tif(this.binding){\n\t\t\twindow.removeEventListener(\"resize\", this.binding);\n\t\t}\n\t\t\n\t\tif(this.resizeObserver){\n\t\t\tthis.resizeObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.visibilityObserver){\n\t\t\tthis.visibilityObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.containerObserver){\n\t\t\tthis.containerObserver.unobserve(this.table.element.parentNode);\n\t\t}\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"div\"),\n\tconfig = cell.getRow()._row.modules.responsiveLayout;\n\n\tel.classList.add(\"tabulator-responsive-collapse-toggle\");\n\t\n\tel.innerHTML = `<svg class='tabulator-responsive-collapse-toggle-open' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n  <line y1=\"7\" x1=\"12\" y2=\"17\" x2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>\n\n<svg class='tabulator-responsive-collapse-toggle-close' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\"  fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>`;\n\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\n\tfunction toggleList(isOpen){\n\t\tvar collapseEl = config.element;\n\n\t\tconfig.open = isOpen;\n\n\t\tif(collapseEl){\n\n\t\t\tif(config.open){\n\t\t\t\tel.classList.add(\"open\");\n\t\t\t\tcollapseEl.style.display = '';\n\t\t\t}else{\n\t\t\t\tel.classList.remove(\"open\");\n\t\t\t\tcollapseEl.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tel.addEventListener(\"click\", function(e){\n\t\te.stopImmediatePropagation();\n\t\ttoggleList(!config.open);\n\t\tcell.getTable().rowManager.adjustTableSize();\n\t});\n\n\ttoggleList(config.open);\n\n\treturn el;\n}","import responsiveCollapse from './formatters/responsiveCollapse.js';\r\n\r\nexport default {\r\n\tformat:{\r\n\t\tformatters:{\r\n\t\t\tresponsiveCollapse:responsiveCollapse,\r\n\t\t}\r\n\t}\r\n};","import Module from '../../core/Module.js';\nimport extensions from './extensions/extensions.js';\n\nexport default class ResponsiveLayout extends Module{\n\n\tstatic moduleName = \"responsiveLayout\";\n\tstatic moduleExtensions = extensions;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.columns = [];\n\t\tthis.hiddenColumns = [];\n\t\tthis.mode = \"\";\n\t\tthis.index = 0;\n\t\tthis.collapseFormatter = [];\n\t\tthis.collapseStartOpen = true;\n\t\tthis.collapseHandleColumn = false;\n\n\t\tthis.registerTableOption(\"responsiveLayout\", false); //responsive layout flags\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseStartOpen\", true); //start showing collapsed data\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseUseFormatters\", true); //responsive layout collapse formatter\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseFormatter\", false); //responsive layout collapse formatter\n\n\t\tthis.registerColumnOption(\"responsive\");\n\t}\n\n\t//generate responsive columns list\n\tinitialize(){\n\t\tif(this.table.options.responsiveLayout){\n\t\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"columns-loaded\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-add\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-delete\", this.initializeResponsivity.bind(this));\n\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedraw.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.responsiveLayout === \"collapse\"){\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.generateCollapsedRowContent.bind(this));\n\t\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\t\tthis.subscribe(\"row-layout\", this.layoutRow.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\ttableRedraw(force){\n\t\tif([\"fitColumns\", \"fitDataStretch\"].indexOf(this.layoutMode()) === -1){\n\t\t\tif(!force){\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeResponsivity(){\n\t\tvar columns = [];\n\n\t\tthis.mode = this.table.options.responsiveLayout;\n\t\tthis.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData;\n\t\tthis.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen;\n\t\tthis.hiddenColumns = [];\n\n\t\tif(this.collapseFormatter){\n\t\t\tthis.collapseFormatter = this.collapseFormatter.bind(this.table);\n\t\t}\n\n\t\t//determine level of responsivity for each column\n\t\tthis.table.columnManager.columnsByIndex.forEach((column, i) => {\n\t\t\tif(column.modules.responsive){\n\t\t\t\tif(column.modules.responsive.order && column.modules.responsive.visible){\n\t\t\t\t\tcolumn.modules.responsive.index = i;\n\t\t\t\t\tcolumns.push(column);\n\n\t\t\t\t\tif(!column.visible && this.mode === \"collapse\"){\n\t\t\t\t\t\tthis.hiddenColumns.push(column);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//sort list by responsivity\n\t\tcolumns = columns.reverse();\n\t\tcolumns = columns.sort((a, b) => {\n\t\t\tvar diff = b.modules.responsive.order - a.modules.responsive.order;\n\t\t\treturn diff || (b.modules.responsive.index - a.modules.responsive.index);\n\t\t});\n\n\t\tthis.columns = columns;\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.generateCollapsedContent();\n\t\t}\n\n\t\t//assign collapse column\n\t\tfor (let col of this.table.columnManager.columnsByIndex){\n\t\t\tif(col.definition.formatter == \"responsiveCollapse\"){\n\t\t\t\tthis.collapseHandleColumn = col;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(this.collapseHandleColumn){\n\t\t\tif(this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}else{\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//define layout information\n\tinitializeColumn(column){\n\t\tvar def = column.getDefinition();\n\n\t\tcolumn.modules.responsive = {order: typeof def.responsive === \"undefined\" ? 1 : def.responsive, visible:def.visible === false ? false : true};\n\t}\n\n\tinitializeRow(row){\n\t\tvar el;\n\n\t\tif(row.type !== \"calc\"){\n\t\t\tel = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-responsive-collapse\");\n\n\t\t\trow.modules.responsiveLayout = {\n\t\t\t\telement:el,\n\t\t\t\topen:this.collapseStartOpen,\n\t\t\t};\n\n\t\t\tif(!this.collapseStartOpen){\n\t\t\t\tel.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tlayoutRow(row){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\trowEl.appendChild(row.modules.responsiveLayout.element);\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t}\n\t}\n\n\t//update column visibility\n\tupdateColumnVisibility(column, responsiveToggle){\n\t\tif(!responsiveToggle && column.modules.responsive){\n\t\t\tcolumn.modules.responsive.visible = column.visible;\n\t\t\tthis.initializeResponsivity();\n\t\t}\n\t}\n\n\thideColumn(column){\n\t\tvar colCount = this.hiddenColumns.length;\n\n\t\tcolumn.hide(false, true);\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.hiddenColumns.unshift(column);\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !colCount){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}\n\t\t}\n\t}\n\n\tshowColumn(column){\n\t\tvar index;\n\n\t\tcolumn.show(false, true);\n\t\t//set column width to prevent calculation loops on uninitialized columns\n\t\tcolumn.setWidth(column.getWidth());\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tindex = this.hiddenColumns.indexOf(column);\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.hiddenColumns.splice(index, 1);\n\t\t\t}\n\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//redraw columns to fit space\n\tupdate(){\n\t\tvar working = true;\n\n\t\twhile(working){\n\n\t\t\tlet width = this.table.modules.layout.getMode() == \"fitColumns\" ? this.table.columnManager.getFlexBaseWidth() : this.table.columnManager.getWidth();\n\n\t\t\tlet diff = (this.table.options.headerVisible ? this.table.columnManager.element.clientWidth : this.table.element.clientWidth) - width;\n\n\t\t\tif(diff < 0){\n\t\t\t\t//table is too wide\n\t\t\t\tlet column = this.columns[this.index];\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.hideColumn(column);\n\t\t\t\t\tthis.index ++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else{\n\n\t\t\t\t//table has spare space\n\t\t\t\tlet column = this.columns[this.index -1];\n\n\t\t\t\tif(column){\n\t\t\t\t\tif(diff > 0){\n\t\t\t\t\t\tif(diff >= column.getWidth()){\n\t\t\t\t\t\t\tthis.showColumn(column);\n\t\t\t\t\t\t\tthis.index --;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tworking = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!this.table.rowManager.activeRowsCount){\n\t\t\t\tthis.table.rowManager.renderEmptyScroll();\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedContent(){\n\t\tvar rows = this.table.rowManager.getDisplayRows();\n\n\t\trows.forEach((row) => {\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t});\n\t}\n\n\tgenerateCollapsedRowContent(row){\n\t\tvar el, contents;\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\tel = row.modules.responsiveLayout.element;\n\n\t\t\twhile(el.firstChild) el.removeChild(el.firstChild);\n\n\t\t\tcontents = this.collapseFormatter(this.generateCollapsedRowData(row));\n\t\t\tif(contents){\n\t\t\t\tel.appendChild(contents);\n\t\t\t}\n\t\t\trow.calcHeight(true);\n\t\t}\n\t}\n\n\tgenerateCollapsedRowData(row){\n\t\tvar data = row.getData(),\n\t\toutput = [],\n\t\tmockCellComponent;\n\n\t\tthis.hiddenColumns.forEach((column) => {\n\t\t\tvar value = column.getFieldValue(data);\n\n\t\t\tif(column.definition.title && column.field){\n\t\t\t\tif(column.modules.format && this.table.options.responsiveLayoutCollapseUseFormatters){\n\n\t\t\t\t\tmockCellComponent = {\n\t\t\t\t\t\tvalue:false,\n\t\t\t\t\t\tdata:{},\n\t\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\t\treturn document.createElement(\"div\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\t\treturn row.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction onRendered(callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: column.modules.format.formatter.call(this.table.modules.format, mockCellComponent, column.modules.format.params, onRendered)\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tformatCollapsedData(data){\n\t\tvar list = document.createElement(\"table\");\n\n\t\tdata.forEach((item) => {\n\t\t\tvar row = document.createElement(\"tr\");\n\t\t\tvar titleData = document.createElement(\"td\");\n\t\t\tvar valueData = document.createElement(\"td\");\n\t\t\tvar node_content;\n\n\t\t\tvar titleHighlight = document.createElement(\"strong\");\n\t\t\ttitleData.appendChild(titleHighlight);\n\t\t\t\n\t\t\tthis.modules.localize.bind(\"columns|\" + item.field, function(text){\n\t\t\t\ttitleHighlight.innerHTML = text || item.title;\n\t\t\t});\n\n\t\t\tif(item.value instanceof Node){\n\t\t\t\tnode_content = document.createElement(\"div\");\n\t\t\t\tnode_content.appendChild(item.value);\n\t\t\t\tvalueData.appendChild(node_content);\n\t\t\t}else{\n\t\t\t\tvalueData.innerHTML = item.value;\n\t\t\t}\n\n\t\t\trow.appendChild(titleData);\n\t\t\trow.appendChild(valueData);\n\t\t\tlist.appendChild(row);\n\t\t});\n\n\t\treturn Object.keys(data).length ? list : \"\";\n\t}\n}","import RowComponent from '../../../../core/row/RowComponent.js';\n\nexport default function(cell, formatterParams, onRendered){\n\tvar checkbox = document.createElement(\"input\");\n\tvar blocked = false;\n\n\tcheckbox.type = 'checkbox';\n\n\tcheckbox.setAttribute(\"aria-label\", \"Select Row\");\n\t\n\tif(this.table.modExists(\"selectRow\", true)){\n\n\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(typeof cell.getRow == 'function'){\n\t\t\tvar row = cell.getRow();\n\n\t\t\tif(row instanceof RowComponent){\n\n\t\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\t\tif(this.table.options.selectableRowsRangeMode === \"click\"){\n\t\t\t\t\t\tif(!blocked){\n\t\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tblocked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(this.table.options.selectableRowsRangeMode === \"click\"){\n\t\t\t\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\tblocked = true;\n\t\t\t\t\t\tthis.table.modules.selectRow.handleComplexRowClick(row._row, e);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcheckbox.checked = row.isSelected && row.isSelected();\n\t\t\t\tthis.table.modules.selectRow.registerRowSelectCheckbox(row, checkbox);\n\t\t\t}else{\n\t\t\t\tcheckbox = \"\";\n\t\t\t}\n\t\t}else {\n\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\tif(this.table.modules.selectRow.selectedRows.length){\n\t\t\t\t\tthis.table.deselectRow();\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.selectRow(formatterParams.rowRange);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);\n\t\t}\n\t}\n\n\treturn checkbox;\n}","import rowSelection from './formatters/rowSelection.js';\r\n\r\nexport default {\r\n\tformat:{\r\n\t\tformatters:{\r\n\t\t\trowSelection:rowSelection,\r\n\t\t}\r\n\t}\r\n};","import Module from '../../core/Module.js';\nimport extensions from './extensions/extensions.js';\n\nexport default class SelectRow extends Module{\n\n\tstatic moduleName = \"selectRow\";\n\tstatic moduleExtensions = extensions;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = false; //flag selecting in progress\n\t\tthis.lastClickedRow = false; //last clicked row\n\t\tthis.selectPrev = []; //hold previously selected element for drag drop selection\n\t\tthis.selectedRows = []; //hold selected rows\n\t\tthis.headerCheckboxElement = null; // hold header select element\n\t\t\n\t\tthis.registerTableOption(\"selectableRows\", \"highlight\"); //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRowsRangeMode\", \"drag\");  //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRowsRollingSelection\", true); //roll selection once maximum number of selectable rows is reached\n\t\tthis.registerTableOption(\"selectableRowsPersistence\", true); // maintain selection when table view is updated\n\t\tthis.registerTableOption(\"selectableRowsCheck\", function(data, row){return true;}); //check whether row is selectable\n\t\t\n\t\tthis.registerTableFunction(\"selectRow\", this.selectRows.bind(this));\n\t\tthis.registerTableFunction(\"deselectRow\", this.deselectRows.bind(this));\n\t\tthis.registerTableFunction(\"toggleSelectRow\", this.toggleRow.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedRows\", this.getSelectedRows.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedData\", this.getSelectedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"select\", this.selectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"deselect\", this.deselectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"toggleSelect\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isSelected\", this.isRowSelected.bind(this));\n\t}\n\t\n\tinitialize(){\n\n\t\tthis.deprecatedOptionsCheck();\n\n\t\tif(this.table.options.selectableRows === \"highlight\" && this.table.options.selectableRange){\n\t\t\tthis.table.options.selectableRows = false;\n\t\t}\n\n\t\tif(this.table.options.selectableRows !== false){\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clearSelectionData.bind(this));\n\t\t\tthis.subscribe(\"rows-retrieve\", this.rowRetrieve.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.selectableRows && !this.table.options.selectableRowsPersistence){\n\t\t\t\tthis.subscribe(\"data-refreshing\", this.deselectRows.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\tdeprecatedOptionsCheck(){\n\t\t// this.deprecationCheck(\"selectable\", \"selectableRows\", true);\n\t\t// this.deprecationCheck(\"selectableRollingSelection\", \"selectableRowsRollingSelection\", true);\n\t\t// this.deprecationCheck(\"selectableRangeMode\", \"selectableRowsRangeMode\", true);\n\t\t// this.deprecationCheck(\"selectablePersistence\", \"selectableRowsPersistence\", true);\n\t\t// this.deprecationCheck(\"selectableCheck\", \"selectableRowsCheck\", true);\n\t}\n\t\n\trowRetrieve(type, prevValue){\n\t\treturn type === \"selected\" ? this.selectedRows : prevValue;\n\t}\n\t\n\trowDeleted(row){\n\t\tthis._deselectRow(row, true);\n\t}\n\t\n\tclearSelectionData(silent){\n\t\tvar prevSelected = this.selectedRows.length;\n\n\t\tthis.selecting = false;\n\t\tthis.lastClickedRow = false;\n\t\tthis.selectPrev = [];\n\t\tthis.selectedRows = [];\n\t\t\n\t\tif(prevSelected && silent !== true){\n\t\t\tthis._rowSelectionChanged();\n\t\t}\n\t}\n\t\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tselectable = self.checkRowSelectability(row),\n\t\telement = row.getElement();\n\t\t\n\t\t// trigger end of row selection\n\t\tvar endSelect = function(){\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.selecting = false;\n\t\t\t}, 50);\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", endSelect);\n\t\t};\n\t\t\n\t\trow.modules.select = {selected:false};\n\n\t\telement.classList.toggle(\"tabulator-selectable\", selectable);\n\t\telement.classList.toggle(\"tabulator-unselectable\", !selectable);\n\t\t\n\t\t//set row selection class\n\t\tif(self.checkRowSelectability(row)){\t\t\t\n\t\t\tif(self.table.options.selectableRows && self.table.options.selectableRows != \"highlight\"){\n\t\t\t\tif(self.table.options.selectableRowsRangeMode === \"click\"){\n\t\t\t\t\telement.addEventListener(\"click\", this.handleComplexRowClick.bind(this, row));\n\t\t\t\t}else{\n\t\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\t\tif(!self.table.modExists(\"edit\") || !self.table.modules.edit.getCurrentCell()){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!self.selecting){\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selecting = true;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selectPrev = [];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"mouseup\", endSelect);\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"keyup\", endSelect);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseenter\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(self.selectPrev[1] == row){\n\t\t\t\t\t\t\t\tself.toggleRow(self.selectPrev[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseout\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.selectPrev.unshift(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\thandleComplexRowClick(row, e){\n\t\tif(e.shiftKey){\n\t\t\tthis.table._clearSelection();\n\t\t\tthis.lastClickedRow = this.lastClickedRow || row;\n\t\t\t\n\t\t\tvar lastClickedRowIdx = this.table.rowManager.getDisplayRowIndex(this.lastClickedRow);\n\t\t\tvar rowIdx = this.table.rowManager.getDisplayRowIndex(row);\n\t\t\t\n\t\t\tvar fromRowIdx = lastClickedRowIdx <= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\tvar toRowIdx = lastClickedRowIdx >= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\t\n\t\t\tvar rows = this.table.rowManager.getDisplayRows().slice(0);\n\t\t\tvar toggledRows = rows.splice(fromRowIdx, toRowIdx - fromRowIdx + 1);\n\t\t\t\n\t\t\tif(e.ctrlKey || e.metaKey){\n\t\t\t\ttoggledRows.forEach((toggledRow)=>{\n\t\t\t\t\tif(toggledRow !== this.lastClickedRow){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.options.selectableRows !== true && !this.isRowSelected(row)){\n\t\t\t\t\t\t\tif(this.selectedRows.length < this.table.options.selectableRows){\n\t\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.lastClickedRow = row;\n\t\t\t}else{\n\t\t\t\tthis.deselectRows(undefined, true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.selectableRows !== true){\n\t\t\t\t\tif(toggledRows.length > this.table.options.selectableRows){\n\t\t\t\t\t\ttoggledRows = toggledRows.slice(0, this.table.options.selectableRows);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectRows(toggledRows);\n\t\t\t}\n\t\t\tthis.table._clearSelection();\n\t\t}\n\t\telse if(e.ctrlKey || e.metaKey){\n\t\t\tthis.toggleRow(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}else{\n\t\t\tthis.deselectRows(undefined, true);\n\t\t\tthis.selectRows(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}\n\t}\n\n\tcheckRowSelectability(row){\n\t\tif(row && row.type === \"row\"){\n\t\t\treturn this.table.options.selectableRowsCheck.call(this.table, row.getComponent());\n\t\t}\n\n\t\treturn false;\n\t}\n\t\n\t//toggle row selection\n\ttoggleRow(row){\n\t\tif(this.checkRowSelectability(row)){\n\t\t\tif(row.modules.select && row.modules.select.selected){\n\t\t\t\tthis._deselectRow(row);\n\t\t\t}else{\n\t\t\t\tthis._selectRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//select a number of rows\n\tselectRows(rows){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = this.table.rowManager.rows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"number\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._selectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(false, changes);\n\t\t\t}\n\t\t}else{\n\t\t\tif(rowMatch){\n\t\t\t\tthis._selectRow(rowMatch, false, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//select an individual row\n\t_selectRow(rowInfo, silent, force){\n\t\t//handle max row count\n\t\tif(!isNaN(this.table.options.selectableRows) && this.table.options.selectableRows !== true && !force){\n\t\t\tif(this.selectedRows.length >= this.table.options.selectableRows){\n\t\t\t\tif(this.table.options.selectableRowsRollingSelection){\n\t\t\t\t\tthis._deselectRow(this.selectedRows[0]);\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar row = this.table.rowManager.findRow(rowInfo);\n\t\t\n\t\tif(row){\n\t\t\tif(this.selectedRows.indexOf(row) == -1){\n\t\t\t\trow.getElement().classList.add(\"tabulator-selected\");\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = true;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectedRows.push(row);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowSelected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tthis._rowSelectionChanged(silent, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Selection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisRowSelected(row){\n\t\treturn this.selectedRows.indexOf(row) !== -1;\n\t}\n\t\n\t//deselect a number of rows\n\tdeselectRows(rows, silent){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = Object.assign([], this.selectedRows);\n\t\t\t\tbreak;\n\n\t\t\tcase \"number\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._deselectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(silent, [], changes);\n\t\t\t}\n\t\t}else{\n\t\t\tif(rowMatch){\n\t\t\t\tthis._deselectRow(rowMatch, silent, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//deselect an individual row\n\t_deselectRow(rowInfo, silent){\n\t\tvar self = this,\n\t\trow = self.table.rowManager.findRow(rowInfo),\n\t\tindex, element;\n\t\t\n\t\tif(row){\n\t\t\tindex = self.selectedRows.findIndex(function(selectedRow){\n\t\t\t\treturn selectedRow == row;\n\t\t\t});\n\t\t\t\n\t\t\tif(index > -1){\n\n\t\t\t\telement = row.getElement();\n\t\t\t\t\n\t\t\t\tif(element){\n\t\t\t\t\telement.classList.remove(\"tabulator-selected\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = false;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = false;\n\t\t\t\t}\n\t\t\t\tself.selectedRows.splice(index, 1);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, false);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowDeselected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tself._rowSelectionChanged(silent, undefined, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Deselection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetSelectedData(){\n\t\tvar data = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetSelectedRows(){\n\t\tvar rows = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\trows.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t_rowSelectionChanged(silent, selected = [], deselected = []){\n\t\tif(this.headerCheckboxElement){\n\t\t\tif(this.selectedRows.length === 0){\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else if(this.table.rowManager.rows.length === this.selectedRows.length){\n\t\t\t\tthis.headerCheckboxElement.checked = true;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else {\n\t\t\t\tthis.headerCheckboxElement.indeterminate = true;\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!silent){\n\t\t\tif(!Array.isArray(selected)){\n\t\t\t\tselected = [selected];\n\t\t\t}\n\n\t\t\tselected = selected.map(row => row.getComponent());\n\n\t\t\tif(!Array.isArray(deselected)){\n\t\t\t\tdeselected = [deselected];\n\t\t\t}\n\n\t\t\tdeselected = deselected.map(row => row.getComponent());\n\n\t\t\tthis.dispatchExternal(\"rowSelectionChanged\", this.getSelectedData(), this.getSelectedRows(), selected, deselected);\n\t\t}\n\t}\n\t\n\tregisterRowSelectCheckbox (row, element) {\n\t\tif(!row._row.modules.select){\n\t\t\trow._row.modules.select = {};\n\t\t}\n\t\t\n\t\trow._row.modules.select.checkboxEl = element;\n\t}\n\t\n\tregisterHeaderSelectCheckbox (element) {\n\t\tthis.headerCheckboxElement = element;\n\t}\n\t\n\tchildRowSelection(row, select){\n\t\tvar children = this.table.modules.dataTree.getChildren(row, true, true);\n\t\t\n\t\tif(select){\n\t\t\tfor(let child of children){\n\t\t\t\tthis._selectRow(child, true);\n\t\t\t}\n\t\t}else{\n\t\t\tfor(let child of children){\n\t\t\t\tthis._deselectRow(child, true);\n\t\t\t}\n\t\t}\n\t}\n}","export default class RangeComponent {\n\tconstructor(range) {\n\t\tthis._range = range;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function (target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t} else {\n\t\t\t\t\treturn target._range.table.componentFunctionBinder.handle(\"range\", target._range, name);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tgetElement() {\n\t\treturn this._range.element;\n\t}\n\n\tgetData() {\n\t\treturn this._range.getData();\n\t}\n\n\tgetCells() {\n\t\treturn this._range.getCells(true, true);\n\t}\n\n\tgetStructuredCells() {\n\t\treturn this._range.getStructuredCells();\n\t}\n\n\tgetRows() {\n\t\treturn this._range.getRows().map((row) => row.getComponent());\n\t}\n\n\tgetColumns() {\n\t\treturn this._range.getColumns().map((column) => column.getComponent());\n\t}\n\t\n\tgetBounds() {\n\t\treturn this._range.getBounds();\n\t}\n\n\tgetTopEdge() {\n\t\treturn this._range.top;\n\t}\n\n\tgetBottomEdge() {\n\t\treturn this._range.bottom;\n\t}\n\n\tgetLeftEdge() {\n\t\treturn this._range.left;\n\t}\n\n\tgetRightEdge() {\n\t\treturn this._range.right;\n\t}\n\n\tsetBounds(start, end){\n\t\tif(this._range.destroyedGuard(\"setBounds\")){\n\t\t\tthis._range.setBounds(start ? start._cell : start, end ? end._cell : end);\n\t\t}\n\t}\n\n\tsetStartBound(start){\n\t\tif(this._range.destroyedGuard(\"setStartBound\")){\n\t\t\tthis._range.setEndBound(start ? start._cell : start);\n\t\t\tthis._range.rangeManager.layoutElement();\n\t\t}\n\t}\n\n\tsetEndBound(end){\n\t\tif(this._range.destroyedGuard(\"setEndBound\")){\n\t\t\tthis._range.setEndBound(end ? end._cell : end);\n\t\t\tthis._range.rangeManager.layoutElement();\n\t\t}\n\t}\n\n\tclearValues(){\n\t\tif(this._range.destroyedGuard(\"clearValues\")){\n\t\t\tthis._range.clearValues();\n\t\t}\n\t}\n\n\tremove(){\n\t\tif(this._range.destroyedGuard(\"remove\")){\n\t\t\tthis._range.destroy(true);\n\t\t}\n\t}\n}","import CoreFeature from '../../core/CoreFeature.js';\nimport RangeComponent from \"./RangeComponent\";\n\nexport default class Range extends CoreFeature{\n\tconstructor(table, rangeManager, start, end) {\n\t\tsuper(table);\n\t\t\n\t\tthis.rangeManager = rangeManager;\n\t\tthis.element = null;\n\t\tthis.initialized = false;\n\t\tthis.initializing = {\n\t\t\tstart:false,\n\t\t\tend:false,\n\t\t};\n\t\tthis.destroyed = false;\n\t\t\n\t\tthis.top = 0;\n\t\tthis.bottom = 0;\n\t\tthis.left = 0;\n\t\tthis.right = 0;\n\t\t\n\t\tthis.table = table;\n\t\tthis.start = {row:0, col:0};\n\t\tthis.end = {row:0, col:0};\n\n\t\tif(this.rangeManager.rowHeader){\n\t\t\tthis.left = 1;\n\t\t\tthis.right = 1;\n\t\t\tthis.start.col = 1;\n\t\t\tthis.end.col = 1;\n\t\t}\n\t\t\n\t\tthis.initElement();\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tthis.initBounds(start, end);\n\t\t});\n\t}\n\t\n\tinitElement(){\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-range\");\n\t}\n\t\n\tinitBounds(start, end){\n\t\tthis._updateMinMax();\n\t\t\n\t\tif(start){\n\t\t\tthis.setBounds(start, end || start);\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////   Boundary Setup    ///////\n\t///////////////////////////////////\n\t\n\tsetStart(row, col) {\n\t\tif(this.start.row !== row || this.start.col !== col){\n\t\t\tthis.start.row = row;\n\t\t\tthis.start.col = col;\n\t\t\t\n\t\t\tthis.initializing.start = true;\n\t\t\tthis._updateMinMax();\n\t\t}\n\t}\n\t\n\tsetEnd(row, col) {\n\t\tif(this.end.row !== row || this.end.col !== col){\n\t\t\tthis.end.row = row;\n\t\t\tthis.end.col = col;\n\t\t\t\n\t\t\tthis.initializing.end = true;\n\t\t\tthis._updateMinMax();\n\t\t}\n\t}\n\t\n\tsetBounds(start, end, visibleRows){\n\t\tif(start){\n\t\t\tthis.setStartBound(start);\n\t\t}\n\t\t\n\t\tthis.setEndBound(end || start);\n\t\tthis.rangeManager.layoutElement(visibleRows);\n\t}\n\t\n\tsetStartBound(element){\n\t\tvar row, col;\n\t\t\n\t\tif (element.type === \"column\") {\n\t\t\tif(this.rangeManager.columnSelection){\n\t\t\t\tthis.setStart(0, element.getPosition() - 1);\n\t\t\t}\n\t\t}else{\n\t\t\trow = element.row.position - 1;\n\t\t\tcol = element.column.getPosition() - 1;\n\t\t\t\n\t\t\tif (element.column === this.rangeManager.rowHeader) {\n\t\t\t\tthis.setStart(row, 1);\n\t\t\t} else {\n\t\t\t\tthis.setStart(row, col);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tsetEndBound(element){\n\t\tvar rowsCount = this._getTableRows().length,\n\t\trow, col, isRowHeader;\n\t\t\n\t\tif (element.type === \"column\") {\n\t\t\tif(this.rangeManager.columnSelection){\n\t\t\t\tif (this.rangeManager.selecting === \"column\") {\n\t\t\t\t\tthis.setEnd(rowsCount - 1, element.getPosition() - 1);\n\t\t\t\t} else if (this.rangeManager.selecting === \"cell\") {\n\t\t\t\t\tthis.setEnd(0, element.getPosition() - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\trow = element.row.position - 1;\n\t\t\tcol = element.column.getPosition() - 1;\n\t\t\tisRowHeader = element.column === this.rangeManager.rowHeader;\n\t\t\t\n\t\t\tif (this.rangeManager.selecting === \"row\") {\n\t\t\t\tthis.setEnd(row, this._getTableColumns().length - 1);\n\t\t\t} else if (this.rangeManager.selecting !== \"row\" && isRowHeader) {\n\t\t\t\tthis.setEnd(row, 0);\n\t\t\t} else if (this.rangeManager.selecting === \"column\") {\n\t\t\t\tthis.setEnd(rowsCount - 1, col);\n\t\t\t} else {\n\t\t\t\tthis.setEnd(row, col);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_updateMinMax() {\n\t\tthis.top = Math.min(this.start.row, this.end.row);\n\t\tthis.bottom = Math.max(this.start.row, this.end.row);\n\t\tthis.left = Math.min(this.start.col, this.end.col);\n\t\tthis.right = Math.max(this.start.col, this.end.col);\n\t\t\n\t\tif(this.initialized){\n\t\t\tthis.dispatchExternal(\"rangeChanged\", this.getComponent());\n\t\t}else{\n\t\t\tif(this.initializing.start && this.initializing.end){\n\t\t\t\tthis.initialized = true;\n\t\t\t\tthis.dispatchExternal(\"rangeAdded\", this.getComponent());\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_getTableColumns() {\n\t\treturn this.table.columnManager.getVisibleColumnsByIndex();\n\t}\n\t\n\t_getTableRows() {\n\t\treturn this.table.rowManager.getDisplayRows().filter(row=> row.type === \"row\");\n\t}\n\t\n\t///////////////////////////////////\n\t///////      Rendering      ///////\n\t///////////////////////////////////\n\t\n\tlayout() {\n\t\tvar _vDomTop = this.table.rowManager.renderer.vDomTop,\n\t\t_vDomBottom = this.table.rowManager.renderer.vDomBottom,\n\t\t_vDomLeft = this.table.columnManager.renderer.leftCol,\n\t\t_vDomRight = this.table.columnManager.renderer.rightCol,\t\t\n\t\ttop, bottom, left, right, topLeftCell, bottomRightCell, topLeftCellEl, bottomRightCellEl, topLeftRowEl, bottomRightRowEl;\n\n\t\tif(this.table.options.renderHorizontal === \"virtual\" && this.rangeManager.rowHeader) {\n\t\t\t_vDomRight += 1;\n\t\t}\n\t\t\n\t\tif (_vDomTop == null) {\n\t\t\t_vDomTop = 0;\n\t\t}\n\t\t\n\t\tif (_vDomBottom == null) {\n\t\t\t_vDomBottom = Infinity;\n\t\t}\n\t\t\n\t\tif (_vDomLeft == null) {\n\t\t\t_vDomLeft = 0;\n\t\t}\n\t\t\n\t\tif (_vDomRight == null) {\n\t\t\t_vDomRight = Infinity;\n\t\t}\n\t\t\n\t\tif (this.overlaps(_vDomLeft, _vDomTop, _vDomRight, _vDomBottom)) {\n\t\t\ttop = Math.max(this.top, _vDomTop);\n\t\t\tbottom = Math.min(this.bottom, _vDomBottom);\n\t\t\tleft = Math.max(this.left, _vDomLeft);\n\t\t\tright = Math.min(this.right, _vDomRight);\n\t\t\t\n\t\t\ttopLeftCell = this.rangeManager.getCell(top, left);\n\t\t\tbottomRightCell = this.rangeManager.getCell(bottom, right);\n\t\t\ttopLeftCellEl = topLeftCell.getElement();\n\t\t\tbottomRightCellEl = bottomRightCell.getElement();\n\t\t\ttopLeftRowEl = topLeftCell.row.getElement();\n\t\t\tbottomRightRowEl = bottomRightCell.row.getElement();\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-range-active\");\n\t\t\t// this.element.classList.toggle(\"tabulator-range-active\", this === this.rangeManager.activeRange);\n\n\t\t\tif(this.table.rtl){\n\t\t\t\tthis.element.style.right = topLeftRowEl.offsetWidth - topLeftCellEl.offsetLeft - topLeftCellEl.offsetWidth + \"px\";\n\t\t\t\tthis.element.style.width = topLeftCellEl.offsetLeft + topLeftCellEl.offsetWidth - bottomRightCellEl.offsetLeft + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.element.style.left = topLeftRowEl.offsetLeft + topLeftCellEl.offsetLeft + \"px\";\n\t\t\t\tthis.element.style.width = bottomRightCellEl.offsetLeft + bottomRightCellEl.offsetWidth - topLeftCellEl.offsetLeft + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.element.style.top = topLeftRowEl.offsetTop + \"px\";\n\t\t\tthis.element.style.height = bottomRightRowEl.offsetTop + bottomRightRowEl.offsetHeight - topLeftRowEl.offsetTop + \"px\";\n\t\t}\n\t}\n\t\n\tatTopLeft(cell) {\n\t\treturn cell.row.position - 1 === this.top && cell.column.getPosition() - 1 === this.left;\n\t}\n\t\n\tatBottomRight(cell) {\n\t\treturn cell.row.position - 1 === this.bottom && cell.column.getPosition() - 1 === this.right;\n\t}\n\t\n\toccupies(cell) {\n\t\treturn this.occupiesRow(cell.row) && this.occupiesColumn(cell.column);\n\t}\n\t\n\toccupiesRow(row) {\n\t\treturn this.top <= row.position - 1 && row.position - 1 <= this.bottom;\n\t}\n\t\n\toccupiesColumn(col) {\n\t\treturn this.left <= col.getPosition() - 1 && col.getPosition() - 1 <= this.right;\n\t}\n\t\n\toverlaps(left, top, right, bottom) {\n\t\tif ((this.left > right || left > this.right) || (this.top > bottom || top > this.bottom)){\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\treturn true;\n\t}\n\t\n\tgetData() {\n\t\tvar data = [],\n\t\trows = this.getRows(),\n\t\tcolumns = this.getColumns();\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tvar rowData = row.getData(),\n\t\t\tresult = {};\n\t\t\t\n\t\t\tcolumns.forEach((column) => {\n\t\t\t\tresult[column.field] = rowData[column.field];\n\t\t\t});\n\t\t\t\n\t\t\tdata.push(result);\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetCells(structured, component) {\n\t\tvar cells = [],\n\t\trows = this.getRows(),\n\t\tcolumns = this.getColumns();\n\t\t\n\t\tif (structured) {\n\t\t\tcells = rows.map((row) => {\n\t\t\t\tvar arr = [];\n\t\t\t\t\n\t\t\t\trow.getCells().forEach((cell) => {\n\t\t\t\t\tif (columns.includes(cell.column)) {\n\t\t\t\t\t\tarr.push(component ? cell.getComponent() : cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn arr;\n\t\t\t});\n\t\t} else {\n\t\t\trows.forEach((row) => {\n\t\t\t\trow.getCells().forEach((cell) => {\n\t\t\t\t\tif (columns.includes(cell.column)) {\n\t\t\t\t\t\tcells.push(component ? cell.getComponent() : cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn cells;\n\t}\n\t\n\tgetStructuredCells() {\n\t\treturn this.getCells(true, true);\n\t}\n\t\n\tgetRows() {\n\t\treturn this._getTableRows().slice(this.top, this.bottom + 1);\n\t}\n\t\n\tgetColumns() {\n\t\treturn this._getTableColumns().slice(this.left, this.right + 1);\n\t}\n\t\n\tclearValues(){\n\t\tvar cells = this.getCells();\n\t\tvar clearValue = this.table.options.selectableRangeClearCellsValue;\n\t\t\n\t\tthis.table.blockRedraw();\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tcell.setValue(clearValue);\n\t\t});\n\t\t\n\t\tthis.table.restoreRedraw();\n\t\t\n\t}\n\t\n\tgetBounds(component){\n\t\tvar cells = this.getCells(false, component),\n\t\toutput = {\n\t\t\tstart:null,\n\t\t\tend:null,\n\t\t};\n\t\t\n\t\tif(cells.length){\n\t\t\toutput.start = cells[0];\n\t\t\toutput.end = cells[cells.length - 1];\n\t\t}else{\n\t\t\tconsole.warn(\"No bounds defined on range\");\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponent() {\n\t\tif (!this.component) {\n\t\t\tthis.component = new RangeComponent(this);\n\t\t}\n\t\treturn this.component;\n\t}\n\t\n\tdestroy(notify) {\n\t\tthis.destroyed = true;\n\t\t\n\t\tthis.element.remove();\n\t\t\n\t\tif(notify){\n\t\t\tthis.rangeManager.rangeRemoved(this);\n\t\t}\n\t\t\n\t\tif(this.initialized){\n\t\t\tthis.dispatchExternal(\"rangeRemoved\", this.getComponent());\n\t\t}\n\t}\n\t\n\tdestroyedGuard(func){\n\t\tif(this.destroyed){\n\t\t\tconsole.warn(\"You cannot call the \"  + func + \" function on a destroyed range\");\n\t\t}\n\t\t\n\t\treturn !this.destroyed;\n\t}\n}","export default {\r\n\trangeJumpUp:[\"ctrl + 38\", \"meta + 38\"],\r\n\trangeJumpDown:[\"ctrl + 40\", \"meta + 40\"],\r\n\trangeJumpLeft:[\"ctrl + 37\", \"meta + 37\"],\r\n\trangeJumpRight:[\"ctrl + 39\", \"meta + 39\"],\r\n\trangeExpandUp:\"shift + 38\",\r\n\trangeExpandDown:\"shift + 40\",\r\n\trangeExpandLeft:\"shift + 37\",\r\n\trangeExpandRight:\"shift + 39\",\r\n\trangeExpandJumpUp:[\"ctrl + shift + 38\", \"meta + shift + 38\"],\r\n\trangeExpandJumpDown:[\"ctrl + shift + 40\", \"meta + shift + 40\"],\r\n\trangeExpandJumpLeft:[\"ctrl + shift + 37\", \"meta + shift + 37\"],\r\n\trangeExpandJumpRight:[\"ctrl + shift + 39\", \"meta + shift + 39\"],\r\n};\r\n","export default {\r\n\trangeJumpLeft: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"left\", true, false);\r\n\t},\r\n\trangeJumpRight: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"right\", true, false);\r\n\t},\r\n\trangeJumpUp: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"up\", true, false);\r\n\t},\r\n\trangeJumpDown: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"down\", true, false);\r\n\t},\r\n\trangeExpandLeft: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"left\", false, true);\r\n\t},\r\n\trangeExpandRight: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"right\", false, true);\r\n\t},\r\n\trangeExpandUp: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"up\", false, true);\r\n\t},\r\n\trangeExpandDown: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"down\", false, true);\r\n\t},\r\n\trangeExpandJumpLeft: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"left\", true, true);\r\n\t},\r\n\trangeExpandJumpRight: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"right\", true, true);\r\n\t},\r\n\trangeExpandJumpUp: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"up\", true, true);\r\n\t},\r\n\trangeExpandJumpDown: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"down\", true, true);\r\n\t},\r\n};\r\n","export default {\r\n\trange:function(data){\r\n\t\tvar rows = [],\r\n\t\trange = this.table.modules.selectRange.activeRange,\r\n\t\tsingleCell = false,\r\n\t\tbounds, startCell, startRow, rowWidth, dataLength;\r\n\r\n\t\tdataLength = data.length;\r\n\t\t\r\n\t\tif(range){\r\n\t\t\tbounds = range.getBounds();\r\n\t\t\tstartCell = bounds.start;\r\n\t\t\t\r\n\t\t\tif(bounds.start === bounds.end){\r\n\t\t\t\tsingleCell = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(startCell){\r\n\t\t\t\trows = this.table.rowManager.activeRows.slice();\r\n\t\t\t\tstartRow = rows.indexOf(startCell.row);\r\n\r\n\t\t\t\tif(singleCell){\r\n\t\t\t\t\trowWidth = data.length;\r\n\t\t\t\t}else{\r\n\t\t\t\t\trowWidth = (rows.indexOf(bounds.end.row) - startRow) + 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(startRow >-1){\r\n\t\t\t\t\tthis.table.blockRedraw();\r\n\t\t\t\t\t\r\n\t\t\t\t\trows = rows.slice(startRow, startRow + rowWidth);\r\n\t\t\t\t\t\r\n\t\t\t\t\trows.forEach((row, i) => {\r\n\t\t\t\t\t\trow.updateData(data[i % dataLength]);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.table.restoreRedraw();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn rows;\r\n\t}\r\n};","export default {\r\n\trange:function(clipboard){\r\n\t\tvar data = [],\r\n\t\trows = [],\r\n\t\trange = this.table.modules.selectRange.activeRange,\r\n\t\tsingleCell = false,\r\n\t\tbounds, startCell, colWidth, columnMap, startCol;\r\n\t\t\r\n\t\tif(range){\r\n\t\t\tbounds = range.getBounds();\r\n\t\t\tstartCell = bounds.start;\r\n\r\n\t\t\tif(bounds.start === bounds.end){\r\n\t\t\t\tsingleCell = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(startCell){\r\n\t\t\t\t//get data from clipboard into array of columns and rows.\r\n\t\t\t\tclipboard = clipboard.split(\"\\n\");\r\n\t\t\t\t\r\n\t\t\t\tclipboard.forEach(function(row){\r\n\t\t\t\t\tdata.push(row.split(\"\\t\"));\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tif(data.length){\r\n\t\t\t\t\tcolumnMap = this.table.columnManager.getVisibleColumnsByIndex();\r\n\t\t\t\t\tstartCol = columnMap.indexOf(startCell.column);\r\n\r\n\t\t\t\t\tif(startCol > -1){\r\n\t\t\t\t\t\tif(singleCell){\r\n\t\t\t\t\t\t\tcolWidth = data[0].length;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tcolWidth = (columnMap.indexOf(bounds.end.column) - startCol) + 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcolumnMap = columnMap.slice(startCol, startCol + colWidth);\r\n\r\n\t\t\t\t\t\tdata.forEach((item) => {\r\n\t\t\t\t\t\t\tvar row = {};\r\n\t\t\t\t\t\t\tvar itemLength = item.length;\r\n\r\n\t\t\t\t\t\t\tcolumnMap.forEach(function(col, i){\r\n\t\t\t\t\t\t\t\trow[col.field] = item[i % itemLength];\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\trows.push(row);\t\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn rows;\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n};","export default {\r\n\trange:function(){\r\n\t\tvar columns = this.modules.selectRange.selectedColumns();\r\n\r\n\t\tif(this.columnManager.rowHeader){\r\n\t\t\tcolumns.unshift(this.columnManager.rowHeader);\r\n\t\t}\r\n\r\n\t\treturn columns;\r\n\t},\r\n};","export default {\r\n\trange:function(){\r\n\t\treturn this.modules.selectRange.selectedRows();\r\n\t},\r\n};","import bindings from './keybindings/bindings.js';\r\nimport actions from './keybindings/actions.js';\r\nimport pasteActions from './clipboard/pasteActions.js';\r\nimport pasteParsers from './clipboard/pasteParsers.js';\r\nimport columnLookups from './export/columnLookups.js';\r\nimport rowLookups from './export/rowLookups.js';\r\n\r\nexport default {\r\n\tkeybindings:{\r\n\t\tbindings:bindings,\r\n\t\tactions:actions\r\n\t},\r\n\tclipboard:{\r\n\t\tpasteActions:pasteActions,\r\n\t\tpasteParsers:pasteParsers\r\n\t},\r\n\texport:{\r\n\t\tcolumnLookups:columnLookups,\r\n\t\trowLookups:rowLookups,\r\n\t}\r\n};","import Module from \"../../core/Module.js\";\nimport Range from \"./Range.js\";\nimport extensions from './extensions/extensions.js';\n\n\nexport default class SelectRange extends Module {\n\t\n\tstatic moduleName = \"selectRange\";\n\tstatic moduleInitOrder = 1;\n\tstatic moduleExtensions = extensions;\n\t\n\tconstructor(table) {\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = \"cell\";\n\t\tthis.mousedown = false;\n\t\tthis.ranges = [];\n\t\tthis.overlay = null;\n\t\tthis.rowHeader = null;\n\t\tthis.layoutChangeTimeout = null;\n\t\tthis.columnSelection = false;\n\t\tthis.rowSelection = false;\n\t\tthis.maxRanges = 0;\n\t\tthis.activeRange = false;\n\t\tthis.blockKeydown = false;\n\t\t\n\t\tthis.keyDownEvent = this._handleKeyDown.bind(this);\n\t\tthis.mouseUpEvent = this._handleMouseUp.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"selectableRange\", false); //enable selectable range\n\t\tthis.registerTableOption(\"selectableRangeColumns\", false); //enable selectable range\n\t\tthis.registerTableOption(\"selectableRangeRows\", false); //enable selectable range\n\t\tthis.registerTableOption(\"selectableRangeClearCells\", false); //allow clearing of active range\n\t\tthis.registerTableOption(\"selectableRangeClearCellsValue\", undefined); //value for cleared active range\n\t\tthis.registerTableOption(\"selectableRangeAutoFocus\", true); //focus on a cell after resetRanges\n\t\t\n\t\tthis.registerTableFunction(\"getRangesData\", this.getRangesData.bind(this));\n\t\tthis.registerTableFunction(\"getRanges\", this.getRanges.bind(this));\n\t\tthis.registerTableFunction(\"addRange\", this.addRangeFromComponent.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"getRanges\", this.cellGetRanges.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getRanges\", this.rowGetRanges.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getRanges\", this.colGetRanges.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////    Initialization   ///////\n\t///////////////////////////////////\n\t\n\tinitialize() {\n\t\tif (this.options(\"selectableRange\")) {\t\n\t\t\tif(!this.options(\"selectableRows\")){\n\t\t\t\tthis.maxRanges = this.options(\"selectableRange\");\n\t\t\t\t\n\t\t\t\tthis.initializeTable();\n\t\t\t\tthis.initializeWatchers();\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"SelectRange functionality cannot be used in conjunction with row selection\");\n\t\t\t}\n\n\t\t\tif(this.options('columns').findIndex((column) => column.frozen) > 0) {\n\t\t\t\tconsole.warn(\"Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior.\");\n\t\t\t}\n\n\t\t\tif(this.options('columns').filter((column) => column.frozen) > 1) {\n\t\t\t\tconsole.warn(\"Having multiple frozen columns with selectRange option may result in unpredictable behavior.\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tinitializeTable() {\t\t\n\t\tthis.overlay = document.createElement(\"div\");\n\t\tthis.overlay.classList.add(\"tabulator-range-overlay\");\n\t\t\n\t\tthis.rangeContainer = document.createElement(\"div\");\n\t\tthis.rangeContainer.classList.add(\"tabulator-range-container\");\n\t\t\n\t\tthis.activeRangeCellElement = document.createElement(\"div\");\n\t\tthis.activeRangeCellElement.classList.add(\"tabulator-range-cell-active\");\n\t\t\n\t\tthis.overlay.appendChild(this.rangeContainer);\n\t\tthis.overlay.appendChild(this.activeRangeCellElement);\n\t\t\n\t\tthis.table.rowManager.element.addEventListener(\"keydown\", this.keyDownEvent);\n\t\t\n\t\tthis.resetRanges();\n\t\t\n\t\tthis.table.rowManager.element.appendChild(this.overlay);\n\t\tthis.table.columnManager.element.setAttribute(\"tabindex\", 0);\n\t\tthis.table.element.classList.add(\"tabulator-ranges\");\n\t}\n\t\n\tinitializeWatchers() {\n\t\tthis.columnSelection = this.options(\"selectableRangeColumns\");\n\t\tthis.rowSelection = this.options(\"selectableRangeRows\");\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-mousedown\", this.handleColumnMouseDown.bind(this));\n\t\tthis.subscribe(\"column-mousemove\", this.handleColumnMouseMove.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.handleColumnResized.bind(this));\n\t\tthis.subscribe(\"column-moving\", this.handleColumnMoving.bind(this));\n\t\tthis.subscribe(\"column-moved\", this.handleColumnMoved.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"column-height\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"columns-loaded\", this.updateHeaderColumn.bind(this));\n\t\t\n\t\tthis.subscribe(\"cell-height\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.renderCell.bind(this));\n\t\tthis.subscribe(\"cell-mousedown\", this.handleCellMouseDown.bind(this));\n\t\tthis.subscribe(\"cell-mousemove\", this.handleCellMouseMove.bind(this));\n\t\tthis.subscribe(\"cell-click\", this.handleCellClick.bind(this));\n\t\tthis.subscribe(\"cell-editing\", this.handleEditingCell.bind(this));\n\t\t\n\t\tthis.subscribe(\"page-changed\", this.redraw.bind(this));\n\t\t\n\t\tthis.subscribe(\"scroll-vertical\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.layoutChange.bind(this));\n\t\t\n\t\tthis.subscribe(\"data-destroy\", this.tableDestroyed.bind(this));\n\t\tthis.subscribe(\"data-processed\", this.resetRanges.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-layout\", this.layoutElement.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.redraw.bind(this));\n\t\tthis.subscribe(\"table-destroy\", this.tableDestroyed.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-editor-clear\", this.finishEditingCell.bind(this));\n\t\tthis.subscribe(\"edit-blur\", this.restoreFocus.bind(this));\n\t\t\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.keyNavigate.bind(this, \"left\"));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keyNavigate.bind(this, \"right\"));\n\t\tthis.subscribe(\"keybinding-nav-left\", this.keyNavigate.bind(this, \"left\"));\n\t\tthis.subscribe(\"keybinding-nav-right\", this.keyNavigate.bind(this, \"right\"));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.keyNavigate.bind(this, \"up\"));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.keyNavigate.bind(this, \"down\"));\n\t\tthis.subscribe(\"keybinding-nav-range\", this.keyNavigateRange.bind(this));\n\t}\n\t\n\t\n\tinitializeColumn(column) {\n\t\tif(this.columnSelection && column.definition.headerSort && this.options(\"headerSortClickElement\") !== \"icon\"){\n\t\t\tconsole.warn(\"Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'.\");\n\t\t}\n\t\t\n\t\tif (column.modules.edit) {\n\t\t\t// Block editor from taking action so we can trigger edit by\n\t\t\t// double clicking.\n\t\t\t// column.modules.edit.blocked = true;\n\t\t}\n\t}\n\t\n\tupdateHeaderColumn(){\n\t\tvar frozenCols;\n\n\t\tif(this.rowSelection){\n\t\t\tthis.rowHeader = this.table.columnManager.getVisibleColumnsByIndex()[0];\n\t\t\t\n\t\t\tif(this.rowHeader){\n\t\t\t\tthis.rowHeader.definition.cssClass = this.rowHeader.definition.cssClass + \" tabulator-range-row-header\";\n\t\t\t\t\n\t\t\t\tif(this.rowHeader.definition.headerSort){\n\t\t\t\t\tconsole.warn(\"Using column headerSort with selectableRangeRows option may result in unpredictable behavior\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.rowHeader.definition.editor){\n\t\t\t\t\tconsole.warn(\"Using column editor with selectableRangeRows option may result in unpredictable behavior\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//warn if invalid frozen column configuration detected\n\t\tif(this.table.modules.frozenColumns && this.table.modules.frozenColumns.active){\n\t\t\tfrozenCols = this.table.modules.frozenColumns.getFrozenColumns();\n\n\t\t\tif(frozenCols.length > 1 || (frozenCols.length === 1 && frozenCols[0] !== this.rowHeader)){\n\t\t\t\tconsole.warn(\"Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////   Table Functions   ///////\n\t///////////////////////////////////\n\t\n\tgetRanges(){\n\t\treturn this.ranges.map((range) => range.getComponent());\n\t}\n\t\n\tgetRangesData() {\n\t\treturn this.ranges.map((range) => range.getData());\n\t}\n\t\n\taddRangeFromComponent(start, end){\n\t\tstart = start ? start._cell : null;\n\t\tend = end ? end._cell : null;\n\t\t\n\t\treturn this.addRange(start, end);\n\t}\n\t\n\t///////////////////////////////////\n\t/////// Component Functions ///////\n\t///////////////////////////////////\n\t\n\tcellGetRanges(cell){\n\t\tvar ranges = [];\n\t\t\n\t\tif (cell.column === this.rowHeader) {\n\t\t\tranges = this.ranges.filter((range) => range.occupiesRow(cell.row));\n\t\t} else {\n\t\t\tranges = this.ranges.filter((range) => range.occupies(cell));\n\t\t}\n\t\t\n\t\treturn ranges.map((range) => range.getComponent());\n\t}\n\t\n\trowGetRanges(row){\n\t\tvar ranges = this.ranges.filter((range) => range.occupiesRow(row));\n\t\t\n\t\treturn ranges.map((range) => range.getComponent());\n\t}\n\t\n\tcolGetRanges(col){\n\t\tvar ranges = this.ranges.filter((range) => range.occupiesColumn(col));\n\t\t\n\t\treturn ranges.map((range) => range.getComponent());\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Event Handlers /////////\n\t///////////////////////////////////\n\t\n\t_handleMouseUp(e){\n\t\tthis.mousedown = false;\n\t\tdocument.removeEventListener(\"mouseup\", this.mouseUpEvent);\n\t}\n\t\n\t_handleKeyDown(e) {\n\t\tif (!this.blockKeydown && (!this.table.modules.edit || (this.table.modules.edit && !this.table.modules.edit.currentCell))) {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t// is editing a cell?\n\t\t\t\tif (this.table.modules.edit && this.table.modules.edit.currentCell) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.modules.edit.editCell(this.getActiveCell());\n\t\t\t\t\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tif ((e.key === \"Backspace\" || e.key === \"Delete\") && this.options(\"selectableRangeClearCells\")) {\n\t\t\t\tif(this.activeRange){\n\t\t\t\t\tthis.activeRange.clearValues();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinitializeFocus(cell){\n\t\tvar range;\n\n\t\tthis.restoreFocus();\n\t\t\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(cell.getElement());\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNode(cell.getElement());\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\t\n\trestoreFocus(element){\n\t\tthis.table.rowManager.element.focus();\n\t\t\n\t\treturn true;\n\t}\n\t\n\t///////////////////////////////////\n\t////// Column Functionality ///////\n\t///////////////////////////////////\n\t\n\thandleColumnResized(column) {\n\t\tvar selected;\n\t\t\n\t\tif (this.selecting !== \"column\" && this.selecting !== \"all\") {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tselected = this.ranges.some((range) => range.occupiesColumn(column));\n\t\t\n\t\tif (!selected) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.ranges.forEach((range) => {\n\t\t\tvar selectedColumns = range.getColumns(true);\n\t\t\t\n\t\t\tselectedColumns.forEach((selectedColumn) => {\n\t\t\t\tif (selectedColumn !== column) {\n\t\t\t\t\tselectedColumn.setWidth(column.width);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t\n\thandleColumnMoving(_event, column) {\n\t\tthis.resetRanges().setBounds(column);\n\t\tthis.overlay.style.visibility = \"hidden\";\n\t}\n\n\thandleColumnMoved(from, _to, _after) {\n\t\tthis.activeRange.setBounds(from);\n\t\tthis.layoutElement();\n\t}\n\n\thandleColumnMouseDown(event, column) {\n\t\tif (event.button === 2 && (this.selecting === \"column\" || this.selecting === \"all\") && this.activeRange.occupiesColumn(column)) {\n\t\t\treturn;\n\t\t}\n\n\t\t//If columns are movable, allow dragging columns only if they are not\n\t\t//selected. Dragging selected columns should move the columns instead.\n\t\tif(this.table.options.movableColumns && this.selecting === \"column\" && this.activeRange.occupiesColumn(column)){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.mousedown = true;\n\t\t\n\t\tdocument.addEventListener(\"mouseup\", this.mouseUpEvent);\n\t\t\n\t\tthis.newSelection(event, column);\n\t}\n\t\n\thandleColumnMouseMove(e, column) {\n\t\tif (column === this.rowHeader || !this.mousedown || this.selecting === 'all') {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.activeRange.setBounds(false, column, true);\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Cell Functionality ///////\n\t///////////////////////////////////\n\t\n\trenderCell(cell) {\n\t\tvar el = cell.getElement(),\n\t\trangeIdx = this.ranges.findIndex((range) => range.occupies(cell));\n\t\t\n\t\tel.classList.toggle(\"tabulator-range-selected\", rangeIdx !== -1);\n\t\tel.classList.toggle(\"tabulator-range-only-cell-selected\", this.ranges.length === 1 && this.ranges[0].atTopLeft(cell) &&\tthis.ranges[0].atBottomRight(cell));\n\t\t\n\t\tel.dataset.range = rangeIdx;\n\t}\n\t\n\thandleCellMouseDown(event, cell) {\n\t\tif (event.button === 2 && (this.activeRange.occupies(cell) || ((this.selecting === \"row\" || this.selecting === \"all\") && this.activeRange.occupiesRow(cell.row)))) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.mousedown = true;\n\t\t\n\t\tdocument.addEventListener(\"mouseup\", this.mouseUpEvent);\n\t\t\n\t\tthis.newSelection(event, cell);\n\t}\n\t\n\thandleCellMouseMove(e, cell) {\n\t\tif (!this.mousedown || this.selecting === \"all\") {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.activeRange.setBounds(false, cell, true);\n\t}\n\t\n\thandleCellClick(e, cell){\n\t\tthis.initializeFocus(cell);\n\t}\n\t\n\thandleEditingCell(cell) {\n\t\tif(this.activeRange){\n\t\t\tthis.activeRange.setBounds(cell);\n\t\t}\n\t}\n\t\n\tfinishEditingCell() {\n\t\tthis.blockKeydown = true;\n\t\tthis.table.rowManager.element.focus();\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tthis.blockKeydown = false;\n\t\t}, 10);\n\t}\n\t\n\t///////////////////////////////////\n\t///////     Navigation      ///////\n\t///////////////////////////////////\n\t\n\tkeyNavigate(dir, e){\n\t\tif(this.navigate(false, false, dir)){\n\t\t\t// e.preventDefault();\n\t\t}\n\t\te.preventDefault();\n\t}\n\t\n\tkeyNavigateRange(e, dir, jump, expand){\n\t\tif(this.navigate(jump, expand, dir)){\n\t\t\t// e.preventDefault();\n\t\t}\n\t\te.preventDefault();\n\t}\n\t\n\tnavigate(jump, expand, dir) {\n\t\tvar moved = false,\n\t\trange, rangeEdge, prevRect, nextRow, nextCol, row, column,\n\t\trowRect, rowManagerRect, columnRect, columnManagerRect;\n\t\t\n\t\t// Don't navigate while editing\n\t\tif (this.table.modules.edit && this.table.modules.edit.currentCell) {\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\t// If there are more than 1 range, use the active range and destroy the others\n\t\tif (this.ranges.length > 1) {\n\t\t\tthis.ranges = this.ranges.filter((range) => {\n\t\t\t\tif (range === this.activeRange) {\n\t\t\t\t\trange.setEnd(range.start.row, range.start.col);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\trange.destroy();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\t\n\t\trange = this.activeRange;\n\t\tprevRect = {\n\t\t\ttop: range.top,\n\t\t\tbottom: range.bottom,\n\t\t\tleft: range.left,\n\t\t\tright: range.right\n\t\t};\n\t\t\n\t\trangeEdge = expand ? range.end : range.start;\n\t\tnextRow = rangeEdge.row;\n\t\tnextCol = rangeEdge.col;\n\t\t\n\t\tif(jump){\n\t\t\tswitch(dir){\n\t\t\t\tcase \"left\":\n\t\t\t\t\tnextCol = this.findJumpCellLeft(range.start.row, rangeEdge.col);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\tnextCol = this.findJumpCellRight(range.start.row, rangeEdge.col);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"up\":\n\t\t\t\t\tnextRow = this.findJumpCellUp(rangeEdge.row, range.start.col);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"down\":\n\t\t\t\t\tnextRow = this.findJumpCellDown(rangeEdge.row, range.start.col);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}else{\n\t\t\tif(expand){\n\t\t\t\tif ((this.selecting === 'row' && (dir === 'left' || dir === 'right')) || (this.selecting === 'column' && (dir === 'up' || dir === 'down'))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tswitch(dir){\n\t\t\t\tcase \"left\":\n\t\t\t\t\tnextCol = Math.max(nextCol - 1, 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\tnextCol = Math.min(nextCol + 1, this.getTableColumns().length - 1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"up\":\n\t\t\t\t\tnextRow = Math.max(nextRow - 1, 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"down\":\n\t\t\t\t\tnextRow = Math.min(nextRow + 1, this.getTableRows().length - 1);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(this.rowHeader && nextCol === 0) {\n\t\t\tnextCol = 1;\n\t\t}\n\t\t\n\t\tif(!expand){\n\t\t\trange.setStart(nextRow, nextCol);\n\t\t}\n\t\t\n\t\trange.setEnd(nextRow, nextCol);\n\t\t\n\t\tif(!expand){\n\t\t\tthis.selecting = \"cell\";\n\t\t}\n\n\t\tmoved = prevRect.top !== range.top || prevRect.bottom !== range.bottom || prevRect.left !== range.left || prevRect.right !== range.right;\n\n\t\tif (moved) {\n\t\t\trow = this.getRowByRangePos(range.end.row);\n\t\t\tcolumn = this.getColumnByRangePos(range.end.col);\n\t\t\trowRect = row.getElement().getBoundingClientRect();\n\t\t\tcolumnRect = column.getElement().getBoundingClientRect();\n\t\t\trowManagerRect = this.table.rowManager.getElement().getBoundingClientRect();\n\t\t\tcolumnManagerRect = this.table.columnManager.getElement().getBoundingClientRect();\n\t\t\t\n\t\t\tif(!(rowRect.top >= rowManagerRect.top && rowRect.bottom <= rowManagerRect.bottom)){\n\t\t\t\tif(row.getElement().parentNode && column.getElement().parentNode){\n\t\t\t\t\t// Use faster autoScroll when the elements are on the DOM\n\t\t\t\t\tthis.autoScroll(range, row.getElement(), column.getElement());\n\t\t\t\t}else{\n\t\t\t\t\trow.getComponent().scrollTo(undefined, false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!(columnRect.left >= columnManagerRect.left + this.getRowHeaderWidth() && columnRect.right <= columnManagerRect.right)){\n\t\t\t\tif(row.getElement().parentNode && column.getElement().parentNode){\n\t\t\t\t\t// Use faster autoScroll when the elements are on the DOM\n\t\t\t\t\tthis.autoScroll(range, row.getElement(), column.getElement());\n\t\t\t\t}else{\n\t\t\t\t\tcolumn.getComponent().scrollTo(undefined, false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.layoutElement();\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\trangeRemoved(removed){\n\t\tthis.ranges = this.ranges.filter((range) => range !== removed);\n\t\t\n\t\tif(this.activeRange === removed){\n\t\t\tif(this.ranges.length){\n\t\t\t\tthis.activeRange = this.ranges[this.ranges.length - 1];\n\t\t\t}else{\n\t\t\t\tthis.addRange();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.layoutElement();\n\t}\n\t\n\tfindJumpRow(column, rows, reverse, emptyStart, emptySide){\n\t\tif(reverse){\n\t\t\trows = rows.reverse();\n\t\t}\n\n\t\treturn this.findJumpItem(emptyStart, emptySide, rows, function(row){return row.getData()[column.getField()];});\n\t}\n\t\n\tfindJumpCol(row, columns, reverse, emptyStart, emptySide){\n\t\tif(reverse){\n\t\t\tcolumns = columns.reverse();\n\t\t}\n\n\t\treturn this.findJumpItem(emptyStart, emptySide, columns, function(column){return row.getData()[column.getField()];});\n\t}\n\n\tfindJumpItem(emptyStart, emptySide, items, valueResolver){\n\t\tvar nextItem;\n\n\t\tfor(let currentItem of items){\n\t\t\tlet currentValue = valueResolver(currentItem);\n\t\t\t\n\t\t\tif(emptyStart){\n\t\t\t\tnextItem = currentItem;\n\t\t\t\tif(currentValue){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(emptySide){\n\t\t\t\t\tnextItem = currentItem;\n\t\t\t\t\t\n\t\t\t\t\tif(currentValue){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(currentValue){\n\t\t\t\t\t\tnextItem = currentItem;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn nextItem;\n\t}\n\n\tfindJumpCellLeft(rowPos, colPos){\n\t\tvar row = this.getRowByRangePos(rowPos),\n\t\tcolumns = this.getTableColumns(),\n\t\tisStartingCellEmpty = this.isEmpty(row.getData()[columns[colPos].getField()]),\n\t\tisLeftOfStartingCellEmpty = columns[colPos - 1] ? this.isEmpty(row.getData()[columns[colPos - 1].getField()]) : false,\n\t\ttargetCols = this.rowHeader ? columns.slice(1, colPos) : columns.slice(0, colPos),\n\t\tjumpCol = this.findJumpCol(row, targetCols, true, isStartingCellEmpty, isLeftOfStartingCellEmpty);\n\t\t\n\t\tif(jumpCol){\n\t\t\treturn jumpCol.getPosition() - 1;\n\t\t}\n\t\t\n\t\treturn colPos;\n\t}\n\t\n\tfindJumpCellRight(rowPos, colPos){\n\t\tvar row = this.getRowByRangePos(rowPos),\n\t\tcolumns = this.getTableColumns(),\n\t\tisStartingCellEmpty = this.isEmpty(row.getData()[columns[colPos].getField()]),\n\t\tisRightOfStartingCellEmpty = columns[colPos + 1] ? this.isEmpty(row.getData()[columns[colPos + 1].getField()]) : false,\n\t\tjumpCol = this.findJumpCol(row, columns.slice(colPos + 1, columns.length), false, isStartingCellEmpty, isRightOfStartingCellEmpty);\n\t\t\n\t\tif(jumpCol){\n\t\t\treturn jumpCol.getPosition() - 1;\n\t\t}\n\t\t\n\t\treturn colPos;\n\t}\n\t\n\tfindJumpCellUp(rowPos, colPos) {\n\t\tvar column = this.getColumnByRangePos(colPos),\n\t\trows = this.getTableRows(),\n\t\tisStartingCellEmpty = this.isEmpty(rows[rowPos].getData()[column.getField()]),\n\t\tisTopOfStartingCellEmpty = rows[rowPos - 1] ? this.isEmpty(rows[rowPos - 1].getData()[column.getField()]) : false,\n\t\tjumpRow = this.findJumpRow(column, rows.slice(0, rowPos), true, isStartingCellEmpty, isTopOfStartingCellEmpty);\n\t\t\n\t\tif(jumpRow){\n\t\t\treturn jumpRow.position - 1;\n\t\t}\n\t\t\n\t\treturn rowPos;\n\t}\n\t\n\tfindJumpCellDown(rowPos, colPos) {\n\t\tvar column = this.getColumnByRangePos(colPos),\n\t\trows = this.getTableRows(),\n\t\tisStartingCellEmpty = this.isEmpty(rows[rowPos].getData()[column.getField()]),\n\t\tisBottomOfStartingCellEmpty = rows[rowPos + 1] ? this.isEmpty(rows[rowPos + 1].getData()[column.getField()]) : false,\n\t\tjumpRow = this.findJumpRow(column, rows.slice(rowPos + 1, rows.length), false, isStartingCellEmpty, isBottomOfStartingCellEmpty);\n\t\t\n\t\tif(jumpRow){\n\t\t\treturn jumpRow.position - 1;\n\t\t}\n\t\t\n\t\treturn rowPos;\n\t}\n\t\n\t///////////////////////////////////\n\t///////      Selection      ///////\n\t///////////////////////////////////\n\tnewSelection(event, element) {\n\t\tvar range;\n\t\t\n\t\tif (element.type === \"column\") {\n\t\t\tif(!this.columnSelection){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (element === this.rowHeader) {\n\t\t\t\trange = this.resetRanges();\n\t\t\t\tthis.selecting = \"all\";\n\t\t\t\t\n\t\t\t\tvar topLeftCell, bottomRightCell = this.getCell(-1, -1);\n\t\t\t\t\n\t\t\t\tif(this.rowHeader){\n\t\t\t\t\ttopLeftCell = this.getCell(0, 1);\n\t\t\t\t}else{\n\t\t\t\t\ttopLeftCell = this.getCell(0, 0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trange.setBounds(topLeftCell, bottomRightCell);\t\t\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.selecting = \"column\";\n\t\t\t}\n\t\t} else if (element.column === this.rowHeader) {\n\t\t\tthis.selecting = \"row\";\n\t\t} else {\n\t\t\tthis.selecting = \"cell\";\n\t\t}\n\t\t\n\t\tif (event.shiftKey) {\n\t\t\tthis.activeRange.setBounds(false, element);\n\t\t} else if (event.ctrlKey) {\n\t\t\tthis.addRange().setBounds(element);\n\t\t} else {\n\t\t\tthis.resetRanges().setBounds(element);\n\t\t}\n\t}\n\t\n\tautoScroll(range, row, column) {\n\t\tvar tableHolder = this.table.rowManager.element,\n\t\trect, view, withinHorizontalView, withinVerticalView;\n\t\t\n\t\tif (typeof row === 'undefined') {\n\t\t\trow = this.getRowByRangePos(range.end.row).getElement();\n\t\t}\n\t\t\n\t\tif (typeof column === 'undefined') {\n\t\t\tcolumn = this.getColumnByRangePos(range.end.col).getElement();\n\t\t}\n\t\t\n\t\trect = {\n\t\t\tleft: column.offsetLeft,\n\t\t\tright: column.offsetLeft + column.offsetWidth,\n\t\t\ttop: row.offsetTop,\n\t\t\tbottom: row.offsetTop + row.offsetHeight,\n\t\t};\n\t\t\n\t\tview = {\n\t\t\tleft: tableHolder.scrollLeft + this.getRowHeaderWidth(),\n\t\t\tright: Math.ceil(tableHolder.scrollLeft + tableHolder.clientWidth),\n\t\t\ttop: tableHolder.scrollTop,\n\t\t\tbottom:\ttableHolder.scrollTop +\ttableHolder.offsetHeight - this.table.rowManager.scrollbarWidth,\n\t\t};\n\t\t\n\t\twithinHorizontalView = view.left < rect.left &&\trect.left < view.right && view.left < rect.right &&\trect.right < view.right;\n\t\t\n\t\twithinVerticalView = view.top < rect.top &&\trect.top < view.bottom && view.top < rect.bottom &&\trect.bottom < view.bottom;\n\t\t\n\t\tif (!withinHorizontalView) {\n\t\t\tif (rect.left < view.left) {\n\t\t\t\ttableHolder.scrollLeft = rect.left - this.getRowHeaderWidth();\n\t\t\t} else if (rect.right > view.right) {\n\t\t\t\ttableHolder.scrollLeft = Math.min(rect.right - tableHolder.clientWidth, rect.left - this.getRowHeaderWidth());\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!withinVerticalView) {\n\t\t\tif (rect.top < view.top) {\n\t\t\t\ttableHolder.scrollTop = rect.top;\n\t\t\t} else if (rect.bottom > view.bottom) {\n\t\t\t\ttableHolder.scrollTop = rect.bottom - tableHolder.clientHeight;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////       Layout        ///////\n\t///////////////////////////////////\n\t\n\tlayoutChange(){\n\t\tthis.overlay.style.visibility = \"hidden\";\n\t\tclearTimeout(this.layoutChangeTimeout);\n\t\tthis.layoutChangeTimeout = setTimeout(this.layoutRanges.bind(this), 200);\n\t}\n\t\n\tredraw(force) {\n\t\tif (force) {\n\t\t\tthis.selecting = 'cell';\n\t\t\tthis.resetRanges();\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\t\n\tlayoutElement(visibleRows) {\n\t\tvar rows;\n\t\t\n\t\tif (visibleRows) {\n\t\t\trows = this.table.rowManager.getVisibleRows(true);\n\t\t} else {\n\t\t\trows = this.table.rowManager.getRows();\n\t\t}\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif (row.type === \"row\") {\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\trow.cells.forEach((cell) => this.renderCell(cell));\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.getTableColumns().forEach((column) => {\n\t\t\tthis.layoutColumn(column);\n\t\t});\n\t\t\n\t\tthis.layoutRanges();\n\t}\n\t\n\tlayoutRow(row) {\n\t\tvar el = row.getElement(),\n\t\tselected = false,\n\t\toccupied = this.ranges.some((range) => range.occupiesRow(row));\n\t\t\n\t\tif (this.selecting === \"row\") {\n\t\t\tselected = occupied;\n\t\t} else if (this.selecting === \"all\") {\n\t\t\tselected = true;\n\t\t}\n\t\t\n\t\tel.classList.toggle(\"tabulator-range-selected\", selected);\n\t\tel.classList.toggle(\"tabulator-range-highlight\", occupied);\n\t}\n\t\n\tlayoutColumn(column) {\n\t\tvar el = column.getElement(),\t\t\n\t\tselected = false,\n\t\toccupied = this.ranges.some((range) => range.occupiesColumn(column));\n\t\t\n\t\tif (this.selecting === \"column\") {\n\t\t\tselected = occupied;\n\t\t} else if (this.selecting === \"all\") {\n\t\t\tselected = true;\n\t\t}\n\t\t\n\t\tel.classList.toggle(\"tabulator-range-selected\", selected);\n\t\tel.classList.toggle(\"tabulator-range-highlight\", occupied);\n\t}\n\t\n\tlayoutRanges() {\n\t\tvar activeCell, activeCellEl, activeRowEl;\n\t\t\n\t\tif (!this.table.initialized) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tactiveCell = this.getActiveCell();\n\t\t\n\t\tif (!activeCell) {\n\t\t\treturn;\n\t\t}\n\n\t\tactiveCellEl = activeCell.getElement();\n\t\tactiveRowEl = activeCell.row.getElement();\n\n\t\tif(this.table.rtl){\n\t\t\tthis.activeRangeCellElement.style.right = activeRowEl.offsetWidth - activeCellEl.offsetLeft - activeCellEl.offsetWidth + \"px\";\n\t\t}else{\n\t\t\tthis.activeRangeCellElement.style.left = activeRowEl.offsetLeft + activeCellEl.offsetLeft + \"px\";\n\t\t}\n\n\t\tthis.activeRangeCellElement.style.top =\tactiveRowEl.offsetTop + \"px\";\n\t\tthis.activeRangeCellElement.style.width = activeCellEl.offsetWidth + \"px\";\n\t\tthis.activeRangeCellElement.style.height =  activeRowEl.offsetHeight  + \"px\";\n\t\t\n\t\tthis.ranges.forEach((range) => range.layout());\n\t\t\n\t\tthis.overlay.style.visibility = \"visible\";\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////  Helper Functions   ///////\n\t///////////////////////////////////\t\n\t\n\tgetCell(rowIdx, colIdx) {\n\t\tvar row;\n\t\t\n\t\tif (colIdx < 0) {\n\t\t\tcolIdx = this.getTableColumns().length + colIdx;\n\t\t\tif (colIdx < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (rowIdx < 0) {\n\t\t\trowIdx = this.getTableRows().length + rowIdx;\n\t\t}\n\t\t\n\t\trow = this.table.rowManager.getRowFromPosition(rowIdx + 1);\n\t\t\n\t\treturn row ? row.getCells(false, true).filter((cell) => cell.column.visible)[colIdx] : null;\n\t}\n\t\n\t\n\tgetActiveCell() {\n\t\treturn this.getCell(this.activeRange.start.row, this.activeRange.start.col);\n\t}\n\t\n\tgetRowByRangePos(pos) {\n\t\treturn this.getTableRows()[pos];\n\t}\n\t\n\tgetColumnByRangePos(pos) {\n\t\treturn this.getTableColumns()[pos];\n\t}\n\t\n\tgetTableRows() {\n\t\treturn this.table.rowManager.getDisplayRows().filter(row=> row.type === \"row\");\n\t}\n\t\n\tgetTableColumns() {\n\t\treturn this.table.columnManager.getVisibleColumnsByIndex();\n\t}\n\t\n\taddRange(start, end) {\n\t\tvar  range;\n\t\t\n\t\tif(this.maxRanges !== true && this.ranges.length >= this.maxRanges){\n\t\t\tthis.ranges.shift().destroy();\n\t\t}\n\t\t\n\t\trange = new Range(this.table, this, start, end);\n\t\t\n\t\tthis.activeRange = range;\n\t\tthis.ranges.push(range);\n\t\tthis.rangeContainer.appendChild(range.element);\n\t\t\n\t\treturn range;\n\t}\n\t\n\tresetRanges() {\n\t\tvar range, cell, visibleCells;\n\t\t\n\t\tthis.ranges.forEach((range) => range.destroy());\n\t\tthis.ranges = [];\n\t\t\n\t\trange = this.addRange();\n\t\t\n\t\tif(this.table.rowManager.activeRows.length){\n\t\t\tvisibleCells = this.table.rowManager.activeRows[0].cells.filter((cell) => cell.column.visible);\n\t\t\tcell = visibleCells[this.rowHeader ? 1 : 0];\n\n\t\t\tif(cell){\n\t\t\t\trange.setBounds(cell);\n\t\t\t\tif(this.options(\"selectableRangeAutoFocus\")){\n\t\t\t\t\tthis.initializeFocus(cell);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn range;\n\t}\n\t\n\ttableDestroyed(){\n\t\tdocument.removeEventListener(\"mouseup\", this.mouseUpEvent);\n\t\tthis.table.rowManager.element.removeEventListener(\"keydown\", this.keyDownEvent);\n\t}\n\t\n\tselectedRows(component) {\n\t\treturn component ? this.activeRange.getRows().map((row) => row.getComponent()) : this.activeRange.getRows();\n\t}\n\t\n\tselectedColumns(component) {\n\t\treturn component ? this.activeRange.getColumns().map((col) => col.getComponent()) : this.activeRange.getColumns();\n\t}\n\n\tgetRowHeaderWidth(){\n\t\tif(!this.rowHeader){\n\t\t\treturn 0;\n\t\t}\n\t\treturn this.rowHeader.getElement().offsetWidth;\n\t}\n\n\tisEmpty(value) {\n\t\treturn value === null || value === undefined || value === \"\";\n\t}\n}\n","//sort numbers\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar decimal = params.decimalSeparator;\n\tvar thousand = params.thousandSeparator;\n\tvar emptyAlign = 0;\n\n\ta = String(a);\n\tb = String(b);\n\n\tif(thousand){\n\t\ta = a.split(thousand).join(\"\");\n\t\tb = b.split(thousand).join(\"\");\n\t}\n\n\tif(decimal){\n\t\ta = a.split(decimal).join(\".\");\n\t\tb = b.split(decimal).join(\".\");\n\t}\n\n\ta = parseFloat(a);\n\tb = parseFloat(b);\n\n\t//handle non numeric values\n\tif(isNaN(a)){\n\t\temptyAlign =  isNaN(b) ? 0 : -1;\n\t}else if(isNaN(b)){\n\t\temptyAlign =  1;\n\t}else{\n\t\t//compare valid values\n\t\treturn a - b;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","//sort strings\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\tvar locale;\n\n\t//handle empty values\n\tif(!a){\n\t\temptyAlign =  !b ? 0 : -1;\n\t}else if(!b){\n\t\temptyAlign =  1;\n\t}else{\n\t\t//compare valid values\n\t\tswitch(typeof params.locale){\n\t\t\tcase \"boolean\":\n\t\t\t\tif(params.locale){\n\t\t\t\t\tlocale = this.langLocale();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"string\":\n\t\t\t\tlocale = params.locale;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase(), locale);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","//sort datetime\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar DT = this.table.dependencyRegistry.lookup([\"luxon\", \"DateTime\"], \"DateTime\");\n\tvar format = params.format || \"dd/MM/yyyy HH:mm:ss\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tif(typeof DT != \"undefined\"){\n\t\tif(!DT.isDateTime(a)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\ta = DT.fromISO(String(a));\n\t\t\t}else{\n\t\t\t\ta = DT.fromFormat(String(a), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!DT.isDateTime(b)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\tb = DT.fromISO(String(b));\n\t\t\t}else{\n\t\t\t\tb = DT.fromFormat(String(b), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!a.isValid){\n\t\t\temptyAlign = !b.isValid ? 0 : -1;\n\t\t}else if(!b.isValid){\n\t\t\temptyAlign =  1;\n\t\t}else{\n\t\t\t//compare valid values\n\t\t\treturn a - b;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\n\t}else{\n\t\tconsole.error(\"Sort Error - 'datetime' sorter is dependant on luxon.js\");\n\t}\n}","import datetime from './datetime.js';\n\n//sort date\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"dd/MM/yyyy\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n}","import datetime from './datetime.js';\n\n//sort times\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"HH:mm\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n}","//sort booleans\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = a === true || a === \"true\" || a === \"True\" || a === 1 ? 1 : 0;\n\tvar el2 = b === true || b === \"true\" || b === \"True\" || b === 1 ? 1 : 0;\n\n\treturn el1 - el2;\n}","import Helpers from '../../../../core/tools/Helpers.js';\n\n//sort if element contains any data\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar type = params.type || \"length\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0,\n\ttable = this.table,\n\tvalueMap;\n\n\tif(params.valueMap){\n\t\tif(typeof params.valueMap === \"string\"){\n\t\t\tvalueMap = function(value){\n\t\t\t\treturn value.map((item) => {\n\t\t\t\t\treturn Helpers.retrieveNestedData(table.options.nestedFieldSeparator, params.valueMap, item);\n\t\t\t\t});\n\t\t\t};\n\t\t}else{\n\t\t\tvalueMap = params.valueMap;\n\t\t}\n\t}\n\n\tfunction calc(value){\n\t\tvar result;\n\t\t\n\t\tif(valueMap){\n\t\t\tvalue = valueMap(value);\n\t\t}\n\n\t\tswitch(type){\n\t\t\tcase \"length\":\n\t\t\t\tresult = value.length;\n\t\t\t\tbreak;\n\n\t\t\tcase \"sum\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"max\":\n\t\t\t\tresult = Math.max.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"min\":\n\t\t\t\tresult = Math.min.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"avg\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t}) / value.length;\n\t\t\t\tbreak;\n\n\t\t\tcase \"string\":\n\t\t\t\tresult = value.join(\"\");\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t//handle non array values\n\tif(!Array.isArray(a)){\n\t\temptyAlign = !Array.isArray(b) ? 0 : -1;\n\t}else if(!Array.isArray(b)){\n\t\temptyAlign = 1;\n\t}else{\n\t\tif(type === \"string\"){\n\t\t\treturn String(calc(a)).toLowerCase().localeCompare(String(calc(b)).toLowerCase());\n\t\t}else{\n\t\t\treturn calc(b) - calc(a);\n\t\t}\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","//sort if element contains any data\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = typeof a == \"undefined\" ? 0 : 1;\n\tvar el2 = typeof b == \"undefined\" ? 0 : 1;\n\n\treturn el1 - el2;\n}","//sort alpha numeric strings\nexport default function(as, bs, aRow, bRow, column, dir, params){\n\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\n\t//handle empty values\n\tif(!as && as!== 0){\n\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t}else if(!bs && bs!== 0){\n\t\temptyAlign =  1;\n\t}else{\n\n\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\ta = String(as).toLowerCase();\n\t\tb = String(bs).toLowerCase();\n\t\tif(a === b) return 0;\n\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\ta = a.match(rx);\n\t\tb = b.match(rx);\n\t\tL = a.length > b.length ? b.length : a.length;\n\t\twhile(i < L){\n\t\t\ta1= a[i];\n\t\t\tb1= b[i++];\n\t\t\tif(a1 !== b1){\n\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\treturn a1 - b1;\n\t\t\t\t}\n\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t}\n\t\t}\n\n\t\treturn a.length > b.length;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","import number from './sorters/number.js';\nimport string from './sorters/string.js';\nimport date from './sorters/date.js';\nimport time from './sorters/time.js';\nimport datetime from './sorters/datetime.js';\nimport boolean from './sorters/boolean.js';\nimport array from './sorters/array.js';\nimport exists from './sorters/exists.js';\nimport alphanum from './sorters/alphanum.js';\n\nexport default {\n\tnumber:number,\n\tstring:string,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tboolean:boolean,\n\tarray:array,\n\texists:exists,\n\talphanum:alphanum\n};","import Module from '../../core/Module.js';\n\nimport defaultSorters from './defaults/sorters.js';\n\nexport default class Sort extends Module{\n\n\tstatic moduleName = \"sort\";\n\n\t//load defaults\n\tstatic sorters = defaultSorters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.sortList = []; //holder current sort\n\t\tthis.changed = false; //has the sort changed since last render\n\t\t\n\t\tthis.registerTableOption(\"sortMode\", \"local\"); //local or remote sorting\n\t\t\n\t\tthis.registerTableOption(\"initialSort\", false); //initial sorting criteria\n\t\tthis.registerTableOption(\"columnHeaderSortMulti\", true); //multiple or single column sorting\n\t\tthis.registerTableOption(\"sortOrderReverse\", false); //reverse internal sort ordering\n\t\tthis.registerTableOption(\"headerSortElement\", \"<div class='tabulator-arrow'></div>\"); //header sort element\n\t\tthis.registerTableOption(\"headerSortClickElement\", \"header\"); //element which triggers sort when clicked\n\t\t\n\t\tthis.registerColumnOption(\"sorter\");\n\t\tthis.registerColumnOption(\"sorterParams\");\n\t\t\n\t\tthis.registerColumnOption(\"headerSort\", true);\n\t\tthis.registerColumnOption(\"headerSortStartingDir\");\n\t\tthis.registerColumnOption(\"headerSortTristate\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.registerDataHandler(this.sort.bind(this), 20);\n\t\t\n\t\tthis.registerTableFunction(\"setSort\", this.userSetSort.bind(this));\n\t\tthis.registerTableFunction(\"getSorters\", this.getSort.bind(this));\n\t\tthis.registerTableFunction(\"clearSort\", this.clearSort.bind(this));\n\t\t\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteSortParams.bind(this));\n\t\t}\n\t}\n\t\n\ttableBuilt(){\n\t\tif(this.table.options.initialSort){\n\t\t\tthis.setSort(this.table.options.initialSort);\n\t\t}\n\t}\n\t\n\tremoteSortParams(data, config, silent, params){\n\t\tvar sorters = this.getSort();\n\t\t\n\t\tsorters.forEach((item) => {\n\t\t\tdelete item.column;\n\t\t});\n\t\t\n\t\tparams.sort = sorters;\n\t\t\n\t\treturn params;\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetSort(sortList, dir){\n\t\tthis.setSort(sortList, dir);\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\t\n\tclearSort(){\n\t\tthis.clear();\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\t//initialize column header for sorting\n\tinitializeColumn(column){\n\t\tvar sorter = false,\n\t\tcolEl,\n\t\tarrowEl;\n\t\t\n\t\tswitch(typeof column.definition.sorter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Sort.sorters[column.definition.sorter]){\n\t\t\t\t\tsorter = Sort.sorters[column.definition.sorter];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Sort Error - No such sorter found: \", column.definition.sorter);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tsorter = column.definition.sorter;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tcolumn.modules.sort = {\n\t\t\tsorter:sorter, dir:\"none\",\n\t\t\tparams:column.definition.sorterParams || {},\n\t\t\tstartingDir:column.definition.headerSortStartingDir || \"asc\",\n\t\t\ttristate: column.definition.headerSortTristate,\n\t\t};\n\t\t\n\t\tif(column.definition.headerSort !== false){\n\t\t\t\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tcolEl.classList.add(\"tabulator-sortable\");\n\t\t\t\n\t\t\tarrowEl = document.createElement(\"div\");\n\t\t\tarrowEl.classList.add(\"tabulator-col-sorter\");\n\t\t\t\n\t\t\tswitch(this.table.options.headerSortClickElement){\n\t\t\t\tcase \"icon\":\n\t\t\t\t\tarrowEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"header\":\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tswitch(this.table.options.headerSortElement){\n\t\t\t\tcase \"function\":\n\t\t\t\t//do nothing\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"object\":\n\t\t\t\t\tarrowEl.appendChild(this.table.options.headerSortElement);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\tarrowEl.innerHTML = this.table.options.headerSortElement;\n\t\t\t}\n\t\t\t\n\t\t\t//create sorter arrow\n\t\t\tcolumn.titleHolderElement.appendChild(arrowEl);\n\t\t\t\n\t\t\tcolumn.modules.sort.element = arrowEl;\n\t\t\t\n\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\t\t\t\n\t\t\tif(this.table.options.headerSortClickElement === \"icon\"){\n\t\t\t\tarrowEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//sort on click\n\t\t\t(this.table.options.headerSortClickElement === \"icon\" ? arrowEl : colEl).addEventListener(\"click\", (e) => {\n\t\t\t\tvar dir = \"\",\n\t\t\t\tsorters=[],\n\t\t\t\tmatch = false;\n\t\t\t\t\n\t\t\t\tif(column.modules.sort){\n\t\t\t\t\tif(column.modules.sort.tristate){\n\t\t\t\t\t\tif(column.modules.sort.dir == \"none\"){\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(column.modules.sort.dir == column.modules.sort.startingDir){\n\t\t\t\t\t\t\t\tdir = column.modules.sort.dir == \"asc\" ? \"desc\" : \"asc\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tdir = \"none\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tswitch(column.modules.sort.dir){\n\t\t\t\t\t\t\tcase \"asc\":\n\t\t\t\t\t\t\t\tdir = \"desc\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase \"desc\":\n\t\t\t\t\t\t\t\tdir = \"asc\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (this.table.options.columnHeaderSortMulti && (e.shiftKey || e.ctrlKey)) {\n\t\t\t\t\t\tsorters = this.getSort();\n\t\t\t\t\t\t\n\t\t\t\t\t\tmatch = sorters.findIndex((sorter) => {\n\t\t\t\t\t\t\treturn sorter.field === column.getField();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(match > -1){\n\t\t\t\t\t\t\tsorters[match].dir = dir;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tmatch = sorters.splice(match, 1)[0];\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push(match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push({column:column, dir:dir});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//add to existing sort\n\t\t\t\t\t\tthis.setSort(sorters);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(dir == \"none\"){\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t//sort by column only\n\t\t\t\t\t\t\tthis.setSort(column, dir);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// this.table.rowManager.sorterRefresh(!this.sortList.length);\n\t\t\t\t\tthis.refreshSort();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\trefreshSort(){\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.reloadData(null, false, false);\n\t\t}else{\n\t\t\tthis.refreshData(true);\n\t\t}\n\t\t\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\t\n\t//check if the sorters have changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\t\n\t//return current sorters\n\tgetSort(){\n\t\tvar self = this,\n\t\tsorters = [];\n\t\t\n\t\tself.sortList.forEach(function(item){\n\t\t\tif(item.column){\n\t\t\t\tsorters.push({column:item.column.getComponent(), field:item.column.getField(), dir:item.dir});\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn sorters;\n\t}\n\t\n\t//change sort list and trigger sort\n\tsetSort(sortList, dir){\n\t\tvar self = this,\n\t\tnewSortList = [];\n\t\t\n\t\tif(!Array.isArray(sortList)){\n\t\t\tsortList = [{column: sortList, dir:dir}];\n\t\t}\n\t\t\n\t\tsortList.forEach(function(item){\n\t\t\tvar column;\n\t\t\t\n\t\t\tcolumn = self.table.columnManager.findColumn(item.column);\n\t\t\t\n\t\t\tif(column){\n\t\t\t\titem.column = column;\n\t\t\t\tnewSortList.push(item);\n\t\t\t\tself.changed = true;\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", item.column);\n\t\t\t}\n\t\t\t\n\t\t});\n\t\t\n\t\tself.sortList = newSortList;\n\t\t\n\t\tthis.dispatch(\"sort-changed\");\n\t}\n\t\n\t//clear sorters\n\tclear(){\n\t\tthis.setSort([]);\n\t}\n\t\n\t//find appropriate sorter for column\n\tfindSorter(column){\n\t\tvar row = this.table.rowManager.activeRows[0],\n\t\tsorter = \"string\",\n\t\tfield, value;\n\t\t\n\t\tif(row){\n\t\t\trow = row.getData();\n\t\t\tfield = column.getField();\n\t\t\t\n\t\t\tif(field){\n\t\t\t\t\n\t\t\t\tvalue = column.getFieldValue(row);\n\t\t\t\t\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Sort.sorters[sorter];\n\t}\n\t\n\t//work through sort list sorting data\n\tsort(data, sortOnly){\n\t\tvar self = this,\n\t\tsortList = this.table.options.sortOrderReverse ? self.sortList.slice().reverse() : self.sortList,\n\t\tsortListActual = [],\n\t\trowComponents = [];\n\t\t\n\t\tif(this.subscribedExternal(\"dataSorting\")){\n\t\t\tthis.dispatchExternal(\"dataSorting\", self.getSort());\n\t\t}\n\t\t\n\t\tif(!sortOnly) {\n\t\t\tself.clearColumnHeaders();\n\t\t}\n\t\t\n\t\tif(this.table.options.sortMode !== \"remote\"){\n\t\t\t\n\t\t\t//build list of valid sorters and trigger column specific callbacks before sort begins\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tvar sortObj;\n\t\t\t\t\n\t\t\t\tif(item.column){\n\t\t\t\t\tsortObj = item.column.modules.sort;\n\t\t\t\t\t\n\t\t\t\t\tif(sortObj){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//if no sorter has been defined, take a guess\n\t\t\t\t\t\tif(!sortObj.sorter){\n\t\t\t\t\t\t\tsortObj.sorter = self.findSorter(item.column);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\titem.params = typeof sortObj.params === \"function\" ? sortObj.params(item.column.getComponent(), item.dir) : sortObj.params;\n\t\t\t\t\t\t\n\t\t\t\t\t\tsortListActual.push(item);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(!sortOnly) {\n\t\t\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t//sort data\n\t\t\tif (sortListActual.length) {\n\t\t\t\tself._sortItems(data, sortListActual);\n\t\t\t}\n\t\t\t\n\t\t}else if(!sortOnly) {\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t});\n\t\t}\n\n\t\t\n\t\tif(this.subscribedExternal(\"dataSorted\")){\n\t\t\tdata.forEach((row) => {\n\t\t\t\trowComponents.push(row.getComponent());\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"dataSorted\", self.getSort(), rowComponents);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\t//clear sort arrows on columns\n\tclearColumnHeaders(){\n\t\tthis.table.columnManager.getRealColumns().forEach((column) => {\n\t\t\tif(column.modules.sort){\n\t\t\t\tcolumn.modules.sort.dir = \"none\";\n\t\t\t\tcolumn.getElement().setAttribute(\"aria-sort\", \"none\");\n\t\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//set the column header sort direction\n\tsetColumnHeader(column, dir){\n\t\tcolumn.modules.sort.dir = dir;\n\t\tcolumn.getElement().setAttribute(\"aria-sort\", dir === \"asc\" ? \"ascending\" : \"descending\");\n\t\tthis.setColumnHeaderSortIcon(column, dir);\n\t}\n\t\n\tsetColumnHeaderSortIcon(column, dir){\n\t\tvar sortEl = column.modules.sort.element,\n\t\tarrowEl;\n\t\t\n\t\tif(column.definition.headerSort && typeof this.table.options.headerSortElement === \"function\"){\n\t\t\twhile(sortEl.firstChild) sortEl.removeChild(sortEl.firstChild);\n\t\t\t\n\t\t\tarrowEl = this.table.options.headerSortElement.call(this.table, column.getComponent(), dir);\n\t\t\t\n\t\t\tif(typeof arrowEl === \"object\"){\n\t\t\t\tsortEl.appendChild(arrowEl);\n\t\t\t}else{\n\t\t\t\tsortEl.innerHTML = arrowEl;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//sort each item in sort list\n\t_sortItems(data, sortList){\n\t\tvar sorterCount = sortList.length - 1;\n\t\t\n\t\tdata.sort((a, b) => {\n\t\t\tvar result;\n\t\t\t\n\t\t\tfor(var i = sorterCount; i>= 0; i--){\n\t\t\t\tlet sortItem = sortList[i];\n\t\t\t\t\n\t\t\t\tresult = this._sortRow(a, b, sortItem.column, sortItem.dir, sortItem.params);\n\t\t\t\t\n\t\t\t\tif(result !== 0){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn result;\n\t\t});\n\t}\n\t\n\t//process individual rows for a sort function on active data\n\t_sortRow(a, b, column, dir, params){\n\t\tvar el1Comp, el2Comp;\n\t\t\n\t\t//switch elements depending on search direction\n\t\tvar el1 = dir == \"asc\" ? a : b;\n\t\tvar el2 = dir == \"asc\" ? b : a;\n\t\t\n\t\ta = column.getFieldValue(el1.getData());\n\t\tb = column.getFieldValue(el2.getData());\n\t\t\n\t\ta = typeof a !== \"undefined\" ? a : \"\";\n\t\tb = typeof b !== \"undefined\" ? b : \"\";\n\t\t\n\t\tel1Comp = el1.getComponent();\n\t\tel2Comp = el2.getComponent();\n\t\t\n\t\treturn column.modules.sort.sorter.call(this, a, b, el1Comp, el2Comp, column.getComponent(), dir, params);\n\t}\n}","export default class GridCalculator{\r\n\tconstructor(columns, rows){\r\n\t\tthis.columnCount = columns;\r\n\t\tthis.rowCount = rows;\r\n\r\n\t\tthis.columnString = [];\r\n\t\tthis.columns = [];\r\n\t\tthis.rows = [];\r\n\t}\r\n\r\n\tgenColumns(data){\r\n\t\tvar colCount = Math.max(this.columnCount, Math.max(...data.map(item => item.length)));\r\n\r\n\t\tthis.columnString = [];\r\n\t\tthis.columns = [];\r\n\r\n\t\tfor(let i = 1; i <= colCount; i++){\r\n\t\t\tthis.incrementChar(this.columnString.length - 1);\r\n\t\t\tthis.columns.push(this.columnString.join(\"\"));\r\n\t\t}\r\n\r\n\t\treturn this.columns;\r\n\t}\r\n\r\n\tgenRows(data){\r\n\t\tvar rowCount = Math.max(this.rowCount, data.length);\r\n\r\n\t\tthis.rows = [];\r\n\r\n\t\tfor(let i = 1; i <= rowCount; i++){\r\n\t\t\tthis.rows.push(i);\r\n\t\t}\r\n\t\t\r\n\t\treturn this.rows;\r\n\t}\r\n\r\n\tincrementChar(i){\r\n\t\tlet char = this.columnString[i];\r\n\r\n\t\tif(char){\r\n\t\t\tif(char !== \"Z\"){\r\n\t\t\t\tthis.columnString[i] = String.fromCharCode(this.columnString[i].charCodeAt(0) + 1);\r\n\t\t\t}else{\r\n\t\t\t\tthis.columnString[i] = \"A\";\r\n\t\t\t\t\r\n\t\t\t\tif(i){\r\n\t\t\t\t\tthis.incrementChar(i-1);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.columnString.push(\"A\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.columnString.push(\"A\");\r\n\t\t}\r\n\t}\r\n\r\n\tsetRowCount(count){\r\n\t\tthis.rowCount = count;\r\n\t}\r\n\r\n\tsetColumnCount(count){\r\n\t\tthis.columnCount = count;\r\n\t}\r\n}","export default class SheetComponent {\r\n\tconstructor(sheet) {\r\n\t\tthis._sheet = sheet;\r\n\r\n\t\treturn new Proxy(this, {\r\n\t\t\tget: function (target, name, receiver) {\r\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\r\n\t\t\t\t\treturn target[name];\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn target._sheet.table.componentFunctionBinder.handle(\"sheet\", target._sheet, name);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tgetTitle(){\r\n\t\treturn this._sheet.title;\r\n\t}\r\n\r\n\tgetKey(){\r\n\t\treturn this._sheet.key;\r\n\t}\r\n\r\n\tgetDefinition(){\r\n\t\treturn this._sheet.getDefinition();\r\n\t}\r\n\r\n\tgetData() {\r\n\t\treturn this._sheet.getData();\r\n\t}\r\n\r\n\tsetData(data) {\r\n\t\treturn this._sheet.setData(data);\r\n\t}\r\n\r\n\tclear(){\r\n\t\treturn this._sheet.clear();\r\n\t}\r\n\r\n\tremove(){\r\n\t\treturn this._sheet.remove();\r\n\t}\r\n\t\r\n\tactive(){\r\n\t\treturn this._sheet.active();\r\n\t}\r\n\r\n\tsetTitle(title){\r\n\t\treturn this._sheet.setTitle(title);\r\n\t}\r\n\r\n\tsetRows(rows){\r\n\t\treturn this._sheet.setRows(rows);\r\n\t}\r\n\r\n\tsetColumns(columns){\r\n\t\treturn this._sheet.setColumns(columns);\r\n\t}\r\n}","import CoreFeature from '../../core/CoreFeature.js';\r\nimport GridCalculator from \"./GridCalculator\";\r\nimport SheetComponent from \"./SheetComponent\";\r\n\r\nexport default class Sheet extends CoreFeature{\r\n\tconstructor(spreadsheetManager, definition) {\r\n\t\tsuper(spreadsheetManager.table);\r\n\t\t\r\n\t\tthis.spreadsheetManager = spreadsheetManager;\r\n\t\tthis.definition = definition;\r\n\t\t\r\n\t\tthis.title = this.definition.title || \"\";\r\n\t\tthis.key = this.definition.key || this.definition.title;\r\n\t\tthis.rowCount = this.definition.rows;\r\n\t\tthis.columnCount = this.definition.columns;\r\n\t\tthis.data = this.definition.data || [];\r\n\t\tthis.element = null;\r\n\t\tthis.isActive = false;\r\n\t\t\r\n\t\tthis.grid = new GridCalculator(this.columnCount, this.rowCount);\r\n\t\t\r\n\t\tthis.defaultColumnDefinition = {width:100, headerHozAlign:\"center\", headerSort:false};\r\n\t\tthis.columnDefinition = Object.assign(this.defaultColumnDefinition, this.options(\"spreadsheetColumnDefinition\"));\r\n\t\t\r\n\t\tthis.columnDefs = [];\r\n\t\tthis.rowDefs = [];\r\n\t\tthis.columnFields = [];\r\n\t\tthis.columns = [];\r\n\t\tthis.rows = [];\r\n\t\t\r\n\t\tthis.scrollTop = null;\r\n\t\tthis.scrollLeft = null;\r\n\t\t\r\n\t\tthis.initialize();\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetAdded\", this.getComponent());\r\n\t}\r\n\t\r\n\t///////////////////////////////////\r\n\t///////// Initialization //////////\r\n\t///////////////////////////////////\r\n\t\r\n\tinitialize(){\r\n\t\tthis.initializeElement();\r\n\t\tthis.initializeColumns();\r\n\t\tthis.initializeRows();\r\n\t}\r\n\t\r\n\treinitialize(){\r\n\t\tthis.initializeColumns();\r\n\t\tthis.initializeRows();\r\n\t}\r\n\t\r\n\tinitializeElement(){\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.element.classList.add(\"tabulator-spreadsheet-tab\");\r\n\t\tthis.element.innerText = this.title;\r\n\t\t\r\n\t\tthis.element.addEventListener(\"click\", () => {\r\n\t\t\tthis.spreadsheetManager.loadSheet(this);\r\n\t\t});\r\n\t}\r\n\t\r\n\tinitializeColumns(){\r\n\t\tthis.grid.setColumnCount(this.columnCount);\r\n\t\tthis.columnFields = this.grid.genColumns(this.data);\r\n\t\t\r\n\t\tthis.columnDefs = [];\r\n\t\t\r\n\t\tthis.columnFields.forEach((ref) => {\r\n\t\t\tvar def = Object.assign({}, this.columnDefinition);\r\n\t\t\tdef.field = ref;\r\n\t\t\tdef.title = ref;\r\n\t\t\t\r\n\t\t\tthis.columnDefs.push(def);\r\n\t\t});\r\n\t}\r\n\t\r\n\tinitializeRows(){\r\n\t\tvar refs;\r\n\t\t\r\n\t\tthis.grid.setRowCount(this.rowCount);\r\n\t\t\r\n\t\trefs = this.grid.genRows(this.data);\r\n\t\t\r\n\t\tthis.rowDefs = [];\r\n\t\t\r\n\t\trefs.forEach((ref, i) => {\r\n\t\t\tvar def = {\"_id\":ref};\r\n\t\t\tvar data = this.data[i];\r\n\t\t\t\r\n\t\t\tif(data){\r\n\t\t\t\tdata.forEach((val, j) => {\r\n\t\t\t\t\tvar field = this.columnFields[j];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(field){\r\n\t\t\t\t\t\tdef[field] = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.rowDefs.push(def);\r\n\t\t});\r\n\t}\r\n\t\r\n\tunload(){\r\n\t\tthis.isActive = false;\r\n\t\tthis.scrollTop = this.table.rowManager.scrollTop;\r\n\t\tthis.scrollLeft = this.table.rowManager.scrollLeft;\r\n\t\tthis.data = this.getData(true);\r\n\t\tthis.element.classList.remove(\"tabulator-spreadsheet-tab-active\");\r\n\t}\r\n\t\r\n\tload(){\r\n\t\t\r\n\t\tvar wasInactive = !this.isActive;\r\n\t\t\r\n\t\tthis.isActive = true;\r\n\t\tthis.table.blockRedraw();\r\n\t\tthis.table.setData([]);\r\n\t\tthis.table.setColumns(this.columnDefs);\r\n\t\tthis.table.setData(this.rowDefs);\r\n\t\tthis.table.restoreRedraw();\r\n\t\t\r\n\t\tif(wasInactive && this.scrollTop !== null){\r\n\t\t\tthis.table.rowManager.element.scrollLeft = this.scrollLeft;\r\n\t\t\tthis.table.rowManager.element.scrollTop = this.scrollTop;\r\n\t\t}\r\n\t\t\r\n\t\tthis.element.classList.add(\"tabulator-spreadsheet-tab-active\");\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetLoaded\", this.getComponent());\r\n\t}\r\n\t\r\n\t///////////////////////////////////\r\n\t//////// Helper Functions /////////\r\n\t///////////////////////////////////\r\n\t\r\n\tgetComponent(){\r\n\t\treturn new SheetComponent(this);\r\n\t}\r\n\t\r\n\tgetDefinition(){\r\n\t\treturn {\r\n\t\t\ttitle:this.title,\r\n\t\t\tkey:this.key,\r\n\t\t\trows:this.rowCount,\r\n\t\t\tcolumns:this.columnCount,\r\n\t\t\tdata:this.getData(),\r\n\t\t};\r\n\t}\r\n\t\r\n\tgetData(full){\r\n\t\tvar output = [], \r\n\t\trowWidths,\r\n\t\toutputWidth, outputHeight;\r\n\t\t\r\n\t\t//map data to array format\r\n\t\tthis.rowDefs.forEach((rowData) => {\r\n\t\t\tvar row = [];\r\n\t\t\t\r\n\t\t\tthis.columnFields.forEach((field) => {\r\n\t\t\t\trow.push(rowData[field]);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\toutput.push(row);\r\n\t\t});\r\n\t\t\r\n\t\t//trim output\r\n\t\tif(!full && !this.options(\"spreadsheetOutputFull\")){\r\n\t\t\t\r\n\t\t\t//calculate used area of data\r\n\t\t\trowWidths = output.map(row => row.findLastIndex(val => typeof val !== 'undefined') + 1);\r\n\t\t\toutputWidth = Math.max(...rowWidths);\r\n\t\t\toutputHeight = rowWidths.findLastIndex(width => width > 0) + 1;\r\n\t\t\t\r\n\t\t\toutput = output.slice(0, outputHeight);\r\n\t\t\toutput = output.map(row => row.slice(0, outputWidth));\r\n\t\t}\r\n\t\t\r\n\t\treturn output;\r\n\t}\r\n\t\r\n\tsetData(data){\r\n\t\tthis.data = data;\r\n\t\tthis.reinitialize();\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetUpdated\", this.getComponent());\r\n\t\t\r\n\t\tif(this.isActive){\r\n\t\t\tthis.load();\r\n\t\t}\r\n\t}\r\n\t\r\n\tclear(){\r\n\t\tthis.setData([]);\r\n\t}\r\n\t\r\n\tsetTitle(title){\r\n\t\tthis.title = title;\r\n\t\tthis.element.innerText = title;\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetUpdated\", this.getComponent());\r\n\t}\r\n\t\r\n\tsetRows(rows){\r\n\t\tthis.rowCount = rows;\r\n\t\tthis.initializeRows();\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetUpdated\", this.getComponent());\r\n\t\t\r\n\t\tif(this.isActive){\r\n\t\t\tthis.load();\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetColumns(columns){\r\n\t\tthis.columnCount = columns;\r\n\t\tthis.reinitialize();\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetUpdated\", this.getComponent());\r\n\t\t\r\n\t\tif(this.isActive){\r\n\t\t\tthis.load();\r\n\t\t}\r\n\t}\r\n\t\r\n\tremove(){\r\n\t\tthis.spreadsheetManager.removeSheet(this);\r\n\t}\r\n\t\r\n\tdestroy(){\r\n\t\tif(this.element.parentNode){\r\n\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t}\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetRemoved\", this.getComponent());\r\n\t}\r\n\t\r\n\tactive(){\r\n\t\tthis.spreadsheetManager.loadSheet(this);\r\n\t}\r\n}","import Module from '../../core/Module.js';\r\nimport Sheet from \"./Sheet\";\r\nimport SheetComponent from \"./SheetComponent\";\r\n\r\nexport default class Spreadsheet extends Module{\r\n\t\r\n\tstatic moduleName = \"spreadsheet\";\r\n\t\r\n\tconstructor(table){\r\n\t\tsuper(table);\r\n\t\t\r\n\t\tthis.sheets = [];\r\n\t\tthis.element = null;\r\n\t\t\r\n\t\tthis.registerTableOption(\"spreadsheet\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetRows\", 50); \r\n\t\tthis.registerTableOption(\"spreadsheetColumns\", 50); \r\n\t\tthis.registerTableOption(\"spreadsheetColumnDefinition\", {}); \r\n\t\tthis.registerTableOption(\"spreadsheetOutputFull\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetData\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetSheets\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetSheetTabs\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetSheetTabsElement\", false); \r\n\t\t\r\n\t\tthis.registerTableFunction(\"setSheets\", this.setSheets.bind(this));\r\n\t\tthis.registerTableFunction(\"addSheet\", this.addSheet.bind(this));\r\n\t\tthis.registerTableFunction(\"getSheets\", this.getSheets.bind(this));\r\n\t\tthis.registerTableFunction(\"getSheetDefinitions\", this.getSheetDefinitions.bind(this));\r\n\t\tthis.registerTableFunction(\"setSheetData\", this.setSheetData.bind(this));\r\n\t\tthis.registerTableFunction(\"getSheet\", this.getSheet.bind(this));\r\n\t\tthis.registerTableFunction(\"getSheetData\", this.getSheetData.bind(this));\r\n\t\tthis.registerTableFunction(\"clearSheet\", this.clearSheet.bind(this));\r\n\t\tthis.registerTableFunction(\"removeSheet\", this.removeSheetFunc.bind(this));\r\n\t\tthis.registerTableFunction(\"activeSheet\", this.activeSheetFunc.bind(this));\r\n\t}\r\n\t\r\n\t///////////////////////////////////\r\n\t////// Module Initialization //////\r\n\t///////////////////////////////////\r\n\t\r\n\t\r\n\tinitialize(){\r\n\t\tif(this.options(\"spreadsheet\")){\t\r\n\t\t\tthis.subscribe(\"table-initialized\", this.tableInitialized.bind(this));\r\n\t\t\tthis.subscribe(\"data-loaded\", this.loadRemoteData.bind(this));\r\n\t\t\t\r\n\t\t\tthis.table.options.index = \"_id\";\r\n\t\t\t\r\n\t\t\tif(this.options(\"spreadsheetData\") && this.options(\"spreadsheetSheets\")){\r\n\t\t\t\tconsole.warn(\"You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData\");\r\n\t\t\t\t\r\n\t\t\t\tthis.table.options.spreadsheetData = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.compatibilityCheck();\r\n\t\t\t\r\n\t\t\tif(this.options(\"spreadsheetSheetTabs\")){\r\n\t\t\t\tthis.initializeTabset();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompatibilityCheck(){\r\n\t\tif(this.options(\"data\")){\r\n\t\t\tconsole.warn(\"Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table\");\r\n\t\t}\r\n\t\t\r\n\t\tif(this.options(\"pagination\")){\r\n\t\t\tconsole.warn(\"The spreadsheet module is not compatible with the pagination module\");\r\n\t\t}\r\n\t\t\r\n\t\tif(this.options(\"groupBy\")){\r\n\t\t\tconsole.warn(\"The spreadsheet module is not compatible with the row grouping module\");\r\n\t\t}\r\n\t\t\r\n\t\tif(this.options(\"responsiveCollapse\")){\r\n\t\t\tconsole.warn(\"The spreadsheet module is not compatible with the responsive collapse module\");\r\n\t\t}\r\n\t}\r\n\tinitializeTabset(){\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.element.classList.add(\"tabulator-spreadsheet-tabs\");\r\n\t\tvar altContainer = this.options(\"spreadsheetSheetTabsElement\");\r\n\t\t\r\n\t\tif(altContainer && !(altContainer instanceof HTMLElement)){\r\n\t\t\taltContainer = document.querySelector(altContainer);\r\n\t\t\t\r\n\t\t\tif(!altContainer){\r\n\t\t\t\tconsole.warn(\"Unable to find element matching spreadsheetSheetTabsElement selector:\", this.options(\"spreadsheetSheetTabsElement\"));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(altContainer){\r\n\t\t\taltContainer.appendChild(this.element);\r\n\t\t}else{\r\n\t\t\tthis.footerAppend(this.element);\r\n\t\t}\r\n\t}\r\n\t\r\n\ttableInitialized(){\r\n\t\tif(this.sheets.length){\r\n\t\t\tthis.loadSheet(this.sheets[0]);\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\tif(this.options(\"spreadsheetSheets\")){\r\n\t\t\t\tthis.loadSheets(this.options(\"spreadsheetSheets\"));\r\n\t\t\t}else if(this.options(\"spreadsheetData\")){\r\n\t\t\t\tthis.loadData(this.options(\"spreadsheetData\"));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t///////////////////////////////////\r\n\t/////////// Ajax Parsing //////////\r\n\t///////////////////////////////////\r\n\r\n\tloadRemoteData(data, data1, data2){\r\n\t\tconsole.log(\"data\", data, data1, data2);\r\n\r\n\t\tif(Array.isArray(data)){\r\n\r\n\t\t\tthis.table.dataLoader.clearAlert();\r\n\t\t\tthis.dispatchExternal(\"dataLoaded\", data);\r\n\r\n\t\t\tif(!data.length || Array.isArray(data[0])){\r\n\t\t\t\tthis.loadData(data);\r\n\t\t\t}else{\r\n\t\t\t\tthis.loadSheets(data);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tconsole.error(\"Spreadsheet Loading Error - Unable to process remote data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data, \"\\nData:     \", data);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t///////////////////////////////////\r\n\t///////// Sheet Management ////////\r\n\t///////////////////////////////////\r\n\t\r\n\t\r\n\tloadData(data){\r\n\t\tvar def = {\r\n\t\t\tdata:data,\r\n\t\t};\r\n\t\t\r\n\t\tthis.loadSheet(this.newSheet(def));\r\n\t}\r\n\t\r\n\tdestroySheets(){\r\n\t\tthis.sheets.forEach((sheet) => {\r\n\t\t\tsheet.destroy();\r\n\t\t});\r\n\t\t\r\n\t\tthis.sheets = [];\r\n\t\tthis.activeSheet = null;\r\n\t}\r\n\t\r\n\tloadSheets(sheets){\t\r\n\t\tif(!Array.isArray(sheets)){\r\n\t\t\tsheets = [];\r\n\t\t}\r\n\t\t\r\n\t\tthis.destroySheets();\r\n\t\t\r\n\t\tsheets.forEach((def) => {\r\n\t\t\tthis.newSheet(def);\r\n\t\t});\r\n\t\t\r\n\t\tthis.loadSheet(this.sheets[0]);\r\n\t}\r\n\t\r\n\tloadSheet(sheet){\r\n\t\tif(this.activeSheet !== sheet){\r\n\t\t\tif(this.activeSheet){\r\n\t\t\t\tthis.activeSheet.unload();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.activeSheet = sheet;\r\n\t\t\t\r\n\t\t\tsheet.load();\r\n\t\t}\r\n\t}\r\n\t\r\n\tnewSheet(definition = {}){\r\n\t\tvar sheet;\r\n\t\t\r\n\t\tif(!definition.rows){\r\n\t\t\tdefinition.rows = this.options(\"spreadsheetRows\");\r\n\t\t}\r\n\t\t\r\n\t\tif(!definition.columns){\r\n\t\t\tdefinition.columns = this.options(\"spreadsheetColumns\");\r\n\t\t}\r\n\t\t\r\n\t\tsheet = new Sheet(this, definition);\r\n\t\t\r\n\t\tthis.sheets.push(sheet);\r\n\t\t\r\n\t\tif(this.element){\r\n\t\t\tthis.element.appendChild(sheet.element);\r\n\t\t}\r\n\t\t\r\n\t\treturn sheet;\r\n\t}\r\n\t\r\n\tremoveSheet(sheet){\r\n\t\tvar index = this.sheets.indexOf(sheet),\r\n\t\tprevSheet;\r\n\t\t\r\n\t\tif(this.sheets.length > 1){\r\n\t\t\tif(index > -1){\r\n\t\t\t\tthis.sheets.splice(index, 1);\r\n\t\t\t\tsheet.destroy();\r\n\t\t\t\t\r\n\t\t\t\tif(this.activeSheet === sheet){\r\n\t\t\t\t\t\r\n\t\t\t\t\tprevSheet = this.sheets[index - 1] || this.sheets[0];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(prevSheet){\r\n\t\t\t\t\t\tthis.loadSheet(prevSheet);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.activeSheet = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tconsole.warn(\"Unable to remove sheet, at least one sheet must be active\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tlookupSheet(key){\r\n\t\tif(!key){\r\n\t\t\treturn this.activeSheet;\r\n\t\t}else if(key instanceof Sheet){\r\n\t\t\treturn key;\r\n\t\t}else if(key instanceof SheetComponent){\r\n\t\t\treturn key._sheet;\r\n\t\t}else{\r\n\t\t\treturn this.sheets.find(sheet => sheet.key === key) || false;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t///////////////////////////////////\r\n\t//////// Public Functions /////////\r\n\t///////////////////////////////////\r\n\t\r\n\tsetSheets(sheets){\r\n\t\tthis.loadSheets(sheets);\r\n\r\n\t\treturn this.getSheets();\r\n\t}\r\n\r\n\taddSheet(sheet){\r\n\t\treturn this.newSheet(sheet).getComponent();\r\n\t}\r\n\t\r\n\tgetSheetDefinitions(){\r\n\t\treturn this.sheets.map(sheet => sheet.getDefinition());\r\n\t}\r\n\t\r\n\tgetSheets(){\r\n\t\treturn this.sheets.map(sheet => sheet.getComponent());\r\n\t}\r\n\t\r\n\tgetSheet(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? sheet.getComponent() : false;\r\n\t}\r\n\t\r\n\tsetSheetData(key, data){\r\n\t\tif (key && !data){\r\n\t\t\tdata = key;\r\n\t\t\tkey = false;\r\n\t\t}\r\n\t\t\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? sheet.setData(data) : false;\t\r\n\t}\r\n\t\r\n\tgetSheetData(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? sheet.getData() : false;\t\r\n\t}\r\n\t\r\n\tclearSheet(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? sheet.clear() : false;\r\n\t}\r\n\t\r\n\tremoveSheetFunc(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\tif(sheet){\r\n\t\t\tthis.removeSheet(sheet);\r\n\t\t}\r\n\t}\r\n\t\r\n\tactiveSheetFunc(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? this.loadSheet(sheet) : false;\r\n\t}\r\n}","import Module from '../../core/Module.js';\nimport Cell from '../../core/cell/Cell.js';\n\nexport default class Tooltip extends Module{\n\n\tstatic moduleName = \"tooltip\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.tooltipSubscriber = null,\n\t\tthis.headerSubscriber = null,\n\t\t\n\t\tthis.timeout = null;\n\t\tthis.popupInstance = null;\n\t\t\n\t\t// this.registerTableOption(\"tooltipGenerationMode\", undefined);  //deprecated\n\t\tthis.registerTableOption(\"tooltipDelay\", 300); \n\t\t\n\t\tthis.registerColumnOption(\"tooltip\");\n\t\tthis.registerColumnOption(\"headerTooltip\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\t// this.deprecationCheckMsg(\"tooltipGenerationMode\", \"This option is no longer needed as tooltips are always generated on hover now\");\n\t}\t\n\t\n\tinitializeColumn(column){\n\t\tif(column.definition.headerTooltip && !this.headerSubscriber){\n\t\t\tthis.headerSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"column-mousemove\", this.mousemoveCheck.bind(this, \"headerTooltip\"));\n\t\t\tthis.subscribe(\"column-mouseout\", this.mouseoutCheck.bind(this, \"headerTooltip\"));\n\t\t}\n\t\t\n\t\tif(column.definition.tooltip && !this.tooltipSubscriber){\n\t\t\tthis.tooltipSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"cell-mousemove\", this.mousemoveCheck.bind(this, \"tooltip\"));\n\t\t\tthis.subscribe(\"cell-mouseout\", this.mouseoutCheck.bind(this, \"tooltip\"));\n\t\t}\n\t}\n\t\n\tmousemoveCheck(action, e, component){\n\t\tvar tooltip = action === \"tooltip\" ? component.column.definition.tooltip : component.definition.headerTooltip;\n\t\t\n\t\tif(tooltip){\n\t\t\tthis.clearPopup();\n\t\t\tthis.timeout = setTimeout(this.loadTooltip.bind(this, e, component, tooltip), this.table.options.tooltipDelay);\n\t\t}\n\t}\n\n\tmouseoutCheck(action, e, component){\n\t\tif(!this.popupInstance){\n\t\t\tthis.clearPopup();\n\t\t}\n\t}\n\t\n\tclearPopup(action, e, component){\n\t\tclearTimeout(this.timeout);\n\t\tthis.timeout = null;\n\t\t\n\t\tif(this.popupInstance){\n\t\t\tthis.popupInstance.hide();\n\t\t}\n\t}\n\t\n\tloadTooltip(e, component, tooltip){\n\t\tvar contentsEl, renderedCallback, coords;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(typeof tooltip === \"function\"){\n\t\t\ttooltip = tooltip(e, component.getComponent(), onRendered);\n\t\t}\n\t\t\n\t\tif(tooltip instanceof HTMLElement){\n\t\t\tcontentsEl = tooltip;\n\t\t}else{\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\t\n\t\t\tif(tooltip === true){\n\t\t\t\tif(component instanceof Cell){\n\t\t\t\t\ttooltip = component.value;\n\t\t\t\t}else{\n\t\t\t\t\tif(component.definition.field){\n\t\t\t\t\t\tthis.langBind(\"columns|\" + component.definition.field, (value) => {\n\t\t\t\t\t\t\tcontentsEl.innerHTML = tooltip = value || component.definition.title;\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttooltip = component.definition.title;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcontentsEl.innerHTML = tooltip;\n\t\t}\n\t\t\n\t\tif(tooltip || tooltip === 0 || tooltip === false){\n\t\t\tcontentsEl.classList.add(\"tabulator-tooltip\");\n\n\t\t\tcontentsEl.addEventListener(\"mousemove\", e => e.preventDefault());\n\t\t\t\n\t\t\tthis.popupInstance = this.popup(contentsEl);\n\t\t\t\n\t\t\tif(typeof renderedCallback === \"function\"){\n\t\t\t\tthis.popupInstance.renderCallback(renderedCallback);\n\t\t\t}\n\n\t\t\tcoords = this.popupInstance.containerEventCoords(e);\n\t\t\t\n\t\t\tthis.popupInstance.show(coords.x + 15, coords.y + 15).hideOnBlur(() => {\n\t\t\t\tthis.dispatchExternal(\"TooltipClosed\", component.getComponent());\n\t\t\t\tthis.popupInstance = null;\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"TooltipOpened\", component.getComponent());\n\t\t}\n\t}\n}","export default {\n\t//is integer\n\tinteger: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && Math.floor(value) === value;\n\t},\n\n\t//is float\n\tfloat: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && value % 1 !== 0;\n\t},\n\n\t//must be a number\n\tnumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn !isNaN(value);\n\t},\n\n\t//must be a string\n\tstring: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn isNaN(value);\n\t},\n\n\t//must be alphanumeric\n\talphanumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar reg = new RegExp(/^[a-z0-9]+$/i);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//maximum value\n\tmax: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) <= parameters;\n\t},\n\n\t//minimum value\n\tmin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) >= parameters;\n\t},\n\n\t//starts with  value\n\tstarts: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().startsWith(String(parameters).toLowerCase());\n\t},\n\n\t//ends with  value\n\tends: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().endsWith(String(parameters).toLowerCase());\n\t},\n\n\n\t//minimum string length\n\tminLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length >= parameters;\n\t},\n\n\t//maximum string length\n\tmaxLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length <= parameters;\n\t},\n\n\t//in provided value list\n\tin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(typeof parameters == \"string\"){\n\t\t\tparameters = parameters.split(\"|\");\n\t\t}\n\n\t\treturn parameters.indexOf(value) > -1;\n\t},\n\n\t//must match provided regex\n\tregex: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar reg = new RegExp(parameters);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//value must be unique in this column\n\tunique: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar unique = true;\n\n\t\tvar cellData = cell.getData();\n\t\tvar column = cell.getColumn()._getSelf();\n\n\t\tthis.table.rowManager.rows.forEach(function(row){\n\t\t\tvar data = row.getData();\n\n\t\t\tif(data !== cellData){\n\t\t\t\tif(value == column.getFieldValue(data)){\n\t\t\t\t\tunique = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn unique;\n\t},\n\n\t//must have a value\n\trequired:function(cell, value, parameters){\n\t\treturn value !== \"\" && value !== null && typeof value !== \"undefined\";\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultValidators from './defaults/validators.js';\n\nexport default class Validate extends Module{\n\n\tstatic moduleName = \"validate\";\n\n\t//load defaults\n\tstatic validators = defaultValidators;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.invalidCells = [];\n\t\t\n\t\tthis.registerTableOption(\"validationMode\", \"blocking\");\n\t\t\n\t\tthis.registerColumnOption(\"validator\");\n\t\t\n\t\tthis.registerTableFunction(\"getInvalidCells\", this.getInvalidCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellValidation\", this.userClearCellValidation.bind(this));\n\t\tthis.registerTableFunction(\"validate\", this.userValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isValid\", this.cellIsValid.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearValidation\", this.clearValidation.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"validate\", this.cellValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"column\", \"validate\", this.columnValidate.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"validate\", this.rowValidate.bind(this));\n\t}\n\t\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-delete\", this.clearValidation.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-success\", this.editValidate.bind(this));\n\t\tthis.subscribe(\"edit-editor-clear\", this.editorClear.bind(this));\n\t\tthis.subscribe(\"edit-edited-clear\", this.editedClear.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Event Handling //////////\n\t///////////////////////////////////\n\t\n\teditValidate(cell, value, previousValue){\n\t\tvar valid = this.table.options.validationMode !== \"manual\" ? this.validate(cell.column.modules.validate, cell, value) : true;\n\t\t\n\t\t// allow time for editor to make render changes then style cell\n\t\tif(valid !== true){\n\t\t\tsetTimeout(() => {\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t\tthis.dispatchExternal(\"validationFailed\", cell.getComponent(), value, valid);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn valid;\n\t}\n\t\n\teditorClear(cell, cancelled){\n\t\tif(cancelled){\n\t\t\tif(cell.column.modules.validate){\n\t\t\t\tthis.cellValidate(cell);\n\t\t\t}\n\t\t}\n\n\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t}\n\t\n\teditedClear(cell){\n\t\tif(cell.modules.validate){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Cell Functions /////////\n\t///////////////////////////////////\n\t\n\tcellIsValid(cell){\n\t\treturn cell.modules.validate ? (cell.modules.validate.invalid || true) : true;\n\t}\n\t\n\tcellValidate(cell){\n\t\treturn this.validate(cell.column.modules.validate, cell, cell.getValue());\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Column Functions ////////\n\t///////////////////////////////////\n\t\n\tcolumnValidate(column){\n\t\tvar invalid = [];\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Row Functions //////////\n\t///////////////////////////////////\n\t\n\trowValidate(row){\n\t\tvar invalid = [];\n\t\t\n\t\trow.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\tuserClearCellValidation(cells){\n\t\tif(!cells){\n\t\t\tcells = this.getInvalidCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.clearValidation(cell._getSelf());\n\t\t});\n\t}\n\t\n\tuserValidate(cells){\n\t\tvar output = [];\n\t\t\n\t\t//clear row data\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trow = row.getComponent();\n\t\t\t\n\t\t\tvar valid = row.validate();\n\t\t\t\n\t\t\tif(valid !== true){\n\t\t\t\toutput = output.concat(valid);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output.length ? output : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.validator !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//validate\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = [],\n\t\tvalidator;\n\t\t\n\t\tif(column.definition.validator){\n\t\t\t\n\t\t\tif(Array.isArray(column.definition.validator)){\n\t\t\t\tcolumn.definition.validator.forEach((item) => {\n\t\t\t\t\tvalidator = self._extractValidator(item);\n\t\t\t\t\t\n\t\t\t\t\tif(validator){\n\t\t\t\t\t\tconfig.push(validator);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tvalidator = this._extractValidator(column.definition.validator);\n\t\t\t\t\n\t\t\t\tif(validator){\n\t\t\t\t\tconfig.push(validator);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.validate = config.length ? config : false;\n\t\t}\n\t}\n\t\n\t_extractValidator(value){\n\t\tvar type, params, pos;\n\t\t\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tpos = value.indexOf(':');\n\t\t\t\n\t\t\t\tif(pos > -1){\n\t\t\t\t\ttype = value.substring(0,pos);\n\t\t\t\t\tparams = value.substring(pos+1);\n\t\t\t\t}else{\n\t\t\t\t\ttype = value;\n\t\t\t\t}\n\t\t\t\n\t\t\t\treturn this._buildValidator(type, params);\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\treturn this._buildValidator(value);\n\t\t\t\n\t\t\tcase \"object\":\n\t\t\t\treturn this._buildValidator(value.type, value.parameters);\n\t\t}\n\t}\n\t\n\t_buildValidator(type, params){\n\t\t\n\t\tvar func = typeof type == \"function\" ? type : Validate.validators[type];\n\t\t\n\t\tif(!func){\n\t\t\tconsole.warn(\"Validator Setup Error - No matching validator found:\", type);\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn {\n\t\t\t\ttype:typeof type == \"function\" ? \"function\" : type,\n\t\t\t\tfunc:func,\n\t\t\t\tparams:params,\n\t\t\t};\n\t\t}\n\t}\n\t\n\tvalidate(validators, cell, value){\n\t\tvar self = this,\n\t\tfailedValidators = [],\n\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\n\t\tif(validators){\n\t\t\tvalidators.forEach((item) => {\n\t\t\t\tif(!item.func.call(self, cell.getComponent(), value, item.params)){\n\t\t\t\t\tfailedValidators.push({\n\t\t\t\t\t\ttype:item.type,\n\t\t\t\t\t\tparameters:item.params\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(!cell.modules.validate){\n\t\t\tcell.modules.validate = {};\n\t\t}\n\t\t\n\t\tif(!failedValidators.length){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}else{\n\t\t\tcell.modules.validate.invalid = failedValidators;\n\t\t\t\n\t\t\tif(this.table.options.validationMode !== \"manual\"){\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t}\n\t\t\t\n\t\t\tif(invalidIndex == -1){\n\t\t\t\tthis.invalidCells.push(cell);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn failedValidators.length ? failedValidators : true;\n\t}\n\t\n\tgetInvalidCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.invalidCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearValidation(cell){\n\t\tvar invalidIndex;\n\t\t\n\t\tif(cell.modules.validate && cell.modules.validate.invalid){\n\t\t\t\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\t\n\t\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n}","export default {\n\n\tdebugEventsExternal:false, //flag to console log events\n\tdebugEventsInternal:false, //flag to console log events\n\tdebugInvalidOptions:true, //allow toggling of invalid option warnings\n\tdebugInvalidComponentFuncs:true, //allow toggling of invalid component warnings\n\tdebugInitialization:true, //allow toggling of pre initialization function call warnings\n\tdebugDeprecation:true, //allow toggling of deprecation warnings\n\n\theight:false, //height of tabulator\n\tminHeight:false, //minimum height of tabulator\n\tmaxHeight:false, //maximum height of tabulator\n\n\tcolumnHeaderVertAlign:\"top\", //vertical alignment of column headers\n\n\tpopupContainer:false,\n\n\tcolumns:[],//store for colum header info\n\tcolumnDefaults:{}, //store column default props\n\trowHeader:false,\n\n\tdata:false, //default starting data\n\n\tautoColumns:false, //build columns from data row structure\n\tautoColumnsDefinitions:false,\n\n\tnestedFieldSeparator:\".\", //separator for nested data\n\n\tfooterElement:false, //hold footer element\n\n\tindex:\"id\", //filed for row index\n\n\ttextDirection:\"auto\",\n\n\taddRowPos:\"bottom\", //position to insert blank rows, top|bottom\n\n\theaderVisible:true, //hide header\n\n\trenderVertical:\"virtual\",\n\trenderHorizontal:\"basic\",\n\trenderVerticalBuffer:0, // set virtual DOM buffer size\n\n\tscrollToRowPosition:\"top\",\n\tscrollToRowIfVisible:true,\n\n\tscrollToColumnPosition:\"left\",\n\tscrollToColumnIfVisible:true,\n\n\trowFormatter:false,\n\trowFormatterPrint:null,\n\trowFormatterClipboard:null,\n\trowFormatterHtmlOutput:null,\n\n\trowHeight:null,\n\n\tplaceholder:false,\n\n\tdataLoader:true,\n\tdataLoaderLoading:false,\n\tdataLoaderError:false,\n\tdataLoaderErrorTimeout:3000,\n\tdataSendParams:{},\n\tdataReceiveParams:{},\n\n\tdependencies:{},\n};\n","export default class OptionsList {\n\tconstructor(table, msgType, defaults = {}){\n\t\tthis.table = table;\n\t\tthis.msgType = msgType;\n\t\tthis.registeredDefaults = Object.assign({}, defaults);\n\t}\n\t\n\tregister(option, value){\n\t\tthis.registeredDefaults[option] = value;\n\t}\n\t\n\tgenerate(defaultOptions, userOptions = {}){\n\t\tvar output = Object.assign({}, this.registeredDefaults),\n\t\twarn = this.table.options.debugInvalidOptions || userOptions.debugInvalidOptions === true;\n\t\t\n\t\tObject.assign(output, defaultOptions);\n\t\t\n\t\tfor (let key in userOptions){\n\t\t\tif(!output.hasOwnProperty(key)){\n\t\t\t\tif(warn){\n\t\t\t\t\tconsole.warn(\"Invalid \" + this.msgType + \" option:\", key);\n\t\t\t\t}\n\n\t\t\t\toutput[key] = userOptions.key;\n\t\t\t}\n\t\t}\n\t\n\t\t\n\t\tfor (let key in output){\n\t\t\tif(key in userOptions){\n\t\t\t\toutput[key] = userOptions[key];\n\t\t\t}else{\n\t\t\t\tif(Array.isArray(output[key])){\n\t\t\t\t\toutput[key] = Object.assign([], output[key]);\n\t\t\t\t}else if(typeof output[key] === \"object\" && output[key] !== null){\n\t\t\t\t\toutput[key] = Object.assign({}, output[key]);\n\t\t\t\t}else if (typeof output[key] === \"undefined\"){\n\t\t\t\t\tdelete output[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport Helpers from '../tools/Helpers.js';\n\nexport default class Renderer extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.elementVertical = table.rowManager.element;\n\t\tthis.elementHorizontal = table.columnManager.element;\n\t\tthis.tableElement =  table.rowManager.tableElement;\n\n\t\tthis.verticalFillMode = \"fit\"; // used by row manager to determine how to size the render area (\"fit\" - fits container to the contents, \"fill\" - fills the container without resizing it)\n\t}\n\n\n\t///////////////////////////////////\n\t/////// Internal Bindings /////////\n\t///////////////////////////////////\n\n\tinitialize(){\n\t\t//initialize core functionality\n\t}\n\n\tclearRows(){\n\t\t//clear down existing rows layout\n\t}\n\n\tclearColumns(){\n\t\t//clear down existing columns layout\n\t}\n\n\n\treinitializeColumnWidths(columns){\n\t\t//resize columns to fit data\n\t}\n\n\n\trenderRows(){\n\t\t//render rows from a clean slate\n\t}\n\n\trenderColumns(){\n\t\t//render columns from a clean slate\n\t}\n\n\trerenderRows(callback){\n\t\t// rerender rows and keep position\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t}\n\n\trerenderColumns(update, blockRedraw){\n\t\t//rerender columns\n\t}\n\n\trenderRowCells(row){\n\t\t//render the cells in a row\n\t}\n\n\trerenderRowCells(row, force){\n\t\t//rerender the cells in a row\n\t}\n\n\tscrollColumns(left, dir){\n\t\t//handle horizontal scrolling\n\t}\n\n\tscrollRows(top, dir){\n\t\t//handle vertical scrolling\n\t}\n\n\tresize(){\n\t\t//container has resized, carry out any needed recalculations (DO NOT RERENDER IN THIS FUNCTION)\n\t}\n\n\tscrollToRow(row){\n\t\t//scroll to a specific row\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\t//determine weather the row is nearest the top or bottom of the table, return true for top or false for bottom\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\t//return the visible rows\n\t\treturn [];\n\t}\n\n\t///////////////////////////////////\n\t//////// Helper Functions /////////\n\t///////////////////////////////////\n\n\trows(){\n\t\treturn this.table.rowManager.getDisplayRows();\n\t}\n\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else{\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t/////// External Triggers /////////\n\t/////// (DO NOT OVERRIDE) /////////\n\t///////////////////////////////////\n\n\tclear(){\n\t\t//clear down existing layout\n\t\tthis.clearRows();\n\t\tthis.clearColumns();\n\t}\n\n\trender(){\n\t\t//render from a clean slate\n\t\tthis.renderRows();\n\t\tthis.renderColumns();\n\t}\n\n\trerender(callback){\n\t\t// rerender and keep position\n\t\tthis.rerenderRows();\n\t\tthis.rerenderColumns();\n\t}\n\n\tscrollToRowPosition(row, position, ifVisible){\n\t\tvar rowIndex = this.rows().indexOf(row),\n\t\trowEl = row.getElement(),\n\t\toffset = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(rowIndex > -1){\n\n\t\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\t\tifVisible = this.table.options.scrollToRowIfVisible;\n\t\t\t\t}\n\n\t\t\t\t//check row visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(Helpers.elVisible(rowEl)){\n\t\t\t\t\t\toffset = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(offset > 0 && offset < this.elementVertical.clientHeight - rowEl.offsetHeight){\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\t\tposition = this.table.options.scrollToRowPosition;\n\t\t\t\t}\n\n\t\t\t\tif(position === \"nearest\"){\n\t\t\t\t\tposition = this.scrollToRowNearestTop(row) ? \"top\" : \"bottom\";\n\t\t\t\t}\n\n\t\t\t\t//scroll to row\n\t\t\t\tthis.scrollToRow(row);\n\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop + (rowEl.offsetTop - this.elementVertical.scrollTop) - ((this.elementVertical.scrollHeight - rowEl.offsetTop) / 2);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.clientHeight / 2);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"bottom\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.scrollHeight - rowEl.offsetTop) + rowEl.offsetHeight;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - this.elementVertical.clientHeight + rowEl.offsetHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\tthis.elementVertical.scrollTop = rowEl.offsetTop;\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tresolve();\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - Row not visible\");\n\t\t\t\treject(\"Scroll Error - Row not visible\");\n\t\t\t}\n\t\t});\n\t}\n}","import Renderer from '../Renderer.js';\n\nexport default class BasicHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\trenderRowCells(row, inFragment) {\n\t\tconst rowFrag = document.createDocumentFragment();\n\t\trow.cells.forEach((cell) => {\n\t\t\trowFrag.appendChild(cell.getElement());\n\t\t});\n\t\trow.element.appendChild(rowFrag);\n\t\t\n\t\tif(!inFragment){\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tcolumns.forEach(function(column){\n\t\t\tcolumn.reinitializeWidth();\n\t\t});\n\t}\n}","import Renderer from '../Renderer.js';\n\nexport default class VirtualDomHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftCol = 0;\n\t\tthis.rightCol = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\t\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t\t\n\t\tthis.fitDataColAvg = 0;\n\t\t\n\t\tthis.windowBuffer = 200; //pixel margin to make column visible before it is shown on screen\n\t\t\n\t\tthis.visibleRows = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.isFitData = false;\n\t\t\n\t\tthis.columns = [];\n\t}\n\t\n\tinitialize(){\n\t\tthis.compatibilityCheck();\n\t\tthis.layoutCheck();\n\t\tthis.vertScrollListen();\n\t}\n\t\n\tcompatibilityCheck(){\t\t\n\t\tif(this.options(\"layout\") == \"fitDataTable\"){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with fitDataTable layout mode\");\n\t\t}\n\t\t\n\t\tif(this.options(\"responsiveLayout\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with responsive columns\");\n\t\t}\n\t\t\n\t\tif(this.options(\"rtl\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not currently compatible with RTL text direction\");\n\t\t}\n\t}\n\t\n\tlayoutCheck(){\n\t\tthis.isFitData = this.options(\"layout\").startsWith('fitData');\n\t}\n\t\n\tvertScrollListen(){\n\t\tthis.subscribe(\"scroll-vertical\", this.clearVisRowCache.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.clearVisRowCache.bind(this));\n\t}\n\t\n\tclearVisRowCache(){\n\t\tthis.visibleRows = null;\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\t\n\trenderColumns(row, force){\n\t\tthis.dataChange();\n\t}\n\t\n\t\n\tscrollColumns(left, dir){\n\t\tif(this.scrollLeft != left){\n\t\t\tthis.scrollLeft = left;\n\t\t\t\n\t\t\tthis.scroll(left - (this.vDomScrollPosLeft + this.windowBuffer));\n\t\t}\n\t}\n\t\n\tcalcWindowBuffer(){\n\t\tvar buffer = this.elementVertical.clientWidth;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\tvar width = column.getWidth();\n\t\t\t\t\n\t\t\t\tif(width > buffer){\n\t\t\t\t\tbuffer = width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.windowBuffer = buffer * 2;\n\t}\n\t\n\trerenderColumns(update, blockRedraw){\t\t\n\t\tvar old = {\n\t\t\tcols:this.columns,\n\t\t\tleftCol:this.leftCol,\n\t\t\trightCol:this.rightCol,\n\t\t},\n\t\tcolPos = 0;\n\t\t\n\t\tif(update && !this.initialized){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.clear();\n\t\t\n\t\tthis.calcWindowBuffer();\n\t\t\n\t\tthis.scrollLeft = this.elementVertical.scrollLeft;\n\t\t\n\t\tthis.vDomScrollPosLeft = this.scrollLeft - this.windowBuffer;\n\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tvar config = {},\n\t\t\twidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tif(!column.modules.frozen){\t\t\t\n\t\t\t\t\twidth = column.getWidth();\n\n\t\t\t\t\tconfig.leftPos = colPos;\n\t\t\t\t\tconfig.rightPos = colPos + width;\n\t\t\t\t\t\n\t\t\t\t\tconfig.width = width;\n\t\t\t\t\t\n\t\t\t\t\tif (this.isFitData) {\n\t\t\t\t\t\tconfig.fitDataCheck = column.modules.vdomHoz ? column.modules.vdomHoz.fitDataCheck : true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif((colPos + width > this.vDomScrollPosLeft) && (colPos < this.vDomScrollPosRight)){\n\t\t\t\t\t\t//column is visible\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.leftCol == -1){\n\t\t\t\t\t\t\tthis.leftCol = this.columns.length;\n\t\t\t\t\t\t\tthis.vDomPadLeft = colPos;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.rightCol = this.columns.length;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// column is hidden\n\t\t\t\t\t\tif(this.leftCol !== -1){\n\t\t\t\t\t\t\tthis.vDomPadRight += width;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.columns.push(column);\n\t\t\t\t\t\n\t\t\t\t\tcolumn.modules.vdomHoz = config;\n\t\t\t\t\t\n\t\t\t\t\tcolPos += width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tif(!update || this.reinitChanged(old)){\n\t\t\t\tthis.reinitializeRows();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.elementVertical.scrollLeft = this.scrollLeft;\n\t}\n\t\n\trenderRowCells(row){\n\t\tif(this.initialized){\n\t\t\tthis.initializeRow(row);\n\t\t}else{\n\t\t\tconst rowFrag = document.createDocumentFragment();\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\trowFrag.appendChild(cell.getElement());\n\t\t\t});\n\t\t\trow.element.appendChild(rowFrag);\n\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\trerenderRowCells(row, force){\n\t\tthis.reinitializeRow(row, force);\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\tthis.columns[i].reinitializeWidth();\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\t\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tclear(){\n\t\tthis.columns = [];\n\t\t\n\t\tthis.leftCol = -1;\n\t\tthis.rightCol = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t}\n\t\n\tdataChange(){\n\t\tvar change = false,\n\t\trow, rowEl;\n\t\t\n\t\tif(this.isFitData){\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif(!column.definition.width && column.visible){\n\t\t\t\t\tchange = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(change && this.table.rowManager.getDisplayRows().length){\n\t\t\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\t\t\n\t\t\t\trow = this.chain(\"rows-sample\", [1], [], () => {\n\t\t\t\t\treturn this.table.rowManager.getDisplayRows();\n\t\t\t\t})[0];\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trowEl = row.getElement();\n\t\t\t\t\t\n\t\t\t\t\trow.generateCells();\n\t\t\t\t\t\n\t\t\t\t\tthis.tableElement.appendChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tfor(let colEnd = 0; colEnd < row.cells.length; colEnd++){\n\t\t\t\t\t\tlet cell = row.cells[colEnd];\n\t\t\t\t\t\trowEl.appendChild(cell.getElement());\n\t\t\t\t\t\t\n\t\t\t\t\t\tcell.column.reinitializeWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.options(\"layout\") === \"fitColumns\"){\n\t\t\t\tthis.layoutRefresh();\n\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treinitChanged(old){\n\t\tvar match = true;\n\t\t\n\t\tif(old.cols.length !== this.columns.length || old.leftCol !== this.leftCol || old.rightCol !== this.rightCol){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\told.cols.forEach((col, i) => {\n\t\t\tif(col !== this.columns[i]){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn !match;\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.getVisibleRows(),\n\t\totherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\n\t\tvisibleRows.forEach((row) => {\n\t\t\tthis.reinitializeRow(row, true);\n\t\t});\n\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t}\n\t\n\tgetVisibleRows(){\n\t\tif (!this.visibleRows){\n\t\t\tthis.visibleRows = this.table.rowManager.getVisibleRows();\n\t\t}\n\t\t\n\t\treturn this.visibleRows;\t\n\t}\n\t\n\tscroll(diff){\n\t\tthis.vDomScrollPosLeft += diff;\n\t\tthis.vDomScrollPosRight += diff;\n\t\t\n\t\tif(Math.abs(diff) > (this.windowBuffer / 2)){\n\t\t\tthis.rerenderColumns();\n\t\t}else{\n\t\t\tif(diff > 0){\n\t\t\t\t//scroll right\n\t\t\t\tthis.addColRight();\n\t\t\t\tthis.removeColLeft();\n\t\t\t}else{\n\t\t\t\t//scroll left\n\t\t\t\tthis.addColLeft();\n\t\t\t\tthis.removeColRight();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcolPositionAdjust (start, end, diff){\n\t\tfor(let i = start; i < end; i++){\n\t\t\tlet column = this.columns[i];\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.leftPos += diff;\n\t\t\tcolumn.modules.vdomHoz.rightPos += diff;\n\t\t}\n\t}\n\t\n\taddColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\n\t\t\tlet column = this.columns[this.rightCol + 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos <= this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.rightCol]).getElement().nextSibling);\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tthis.rightCol++; // Don't move this below the >= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.rightCol >= (this.columns.length - 1)){\n\t\t\t\t\t\tthis.vDomPadRight = 0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomPadRight -= column.getWidth();\n\t\t\t\t\t}\t\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\taddColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol - 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.leftCol]).getElement());\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.leftCol--; // don't move this below the <= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.leftCol <= 0){ // replicating logic in addColRight\n\t\t\t\t\t\tthis.vDomPadLeft = 0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomPadLeft -= column.getWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet diff = this.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tif(diff){\n\t\t\t\t\t\tthis.scrollLeft = this.elementVertical.scrollLeft = this.elementVertical.scrollLeft + diff;\n\t\t\t\t\t\tthis.vDomPadRight -= diff;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.rightCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos > this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColRight\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadRight += column.getWidth();\n\t\t\t\t\tthis.rightCol --;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos < this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\t\t\t\t\t\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColLeft\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadLeft += column.getWidth();\n\t\t\t\t\tthis.leftCol ++;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tfitDataColActualWidthCheck(column){\n\t\tvar newWidth, widthDiff;\n\t\t\n\t\tif(column.modules.vdomHoz.fitDataCheck){\n\t\t\tcolumn.reinitializeWidth();\n\t\t\t\n\t\t\tnewWidth = column.getWidth();\n\t\t\twidthDiff = newWidth - column.modules.vdomHoz.width;\n\t\t\t\n\t\t\tif(widthDiff){\n\t\t\t\tcolumn.modules.vdomHoz.rightPos += widthDiff;\n\t\t\t\tcolumn.modules.vdomHoz.width = newWidth;\n\t\t\t\tthis.colPositionAdjust(this.columns.indexOf(column) + 1, this.columns.length, widthDiff);\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.fitDataCheck = false;\n\t\t}\n\t\t\n\t\treturn widthDiff;\n\t}\n\t\n\tinitializeRow(row){\n\t\tif(row.type !== \"group\"){\n\t\t\trow.modules.vdomHoz = {\n\t\t\t\tleftCol:this.leftCol,\n\t\t\t\trightCol:this.rightCol,\n\t\t\t};\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\t\tthis.appendCell(row, this.columns[i]);\n\t\t\t}\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tappendCell(row, column){\n\t\tif(column && column.visible){\n\t\t\tlet cell = row.getCell(column);\n\t\t\t\n\t\t\trow.getElement().appendChild(cell.getElement());\n\t\t\tcell.cellRendered();\n\t\t}\n\t}\n\t\n\treinitializeRow(row, force){\n\t\tif(row.type !== \"group\"){\n\t\t\tif(force || !row.modules.vdomHoz || row.modules.vdomHoz.leftCol !== this.leftCol || row.modules.vdomHoz.rightCol !== this.rightCol){\n\t\t\t\t\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\twhile(rowEl.firstChild) rowEl.removeChild(rowEl.firstChild);\n\n\t\t\t\tthis.initializeRow(row);\n\t\t\t}\n\t\t}\n\t}\n}\n","import CoreFeature from './CoreFeature.js';\nimport Column from './column/Column.js';\nimport ColumnComponent from './column/ColumnComponent.js';\nimport Helpers from './tools/Helpers.js';\nimport OptionsList from './tools/OptionsList.js';\n\nimport RendererBasicHorizontal from './rendering/renderers/BasicHorizontal.js';\nimport RendererVirtualDomHorizontal from './rendering/renderers/VirtualDomHorizontal.js';\n\nimport defaultColumnOptions from './column/defaults/options.js';\n\nexport default class ColumnManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.blockHozScrollEvent = false;\n\t\tthis.headersElement = null;\n\t\tthis.contentsElement = null;\n\t\tthis.rowHeader = null;\n\t\tthis.element = null ; //containing element\n\t\tthis.columns = []; // column definition object\n\t\tthis.columnsByIndex = []; //columns by index\n\t\tthis.columnsByField = {}; //columns by field\n\t\tthis.scrollLeft = 0;\n\t\tthis.optionsList = new OptionsList(this.table, \"column definition\", defaultColumnOptions);\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockUpdate = null; //store latest redraw update only status\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t////////////// Setup Functions /////////////////\n\t\n\tinitialize(){\n\t\tthis.initializeRenderer();\n\t\t\n\t\tthis.headersElement = this.createHeadersElement();\n\t\tthis.contentsElement = this.createHeaderContentsElement();\n\t\tthis.element = this.createHeaderElement();\n\t\t\n\t\tthis.contentsElement.insertBefore(this.headersElement, this.contentsElement.firstChild);\n\t\tthis.element.insertBefore(this.contentsElement, this.element.firstChild);\n\t\t\n\t\tthis.initializeScrollWheelWatcher();\n\t\t\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.padVerticalScrollbar.bind(this));\n\t}\n\t\n\tpadVerticalScrollbar(width){\n\t\tif(this.table.rtl){\n\t\t\tthis.headersElement.style.marginLeft = width + \"px\";\n\t\t}else{\n\t\t\tthis.headersElement.style.marginRight = width + \"px\";\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": RendererVirtualDomHorizontal,\n\t\t\t\"basic\": RendererBasicHorizontal,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderHorizontal === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderHorizontal];\n\t\t}else{\n\t\t\trenderClass = this.table.options.renderHorizontal;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t}else{\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderHorizontal);\n\t\t}\n\t}\n\t\n\t\n\tcreateHeadersElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-headers\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateHeaderContentsElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header-contents\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateHeaderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tif(!this.table.options.headerVisible){\n\t\t\tel.classList.add(\"tabulator-header-hidden\");\n\t\t}\n\t\t\n\t\treturn el;\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return containing contents element\n\tgetContentsElement(){\n\t\treturn this.contentsElement;\n\t}\n\t\n\t\n\t//return header containing element\n\tgetHeadersElement(){\n\t\treturn this.headersElement;\n\t}\n\t\n\t//scroll horizontally to match table body\n\tscrollHorizontal(left){\n\t\tthis.contentsElement.scrollLeft = left;\n\t\t\n\t\tthis.scrollLeft = left;\n\t\t\n\t\tthis.renderer.scrollColumns(left);\n\t}\n\t\n\tinitializeScrollWheelWatcher(){\n\t\tthis.contentsElement.addEventListener(\"wheel\", (e) => {\n\t\t\tvar left;\n\t\t\t\n\t\t\tif(e.deltaX){\n\t\t\t\tleft = this.contentsElement.scrollLeft + e.deltaX;\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t///////////// Column Setup Functions /////////////\n\tgenerateColumnsFromRowData(data){\n\t\tvar cols = [],\n\t\tcollProgress = {},\n\t\trowSample = this.table.options.autoColumns === \"full\" ? data : [data[0]],\n\t\tdefinitions = this.table.options.autoColumnsDefinitions;\n\t\t\n\t\tif(data && data.length){\n\t\t\t\n\t\t\trowSample.forEach((row) => {\n\t\t\t\t\n\t\t\t\tObject.keys(row).forEach((key, index) => {\n\t\t\t\t\tlet value = row[key],\n\t\t\t\t\tcol;\n\t\t\t\t\t\n\t\t\t\t\tif(!collProgress[key]){\n\t\t\t\t\t\tcol = {\n\t\t\t\t\t\t\tfield:key,\n\t\t\t\t\t\t\ttitle:key,\n\t\t\t\t\t\t\tsorter:this.calculateSorterFromValue(value),\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tcols.splice(index, 0, col);\n\t\t\t\t\t\tcollProgress[key] = typeof value === \"undefined\" ? col : true;\n\t\t\t\t\t}else if(collProgress[key] !== true){\n\t\t\t\t\t\tif(typeof value !== \"undefined\"){\n\t\t\t\t\t\t\tcollProgress[key].sorter = this.calculateSorterFromValue(value);\n\t\t\t\t\t\t\tcollProgress[key] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tif(definitions){\n\t\t\t\t\n\t\t\t\tswitch(typeof definitions){\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tthis.table.options.columns = definitions.call(this.table, cols);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(definitions)){\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tvar match = definitions.find((def) => {\n\t\t\t\t\t\t\t\t\treturn def.field === col.field;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\t\t\tObject.assign(col, match);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tif(definitions[col.field]){\n\t\t\t\t\t\t\t\t\tObject.assign(col, definitions[col.field]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.table.options.columns = cols;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.table.options.columns = cols;\n\t\t\t}\n\t\t\t\n\t\t\tthis.setColumns(this.table.options.columns);\n\t\t}\n\t}\n\t\n\tcalculateSorterFromValue(value){\n\t\tvar sorter;\n\t\t\n\t\tswitch(typeof value){\n\t\t\tcase \"undefined\":\n\t\t\t\tsorter = \"string\";\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"boolean\":\n\t\t\t\tsorter = \"boolean\";\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"number\":\n\t\t\t\tsorter = \"number\";\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"object\":\n\t\t\t\tif(Array.isArray(value)){\n\t\t\t\t\tsorter = \"array\";\n\t\t\t\t}else{\n\t\t\t\t\tsorter = \"string\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\tsorter = \"number\";\n\t\t\t\t}else{\n\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn sorter;\n\t}\n\t\n\tsetColumns(cols, row){\n\t\twhile(this.headersElement.firstChild) this.headersElement.removeChild(this.headersElement.firstChild);\n\t\t\n\t\tthis.columns = [];\n\t\tthis.columnsByIndex = [];\n\t\tthis.columnsByField = {};\n\t\t\n\t\tthis.dispatch(\"columns-loading\");\n\t\tthis.dispatchExternal(\"columnsLoading\");\n\t\t\n\t\tif(this.table.options.rowHeader){\n\t\t\tthis.rowHeader = new Column(this.table.options.rowHeader === true ? {} : this.table.options.rowHeader, this, true);\n\t\t\tthis.columns.push(this.rowHeader);\n\t\t\tthis.headersElement.appendChild(this.rowHeader.getElement());\n\t\t\tthis.rowHeader.columnRendered();\n\t\t}\n\t\t\n\t\tcols.forEach((def, i) => {\n\t\t\tthis._addColumn(def);\n\t\t});\n\t\t\n\t\tthis._reIndexColumns();\n\t\t\n\t\tthis.dispatch(\"columns-loaded\");\n\n\t\tif(this.subscribedExternal(\"columnsLoaded\")){\n\t\t\tthis.dispatchExternal(\"columnsLoaded\", this.getComponents());\n\t\t}\n\t\t\n\t\tthis.rerenderColumns(false, true);\n\t\t\n\t\tthis.redraw(true);\n\t}\n\t\n\t_addColumn(definition, before, nextToColumn){\n\t\tvar column = new Column(definition, this),\n\t\tcolEl = column.getElement(),\n\t\tindex = nextToColumn ? this.findColumnIndex(nextToColumn) : nextToColumn;\n\t\t\n\t\t//prevent adding of rows in front of row header\n\t\tif(before && this.rowHeader && (!nextToColumn || nextToColumn === this.rowHeader)){\n\t\t\tbefore = false;\n\t\t\tnextToColumn = this.rowHeader;\n\t\t\tindex = 0;\n\t\t}\n\t\t\n\t\tif(nextToColumn && index > -1){\n\t\t\tvar topColumn = nextToColumn.getTopColumn();\n\t\t\tvar parentIndex = this.columns.indexOf(topColumn);\n\t\t\tvar nextEl = topColumn.getElement();\n\t\t\t\n\t\t\tif(before){\n\t\t\t\tthis.columns.splice(parentIndex, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl);\n\t\t\t}else{\n\t\t\t\tthis.columns.splice(parentIndex + 1, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl.nextSibling);\n\t\t\t}\n\t\t}else{\n\t\t\tif(before){\n\t\t\t\tthis.columns.unshift(column);\n\t\t\t\tthis.headersElement.insertBefore(column.getElement(), this.headersElement.firstChild);\n\t\t\t}else{\n\t\t\t\tthis.columns.push(column);\n\t\t\t\tthis.headersElement.appendChild(column.getElement());\n\t\t\t}\n\t\t}\n\t\t\n\t\tcolumn.columnRendered();\n\t\t\n\t\treturn column;\n\t}\n\t\n\tregisterColumnField(col){\n\t\tif(col.definition.field){\n\t\t\tthis.columnsByField[col.definition.field] = col;\n\t\t}\n\t}\n\t\n\tregisterColumnPosition(col){\n\t\tthis.columnsByIndex.push(col);\n\t}\n\t\n\t_reIndexColumns(){\n\t\tthis.columnsByIndex = [];\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.reRegisterPosition();\n\t\t});\n\t}\n\t\n\t//ensure column headers take up the correct amount of space in column groups\n\tverticalAlignHeaders(){\n\t\tvar minHeight = 0;\n\t\t\n\t\tif(!this.redrawBlock){\n\t\t\t\n\t\t\tthis.headersElement.style.height=\"\";\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.clearVerticalAlign();\n\t\t\t});\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tvar height = column.getHeight();\n\t\t\t\t\n\t\t\t\tif(height > minHeight){\n\t\t\t\t\tminHeight = height;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.headersElement.style.height = minHeight + \"px\";\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.verticalAlign(this.table.options.columnHeaderVertAlign, minHeight);\n\t\t\t});\n\t\t\t\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\t//////////////// Column Details /////////////////\n\tfindColumn(subject){\n\t\tvar columns;\n\t\t\n\t\tif(typeof subject == \"object\"){\n\t\t\t\n\t\t\tif(subject instanceof Column){\n\t\t\t\t//subject is column element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof ColumnComponent){\n\t\t\t\t//subject is public column component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t\n\t\t\t\tcolumns = [];\n\t\t\t\t\n\t\t\t\tthis.columns.forEach((column) => {\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t//subject is a HTML element of the column header\n\t\t\t\tlet match = columns.find((column) => {\n\t\t\t\t\treturn column.element === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\t//subject should be treated as the field name of the column\n\t\t\treturn this.columnsByField[subject] || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetColumnByField(field){\n\t\treturn this.columnsByField[field];\n\t}\n\t\n\tgetColumnsByFieldRoot(root){\n\t\tvar matches = [];\n\t\t\n\t\tObject.keys(this.columnsByField).forEach((field) => {\n\t\t\tvar fieldRoot = this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator)[0] : field;\n\t\t\tif(fieldRoot === root){\n\t\t\t\tmatches.push(this.columnsByField[field]);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn matches;\n\t}\n\t\n\tgetColumnByIndex(index){\n\t\treturn this.columnsByIndex[index];\n\t}\n\t\n\tgetFirstVisibleColumn(){\n\t\tvar index = this.columnsByIndex.findIndex((col) => {\n\t\t\treturn col.visible;\n\t\t});\n\t\t\n\t\treturn index > -1 ? this.columnsByIndex[index] : false;\n\t}\n\t\n\tgetVisibleColumnsByIndex() {\n\t\treturn this.columnsByIndex.filter((col) => col.visible);\n\t}\n\t\n\tgetColumns(){\n\t\treturn this.columns;\n\t}\n\t\n\tfindColumnIndex(column){\n\t\treturn this.columnsByIndex.findIndex((col) => {\n\t\t\treturn column === col;\n\t\t});\n\t}\n\t\n\t//return all columns that are not groups\n\tgetRealColumns(){\n\t\treturn this.columnsByIndex;\n\t}\n\t\n\t//traverse across columns and call action\n\ttraverse(callback){\n\t\tthis.columnsByIndex.forEach((column,i) =>{\n\t\t\tcallback(column, i);\n\t\t});\n\t}\n\t\n\t//get definitions of actual columns\n\tgetDefinitions(active){\n\t\tvar output = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(!active || (active && column.visible)){\n\t\t\t\toutput.push(column.getDefinition());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\t//get full nested definition tree\n\tgetDefinitionTree(){\n\t\tvar output = [];\n\t\t\n\t\tthis.columns.forEach((column) => {\n\t\t\toutput.push(column.getDefinition(true));\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(structured){\n\t\tvar output = [],\n\t\tcolumns = structured ? this.columns : this.columnsByIndex;\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\toutput.push(column.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetWidth(){\n\t\tvar width = 0;\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\twidth += column.getWidth();\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn width;\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tto.element.parentNode.insertBefore(from.element, to.element);\n\t\t\n\t\tif(after){\n\t\t\tto.element.parentNode.insertBefore(to.element, from.element);\n\t\t}\n\t\t\n\t\tthis.moveColumnActual(from, to, after);\n\t\t\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.table.rowManager.reinitialize();\n\t}\n\t\n\tmoveColumnActual(from, to, after){\n\t\tif(from.parent.isGroup){\n\t\t\tthis._moveColumnInArray(from.parent.columns, from, to, after);\n\t\t}else{\n\t\t\tthis._moveColumnInArray(this.columns, from, to, after);\n\t\t}\n\t\t\n\t\tthis._moveColumnInArray(this.columnsByIndex, from, to, after, true);\n\t\t\n\t\tthis.rerenderColumns(true);\n\t\t\n\t\tthis.dispatch(\"column-moved\", from, to, after);\n\t\t\n\t\tif(this.subscribedExternal(\"columnMoved\")){\n\t\t\tthis.dispatchExternal(\"columnMoved\", from.getComponent(), this.table.columnManager.getComponents());\n\t\t}\n\t}\n\t\n\t_moveColumnInArray(columns, from, to, after, updateRows){\n\t\tvar\tfromIndex = columns.indexOf(from),\n\t\ttoIndex, rows = [];\n\t\t\n\t\tif (fromIndex > -1) {\n\t\t\t\n\t\t\tcolumns.splice(fromIndex, 1);\n\t\t\t\n\t\t\ttoIndex = columns.indexOf(to);\n\t\t\t\n\t\t\tif (toIndex > -1) {\n\t\t\t\t\n\t\t\t\tif(after){\n\t\t\t\t\ttoIndex = toIndex+1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\ttoIndex = fromIndex;\n\t\t\t}\n\t\t\t\n\t\t\tcolumns.splice(toIndex, 0, from);\n\t\t\t\n\t\t\tif(updateRows){\n\t\t\t\t\n\t\t\t\trows = this.chain(\"column-moving-rows\", [from, to, after], null, []) || [];\n\t\t\t\t\n\t\t\t\trows = rows.concat(this.table.rowManager.rows);\n\t\t\t\t\n\t\t\t\trows.forEach(function(row){\n\t\t\t\t\tif(row.cells.length){\n\t\t\t\t\t\tvar cell = row.cells.splice(fromIndex, 1)[0];\n\t\t\t\t\t\trow.cells.splice(toIndex, 0, cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\t\n\tscrollToColumn(column, position, ifVisible){\n\t\tvar left = 0,\n\t\toffset = column.getLeftOffset(),\n\t\tadjust = 0,\n\t\tcolEl = column.getElement();\n\t\t\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\tposition = this.table.options.scrollToColumnPosition;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\tifVisible = this.table.options.scrollToColumnIfVisible;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\tadjust = -this.element.clientWidth / 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\tadjust = colEl.clientWidth - this.headersElement.clientWidth;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//check column visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(offset > 0 && offset + colEl.offsetWidth < this.element.clientWidth){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//calculate scroll position\n\t\t\t\tleft = offset + adjust;\n\t\t\t\t\n\t\t\t\tleft = Math.max(Math.min(left, this.table.rowManager.element.scrollWidth - this.table.rowManager.element.clientWidth),0);\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.scrollHorizontal(left);\n\t\t\t\t\n\t\t\t\tresolve();\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - Column not visible\");\n\t\t\t\treject(\"Scroll Error - Column not visible\");\n\t\t\t}\n\t\t\t\n\t\t});\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tgenerateCells(row){\n\t\tvar cells = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tcells.push(column.generateCell(row));\n\t\t});\n\t\t\n\t\treturn cells;\n\t}\n\t\n\t//////////////// Column Management /////////////////\n\tgetFlexBaseWidth(){\n\t\tvar totalWidth = this.table.element.clientWidth, //table element width\n\t\tfixedWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar if present\n\t\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t\t}\n\t\t\n\t\tthis.columnsByIndex.forEach(function(column){\n\t\t\tvar width, minWidth, colWidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\twidth = column.definition.width || 0;\n\t\t\t\t\n\t\t\t\tminWidth = parseInt(column.minWidth);\n\t\t\t\t\n\t\t\t\tif(typeof(width) == \"string\"){\n\t\t\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width) ;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcolWidth = parseInt(width);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tcolWidth = width;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn fixedWidth;\n\t}\n\t\n\taddColumn(definition, before, nextToColumn){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this._addColumn(definition, before, nextToColumn);\n\t\t\t\n\t\t\tthis._reIndexColumns();\n\t\t\t\n\t\t\tthis.dispatch(\"column-add\", definition, before, nextToColumn);\n\t\t\t\n\t\t\tif(this.layoutMode() != \"fitColumns\"){\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\t\t\t\n\t\t\tthis.redraw(true);\n\t\t\t\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t\t\n\t\t\tthis.rerenderColumns();\n\t\t\t\n\t\t\tresolve(column);\n\t\t});\n\t}\n\t\n\t//remove column from system\n\tderegisterColumn(column){\n\t\tvar field = column.getField(),\n\t\tindex;\n\t\t\n\t\t//remove from field list\n\t\tif(field){\n\t\t\tdelete this.columnsByField[field];\n\t\t}\n\t\t\n\t\t//remove from index list\n\t\tindex = this.columnsByIndex.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columnsByIndex.splice(index, 1);\n\t\t}\n\t\t\n\t\t//remove from column list\n\t\tindex = this.columns.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\t\t\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.redraw();\n\t}\n\t\n\trerenderColumns(update, silent){\n\t\tif(!this.redrawBlock){\n\t\t\tthis.renderer.rerenderColumns(update, silent);\n\t\t}else{\n\t\t\tif(update === false || (update === true && this.redrawBlockUpdate === null)){\n\t\t\t\tthis.redrawBlockUpdate = update;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockUpdate = null;\n\t}\n\t\n\trestoreRedraw(){\n\t\tthis.redrawBlock = false;\n\t\tthis.verticalAlignHeaders();\n\t\tthis.renderer.rerenderColumns(this.redrawBlockUpdate);\n\t\t\n\t}\n\t\n\t//redraw columns\n\tredraw(force){\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.verticalAlignHeaders();\n\t\t}\n\t\t\n\t\tif(force){\n\t\t\tthis.table.rowManager.resetScroll();\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t}\n\t\t\n\t\tif(!this.confirm(\"table-redrawing\", force)){\n\t\t\tthis.layoutRefresh(force);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-redraw\", force);\n\t\t\n\t\tthis.table.footerManager.redraw();\n\t}\n}","import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class BasicVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.verticalFillMode = \"fill\";\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t}\n\t\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\t\t\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\telement.scrollTop = 0;\n\t\telement.scrollLeft = 0;\n\t\t\n\t\telement.style.minWidth = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\t}\n\t\n\trenderRows() {\n\t\tvar element = this.tableElement,\n\t\tonlyGroupHeaders = true,\n\t\ttableFrag = document.createDocumentFragment(),\n\t\trows = this.rows();\n\t\t\n\t\trows.forEach((row, index) => {\n\t\t\tthis.styleRow(row, index);\n\t\t\trow.initialize(false, true);\n\t\t\t\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t\t\n\t\t\ttableFrag.appendChild(row.getElement());\n\t\t});\n\t\t\n\t\telement.appendChild(tableFrag);\n\t\t\n\t\trows.forEach((row) => {\n\t\t\trow.rendered();\n\t\t\t\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.calcHeight(true);\n\t\t\t}\n\t\t});\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.setCellHeight();\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else{\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n\t\n\trerenderRows(callback){\t\n\t\tthis.clearRows();\n\t\t\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t\t\n\t\tthis.renderRows();\n\n\t\tif(!this.rows().length){\n\t\t\tthis.table.rowManager.tableEmpty();\n\t\t}\n\t}\n\t\n\tscrollToRowNearestTop(row){\n\t\tvar rowTop = Helpers.elOffset(row.getElement()).top;\n\t\t\n\t\treturn !(Math.abs(this.elementVertical.scrollTop - rowTop) > Math.abs(this.elementVertical.scrollTop + this.elementVertical.clientHeight - rowTop));\n\t}\n\t\n\tscrollToRow(row){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tthis.elementVertical.scrollTop = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top + this.elementVertical.scrollTop;\n\t}\n\t\n\tvisibleRows(includingBuffer){\n\t\treturn this.rows();\n\t}\n\t\n}\n","import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class VirtualDomVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.verticalFillMode = \"fill\";\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomRowHeight = 20; //approximation of row heights for padding\n\n\t\tthis.vDomTop = 0; //hold position for first rendered row in the virtual DOM\n\t\tthis.vDomBottom = 0; //hold position for last rendered row in the virtual DOM\n\n\t\tthis.vDomScrollPosTop = 0; //last scroll position of the vDom top;\n\t\tthis.vDomScrollPosBottom = 0; //last scroll position of the vDom bottom;\n\n\t\tthis.vDomTopPad = 0; //hold value of padding for top of virtual DOM\n\t\tthis.vDomBottomPad = 0; //hold value of padding for bottom of virtual DOM\n\n\t\tthis.vDomMaxRenderChain = 90; //the maximum number of dom elements that can be rendered in 1 go\n\n\t\tthis.vDomWindowBuffer = 0; //window row buffer before removing elements, to smooth scrolling\n\n\t\tthis.vDomWindowMinTotalRows = 20; //minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\n\t\tthis.vDomWindowMinMarginRows = 5; //minimum number of rows to be generated in virtual dom margin\n\n\t\tthis.vDomTopNewRows = []; //rows to normalize after appending to optimize render speed\n\t\tthis.vDomBottomNewRows = []; //rows to normalize after appending to optimize render speed\n\t}\n\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\telement.style.paddingTop = \"\";\n\t\telement.style.paddingBottom = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\n\t\tthis.elementVertical.scrollTop = 0;\n\t\tthis.elementVertical.scrollLeft = 0;\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomTop = 0;\n\t\tthis.vDomBottom = 0;\n\t\tthis.vDomTopPad = 0;\n\t\tthis.vDomBottomPad = 0;\n\t\tthis.vDomScrollPosTop = 0;\n\t\tthis.vDomScrollPosBottom = 0;\n\t}\n\n\trenderRows(){\n\t\tthis._virtualRenderFill();\n\t}\n\n\trerenderRows(callback){\n\t\tvar scrollTop = this.elementVertical.scrollTop;\n\t\tvar topRow = false;\n\t\tvar topOffset = false;\n\n\t\tvar left = this.table.rowManager.scrollLeft;\n\n\t\tvar rows = this.rows();\n\n\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\n\t\t\tif(rows[i]){\n\t\t\t\tvar diff = scrollTop - rows[i].getElement().offsetTop;\n\n\t\t\t\tif(topOffset === false || Math.abs(diff) < topOffset){\n\t\t\t\t\ttopOffset = diff;\n\t\t\t\t\ttopRow = i;\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trows.forEach((row) => {\n\t\t\trow.deinitializeHeight();\n\t\t});\n\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\n\t\tif(this.rows().length){\n\t\t\tthis._virtualRenderFill((topRow === false ? this.rows.length - 1 : topRow), true, topOffset || 0);\n\t\t}else{\n\t\t\tthis.clear();\n\t\t\tthis.table.rowManager.tableEmpty();\n\t\t}\n\n\t\tthis.scrollColumns(left);\n\t}\n\n\tscrollColumns(left){\n\t\tthis.table.rowManager.scrollHorizontal(left);\n\t}\n\n\tscrollRows(top, dir){\n\t\tvar topDiff = top - this.vDomScrollPosTop;\n\t\tvar bottomDiff = top - this.vDomScrollPosBottom;\n\t\tvar margin = this.vDomWindowBuffer * 2;\n\t\tvar rows = this.rows();\n\n\t\tthis.scrollTop = top;\n\n\t\tif(-topDiff > margin || bottomDiff > margin){\n\t\t\t//if big scroll redraw table;\n\t\t\tvar left = this.table.rowManager.scrollLeft;\n\t\t\tthis._virtualRenderFill(Math.floor((this.elementVertical.scrollTop / this.elementVertical.scrollHeight) * rows.length));\n\t\t\tthis.scrollColumns(left);\n\t\t}else{\n\n\t\t\tif(dir){\n\t\t\t\t//scrolling up\n\t\t\t\tif(topDiff < 0){\n\t\t\t\t\tthis._addTopRow(rows, -topDiff);\n\t\t\t\t}\n\n\t\t\t\tif(bottomDiff < 0){\n\t\t\t\t\t//hide bottom row if needed\n\t\t\t\t\tif(this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeBottomRow(rows, -bottomDiff);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tif(bottomDiff >= 0){\n\t\t\t\t\tthis._addBottomRow(rows, bottomDiff);\n\t\t\t\t}\n\n\t\t\t\t//scrolling down\n\t\t\t\tif(topDiff >= 0){\n\t\t\t\t\t//hide top row if needed\n\t\t\t\t\tif(this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeTopRow(rows, topDiff);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tresize(){\n\t\tthis.vDomWindowBuffer = this.table.options.renderVerticalBuffer || this.elementVertical.clientHeight;\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\tvar rowIndex = this.rows().indexOf(row);\n\n\t\treturn !(Math.abs(this.vDomTop - rowIndex) > Math.abs(this.vDomBottom - rowIndex));\n\t}\n\n\tscrollToRow(row){\n\t\tvar index = this.rows().indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tthis._virtualRenderFill(index, true);\n\t\t}\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\tvar topEdge = this.elementVertical.scrollTop,\n\t\tbottomEdge = this.elementVertical.clientHeight + topEdge,\n\t\ttopFound = false,\n\t\ttopRow = 0,\n\t\tbottomRow = 0,\n\t\trows = this.rows();\n\n\t\tif(includingBuffer){\n\t\t\ttopRow = this.vDomTop;\n\t\t\tbottomRow = this.vDomBottom;\n\t\t}else{\n\t\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\t\t\t\tif(rows[i]){\n\t\t\t\t\tif(!topFound){\n\t\t\t\t\t\tif((topEdge - rows[i].getElement().offsetTop) >= 0){\n\t\t\t\t\t\t\ttopRow = i;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ttopFound = true;\n\n\t\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rows.slice(topRow, bottomRow + 1);\n\t}\n\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\n\t//full virtual render\n\t_virtualRenderFill(position, forceMove, offset) {\n\t\tvar\telement = this.tableElement,\n\t\tholder = this.elementVertical,\n\t\ttopPad = 0,\n\t\trowsHeight = 0,\n\t\trowHeight = 0,\n\t\theightOccupied = 0,\n\t\ttopPadHeight = 0,\n\t\ti = 0,\n\t\trows = this.rows(),\n\t\trowsCount = rows.length,\n\t\tindex = 0,\n\t\trow,\n\t\trowFragment,\n\t\trenderedRows = [],\n\t\ttotalRowsRendered = 0,\n\t\trowsToRender = 0,\n\t\tfixedHeight = this.table.rowManager.fixedHeight,\n\t\tcontainerHeight = this.elementVertical.clientHeight, \n\t\tavgRowHeight = this.table.options.rowHeight, \n\t\tresized = true;\n\n\t\tposition = position || 0;\n\n\t\toffset = offset || 0;\n\n\t\tif(!position){\n\t\t\tthis.clear();\n\t\t}else {\n\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\t\t//check if position is too close to bottom of table\n\t\t\theightOccupied = (rowsCount - position + 1) * this.vDomRowHeight;\n\n\t\t\tif(heightOccupied < containerHeight){\n\t\t\t\tposition -= Math.ceil((containerHeight - heightOccupied) / this.vDomRowHeight);\n\t\t\t\tif(position < 0){\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//calculate initial pad\n\t\t\ttopPad = Math.min(Math.max(Math.floor(this.vDomWindowBuffer / this.vDomRowHeight),  this.vDomWindowMinMarginRows), position);\n\t\t\tposition -= topPad;\n\t\t}\n\n\t\tif(rowsCount && Helpers.elVisible(this.elementVertical)){\n\t\t\tthis.vDomTop = position;\n\t\t\tthis.vDomBottom = position -1;\n\n\t\t\tif(fixedHeight || this.table.options.maxHeight) {\n\t\t\t\tif(avgRowHeight) {\n\t\t\t\t\trowsToRender = (containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight);\n\t\t\t\t}\n\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil(rowsToRender));\n\t\t\t}\n\t\t\telse {\n\t\t\t\trowsToRender = rowsCount;\n\t\t\t}\n\n\t\t\twhile(((rowsToRender == rowsCount || rowsHeight <= containerHeight + this.vDomWindowBuffer) || totalRowsRendered < this.vDomWindowMinTotalRows) && this.vDomBottom < rowsCount -1) {\n\t\t\t\trenderedRows = [];\n\t\t\t\trowFragment = document.createDocumentFragment();\n\n\t\t\t\ti = 0;\n\n\t\t\t\twhile ((i < rowsToRender) && this.vDomBottom < rowsCount -1) {\t\n\t\t\t\t\tindex = this.vDomBottom + 1,\n\t\t\t\t\trow = rows[index];\n\n\t\t\t\t\tthis.styleRow(row, index);\n\n\t\t\t\t\trow.initialize(false, true);\n\t\t\t\t\tif(!row.heightInitialized && !this.table.options.rowHeight){\n\t\t\t\t\t\trow.clearCellHeight();\n\t\t\t\t\t}\n\n\t\t\t\t\trowFragment.appendChild(row.getElement());\n\t\t\t\t\trenderedRows.push(row);\n\t\t\t\t\tthis.vDomBottom ++;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\n\t\t\t\tif(!renderedRows.length){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\telement.appendChild(rowFragment);\n\t\t\t\t\n\t\t\t\t// NOTE: The next 3 loops are separate on purpose\n\t\t\t\t// This is to batch up the dom writes and reads which drastically improves performance \n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trow.rendered();\n\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.calcHeight(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.setCellHeight();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trowHeight = row.getHeight();\n\t\t\t\t\t\n\t\t\t\t\tif(totalRowsRendered < topPad){\n\t\t\t\t\t\ttopPadHeight += rowHeight;\n\t\t\t\t\t}else {\n\t\t\t\t\t\trowsHeight += rowHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t}\n\t\t\t\t\ttotalRowsRendered++;\n\t\t\t\t});\n\n\t\t\t\tresized = this.table.rowManager.adjustTableSize();\n\t\t\t\tcontainerHeight = this.elementVertical.clientHeight;\n\t\t\t\tif(resized && (fixedHeight || this.table.options.maxHeight))\n\t\t\t\t{\n\t\t\t\t\tavgRowHeight = rowsHeight / totalRowsRendered;\n\t\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil((containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!position){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t\t//adjust row height to match average of rendered elements\n\t\t\t\tthis.vDomRowHeight = Math.floor((rowsHeight + topPadHeight) / totalRowsRendered);\n\t\t\t\tthis.vDomBottomPad = this.vDomRowHeight * (rowsCount - this.vDomBottom -1);\n\n\t\t\t\tthis.vDomScrollHeight = topPadHeight + rowsHeight + this.vDomBottomPad - containerHeight;\n\t\t\t}else {\n\t\t\t\tthis.vDomTopPad = !forceMove ? this.scrollTop - topPadHeight : (this.vDomRowHeight * this.vDomTop) + offset;\n\t\t\t\tthis.vDomBottomPad = this.vDomBottom == rowsCount-1 ? 0 : Math.max(this.vDomScrollHeight - this.vDomTopPad - rowsHeight - topPadHeight, 0);\n\t\t\t}\n\t\t\t\n\t\t\telement.style.paddingTop = this.vDomTopPad+\"px\";\n\t\t\telement.style.paddingBottom = this.vDomBottomPad+\"px\";\n\n\t\t\tif(forceMove){\n\t\t\t\tthis.scrollTop = this.vDomTopPad + (topPadHeight) + offset - (this.elementVertical.scrollWidth > this.elementVertical.clientWidth ? this.elementVertical.offsetHeight - containerHeight : 0);\n\t\t\t}\n\n\t\t\tthis.scrollTop = Math.min(this.scrollTop, this.elementVertical.scrollHeight - containerHeight);\n\n\t\t\t//adjust for horizontal scrollbar if present (and not at top of table)\n\t\t\tif(this.elementVertical.scrollWidth > this.elementVertical.clientWidth && forceMove){\n\t\t\t\tthis.scrollTop += this.elementVertical.offsetHeight - containerHeight;\n\t\t\t}\n\n\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\n\t\t\tholder.scrollTop = this.scrollTop;\n\n\t\t\tthis.dispatch(\"render-virtual-fill\");\n\t\t}\n\t}\n\n\t_addTopRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomTop -1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tif(this.vDomTop){\n\t\t\t\tlet row = rows[index],\n\t\t\t\trowHeight, initialized;\n\n\t\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\t\ttable.insertBefore(row.getElement(), table.firstChild);\n\n\t\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trow.initialize();\n\n\t\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\t\tthis.vDomTop--;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t\ti++;\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad -= paddingAdjust;\n\n\t\t\tif(this.vDomTopPad < 0){\n\t\t\t\tthis.vDomTopPad = index * this.vDomRowHeight;\n\t\t\t}\n\n\t\t\tif(index < 1){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop -= paddingAdjust;\n\t\t}\n\t}\n\n\t_removeTopRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomTop],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomTop++;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad += paddingAdjust;\n\t\t\tthis.tableElement.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop += this.vDomTop ? paddingAdjust : paddingAdjust + this.vDomWindowBuffer;\n\t\t}\n\t}\n\n\t_addBottomRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomBottom + 1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[index],\n\t\t\trowHeight, initialized;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\ttable.appendChild(row.getElement());\n\n\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t}\n\n\t\t\t\t\trow.initialize();\n\n\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tthis.vDomBottom++;\n\t\t\t\t\tindex++;\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad -= paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0 || index == rows.length -1){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom += paddingAdjust;\n\t\t}\n\t}\n\n\t_removeBottomRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomBottom],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomBottom --;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad += paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\tthis.tableElement.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom -= paddingAdjust;\n\t\t}\n\t}\n\n\t_quickNormalizeRowHeight(rows){\n\t\tfor(let row of rows){\n\t\t\trow.calcHeight();\n\t\t}\n\n\t\tfor(let row of rows){\n\t\t\trow.setCellHeight();\n\t\t}\n\t}\n}\n","import CoreFeature from './CoreFeature.js';\nimport Row from './row/Row.js';\nimport RowComponent from './row/RowComponent.js';\nimport Helpers from './tools/Helpers.js';\n\nimport RendererBasicVertical from './rendering/renderers/BasicVertical.js';\nimport RendererVirtualDomVertical from './rendering/renderers/VirtualDomVertical.js';\n\nexport default class RowManager extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = this.createHolderElement(); //containing element\n\t\tthis.tableElement = this.createTableElement(); //table element\n\t\tthis.heightFixer = this.createTableElement(); //table element\n\t\tthis.placeholder = null; //placeholder element\n\t\tthis.placeholderContents = null; //placeholder element\n\t\t\n\t\tthis.firstRender = false; //handle first render\n\t\tthis.renderMode = \"virtual\"; //current rendering mode\n\t\tthis.fixedHeight = false; //current rendering mode\n\t\t\n\t\tthis.rows = []; //hold row data objects\n\t\tthis.activeRowsPipeline = []; //hold calculation of active rows\n\t\tthis.activeRows = []; //rows currently available to on display in the table\n\t\tthis.activeRowsCount = 0; //count of active rows\n\t\t\n\t\tthis.displayRows = []; //rows currently on display in the table\n\t\tthis.displayRowsCount = 0; //count of display rows\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockRestoreConfig = false; //store latest redraw function calls for when redraw is needed\n\t\tthis.redrawBlockRenderInPosition = false; //store latest redraw function calls for when redraw is needed\n\t\t\n\t\tthis.dataPipeline = []; //hold data pipeline tasks\n\t\tthis.displayPipeline = []; //hold data display pipeline tasks\n\t\t\n\t\tthis.scrollbarWidth = 0;\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t//////////////// Setup Functions /////////////////\n\t\n\tcreateHolderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-tableholder\");\n\t\tel.setAttribute(\"tabindex\", 0);\n\t\t// el.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateTableElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-table\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitializePlaceholder(){\n\t\tvar placeholder = this.table.options.placeholder;\n\t\t\n\t\tif(typeof placeholder === \"function\"){\n\t\t\tplaceholder = placeholder.call(this.table);\n\t\t}\n\t\t\n\t\tplaceholder = this.chain(\"placeholder\", [placeholder], placeholder, placeholder) || placeholder;\n\t\t\n\t\t//configure placeholder element\n\t\tif(placeholder){\t\n\t\t\tlet el = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-placeholder\");\n\t\t\t\n\t\t\tif(typeof placeholder == \"string\"){\n\t\t\t\tlet contents = document.createElement(\"div\");\n\t\t\t\tcontents.classList.add(\"tabulator-placeholder-contents\");\n\t\t\t\tcontents.innerHTML = placeholder;\n\t\t\t\t\n\t\t\t\tel.appendChild(contents);\n\t\t\t\t\n\t\t\t\tthis.placeholderContents = contents;\n\t\t\t\t\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && placeholder instanceof HTMLElement){\n\t\t\t\t\n\t\t\t\tel.appendChild(placeholder);\n\t\t\t\tthis.placeholderContents = placeholder;\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Invalid placeholder provided, must be string or HTML Element\", placeholder);\n\t\t\t\t\n\t\t\t\tthis.el = null;\n\t\t\t}\n\t\t\t\n\t\t\tthis.placeholder = el;\n\t\t}\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return table element\n\tgetTableElement(){\n\t\treturn this.tableElement;\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializePlaceholder();\n\t\tthis.initializeRenderer();\n\t\t\n\t\t//initialize manager\n\t\tthis.element.appendChild(this.tableElement);\n\t\t\n\t\tthis.firstRender = true;\n\t\t\n\t\t//scroll header along with table body\n\t\tthis.element.addEventListener(\"scroll\", () => {\n\t\t\tvar left = this.element.scrollLeft,\n\t\t\tleftDir = this.scrollLeft > left,\n\t\t\ttop = this.element.scrollTop,\n\t\t\ttopDir = this.scrollTop > top;\n\t\t\t\n\t\t\t//handle horizontal scrolling\n\t\t\tif(this.scrollLeft != left){\n\t\t\t\tthis.scrollLeft = left;\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-horizontal\", left, leftDir);\n\t\t\t\tthis.dispatchExternal(\"scrollHorizontal\", left, leftDir);\n\t\t\t\t\n\t\t\t\tthis._positionPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\t//handle vertical scrolling\n\t\t\tif(this.scrollTop != top){\n\t\t\t\tthis.scrollTop = top;\n\t\t\t\t\n\t\t\t\tthis.renderer.scrollRows(top, topDir);\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-vertical\", top, topDir);\n\t\t\t\tthis.dispatchExternal(\"scrollVertical\", top, topDir);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t////////////////// Row Manipulation //////////////////\n\tfindRow(subject){\n\t\tif(typeof subject == \"object\"){\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t//subject is a HTML element of the row\n\t\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\t\treturn row.getElement() === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}else if(subject === null){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\treturn false;\n\t\t}else{\n\t\t\t//subject should be treated as the index of the row\n\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t\t\n\t\t\treturn match || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetRowFromDataObject(data){\n\t\tvar match = this.rows.find((row) => {\n\t\t\treturn row.data === data;\n\t\t});\n\t\t\n\t\treturn match || false;\n\t}\n\t\n\tgetRowFromPosition(position){\n\t\treturn this.getDisplayRows().find((row) => {\n\t\t\treturn row.type === \"row\" && row.getPosition() === position && row.isDisplayed();\n\t\t});\n\t}\n\t\n\tscrollToRow(row, position, ifVisible){\n\t\treturn this.renderer.scrollToRowPosition(row, position, ifVisible);\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\tsetData(data, renderInPosition, columnsChanged){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tif(renderInPosition && this.getDisplayRows().length){\n\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\tthis._setDataActual(data, true);\n\t\t\t\t}else{\n\t\t\t\t\tthis.reRenderInPosition(() => {\n\t\t\t\t\t\tthis._setDataActual(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.table.options.autoColumns && columnsChanged && this.table.initialized){\n\t\t\t\t\tthis.table.columnManager.generateColumnsFromRowData(data);\n\t\t\t\t}\n\t\t\t\tthis.resetScroll();\n\t\t\t\t\n\t\t\t\tthis._setDataActual(data);\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\t_setDataActual(data, renderInPosition){\n\t\tthis.dispatchExternal(\"dataProcessing\", data);\n\t\t\n\t\tthis._wipeElements();\n\t\t\n\t\tif(Array.isArray(data)){\n\t\t\tthis.dispatch(\"data-processing\", data);\n\t\t\t\n\t\t\tdata.forEach((def, i) => {\n\t\t\t\tif(def && typeof def === \"object\"){\n\t\t\t\t\tvar row = new Row(def, this);\n\t\t\t\t\tthis.rows.push(row);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", def);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(false, false, renderInPosition);\n\t\t\t\n\t\t\tthis.dispatch(\"data-processed\", data);\n\t\t\tthis.dispatchExternal(\"dataProcessed\", data);\n\t\t}else{\n\t\t\tconsole.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data, \"\\nData:     \", data);\n\t\t}\n\t}\n\t\n\t_wipeElements(){\n\t\tthis.dispatch(\"rows-wipe\");\n\t\t\n\t\tthis.destroy();\n\t\t\n\t\tthis.adjustTableSize();\n\t\t\n\t\tthis.dispatch(\"rows-wiped\");\n\t}\n\t\n\tdestroy(){\n\t\tthis.rows.forEach((row) => {\n\t\t\trow.wipe();\n\t\t});\n\t\t\n\t\tthis.rows = [];\n\t\tthis.activeRows = [];\n\t\tthis.activeRowsPipeline = [];\n\t\tthis.activeRowsCount = 0;\n\t\tthis.displayRows = [];\n\t\tthis.displayRowsCount = 0;\n\t}\n\t\n\tdeleteRow(row, blockRedraw){\n\t\tvar allIndex = this.rows.indexOf(row),\n\t\tactiveIndex = this.activeRows.indexOf(row);\n\t\t\n\t\tif(activeIndex > -1){\n\t\t\tthis.activeRows.splice(activeIndex, 1);\n\t\t}\n\t\t\n\t\tif(allIndex > -1){\n\t\t\tthis.rows.splice(allIndex, 1);\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tvar displayIndex = rows.indexOf(row);\n\t\t\t\n\t\t\tif(displayIndex > -1){\n\t\t\t\trows.splice(displayIndex, 1);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatchExternal(\"rowDeleted\", row.getComponent());\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis.tableEmpty();\n\t\t}\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.getData());\n\t\t}\n\t}\n\t\n\taddRow(data, pos, index, blockRedraw){\n\t\tvar row = this.addRowActual(data, pos, index, blockRedraw);\n\t\treturn row;\n\t}\n\t\n\t//add multiple rows\n\taddRows(data, pos, index, refreshDisplayOnly){\n\t\tvar rows = [];\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tpos = this.findAddRowPos(pos);\n\t\t\t\n\t\t\tif(!Array.isArray(data)){\n\t\t\t\tdata = [data];\n\t\t\t}\n\t\t\t\n\t\t\tif((typeof index == \"undefined\" && pos) || (typeof index !== \"undefined\" && !pos)){\n\t\t\t\tdata.reverse();\n\t\t\t}\n\t\t\t\n\t\t\tdata.forEach((item, i) => {\n\t\t\t\tvar row = this.addRow(item, pos, index, true);\n\t\t\t\trows.push(row);\n\t\t\t\tthis.dispatch(\"row-added\", row, item, pos, index);\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(refreshDisplayOnly ? \"displayPipeline\" : false, false, true);\n\t\t\t\n\t\t\tthis.regenerateRowPositions();\n\t\t\t\n\t\t\tif(this.displayRowsCount){\n\t\t\t\tthis._clearPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\tresolve(rows);\n\t\t});\n\t}\n\t\n\tfindAddRowPos(pos){\n\t\tif(typeof pos === \"undefined\"){\n\t\t\tpos = this.table.options.addRowPos;\n\t\t}\n\t\t\n\t\tif(pos === \"pos\"){\n\t\t\tpos = true;\n\t\t}\n\t\t\n\t\tif(pos === \"bottom\"){\n\t\t\tpos = false;\n\t\t}\n\t\t\n\t\treturn pos;\n\t}\n\t\n\taddRowActual(data, pos, index, blockRedraw){\n\t\tvar row = data instanceof Row ? data : new Row(data || {}, this),\n\t\ttop = this.findAddRowPos(pos),\n\t\tallIndex = -1,\n\t\tactiveIndex, chainResult;\n\t\t\n\t\tif(!index){\n\t\t\tchainResult = this.chain(\"row-adding-position\", [row, top], null, {index, top});\n\t\t\t\n\t\t\tindex = chainResult.index;\n\t\t\ttop = chainResult.top;\n\t\t}\n\t\t\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tindex = this.findRow(index);\n\t\t}\n\t\t\n\t\tindex = this.chain(\"row-adding-index\", [row, index, top], null, index);\n\t\t\n\t\tif(index){\n\t\t\tallIndex = this.rows.indexOf(index);\n\t\t}\n\t\t\n\t\tif(index && allIndex > -1){\n\t\t\tactiveIndex = this.activeRows.indexOf(index);\n\t\t\t\n\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\tvar displayIndex = rows.indexOf(index);\n\t\t\t\t\n\t\t\t\tif(displayIndex > -1){\n\t\t\t\t\trows.splice((top ? displayIndex : displayIndex + 1), 0, row);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(activeIndex > -1){\n\t\t\t\tthis.activeRows.splice((top ? activeIndex : activeIndex + 1), 0, row);\n\t\t\t}\n\t\t\t\n\t\t\tthis.rows.splice((top ? allIndex : allIndex + 1), 0, row);\n\t\t\t\n\t\t}else{\n\t\t\t\n\t\t\tif(top){\n\t\t\t\t\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.unshift(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.unshift(row);\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}else{\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.push(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.push(row);\n\t\t\t\tthis.rows.push(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.dispatchExternal(\"rowAdded\", row.getComponent());\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t}\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\treturn row;\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tthis.dispatch(\"row-move\", from, to, after);\n\t\t\n\t\tthis.moveRowActual(from, to, after);\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatch(\"row-moved\", from, to, after);\n\t\tthis.dispatchExternal(\"rowMoved\", from.getComponent());\n\t}\n\t\n\tmoveRowActual(from, to, after){\n\t\tthis.moveRowInArray(this.rows, from, to, after);\n\t\tthis.moveRowInArray(this.activeRows, from, to, after);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tthis.moveRowInArray(rows, from, to, after);\n\t\t});\n\t\t\n\t\tthis.dispatch(\"row-moving\", from, to, after);\n\t}\n\t\n\tmoveRowInArray(rows, from, to, after){\n\t\tvar\tfromIndex, toIndex, start, end;\n\t\t\n\t\tif(from !== to){\n\t\t\t\n\t\t\tfromIndex = rows.indexOf(from);\n\t\t\t\n\t\t\tif (fromIndex > -1) {\n\t\t\t\t\n\t\t\t\trows.splice(fromIndex, 1);\n\t\t\t\t\n\t\t\t\ttoIndex = rows.indexOf(to);\n\t\t\t\t\n\t\t\t\tif (toIndex > -1) {\n\t\t\t\t\t\n\t\t\t\t\tif(after){\n\t\t\t\t\t\trows.splice(toIndex+1, 0, from);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trows.splice(toIndex, 0, from);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\trows.splice(fromIndex, 0, from);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//restyle rows\n\t\t\tif(rows === this.getDisplayRows()){\n\t\t\t\t\n\t\t\t\tstart = fromIndex < toIndex ? fromIndex : toIndex;\n\t\t\t\tend = toIndex > fromIndex ? toIndex : fromIndex +1;\n\t\t\t\t\n\t\t\t\tfor(let i = start; i <= end; i++){\n\t\t\t\t\tif(rows[i]){\n\t\t\t\t\t\tthis.styleRow(rows[i], i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearData(){\n\t\tthis.setData([]);\n\t}\n\t\n\tgetRowIndex(row){\n\t\treturn this.findRowIndex(row, this.rows);\n\t}\n\t\n\tgetDisplayRowIndex(row){\n\t\tvar index = this.getDisplayRows().indexOf(row);\n\t\treturn index > -1 ? index : false;\n\t}\n\t\n\tnextDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tnextRow = false;\n\t\t\n\t\t\n\t\tif(index !== false && index < this.displayRowsCount -1){\n\t\t\tnextRow = this.getDisplayRows()[index+1];\n\t\t}\n\t\t\n\t\tif(nextRow && (!(nextRow instanceof Row) || nextRow.type != \"row\")){\n\t\t\treturn this.nextDisplayRow(nextRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn nextRow;\n\t}\n\t\n\tprevDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tprevRow = false;\n\t\t\n\t\tif(index){\n\t\t\tprevRow = this.getDisplayRows()[index-1];\n\t\t}\n\t\t\n\t\tif(rowOnly && prevRow && (!(prevRow instanceof Row) || prevRow.type != \"row\")){\n\t\t\treturn this.prevDisplayRow(prevRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn prevRow;\n\t}\n\t\n\tfindRowIndex(row, list){\n\t\tvar rowIndex;\n\t\t\n\t\trow = this.findRow(row);\n\t\t\n\t\tif(row){\n\t\t\trowIndex = list.indexOf(row);\n\t\t\t\n\t\t\tif(rowIndex > -1){\n\t\t\t\treturn rowIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tgetData(active, transform){\n\t\tvar output = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tif(row.type == \"row\"){\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(active){\n\t\tvar\toutput = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\toutput.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetDataCount(active){\n\t\tvar rows = this.getRows(active);\n\t\t\n\t\treturn rows.length;\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tthis.scrollLeft = left;\n\t\tthis.element.scrollLeft = left;\n\t\t\n\t\tthis.dispatch(\"scroll-horizontal\", left);\n\t}\n\t\n\tregisterDataPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.dataPipeline.push({handler, priority});\n\t\t\tthis.dataPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.error(\"Data pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\tregisterDisplayPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.displayPipeline.push({handler, priority});\n\t\t\tthis.displayPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.error(\"Display pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\t//set active data set\n\trefreshActiveData(handler, skipStage, renderInPosition){\n\t\tvar table = this.table,\n\t\tstage = \"\",\n\t\tindex = 0,\n\t\tcascadeOrder = [\"all\", \"dataPipeline\", \"display\", \"displayPipeline\", \"end\"];\n\t\t\n\t\tif(!this.table.destroyed){\n\t\t\tif(typeof handler === \"function\"){\n\t\t\t\tindex = this.dataPipeline.findIndex((item) => {\n\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(index > -1){\n\t\t\t\t\tstage = \"dataPipeline\";\n\t\t\t\t\t\n\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\tif(index == this.dataPipeline.length - 1){\n\t\t\t\t\t\t\tstage = \"display\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tindex = this.displayPipeline.findIndex((item) => {\n\t\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(index > -1){\n\t\t\t\t\t\tstage = \"displayPipeline\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\t\tif(index == this.displayPipeline.length - 1){\n\t\t\t\t\t\t\t\tstage = \"end\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error(\"Unable to refresh data, invalid handler provided\", handler);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tstage = handler || \"all\";\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.redrawBlock){\n\t\t\t\tif(!this.redrawBlockRestoreConfig || (this.redrawBlockRestoreConfig && ((this.redrawBlockRestoreConfig.stage === stage && index < this.redrawBlockRestoreConfig.index) || (cascadeOrder.indexOf(stage) < cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage))))){\n\t\t\t\t\tthis.redrawBlockRestoreConfig = {\n\t\t\t\t\t\thandler: handler,\n\t\t\t\t\t\tskipStage: skipStage,\n\t\t\t\t\t\trenderInPosition: renderInPosition,\n\t\t\t\t\t\tstage:stage,\n\t\t\t\t\t\tindex:index,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}else{\n\t\t\t\tif(Helpers.elVisible(this.element)){\n\t\t\t\t\tif(renderInPosition){\n\t\t\t\t\t\tthis.reRenderInPosition(this.refreshPipelines.bind(this, handler, stage, index, renderInPosition));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!handler){\n\t\t\t\t\t\t\tthis.table.columnManager.renderer.renderColumns();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.renderTable();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(table.options.layoutColumnsOnNewData){\n\t\t\t\t\t\t\tthis.table.columnManager.redraw(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"data-refreshed\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\trefreshPipelines(handler, stage, index, renderInPosition){\n\t\tthis.dispatch(\"data-refreshing\");\n\t\t\n\t\tif(!handler || !this.activeRowsPipeline[0]){\n\t\t\tthis.activeRowsPipeline[0] = this.rows.slice(0);\n\t\t}\n\t\t\n\t\t//cascade through data refresh stages\n\t\tswitch(stage){\n\t\t\tcase \"all\":\n\t\t\t//handle case where all data needs refreshing\n\t\t\t\n\t\t\tcase \"dataPipeline\":\n\t\t\t\tfor(let i = index; i < this.dataPipeline.length; i++){\n\t\t\t\t\tlet result = this.dataPipeline[i].handler(this.activeRowsPipeline[i].slice(0));\n\t\t\t\t\n\t\t\t\t\tthis.activeRowsPipeline[i + 1] = result || this.activeRowsPipeline[i].slice(0);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tthis.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\tindex = 0;\n\t\t\t\tthis.resetDisplayRows();\n\t\t\t\n\t\t\tcase \"displayPipeline\":\n\t\t\t\tfor(let i = index; i < this.displayPipeline.length; i++){\n\t\t\t\t\tlet result = this.displayPipeline[i].handler((i ? this.getDisplayRows(i - 1) : this.activeRows).slice(0), renderInPosition);\n\t\t\t\t\n\t\t\t\t\tthis.setDisplayRows(result || this.getDisplayRows(i - 1).slice(0), i);\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"end\":\n\t\t\t//case to handle scenario when trying to skip past end stage\n\t\t\t\tthis.regenerateRowPositions();\n\t\t}\n\t\t\n\t\tif(this.getDisplayRows().length){\n\t\t\tthis._clearPlaceholder();\n\t\t}\n\t}\n\t\n\t//regenerate row positions\n\tregenerateRowPositions(){\n\t\tvar rows = this.getDisplayRows();\n\t\tvar index = 1;\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif (row.type === \"row\"){\n\t\t\t\trow.setPosition(index);\n\t\t\t\tindex++;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsetActiveRows(activeRows){\n\t\tthis.activeRows = this.activeRows = Object.assign([], activeRows);\n\t\tthis.activeRowsCount = this.activeRows.length;\n\t}\n\t\n\t//reset display rows array\n\tresetDisplayRows(){\n\t\tthis.displayRows = [];\n\t\t\n\t\tthis.displayRows.push(this.activeRows.slice(0));\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[0].length;\n\t}\n\t\n\t//set display row pipeline data\n\tsetDisplayRows(displayRows, index){\n\t\tthis.displayRows[index] = displayRows;\n\t\t\n\t\tif(index == this.displayRows.length -1){\n\t\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t\t}\n\t}\n\t\n\tgetDisplayRows(index){\n\t\tif(typeof index == \"undefined\"){\n\t\t\treturn this.displayRows.length ? this.displayRows[this.displayRows.length -1] : [];\n\t\t}else{\n\t\t\treturn this.displayRows[index] || [];\n\t\t}\n\t}\n\t\n\tgetVisibleRows(chain, viewable){\n\t\tvar rows =  Object.assign([], this.renderer.visibleRows(!viewable));\n\t\t\n\t\tif(chain){\n\t\t\trows = this.chain(\"rows-visible\", [viewable], rows, rows);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t//repeat action across display rows\n\tdisplayRowIterator(callback){\n\t\tthis.activeRowsPipeline.forEach(callback);\n\t\tthis.displayRows.forEach(callback);\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t}\n\t\n\t//return only actual rows (not group headers etc)\n\tgetRows(type){\n\t\tvar rows = [];\n\t\t\n\t\tswitch(type){\n\t\t\tcase \"active\":\n\t\t\t\trows = this.activeRows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"visible\":\n\t\t\t\trows = this.getVisibleRows(false, true);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trows = this.chain(\"rows-retrieve\", type, null, this.rows) || this.rows;\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t///////////////// Table Rendering /////////////////\n\t//trigger rerender of table in current position\n\treRenderInPosition(callback){\n\t\tif(this.redrawBlock){\n\t\t\tif(callback){\n\t\t\t\tcallback();\n\t\t\t}else{\n\t\t\t\tthis.redrawBlockRenderInPosition = true;\n\t\t\t}\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\t\n\t\t\tthis.renderer.rerenderRows(callback);\n\t\t\t\n\t\t\tif(!this.fixedHeight){\n\t\t\t\tthis.adjustTableSize();\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"renderComplete\");\n\t\t}\n\t}\n\t\n\tscrollBarCheck(){\n\t\tvar scrollbarWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar moving table when present\n\t\tif(this.element.scrollHeight > this.element.clientHeight){\n\t\t\tscrollbarWidth = this.element.offsetWidth - this.element.clientWidth;\n\t\t}\n\t\t\n\t\tif(scrollbarWidth !== this.scrollbarWidth){\n\t\t\tthis.scrollbarWidth = scrollbarWidth;\n\t\t\tthis.dispatch(\"scrollbar-vertical\", scrollbarWidth);\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": RendererVirtualDomVertical,\n\t\t\t\"basic\": RendererBasicVertical,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderVertical === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderVertical];\n\t\t}else{\n\t\t\trenderClass = this.table.options.renderVertical;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderMode = this.table.options.renderVertical;\n\t\t\t\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t\t\n\t\t\tif((this.table.element.clientHeight || this.table.options.height) && !(this.table.options.minHeight && this.table.options.maxHeight)){\n\t\t\t\tthis.fixedHeight = true;\n\t\t\t}else{\n\t\t\t\tthis.fixedHeight = false;\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderVertical);\n\t\t}\n\t}\n\t\n\tgetRenderMode(){\n\t\treturn this.renderMode;\n\t}\n\t\n\trenderTable(){\n\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tthis._clearTable();\n\t\t\n\t\tif(this.displayRowsCount){\n\t\t\tthis.renderer.renderRows();\n\t\t\t\n\t\t\tif(this.firstRender){\n\t\t\t\tthis.firstRender = false;\n\t\t\t\t\n\t\t\t\tif(!this.fixedHeight){\n\t\t\t\t\tthis.adjustTableSize();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.layoutRefresh(true);\n\t\t\t}\n\t\t}else{\n\t\t\tthis.renderEmptyScroll();\n\t\t}\n\t\t\n\t\tif(!this.fixedHeight){\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-layout\");\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis._showPlaceholder();\n\t\t}\n\t\t\n\t\tthis.scrollBarCheck();\n\t\t\n\t\tthis.dispatchExternal(\"renderComplete\");\n\t}\n\t\n\t//show scrollbars on empty table div\n\trenderEmptyScroll(){\n\t\tif(this.placeholder){\n\t\t\tthis.tableElement.style.display = \"none\";\n\t\t}else{\n\t\t\tthis.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t\t// this.tableElement.style.minHeight = \"1px\";\n\t\t\t// this.tableElement.style.visibility = \"hidden\";\n\t\t}\n\t}\n\t\n\t_clearTable(){\t\n\t\tthis._clearPlaceholder();\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.renderer.clearRows();\n\t}\n\t\n\ttableEmpty(){\n\t\tthis.renderEmptyScroll();\n\t\tthis._showPlaceholder();\n\t}\n\n\tcheckPlaceholder(){\n\t\tif(this.displayRowsCount){\n\t\t\tthis._clearPlaceholder();\n\t\t}else{\n\t\t\tthis.tableEmpty();\n\t\t}\n\t}\n\t\n\t_showPlaceholder(){\n\t\tif(this.placeholder){\n\t\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t\t}\n\t\t\t\n\t\t\tthis.initializePlaceholder();\n\t\t\t\n\t\t\tthis.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode);\n\t\t\t\n\t\t\tthis.getElement().appendChild(this.placeholder);\n\t\t\tthis._positionPlaceholder();\n\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t}\n\t\n\t_clearPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t}\n\t\t\n\t\t// clear empty table placeholder min\n\t\tthis.tableElement.style.minWidth = \"\";\n\t\tthis.tableElement.style.display = \"\";\n\t}\n\t\n\t_positionPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.style.width = this.table.columnManager.getWidth() + \"px\";\n\t\t\tthis.placeholderContents.style.width = this.table.rowManager.element.clientWidth + \"px\";\n\t\t\tthis.placeholderContents.style.marginLeft = this.scrollLeft + \"px\";\n\t\t}\n\t}\n\t\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else{\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\t\n\t//normalize height of active rows\n\tnormalizeHeight(force){\n\t\tthis.activeRows.forEach(function(row){\n\t\t\trow.normalizeHeight(force);\n\t\t});\n\t}\n\t\n\t//adjust the height of the table holder to fit in the Tabulator element\n\tadjustTableSize(){\n\t\tlet initialHeight = this.element.clientHeight, minHeight;\n\t\tlet resized = false;\n\t\t\n\t\tif(this.renderer.verticalFillMode === \"fill\"){\n\t\t\tlet otherHeight =  Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height + (this.table.footerManager && this.table.footerManager.active && !this.table.footerManager.external ? this.table.footerManager.getElement().getBoundingClientRect().height : 0));\n\t\t\t\n\t\t\tif(this.fixedHeight){\n\t\t\t\tminHeight = isNaN(this.table.options.minHeight) ? this.table.options.minHeight : this.table.options.minHeight + \"px\";\n\t\t\t\t\n\t\t\t\tconst height = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.minHeight = minHeight || \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.height = height;\n\t\t\t\tthis.element.style.maxHeight = height;\n\t\t\t} else {\n\t\t\t\tthis.element.style.height = \"\";\n\t\t\t\tthis.element.style.height =\n\t\t\t\tthis.table.element.clientHeight - otherHeight + \"px\";\n\t\t\t\tthis.element.scrollTop = this.scrollTop;\n\t\t\t}\n\t\t\t\n\t\t\tthis.renderer.resize();\n\t\t\t\n\t\t\t//check if the table has changed size when dealing with variable height tables\n\t\t\tif(!this.fixedHeight && initialHeight != this.element.clientHeight){\n\t\t\t\tresized = true;\n\t\t\t\tif(this.subscribed(\"table-resize\")){\n\t\t\t\t\tthis.dispatch(\"table-resize\");\n\t\t\t\t}else{\n\t\t\t\t\tthis.redraw();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t}\n\t\t\n\t\tthis._positionPlaceholder();\n\t\treturn resized;\n\t}\n\t\n\t//reinitialize all rows\n\treinitialize(){\n\t\tthis.rows.forEach(function(row){\n\t\t\trow.reinitialize(true);\n\t\t});\n\t}\n\t\n\t//prevent table from being redrawn\n\tblockRedraw (){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockRestoreConfig = false;\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw (){\n\t\tthis.redrawBlock = false;\n\t\t\n\t\tif(this.redrawBlockRestoreConfig){\n\t\t\tthis.refreshActiveData(this.redrawBlockRestoreConfig.handler, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition);\n\t\t\t\n\t\t\tthis.redrawBlockRestoreConfig = false;\n\t\t}else{\n\t\t\tif(this.redrawBlockRenderInPosition){\n\t\t\t\tthis.reRenderInPosition();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.redrawBlockRenderInPosition = false;\n\t}\n\t\n\t//redraw table\n\tredraw (force){\n\t\tthis.adjustTableSize();\n\t\tthis.table.tableWidth = this.table.element.clientWidth;\n\t\t\n\t\tif(!force){\t\n\t\t\tthis.reRenderInPosition();\n\t\t\tthis.scrollHorizontal(this.scrollLeft);\n\t\t}else{\n\t\t\tthis.renderTable();\n\t\t}\n\t}\n\t\n\tresetScroll(){\n\t\tthis.element.scrollLeft = 0;\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tif(this.table.browser === \"ie\"){\n\t\t\tvar event = document.createEvent(\"Event\");\n\t\t\tevent.initEvent(\"scroll\", false, true);\n\t\t\tthis.element.dispatchEvent(event);\n\t\t}else{\n\t\t\tthis.element.dispatchEvent(new Event('scroll'));\n\t\t}\n\t}\n}\n","import CoreFeature from './CoreFeature.js';\n\nexport default class FooterManager extends CoreFeature{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.active = false;\n\t\tthis.element = this.createElement(); //containing element\n\t\tthis.containerElement = this.createContainerElement(); //containing element\n\t\tthis.external = false;\n\t}\n\n\tinitialize(){\n\t\tthis.initializeElement();\n\t}\n\n\tcreateElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer\");\n\n\t\treturn el;\n\t}\n\n\t\n\tcreateContainerElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer-contents\");\n\n\t\tthis.element.appendChild(el);\n\n\t\treturn el;\n\t}\n\n\tinitializeElement(){\n\t\tif(this.table.options.footerElement){\n\n\t\t\tswitch(typeof this.table.options.footerElement){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(this.table.options.footerElement[0] === \"<\"){\n\t\t\t\t\t\tthis.containerElement.innerHTML = this.table.options.footerElement;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.external = true;\n\t\t\t\t\t\tthis.containerElement = document.querySelector(this.table.options.footerElement);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.element = this.table.options.footerElement;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tappend(element){\n\t\tthis.activate();\n\n\t\tthis.containerElement.appendChild(element);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tprepend(element){\n\t\tthis.activate();\n\n\t\tthis.element.insertBefore(element, this.element.firstChild);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tremove(element){\n\t\telement.parentNode.removeChild(element);\n\t\tthis.deactivate();\n\t}\n\n\tdeactivate(force){\n\t\tif(!this.element.firstChild || force){\n\t\t\tif(!this.external){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\tthis.active = false;\n\t\t}\n\t}\n\n\tactivate(){\n\t\tif(!this.active){\n\t\t\tthis.active = true;\n\t\t\tif(!this.external){\n\t\t\t\tthis.table.element.appendChild(this.getElement());\n\t\t\t\tthis.table.element.style.display = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tredraw(){\n\t\tthis.dispatch(\"footer-redraw\");\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport Row from '../row/Row.js';\n\nexport default class InteractionManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.el = null;\n\t\t\n\t\tthis.abortClasses = [\"tabulator-headers\", \"tabulator-table\"];\n\t\t\n\t\tthis.previousTargets = {};\n\t\t\n\t\tthis.listeners = [\n\t\t\t\"click\",\n\t\t\t\"dblclick\",\n\t\t\t\"contextmenu\",\n\t\t\t\"mouseenter\",\n\t\t\t\"mouseleave\",\n\t\t\t\"mouseover\",\n\t\t\t\"mouseout\",\n\t\t\t\"mousemove\",\n\t\t\t\"mouseup\",\n\t\t\t\"mousedown\",\n\t\t\t\"touchstart\",\n\t\t\t\"touchend\",\n\t\t];\n\t\t\n\t\tthis.componentMap = {\n\t\t\t\"tabulator-cell\":\"cell\",\n\t\t\t\"tabulator-row\":\"row\",\n\t\t\t\"tabulator-group\":\"group\",\n\t\t\t\"tabulator-col\":\"column\",\n\t\t};\n\t\t\n\t\tthis.pseudoTrackers = {\n\t\t\t\"row\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"cell\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"group\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"column\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t};\n\t\t\n\t\tthis.pseudoTracking = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.el = this.table.element;\n\t\t\n\t\tthis.buildListenerMap();\n\t\tthis.bindSubscriptionWatchers();\n\t}\n\t\n\tbuildListenerMap(){\n\t\tvar listenerMap = {};\n\t\t\n\t\tthis.listeners.forEach((listener) => {\n\t\t\tlistenerMap[listener] = {\n\t\t\t\thandler:null,\n\t\t\t\tcomponents:[],\n\t\t\t};\n\t\t});\n\t\t\n\t\tthis.listeners = listenerMap;\n\t}\n\t\n\tbindPseudoEvents(){\n\t\tObject.keys(this.pseudoTrackers).forEach((key) => {\n\t\t\tthis.pseudoTrackers[key].subscriber = this.pseudoMouseEnter.bind(this, key);\n\t\t\tthis.subscribe(key + \"-mouseover\", this.pseudoTrackers[key].subscriber);\n\t\t});\n\t\t\n\t\tthis.pseudoTracking = true;\n\t}\n\t\n\tpseudoMouseEnter(key, e, target){\n\t\tif(this.pseudoTrackers[key].target !== target){\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, this.pseudoTrackers[key].target);\n\t\t\t}\n\t\t\t\n\t\t\tthis.pseudoMouseLeave(key, e);\n\t\t\t\n\t\t\tthis.pseudoTrackers[key].target = target;\n\t\t\t\n\t\t\tthis.dispatch(key + \"-mouseenter\", e, target);\n\t\t}\n\t}\n\t\n\tpseudoMouseLeave(key, e){\n\t\tvar leaveList = Object.keys(this.pseudoTrackers),\n\t\tlinkedKeys = {\n\t\t\t\"row\":[\"cell\"],\n\t\t\t\"cell\":[\"row\"],\n\t\t};\n\t\t\n\t\tleaveList = leaveList.filter((item) => {\n\t\t\tvar links = linkedKeys[key];\n\t\t\treturn item !== key && (!links || (links && !links.includes(item)));\n\t\t});\n\t\t\n\t\t\n\t\tleaveList.forEach((key) => {\n\t\t\tvar target = this.pseudoTrackers[key].target;\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, target);\n\t\t\t\t\n\t\t\t\tthis.pseudoTrackers[key].target = null;\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tbindSubscriptionWatchers(){\n\t\tvar listeners = Object.keys(this.listeners),\n\t\tcomponents = Object.values(this.componentMap);\n\t\t\n\t\tfor(let comp of components){\n\t\t\tfor(let listener of listeners){\n\t\t\t\tlet key = comp + \"-\" + listener;\n\t\t\t\t\n\t\t\t\tthis.subscriptionChange(key, this.subscriptionChanged.bind(this, comp, listener));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.clearWatchers.bind(this));\n\t}\n\t\n\tsubscriptionChanged(component, key, added){\n\t\tvar listener = this.listeners[key].components,\n\t\tindex = listener.indexOf(component),\n\t\tchanged = false;\n\t\t\n\t\tif(added){\n\t\t\tif(index === -1){\n\t\t\t\tlistener.push(component);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}else{\n\t\t\tif(!this.subscribed(component + \"-\" + key)){\n\t\t\t\tif(index > -1){\n\t\t\t\t\tlistener.splice(index, 1);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif((key === \"mouseenter\" || key === \"mouseleave\") && !this.pseudoTracking){\n\t\t\tthis.bindPseudoEvents();\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.updateEventListeners();\n\t\t}\n\t}\n\t\n\tupdateEventListeners(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.components.length){\n\t\t\t\tif(!listener.handler){\n\t\t\t\t\tlistener.handler = this.track.bind(this, key);\n\t\t\t\t\tthis.el.addEventListener(key, listener.handler);\n\t\t\t\t\t// this.el.addEventListener(key, listener.handler, {passive: true})\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(listener.handler){\n\t\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\t\tlistener.handler = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\ttrack(type, e){\n\t\tvar path = (e.composedPath && e.composedPath()) || e.path;\n\t\t\n\t\tvar targets = this.findTargets(path);\n\t\ttargets = this.bindComponents(type, targets);\n\t\t\n\t\tthis.triggerEvents(type, e, targets);\n\t\t\n\t\tif(this.pseudoTracking && (type == \"mouseover\" || type == \"mouseleave\") && !Object.keys(targets).length){\n\t\t\tthis.pseudoMouseLeave(\"none\", e);\n\t\t}\n\t}\n\t\n\tfindTargets(path){\n\t\tvar targets = {};\n\t\t\n\t\tlet componentMap = Object.keys(this.componentMap);\n\t\t\n\t\tfor (let el of path) {\n\t\t\tlet classList = el.classList ? [...el.classList] : [];\n\t\t\t\n\t\t\tlet abort = classList.filter((item) => {\n\t\t\t\treturn this.abortClasses.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tif(abort.length){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tlet elTargets = classList.filter((item) => {\n\t\t\t\treturn componentMap.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tfor (let target of elTargets) {\n\t\t\t\tif(!targets[this.componentMap[target]]){\n\t\t\t\t\ttargets[this.componentMap[target]] = el;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(targets.group && targets.group === targets.row){\n\t\t\tdelete targets.row;\n\t\t}\n\n\t\treturn targets;\n\t}\n\t\n\tbindComponents(type, targets){\n\t\t//ensure row component is looked up before cell\n\t\tvar keys = Object.keys(targets).reverse(),\n\t\tlistener = this.listeners[type],\n\t\tmatches = {},\n\t\ttargetMatches = {};\n\t\t\n\t\tfor(let key of keys){\n\t\t\tlet component,\n\t\t\ttarget = targets[key],\n\t\t\tpreviousTarget = this.previousTargets[key];\n\t\t\t\n\t\t\tif(previousTarget && previousTarget.target === target){\n\t\t\t\tcomponent = previousTarget.component;\n\t\t\t}else{\n\t\t\t\tswitch(key){\n\t\t\t\t\tcase \"row\":\n\t\t\t\t\tcase \"group\":\n\t\t\t\t\t\tif(listener.components.includes(\"row\") || listener.components.includes(\"cell\") || listener.components.includes(\"group\")){\n\t\t\t\t\t\t\tlet rows = this.table.rowManager.getVisibleRows(true);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcomponent = rows.find((row) => {\n\t\t\t\t\t\t\t\treturn row.getElement() === target;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(targets[\"row\"] && targets[\"row\"].parentNode && targets[\"row\"].parentNode.closest(\".tabulator-row\")){\n\t\t\t\t\t\t\t\ttargets[key] = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"column\":\n\t\t\t\t\t\tif(listener.components.includes(\"column\")){\n\t\t\t\t\t\t\tcomponent = this.table.columnManager.findColumn(target);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"cell\":\n\t\t\t\t\t\tif(listener.components.includes(\"cell\")){\n\t\t\t\t\t\t\tif(matches[\"row\"] instanceof Row){\n\t\t\t\t\t\t\t\tcomponent = matches[\"row\"].findCell(target);\n\t\t\t\t\t\t\t}else{\t\n\t\t\t\t\t\t\t\tif(targets[\"row\"]){\n\t\t\t\t\t\t\t\t\tconsole.warn(\"Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(component){\n\t\t\t\tmatches[key] = component;\n\t\t\t\ttargetMatches[key] = {\n\t\t\t\t\ttarget:target,\n\t\t\t\t\tcomponent:component,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.previousTargets = targetMatches;\n\t\t\n\t\treturn matches;\n\t}\n\t\n\ttriggerEvents(type, e, targets){\n\t\tvar listener = this.listeners[type];\n\n\t\tfor(let key in targets){\n\t\t\tif(targets[key] && listener.components.includes(key)){\n\t\t\t\tthis.dispatch(key + \"-\" + type, e, targets[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearWatchers(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.handler){\n\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\tlistener.handler = null;\n\t\t\t}\n\t\t}\n\t}\n}\n","export default class ComponentFunctionBinder{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\n\t\tthis.bindings = {};\n\t}\n\n\tbind(type, funcName, handler){\n\t\tif(!this.bindings[type]){\n\t\t\tthis.bindings[type] = {};\n\t\t}\n\n\t\tif(this.bindings[type][funcName]){\n\t\t\tconsole.warn(\"Unable to bind component handler, a matching function name is already bound\", type, funcName, handler);\n\t\t}else{\n\t\t\tthis.bindings[type][funcName] = handler;\n\t\t}\n\t}\n\n\thandle(type, component, name){\n\t\tif(this.bindings[type] && this.bindings[type][name] && typeof this.bindings[type][name].bind === 'function'){\n\t\t\treturn this.bindings[type][name].bind(null, component);\n\t\t}else{\n\t\t\tif(name !== \"then\" && typeof name === \"string\" && !name.startsWith(\"_\")){\n\t\t\t\tif(this.table.options.debugInvalidComponentFuncs){\n\t\t\t\t\tconsole.error(\"The \" + type + \" component does not have a \" + name + \" function, have you checked that you have the correct Tabulator module installed?\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","import CoreFeature from '../CoreFeature.js';\n\nexport default class DataLoader extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.requestOrder = 0; //prevent requests coming out of sequence if overridden by another load request\n\t\tthis.loading = false;\n\t}\n\t\n\tinitialize(){}\n\t\n\tload(data, params, config, replace, silent, columnsChanged){\n\t\tvar requestNo = ++this.requestOrder;\n\n\t\tif(this.table.destroyed){\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\t\n\t\tthis.dispatchExternal(\"dataLoading\", data);\n\t\t\n\t\t//parse json data to array\n\t\tif (data && (data.indexOf(\"{\") == 0 || data.indexOf(\"[\") == 0)){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(this.confirm(\"data-loading\", [data, params, config, silent])){\n\t\t\tthis.loading = true;\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis.alertLoader();\n\t\t\t}\n\t\t\t\n\t\t\t//get params for request\n\t\t\tparams = this.chain(\"data-params\", [data, config, silent], params || {}, params || {});\n\t\t\t\n\t\t\tparams = this.mapParams(params, this.table.options.dataSendParams);\n\t\t\t\n\t\t\tvar result = this.chain(\"data-load\", [data, params, config, silent], false, Promise.resolve([]));\n\t\t\t\n\t\t\treturn result.then((response) => {\n\t\t\t\tif(!this.table.destroyed){\n\t\t\t\t\tif(!Array.isArray(response) && typeof response == \"object\"){\n\t\t\t\t\t\tresponse = this.mapParams(response, this.objectInvert(this.table.options.dataReceiveParams));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar rowData = this.chain(\"data-loaded\", [response], null, response);\n\t\t\t\t\t\n\t\t\t\t\tif(requestNo == this.requestOrder){\n\t\t\t\t\t\tthis.clearAlert();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(rowData !== false){\n\t\t\t\t\t\t\tthis.dispatchExternal(\"dataLoaded\", rowData);\n\t\t\t\t\t\t\tthis.table.rowManager.setData(rowData,  replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made\");\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - Table has been destroyed\");\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error(\"Data Load Error: \", error);\n\t\t\t\tthis.dispatchExternal(\"dataLoadError\", error);\n\t\t\t\t\n\t\t\t\tif(!silent){\n\t\t\t\t\tthis.alertError();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.clearAlert();\n\t\t\t\t}, this.table.options.dataLoaderErrorTimeout);\n\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"dataLoaded\", data);\n\t\t\t\n\t\t\tif(!data){\n\t\t\t\tdata = [];\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.rowManager.setData(data, replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\t\n\tmapParams(params, map){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in params){\n\t\t\toutput[map.hasOwnProperty(key) ? map[key] : key] = params[key];\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tobjectInvert(obj){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in obj){\n\t\t\toutput[obj[key]] = key;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tblockActiveLoad(){\n\t\tthis.requestOrder++;\n\t}\n\t\n\talertLoader(){\n\t\tvar shouldLoad = typeof this.table.options.dataLoader === \"function\" ? this.table.options.dataLoader() : this.table.options.dataLoader;\n\t\t\n\t\tif(shouldLoad){\n\t\t\tthis.table.alertManager.alert(this.table.options.dataLoaderLoading || this.langText(\"data|loading\"));\n\t\t}\n\t}\n\t\n\talertError(){\n\t\tthis.table.alertManager.alert(this.table.options.dataLoaderError || this.langText(\"data|error\"), \"error\");\n\t}\n\t\n\tclearAlert(){\n\t\tthis.table.alertManager.clear();\n\t}\n}","export default class ExternalEventBus {\n\n\tconstructor(table, optionsList, debug){\n\t\tthis.table = table;\n\t\tthis.events = {};\n\t\tthis.optionsList = optionsList || {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push(callback);\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tdelete this.events[key];\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift(),\n\t\tresult;\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((callback, i) => {\n\t\t\t\tlet callResult = callback.apply(this.table, args);\n\n\t\t\t\tif(!i){\n\t\t\t\t\tresult = callResult;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"ExternalEvent:\" + args[0];\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n}","export default class InternalEventBus {\n\n\tconstructor(debug){\n\t\tthis.events = {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.chain = debug ? this._debugChain.bind(this) : this._chain.bind(this);\n\t\tthis.confirm = debug ? this._debugConfirm.bind(this) : this._confirm.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback, priority = 10000){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push({callback, priority});\n\n\t\tthis.events[key].sort((a, b) => {\n\t\t\treturn a.priority - b.priority;\n\t\t});\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item.callback === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_chain(key, args, initialValue, fallback){\n\t\tvar value = initialValue;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tvalue = subscriber.callback.apply(this, args.concat([value]));\n\t\t\t});\n\n\t\t\treturn value;\n\t\t}else{\n\t\t\treturn typeof fallback === \"function\" ? fallback() : fallback;\n\t\t}\n\t}\n\n\t_confirm(key, args){\n\t\tvar confirmed = false;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tif(subscriber.callback.apply(this, args)){\n\t\t\t\t\tconfirmed = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn confirmed;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift();\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((subscriber) => {\n\t\t\t\tsubscriber.callback.apply(this, args);\n\t\t\t});\n\t\t}\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n\n\t_debugChain(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._chain(...arguments);\n\t}\n\n\t_debugConfirm(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._confirm(...arguments);\n\t}\n}","import CoreFeature from '../CoreFeature.js';\n\nexport default class DeprecationAdvisor extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\t_warnUser(){\n\t\tif(this.options(\"debugDeprecation\")){\n\t\t\tconsole.warn(...arguments);\n\t\t}\n\t}\n\t\n\tcheck(oldOption, newOption, convert){\n\t\tvar msg = \"\";\n\t\t\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tmsg = \"Deprecated Setup Option - Use of the %c\" + oldOption + \"%c option is now deprecated\";\n\t\t\t\n\t\t\tif(newOption){\n\t\t\t\tmsg = msg + \", Please use the %c\" + newOption + \"%c option instead\";\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\n\t\t\t\tif(convert){\n\t\t\t\t\tthis.table.options[newOption] = this.table.options[oldOption];\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tcheckMsg(oldOption, msg){\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tthis._warnUser(\"%cDeprecated Setup Option - Use of the %c\" + oldOption + \" %c option is now deprecated, \" + msg, 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tmsg(msg){\n\t\tthis._warnUser(msg);\n\t}\n}","import CoreFeature from '../CoreFeature.js';\r\n\r\nexport default class DependencyRegistry extends CoreFeature{\r\n\t\r\n\tconstructor(table){\r\n\t\tsuper(table);\r\n\t\t\r\n\t\tthis.deps = {};\r\n\t\t\r\n\t\tthis.props = {\r\n\t\t\t\r\n\t\t};\r\n\t}\r\n\t\r\n\tinitialize(){\r\n\t\tthis.deps = Object.assign({}, this.options(\"dependencies\"));\r\n\t}\r\n\t\r\n\tlookup(key, prop, silent){\r\n\t\tif(Array.isArray(key)){\r\n\t\t\tfor (const item of key) {\r\n\t\t\t\tvar match = this.lookup(item, prop, true);\r\n\r\n\t\t\t\tif(match){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(match){\r\n\t\t\t\treturn match;\r\n\t\t\t}else{\r\n\t\t\t\tthis.error(key);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(prop){\r\n\t\t\t\treturn this.lookupProp(key, prop, silent);\r\n\t\t\t}else{\r\n\t\t\t\treturn this.lookupKey(key, silent);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tlookupProp(key, prop, silent){\r\n\t\tvar dependency;\r\n\t\t\r\n\t\tif(this.props[key] && this.props[key][prop]){\r\n\t\t\treturn this.props[key][prop];\r\n\t\t}else{\r\n\t\t\tdependency = this.lookupKey(key, silent);\r\n\t\t\t\r\n\t\t\tif(dependency){\r\n\t\t\t\tif(!this.props[key]){\r\n\t\t\t\t\tthis.props[key] = {};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.props[key][prop] = dependency[prop] || dependency;\r\n\t\t\t\treturn this.props[key][prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tlookupKey(key, silent){\r\n\t\tvar dependency;\r\n\t\t\r\n\t\tif(this.deps[key]){\r\n\t\t\tdependency = this.deps[key];\r\n\t\t}else if(window[key]){\r\n\t\t\tthis.deps[key] = window[key];\r\n\t\t\tdependency = this.deps[key];\r\n\t\t}else{\r\n\t\t\tif(!silent){\r\n\t\t\t\tthis.error(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn dependency;\r\n\t}\r\n\r\n\terror(key){\r\n\t\tconsole.error(\"Unable to find dependency\", key, \"Please check documentation and ensure you have imported the required library into your project\");\r\n\t}\r\n}","//resize columns to fit data they contain\nexport default function(columns, forced){\n\tif(forced){\n\t\tthis.table.columnManager.renderer.reinitializeColumnWidths(columns);\n\t}\n\t\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}","//resize columns to fit data they contain and stretch row to fill table, also used for fitDataTable\nexport default function(columns, forced){\n\tcolumns.forEach(function(column){\n\t\tcolumn.reinitializeWidth();\n\t});\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}","//resize columns to fit data the contain and stretch last column to fill table\nexport default function(columns, forced){\n\tvar colsWidth = 0,\n\ttableWidth = this.table.rowManager.element.clientWidth,\n\tgap = 0,\n\tlastCol = false;\n\n\tcolumns.forEach((column, i) => {\n\t\tif(!column.widthFixed){\n\t\t\tcolumn.reinitializeWidth();\n\t\t}\n\n\t\tif(this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible){\n\t\t\tlastCol = column;\n\t\t}\n\n\t\tif(column.visible){\n\t\t\tcolsWidth += column.getWidth();\n\t\t}\n\t});\n\n\tif(lastCol){\n\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tlastCol.setWidth(0);\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\n\t\tif(gap > 0){\n\t\t\tlastCol.setWidth(gap);\n\t\t}else{\n\t\t\tlastCol.reinitializeWidth();\n\t\t}\n\t}else{\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t}\n}","//resize columns to fit\nexport default function(columns, forced){\n\tvar totalWidth = this.table.rowManager.element.getBoundingClientRect().width; //table element width\n\tvar fixedWidth = 0; //total width of columns with a defined width\n\tvar flexWidth = 0; //total width available to flexible columns\n\tvar flexGrowUnits = 0; //total number of widthGrow blocks across all columns\n\tvar flexColWidth = 0; //desired width of flexible columns\n\tvar flexColumns = []; //array of flexible width columns\n\tvar fixedShrinkColumns = []; //array of fixed width columns that can shrink\n\tvar flexShrinkUnits = 0; //total number of widthShrink blocks across all columns\n\tvar overflowWidth = 0; //horizontal overflow width\n\tvar gapFill = 0; //number of pixels to be added to final column to close and half pixel gaps\n\n\tfunction calcWidth(width){\n\t\tvar colWidth;\n\n\t\tif(typeof(width) == \"string\"){\n\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width);\n\t\t\t}else{\n\t\t\t\tcolWidth = parseInt(width);\n\t\t\t}\n\t\t}else{\n\t\t\tcolWidth = width;\n\t\t}\n\n\t\treturn colWidth;\n\t}\n\n\t//ensure columns resize to take up the correct amount of space\n\tfunction scaleColumns(columns, freeSpace, colWidth, shrinkCols){\n\t\tvar oversizeCols = [],\n\t\toversizeSpace = 0,\n\t\tremainingSpace = 0,\n\t\tnextColWidth = 0,\n\t\tremainingFlexGrowUnits = flexGrowUnits,\n\t\tgap = 0,\n\t\tchangeUnits = 0,\n\t\tundersizeCols = [];\n\n\t\tfunction calcGrow(col){\n\t\t\treturn (colWidth * (col.column.definition.widthGrow || 1));\n\t\t}\n\n\t\tfunction calcShrink(col){\n\t\t\treturn  (calcWidth(col.width) - (colWidth * (col.column.definition.widthShrink || 0)));\n\t\t}\n\n\t\tcolumns.forEach(function(col, i){\n\t\t\tvar width = shrinkCols ? calcShrink(col) : calcGrow(col);\n\t\t\tif(col.column.minWidth >= width){\n\t\t\t\toversizeCols.push(col);\n\t\t\t}else{\n\t\t\t\tif(col.column.maxWidth && col.column.maxWidth < width){\n\t\t\t\t\tcol.width = col.column.maxWidth;\n\t\t\t\t\tfreeSpace -= col.column.maxWidth;\n\n\t\t\t\t\tremainingFlexGrowUnits -= shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\n\t\t\t\t\tif(remainingFlexGrowUnits){\n\t\t\t\t\t\tcolWidth = Math.floor(freeSpace/remainingFlexGrowUnits);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tundersizeCols.push(col);\n\t\t\t\t\tchangeUnits += shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(oversizeCols.length){\n\t\t\toversizeCols.forEach(function(col){\n\t\t\t\toversizeSpace += shrinkCols ?  col.width - col.column.minWidth : col.column.minWidth;\n\t\t\t\tcol.width = col.column.minWidth;\n\t\t\t});\n\n\t\t\tremainingSpace = freeSpace - oversizeSpace;\n\n\t\t\tnextColWidth = changeUnits ? Math.floor(remainingSpace/changeUnits) : remainingSpace;\n\n\t\t\tgap = scaleColumns(undersizeCols, remainingSpace, nextColWidth, shrinkCols);\n\t\t}else{\n\t\t\tgap = changeUnits ? freeSpace - (Math.floor(freeSpace/changeUnits) * changeUnits) : freeSpace;\n\n\t\t\tundersizeCols.forEach(function(column){\n\t\t\t\tcolumn.width = shrinkCols ? calcShrink(column) : calcGrow(column);\n\t\t\t});\n\t\t}\n\n\t\treturn gap;\n\t}\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n\n\t//adjust for vertical scrollbar if present\n\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t}\n\n\tcolumns.forEach(function(column){\n\t\tvar width, minWidth, colWidth;\n\n\t\tif(column.visible){\n\n\t\t\twidth = column.definition.width;\n\t\t\tminWidth =  parseInt(column.minWidth);\n\n\t\t\tif(width){\n\n\t\t\t\tcolWidth = calcWidth(width);\n\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\n\t\t\t\tif(column.definition.widthShrink){\n\t\t\t\t\tfixedShrinkColumns.push({\n\t\t\t\t\t\tcolumn:column,\n\t\t\t\t\t\twidth:colWidth > minWidth ? colWidth : minWidth\n\t\t\t\t\t});\n\t\t\t\t\tflexShrinkUnits += column.definition.widthShrink;\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tflexColumns.push({\n\t\t\t\t\tcolumn:column,\n\t\t\t\t\twidth:0,\n\t\t\t\t});\n\t\t\t\tflexGrowUnits += column.definition.widthGrow || 1;\n\t\t\t}\n\t\t}\n\t});\n\n\t//calculate available space\n\tflexWidth = totalWidth - fixedWidth;\n\n\t//calculate correct column size\n\tflexColWidth = Math.floor(flexWidth / flexGrowUnits);\n\n\t//generate column widths\n\tgapFill = scaleColumns(flexColumns, flexWidth, flexColWidth, false);\n\n\t//increase width of last column to account for rounding errors\n\tif(flexColumns.length && gapFill > 0){\n\t\tflexColumns[flexColumns.length-1].width += gapFill;\n\t}\n\n\t//calculate space for columns to be shrunk into\n\tflexColumns.forEach(function(col){\n\t\tflexWidth -= col.width;\n\t});\n\n\toverflowWidth = Math.abs(gapFill) + flexWidth;\n\n\t//shrink oversize columns if there is no available space\n\tif(overflowWidth > 0 && flexShrinkUnits){\n\t\tgapFill = scaleColumns(fixedShrinkColumns, overflowWidth, Math.floor(overflowWidth / flexShrinkUnits), true);\n\t}\n\n\t//decrease width of last column to account for rounding errors\n\tif(gapFill && fixedShrinkColumns.length){\n\t\tfixedShrinkColumns[fixedShrinkColumns.length-1].width -= gapFill;\n\t}\n\n\tflexColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n\n\tfixedShrinkColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n}\n","import fitData from './modes/fitData.js';\nimport fitDataGeneral from './modes/fitDataGeneral.js';\nimport fitDataStretch from './modes/fitDataStretch.js';\nimport fitColumns from './modes/fitColumns.js';\n\nexport default {\n\tfitData:fitData,\n\tfitDataFill:fitDataGeneral,\n\tfitDataTable:fitDataGeneral,\n\tfitDataStretch:fitDataStretch,\n\tfitColumns:fitColumns ,\n};","import Module from '../../core/Module.js';\n\nimport defaultModes from './defaults/modes.js';\n\nexport default class Layout extends Module{\n\n\tstatic moduleName = \"layout\";\n\n\t//load defaults\n\tstatic modes = defaultModes;\n\n\tconstructor(table){\n\t\tsuper(table, \"layout\");\n\n\t\tthis.mode = null;\n\n\t\tthis.registerTableOption(\"layout\", \"fitData\"); //layout type\n\t\tthis.registerTableOption(\"layoutColumnsOnNewData\", false); //update column widths on setData\n\n\t\tthis.registerColumnOption(\"widthGrow\");\n\t\tthis.registerColumnOption(\"widthShrink\");\n\t}\n\n\t//initialize layout system\n\tinitialize(){\n\t\tvar layout = this.table.options.layout;\n\n\t\tif(Layout.modes[layout]){\n\t\t\tthis.mode = layout;\n\t\t}else{\n\t\t\tconsole.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + layout);\n\t\t\tthis.mode = 'fitData';\n\t\t}\n\n\t\tthis.table.element.setAttribute(\"tabulator-layout\", this.mode);\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.widthGrow){\n\t\t\tcolumn.definition.widthGrow = Number(column.definition.widthGrow);\n\t\t}\n\t\tif(column.definition.widthShrink){\n\t\t\tcolumn.definition.widthShrink = Number(column.definition.widthShrink);\n\t\t}\n\t}\n\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\n\t//trigger table layout\n\tlayout(dataChanged){\n\n\t\tvar variableHeight = this.table.columnManager.columnsByIndex.find((column) => column.definition.variableHeight || column.definition.formatter === \"textarea\");\n\t\t\n\t\tthis.dispatch(\"layout-refreshing\");\n\t\tLayout.modes[this.mode].call(this, this.table.columnManager.columnsByIndex, dataChanged);\n\n\t\tif(variableHeight){\n\t\t\tthis.table.rowManager.normalizeHeight(true);\n\t\t}\n\n\t\tthis.dispatch(\"layout-refreshed\");\n\t}\n}","export default {\n\t\"default\":{ //hold default locale text\n\t\t\"groups\":{\n\t\t\t\"item\":\"item\",\n\t\t\t\"items\":\"items\",\n\t\t},\n\t\t\"columns\":{\n\t\t},\n\t\t\"data\":{\n\t\t\t\"loading\":\"Loading\",\n\t\t\t\"error\":\"Error\",\n\t\t},\n\t\t\"pagination\":{\n\t\t\t\"page_size\":\"Page Size\",\n\t\t\t\"page_title\":\"Show Page\",\n\t\t\t\"first\":\"First\",\n\t\t\t\"first_title\":\"First Page\",\n\t\t\t\"last\":\"Last\",\n\t\t\t\"last_title\":\"Last Page\",\n\t\t\t\"prev\":\"Prev\",\n\t\t\t\"prev_title\":\"Prev Page\",\n\t\t\t\"next\":\"Next\",\n\t\t\t\"next_title\":\"Next Page\",\n\t\t\t\"all\":\"All\",\n\t\t\t\"counter\":{\n\t\t\t\t\"showing\": \"Showing\",\n\t\t\t\t\"of\": \"of\",\n\t\t\t\t\"rows\": \"rows\",\n\t\t\t\t\"pages\": \"pages\",\n\t\t\t}\n\t\t},\n\t\t\"headerFilters\":{\n\t\t\t\"default\":\"filter column...\",\n\t\t\t\"columns\":{}\n\t\t}\n\t},\n};","import Module from '../../core/Module.js';\n\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultLangs from './defaults/langs.js';\n\nexport default class Localize extends Module{\n\n\tstatic moduleName = \"localize\";\n\n\t//load defaults\n\tstatic langs = defaultLangs;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.locale = \"default\"; //current locale\n\t\tthis.lang = false; //current language\n\t\tthis.bindings = {}; //update events to call when locale is changed\n\t\tthis.langList = {};\n\n\t\tthis.registerTableOption(\"locale\", false); //current system language\n\t\tthis.registerTableOption(\"langs\", {});\n\t}\n\n\tinitialize(){\n\t\tthis.langList = Helpers.deepClone(Localize.langs);\n\n\t\tif(this.table.options.columnDefaults.headerFilterPlaceholder !== false){\n\t\t\tthis.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);\n\t\t}\n\n\t\tfor(let locale in this.table.options.langs){\n\t\t\tthis.installLang(locale, this.table.options.langs[locale]);\n\t\t}\n\n\t\tthis.setLocale(this.table.options.locale);\n\n\t\tthis.registerTableFunction(\"setLocale\", this.setLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLocale\", this.getLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLang\", this.getLang.bind(this));\n\t}\n\n\t//set header placeholder\n\tsetHeaderFilterPlaceholder(placeholder){\n\t\tthis.langList.default.headerFilters.default = placeholder;\n\t}\n\n\t//setup a lang description object\n\tinstallLang(locale, lang){\n\t\tif(this.langList[locale]){\n\t\t\tthis._setLangProp(this.langList[locale], lang);\n\t\t}else{\n\t\t\tthis.langList[locale] = lang;\n\t\t}\n\t}\n\n\t_setLangProp(lang, values){\n\t\tfor(let key in values){\n\t\t\tif(lang[key] && typeof lang[key] == \"object\"){\n\t\t\t\tthis._setLangProp(lang[key], values[key]);\n\t\t\t}else{\n\t\t\t\tlang[key] = values[key];\n\t\t\t}\n\t\t}\n\t}\n\n\t//set current locale\n\tsetLocale(desiredLocale){\n\t\tdesiredLocale = desiredLocale || \"default\";\n\n\t\t//fill in any matching language values\n\t\tfunction traverseLang(trans, path){\n\t\t\tfor(var prop in trans){\n\t\t\t\tif(typeof trans[prop] == \"object\"){\n\t\t\t\t\tif(!path[prop]){\n\t\t\t\t\t\tpath[prop] = {};\n\t\t\t\t\t}\n\t\t\t\t\ttraverseLang(trans[prop], path[prop]);\n\t\t\t\t}else{\n\t\t\t\t\tpath[prop] = trans[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//determining correct locale to load\n\t\tif(desiredLocale === true && navigator.language){\n\t\t\t//get local from system\n\t\t\tdesiredLocale = navigator.language.toLowerCase();\n\t\t}\n\n\t\tif(desiredLocale){\n\t\t\t//if locale is not set, check for matching top level locale else use default\n\t\t\tif(!this.langList[desiredLocale]){\n\t\t\t\tlet prefix = desiredLocale.split(\"-\")[0];\n\n\t\t\t\tif(this.langList[prefix]){\n\t\t\t\t\tconsole.warn(\"Localization Error - Exact matching locale not found, using closest match: \", desiredLocale, prefix);\n\t\t\t\t\tdesiredLocale = prefix;\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Localization Error - Matching locale not found, using default: \", desiredLocale);\n\t\t\t\t\tdesiredLocale = \"default\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.locale = desiredLocale;\n\n\t\t//load default lang template\n\t\tthis.lang = Helpers.deepClone(this.langList.default || {});\n\n\t\tif(desiredLocale != \"default\"){\n\t\t\ttraverseLang(this.langList[desiredLocale], this.lang);\n\t\t}\n\n\t\tthis.dispatchExternal(\"localized\", this.locale, this.lang);\n\n\t\tthis._executeBindings();\n\t}\n\n\t//get current locale\n\tgetLocale(locale){\n\t\treturn this.locale;\n\t}\n\n\t//get lang object for given local or current if none provided\n\tgetLang(locale){\n\t\treturn locale ? this.langList[locale] : this.lang;\n\t}\n\n\t//get text for current locale\n\tgetText(path, value){\n\t\tvar fillPath = value ? path + \"|\" + value : path,\n\t\tpathArray = fillPath.split(\"|\"),\n\t\ttext = this._getLangElement(pathArray, this.locale);\n\n\t\t// if(text === false){\n\t\t// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\n\t\t// }\n\n\t\treturn text || \"\";\n\t}\n\n\t//traverse langs object and find localized copy\n\t_getLangElement(path, locale){\n\t\tvar root = this.lang;\n\n\t\tpath.forEach(function(level){\n\t\t\tvar rootPath;\n\n\t\t\tif(root){\n\t\t\t\trootPath = root[level];\n\n\t\t\t\tif(typeof rootPath != \"undefined\"){\n\t\t\t\t\troot = rootPath;\n\t\t\t\t}else{\n\t\t\t\t\troot = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn root;\n\t}\n\n\t//set update binding\n\tbind(path, callback){\n\t\tif(!this.bindings[path]){\n\t\t\tthis.bindings[path] = [];\n\t\t}\n\n\t\tthis.bindings[path].push(callback);\n\n\t\tcallback(this.getText(path), this.lang);\n\t}\n\n\t//iterate through bindings and trigger updates\n\t_executeBindings(){\n\t\tfor(let path in this.bindings){\n\t\t\tthis.bindings[path].forEach((binding) => {\n\t\t\t\tbinding(this.getText(path), this.lang);\n\t\t\t});\n\t\t}\n\t}\n}","import Module from '../../core/Module.js';\n\nexport default class Comms extends Module{\n\n\tstatic moduleName = \"comms\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\n\tinitialize(){\n\t\tthis.registerTableFunction(\"tableComms\", this.receive.bind(this));\n\t}\n\n\tgetConnections(selectors){\n\t\tvar connections = [],\n\t\tconnection;\n\n\t\tconnection = this.table.constructor.registry.lookupTable(selectors);\n\n\t\tconnection.forEach((con) =>{\n\t\t\tif(this.table !== con){\n\t\t\t\tconnections.push(con);\n\t\t\t}\n\t\t});\n\n\t\treturn connections;\n\t}\n\n\tsend(selectors, module, action, data){\n\t\tvar connections = this.getConnections(selectors);\n\n\t\tconnections.forEach((connection) => {\n\t\t\tconnection.tableComms(this.table.element, module, action, data);\n\t\t});\n\n\t\tif(!connections.length && selectors){\n\t\t\tconsole.warn(\"Table Connection Error - No tables matching selector found\", selectors);\n\t\t}\n\t}\n\n\treceive(table, module, action, data){\n\t\tif(this.table.modExists(module)){\n\t\t\treturn this.table.modules[module].commsReceived(table, action, data);\n\t\t}else{\n\t\t\tconsole.warn(\"Inter-table Comms Error - no such module:\", module);\n\t\t}\n\t}\n}","export default class TableRegistry {\n\tstatic registry = {\n\t\ttables:[],\n\t\t\n\t\tregister(table){\n\t\t\tTableRegistry.registry.tables.push(table);\n\t\t},\n\t\t\n\t\tderegister(table){\n\t\t\tvar index = TableRegistry.registry.tables.indexOf(table);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tTableRegistry.registry.tables.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t\n\t\tlookupTable(query, silent){\n\t\t\tvar results = [],\n\t\t\tmatches, match;\n\t\t\t\n\t\t\tif(typeof query === \"string\"){\n\t\t\t\tmatches = document.querySelectorAll(query);\n\t\t\t\t\n\t\t\t\tif(matches.length){\n\t\t\t\t\tfor(var i = 0; i < matches.length; i++){\n\t\t\t\t\t\tmatch = TableRegistry.registry.matchElement(matches[i]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\tresults.push(match);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else if((typeof HTMLElement !== \"undefined\" && query instanceof HTMLElement) || query instanceof TableRegistry){\n\t\t\t\tmatch = TableRegistry.registry.matchElement(query);\n\t\t\t\t\n\t\t\t\tif(match){\n\t\t\t\t\tresults.push(match);\n\t\t\t\t}\n\t\t\t}else if(Array.isArray(query)){\n\t\t\t\tquery.forEach(function(item){\n\t\t\t\t\tresults = results.concat(TableRegistry.registry.lookupTable(item));\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tif(!silent){\n\t\t\t\t\tconsole.warn(\"Table Connection Error - Invalid Selector\", query);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn results;\n\t\t},\n\t\t\n\t\tmatchElement(element){\n\t\t\treturn TableRegistry.registry.tables.find(function(table){\n\t\t\t\treturn element instanceof TableRegistry ? table === element : table.element === element;\n\t\t\t});\n\t\t}\n\t};\n\n\t\t\n\tstatic findTable(query){\n\t\tvar results = TableRegistry.registry.lookupTable(query, true);\n\t\treturn Array.isArray(results) && !results.length ? false : results;\n\t}\n}","import * as coreModules from '../modules/core.js';\nimport TableRegistry from './TableRegistry.js';\n\nexport default class ModuleBinder extends TableRegistry {\n\t\n\tstatic moduleBindings = {};\n\tstatic moduleExtensions = {};\n\tstatic modulesRegistered = false;\n\t\n\tstatic defaultModules = false;\n\t\n\tconstructor(){\n\t\tsuper();\n\t}\n\t\n\tstatic initializeModuleBinder(defaultModules){\n\t\tif(!ModuleBinder.modulesRegistered){\n\t\t\tModuleBinder.modulesRegistered = true;\n\t\t\tModuleBinder._registerModules(coreModules, true);\n\t\t\t\n\t\t\tif(defaultModules){\n\t\t\t\tModuleBinder._registerModules(defaultModules);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tstatic _extendModule(name, property, values){\n\t\tif(ModuleBinder.moduleBindings[name]){\n\t\t\tvar source = ModuleBinder.moduleBindings[name][property];\n\t\t\t\n\t\t\tif(source){\n\t\t\t\tif(typeof values == \"object\"){\n\t\t\t\t\tfor(let key in values){\n\t\t\t\t\t\tsource[key] = values[key];\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Module Error - Invalid value type, it must be an object\");\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Module Error - property does not exist:\", property);\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Module Error - module does not exist:\", name);\n\t\t}\n\t}\n\t\n\tstatic _registerModules(modules, core){\n\t\tvar mods = Object.values(modules);\n\t\t\n\t\tif(core){\n\t\t\tmods.forEach((mod) => {\n\t\t\t\tmod.prototype.moduleCore = true;\n\t\t\t});\n\t\t}\n\t\t\n\t\tModuleBinder._registerModule(mods);\n\t}\n\t\n\tstatic _registerModule(modules){\n\t\tif(!Array.isArray(modules)){\n\t\t\tmodules = [modules];\n\t\t}\n\t\t\n\t\tmodules.forEach((mod) => {\n\t\t\tModuleBinder._registerModuleBinding(mod);\n\t\t\tModuleBinder._registerModuleExtensions(mod);\n\t\t});\n\t}\n\t\n\tstatic _registerModuleBinding(mod){\n\t\tif(mod.moduleName){\n\t\t\tModuleBinder.moduleBindings[mod.moduleName] = mod;\n\t\t}else{\n\t\t\tconsole.error(\"Unable to bind module, no moduleName defined\", mod.moduleName);\n\t\t}\n\t}\n\t\n\tstatic _registerModuleExtensions(mod){\n\t\tvar extensions = mod.moduleExtensions;\n\t\t\n\t\tif(mod.moduleExtensions){\n\t\t\tfor (let modKey in extensions) {\n\t\t\t\tlet ext = extensions[modKey];\n\t\t\t\t\n\t\t\t\tif(ModuleBinder.moduleBindings[modKey]){\n\t\t\t\t\tfor (let propKey in ext) {\n\t\t\t\t\t\tModuleBinder._extendModule(modKey, propKey, ext[propKey]);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(!ModuleBinder.moduleExtensions[modKey]){\n\t\t\t\t\t\tModuleBinder.moduleExtensions[modKey] = {};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfor (let propKey in ext) {\n\t\t\t\t\t\tif(!ModuleBinder.moduleExtensions[modKey][propKey]){\n\t\t\t\t\t\t\tModuleBinder.moduleExtensions[modKey][propKey] = {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tObject.assign(ModuleBinder.moduleExtensions[modKey][propKey], ext[propKey]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tModuleBinder._extendModuleFromQueue(mod);\n\t}\n\t\n\tstatic _extendModuleFromQueue(mod){\n\t\tvar extensions = ModuleBinder.moduleExtensions[mod.moduleName];\n\t\t\n\t\tif(extensions){\n\t\t\tfor (let propKey in extensions) {\n\t\t\t\tModuleBinder._extendModule(mod.moduleName, propKey, extensions[propKey]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//ensure that module are bound to instantiated function\n\t_bindModules(){\n\t\tvar orderedStartMods = [],\n\t\torderedEndMods = [],\n\t\tunOrderedMods = [];\n\t\t\n\t\tthis.modules = {};\n\t\t\n\t\tfor(var name in ModuleBinder.moduleBindings){\n\t\t\tlet mod = ModuleBinder.moduleBindings[name];\n\t\t\tlet module = new mod(this);\n\t\t\t\n\t\t\tthis.modules[name] = module;\n\t\t\t\n\t\t\tif(mod.prototype.moduleCore){\n\t\t\t\tthis.modulesCore.push(module);\n\t\t\t}else{\n\t\t\t\tif(mod.moduleInitOrder){\n\t\t\t\t\tif(mod.moduleInitOrder < 0){\n\t\t\t\t\t\torderedStartMods.push(module);\n\t\t\t\t\t}else{\n\t\t\t\t\t\torderedEndMods.push(module);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tunOrderedMods.push(module);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\torderedStartMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\torderedEndMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\n\t\tthis.modulesRegular = orderedStartMods.concat(unOrderedMods.concat(orderedEndMods));\n\t}\n}","import CoreFeature from '../CoreFeature.js';\n\nexport default class Alert extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.element = this._createAlertElement();\n\t\tthis.msgElement = this._createMsgElement();\n\t\tthis.type = null;\n        \n\t\tthis.element.appendChild(this.msgElement);\n\t}\n    \n\t_createAlertElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert\");\n\t\treturn el;\n\t}\n    \n\t_createMsgElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert-msg\");\n\t\tel.setAttribute(\"role\", \"alert\");\n\t\treturn el;\n\t}\n    \n\t_typeClass(){\n\t\treturn \"tabulator-alert-state-\" + this.type;\n\t}\n    \n\talert(content, type = \"msg\"){\n\t\tif(content){\n\t\t\tthis.clear();\n\n\t\t\tthis.dispatch(\"alert-show\", type);\n            \n\t\t\tthis.type = type;\n            \n\t\t\twhile(this.msgElement.firstChild) this.msgElement.removeChild(this.msgElement.firstChild);\n            \n\t\t\tthis.msgElement.classList.add(this._typeClass());\n            \n\t\t\tif(typeof content === \"function\"){\n\t\t\t\tcontent = content();\n\t\t\t}\n            \n\t\t\tif(content instanceof HTMLElement){\n\t\t\t\tthis.msgElement.appendChild(content);\n\t\t\t}else{\n\t\t\t\tthis.msgElement.innerHTML = content;\n\t\t\t}\n            \n\t\t\tthis.table.element.appendChild(this.element);\n\t\t}\n\t}\n    \n\tclear(){\n\t\tthis.dispatch(\"alert-hide\", this.type);\n\n\t\tif(this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n        \n\t\tthis.msgElement.classList.remove(this._typeClass());\n\t}\n}","'use strict';\n\nimport defaultOptions from './defaults/options.js';\n\nimport ColumnManager from './ColumnManager.js';\nimport RowManager from './RowManager.js';\nimport FooterManager from './FooterManager.js';\n\nimport InteractionMonitor from './tools/InteractionMonitor.js';\nimport ComponentFunctionBinder from './tools/ComponentFunctionBinder.js';\nimport DataLoader from './tools/DataLoader.js';\n\nimport ExternalEventBus from './tools/ExternalEventBus.js';\nimport InternalEventBus from './tools/InternalEventBus.js';\n\nimport DeprecationAdvisor from './tools/DeprecationAdvisor.js';\nimport DependencyRegistry from './tools/DependencyRegistry.js';\n\nimport ModuleBinder from './tools/ModuleBinder.js';\n\nimport OptionsList from './tools/OptionsList.js';\n\nimport Alert from './tools/Alert.js';\n\nclass Tabulator extends ModuleBinder{\n\n\t//default setup options\n\tstatic defaultOptions = defaultOptions;\n\n\tstatic extendModule(){\n\t\tTabulator.initializeModuleBinder();\n\t\tTabulator._extendModule(...arguments);\n\t}\n\n\tstatic registerModule(){\n\t\tTabulator.initializeModuleBinder();\n\t\tTabulator._registerModule(...arguments);\n\t}\n\n\tconstructor(element, options, modules){\n\t\tsuper();\n\n\t\tTabulator.initializeModuleBinder(modules);\n\n\t\tthis.options = {};\n\t\t\n\t\tthis.columnManager = null; // hold Column Manager\n\t\tthis.rowManager = null; //hold Row Manager\n\t\tthis.footerManager = null; //holder Footer Manager\n\t\tthis.alertManager = null; //hold Alert Manager\n\t\tthis.vdomHoz  = null; //holder horizontal virtual dom\n\t\tthis.externalEvents = null; //handle external event messaging\n\t\tthis.eventBus = null; //handle internal event messaging\n\t\tthis.interactionMonitor = false; //track user interaction\n\t\tthis.browser = \"\"; //hold current browser type\n\t\tthis.browserSlow = false; //handle reduced functionality for slower browsers\n\t\tthis.browserMobile = false; //check if running on mobile, prevent resize cancelling edit on keyboard appearance\n\t\tthis.rtl = false; //check if the table is in RTL mode\n\t\tthis.originalElement = null; //hold original table element if it has been replaced\n\t\t\n\t\tthis.componentFunctionBinder = new ComponentFunctionBinder(this); //bind component functions\n\t\tthis.dataLoader = false; //bind component functions\n\t\t\n\t\tthis.modules = {}; //hold all modules bound to this table\n\t\tthis.modulesCore = []; //hold core modules bound to this table (for initialization purposes)\n\t\tthis.modulesRegular = []; //hold regular modules bound to this table (for initialization purposes)\n\t\t\n\t\tthis.deprecationAdvisor = new DeprecationAdvisor(this);\n\t\tthis.optionsList = new OptionsList(this, \"table constructor\");\n\n\t\tthis.dependencyRegistry = new DependencyRegistry(this);\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.destroyed = false;\n\t\t\n\t\tif(this.initializeElement(element)){\n\t\t\t\n\t\t\tthis.initializeCoreSystems(options);\n\t\t\t\n\t\t\t//delay table creation to allow event bindings immediately after the constructor\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._create();\n\t\t\t});\n\t\t}\n\t\t\n\t\tthis.constructor.registry.register(this); //register table for inter-device communication\n\t}\n\t\n\tinitializeElement(element){\n\t\tif(typeof HTMLElement !== \"undefined\" && element instanceof HTMLElement){\n\t\t\tthis.element = element;\n\t\t\treturn true;\n\t\t}else if(typeof element === \"string\"){\n\t\t\tthis.element = document.querySelector(element);\n\t\t\t\n\t\t\tif(this.element){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Tabulator Creation Error - no element found matching selector: \", element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Tabulator Creation Error - Invalid element provided:\", element);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tinitializeCoreSystems(options){\n\t\tthis.columnManager = new ColumnManager(this);\n\t\tthis.rowManager = new RowManager(this);\n\t\tthis.footerManager = new FooterManager(this);\n\t\tthis.dataLoader = new DataLoader(this);\n\t\tthis.alertManager = new Alert(this);\n\t\t\n\t\tthis._bindModules();\n\t\t\n\t\tthis.options = this.optionsList.generate(Tabulator.defaultOptions, options);\n\t\t\n\t\tthis._clearObjectPointers();\n\t\t\n\t\tthis._mapDeprecatedFunctionality();\n\t\t\n\t\tthis.externalEvents = new ExternalEventBus(this, this.options, this.options.debugEventsExternal);\n\t\tthis.eventBus = new InternalEventBus(this.options.debugEventsInternal);\n\t\t\n\t\tthis.interactionMonitor = new InteractionMonitor(this);\n\t\t\n\t\tthis.dataLoader.initialize();\n\t\tthis.footerManager.initialize();\n\n\t\tthis.dependencyRegistry.initialize();\n\t}\n\t\n\t//convert deprecated functionality to new functions\n\t_mapDeprecatedFunctionality(){\n\t\t//all previously deprecated functionality removed in the 6.0 release\n\t}\n\t\n\t_clearSelection(){\n\t\t\n\t\tthis.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tif (window.getSelection) {\n\t\t\tif (window.getSelection().empty) {  // Chrome\n\t\t\t\twindow.getSelection().empty();\n\t\t\t} else if (window.getSelection().removeAllRanges) {  // Firefox\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t}\n\t\t} else if (document.selection) {  // IE?\n\t\t\tdocument.selection.empty();\n\t\t}\n\t\t\n\t\tthis.element.classList.remove(\"tabulator-block-select\");\n\t}\n\t\n\t//create table\n\t_create(){\n\t\tthis.externalEvents.dispatch(\"tableBuilding\");\n\t\tthis.eventBus.dispatch(\"table-building\");\n\t\t\n\t\tthis._rtlCheck();\n\t\t\n\t\tthis._buildElement();\n\t\t\n\t\tthis._initializeTable();\n\n\t\tthis.initialized = true;\n\t\t\n\t\tthis._loadInitialData()\n\t\t\t.finally(() => {\n\t\t\t\tthis.eventBus.dispatch(\"table-initialized\");\n\t\t\t\tthis.externalEvents.dispatch(\"tableBuilt\");\n\t\t\t});\t\n\t}\n\t\n\t_rtlCheck(){\n\t\tvar style = window.getComputedStyle(this.element);\n\t\t\n\t\tswitch(this.options.textDirection){\n\t\t\tcase\"auto\":\n\t\t\t\tif(style.direction !== \"rtl\"){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"rtl\":\n\t\t\t\tthis.element.classList.add(\"tabulator-rtl\");\n\t\t\t\tthis.rtl = true;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"ltr\":\n\t\t\t\tthis.element.classList.add(\"tabulator-ltr\");\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis.rtl = false;\n\t\t}\n\t}\n\t\n\t//clear pointers to objects in default config object\n\t_clearObjectPointers(){\n\t\tthis.options.columns = this.options.columns.slice(0);\n\t\t\n\t\tif(Array.isArray(this.options.data) && !this.options.reactiveData){\n\t\t\tthis.options.data = this.options.data.slice(0);\n\t\t}\n\t}\n\t\n\t//build tabulator element\n\t_buildElement(){\n\t\tvar element = this.element,\n\t\toptions = this.options,\n\t\tnewElement;\n\t\t\n\t\tif(element.tagName === \"TABLE\"){\n\t\t\tthis.originalElement = this.element;\n\t\t\tnewElement = document.createElement(\"div\");\n\t\t\t\n\t\t\t//transfer attributes to new element\n\t\t\tvar attributes = element.attributes;\n\t\t\t\n\t\t\t// loop through attributes and apply them on div\n\t\t\tfor(var i in attributes){\n\t\t\t\tif(typeof attributes[i] == \"object\"){\n\t\t\t\t\tnewElement.setAttribute(attributes[i].name, attributes[i].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// replace table with div element\n\t\t\telement.parentNode.replaceChild(newElement, element);\n\t\t\t\n\t\t\tthis.element = element = newElement;\n\t\t}\n\t\t\n\t\telement.classList.add(\"tabulator\");\n\t\telement.setAttribute(\"role\", \"grid\");\n\t\t\n\t\t//empty element\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\t//set table height\n\t\tif(options.height){\n\t\t\toptions.height = isNaN(options.height) ? options.height : options.height + \"px\";\n\t\t\telement.style.height = options.height;\n\t\t}\n\t\t\n\t\t//set table min height\n\t\tif(options.minHeight !== false){\n\t\t\toptions.minHeight = isNaN(options.minHeight) ? options.minHeight : options.minHeight + \"px\";\n\t\t\telement.style.minHeight = options.minHeight;\n\t\t}\n\t\t\n\t\t//set table maxHeight\n\t\tif(options.maxHeight !== false){\n\t\t\toptions.maxHeight = isNaN(options.maxHeight) ? options.maxHeight : options.maxHeight + \"px\";\n\t\t\telement.style.maxHeight = options.maxHeight;\n\t\t}\n\t}\n\t\n\t//initialize core systems and modules\n\t_initializeTable(){\n\t\tvar element = this.element,\n\t\toptions = this.options;\n\t\t\n\t\tthis.interactionMonitor.initialize();\n\t\t\n\t\tthis.columnManager.initialize();\n\t\tthis.rowManager.initialize();\n\t\t\n\t\tthis._detectBrowser();\n\t\t\n\t\t//initialize core modules\n\t\tthis.modulesCore.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\t//build table elements\n\t\telement.appendChild(this.columnManager.getElement());\n\t\telement.appendChild(this.rowManager.getElement());\n\t\t\n\t\tif(options.footerElement){\n\t\t\tthis.footerManager.activate();\n\t\t}\n\t\t\n\t\tif(options.autoColumns && options.data){\n\t\t\t\n\t\t\tthis.columnManager.generateColumnsFromRowData(this.options.data);\n\t\t}\n\t\t\n\t\t//initialize regular modules\n\t\tthis.modulesRegular.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\tthis.columnManager.setColumns(options.columns);\n\t\t\n\t\tthis.eventBus.dispatch(\"table-built\");\n\t}\n\t\n\t_loadInitialData(){\n\t\treturn this.dataLoader.load(this.options.data)\n\t\t\t.finally(() => {\n\t\t\t\tthis.columnManager.verticalAlignHeaders();\n\t\t\t});\t\t\n\t}\n\t\n\t//deconstructor\n\tdestroy(){\n\t\tvar element = this.element;\n\t\t\n\t\tthis.destroyed = true;\n\t\t\n\t\tthis.constructor.registry.deregister(this); //deregister table from inter-device communication\n\t\t\n\t\tthis.eventBus.dispatch(\"table-destroy\");\n\t\t\n\t\t//clear row data\n\t\tthis.rowManager.destroy();\n\t\t\n\t\t//clear DOM\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\telement.classList.remove(\"tabulator\");\n\n\t\tthis.externalEvents.dispatch(\"tableDestroyed\");\n\t}\n\t\n\t_detectBrowser(){\n\t\tvar ua = navigator.userAgent||navigator.vendor||window.opera;\n\t\t\n\t\tif(ua.indexOf(\"Trident\") > -1){\n\t\t\tthis.browser = \"ie\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Edge\") > -1){\n\t\t\tthis.browser = \"edge\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Firefox\") > -1){\n\t\t\tthis.browser = \"firefox\";\n\t\t\tthis.browserSlow = false;\n\t\t}else if(ua.indexOf(\"Mac OS\") > -1){\n\t\t\tthis.browser = \"safari\";\n\t\t\tthis.browserSlow = false;\n\t\t}else{\n\t\t\tthis.browser = \"other\";\n\t\t\tthis.browserSlow = false;\n\t\t}\n\t\t\n\t\tthis.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(ua.slice(0,4));\n\t}\n\t\n\tinitGuard(func, msg){\n\t\tvar stack, line;\n\t\t\n\t\tif(this.options.debugInitialization && !this.initialized){\n\t\t\tif(!func){\n\t\t\t\tstack = new Error().stack.split(\"\\n\");\n\t\t\t\t\n\t\t\t\tline = stack[0] == \"Error\" ? stack[2] : stack[1];\n\t\t\t\t\n\t\t\t\tif(line[0] == \" \"){\n\t\t\t\t\tfunc = line.trim().split(\" \")[1].split(\".\")[1];\n\t\t\t\t}else{\n\t\t\t\t\tfunc = line.trim().split(\"@\")[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"Table Not Initialized - Calling the \" + func + \" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function.\" + (msg ? \" \" + msg : \"\"));\n\t\t}\n\t\t\n\t\treturn this.initialized;\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\t//block table redrawing\n\tblockRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocking\");\n\t\t\n\t\tthis.rowManager.blockRedraw();\n\t\tthis.columnManager.blockRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocked\");\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-restoring\");\n\n\t\tthis.rowManager.restoreRedraw();\n\t\tthis.columnManager.restoreRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-restored\");\n\t}\n\t\n\t//load data\n\tsetData(data, params, config){\n\t\tthis.initGuard(false, \"To set initial data please use the 'data' property in the table constructor.\");\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, false);\n\t}\n\t\n\t//clear data\n\tclearData(){\n\t\tthis.initGuard();\n\t\t\n\t\tthis.dataLoader.blockActiveLoad();\n\t\tthis.rowManager.clearData();\n\t}\n\t\n\t//get table data array\n\tgetData(active){\n\t\treturn this.rowManager.getData(active);\n\t}\n\t\n\t//get table data array count\n\tgetDataCount(active){\n\t\treturn this.rowManager.getDataCount(active);\n\t}\n\t\n\t//replace data, keeping table in position with same sort\n\treplaceData(data, params, config){\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, true, true);\n\t}\n\t\n\t//update table data\n\tupdateData(data){\n\t\tvar responses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\tresponses++;\n\t\t\t\t\t\t\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\treject(\"Update Error - Unable to update row\", item, e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\treject(\"Update Error - Unable to find row\", item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\taddData(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data){\n\t\t\t\tthis.rowManager.addRows(data, pos, index)\n\t\t\t\t\t.then((rows) => {\n\t\t\t\t\t\tvar output = [];\n\t\t\t\t\t\n\t\t\t\t\t\trows.forEach(function(row){\n\t\t\t\t\t\t\toutput.push(row.getComponent());\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t\tresolve(output);\n\t\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//update table data\n\tupdateOrAddData(data){\n\t\tvar rows = [],\n\t\tresponses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tresponses++;\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(row.getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.rowManager.addRows(item)\n\t\t\t\t\t\t\t.then((newRows)=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(newRows[0].getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//get row object\n\tgetRow(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//get row object\n\tgetRowFromPosition(position){\n\t\tvar row = this.rowManager.getRowFromPosition(position);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", position);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//delete row from table\n\tdeleteRow(index){\n\t\tvar foundRows = [];\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(!Array.isArray(index)){\n\t\t\tindex = [index];\n\t\t}\n\t\t\n\t\t//find matching rows\n\t\tfor(let item of index){\n\t\t\tlet row = this.rowManager.findRow(item, true);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\tfoundRows.push(row);\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Delete Error - No matching row found:\", item);\n\t\t\t\treturn Promise.reject(\"Delete Error - No matching row found\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//sort rows into correct order to ensure smooth delete from table\n\t\tfoundRows.sort((a, b) => {\n\t\t\treturn this.rowManager.rows.indexOf(a) > this.rowManager.rows.indexOf(b) ? 1 : -1;\n\t\t});\n\t\t\n\t\t//delete rows\n\t\tfoundRows.forEach((row) =>{\n\t\t\trow.delete();\n\t\t});\n\t\t\n\t\tthis.rowManager.reRenderInPosition();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\t//add row to table\n\taddRow(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\treturn this.rowManager.addRows(data, pos, index, true)\n\t\t\t.then((rows)=>{\n\t\t\t\treturn rows[0].getComponent();\n\t\t\t});\n\t}\n\t\n\t//update a row if it exists otherwise create it\n\tupdateOrAddRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn row.getComponent();\n\t\t\t\t});\n\t\t}else{\n\t\t\treturn this.rowManager.addRows(data)\n\t\t\t\t.then((rows)=>{\n\t\t\t\t\treturn rows[0].getComponent();\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\t//update row data\n\tupdateRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn Promise.resolve(row.getComponent());\n\t\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"Update Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Update Error - No matching row found\");\n\t\t}\n\t}\n\t\n\t//scroll to row in DOM\n\tscrollToRow(index, position, ifVisible){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn this.rowManager.scrollToRow(row, position, ifVisible);\n\t\t}else{\n\t\t\tconsole.warn(\"Scroll Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Scroll Error - No matching row found\");\n\t\t}\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tvar fromRow = this.rowManager.findRow(from);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromRow){\n\t\t\tfromRow.moveToRow(to, after);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", from);\n\t\t}\n\t}\n\t\n\tgetRows(active){\n\t\treturn this.rowManager.getComponents(active);\t\n\t}\n\t\n\t//get position of row in table\n\tgetRowPosition(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getPosition();\n\t\t}else{\n\t\t\tconsole.warn(\"Position Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t/////////////// Column Functions  ///////////////\n\tsetColumns(definition){\n\t\tthis.initGuard(false, \"To set initial columns please use the 'columns' property in the table constructor\");\n\t\t\n\t\tthis.columnManager.setColumns(definition);\n\t}\n\t\n\tgetColumns(structured){\n\t\treturn this.columnManager.getComponents(structured);\n\t}\n\t\n\tgetColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tif(column){\n\t\t\treturn column.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tgetColumnDefinitions(){\n\t\treturn this.columnManager.getDefinitionTree();\n\t}\n\t\n\tshowColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.show();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Show Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\thideColumn(field){\n\t\tvar column = this.columnManager.findColumn(field); \n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.hide();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Hide Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\ttoggleColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tif(column.visible){\n\t\t\t\tcolumn.hide();\n\t\t\t}else{\n\t\t\t\tcolumn.show();\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Column Visibility Toggle Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\taddColumn(definition, before, field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.columnManager.addColumn(definition, before, column)\n\t\t\t.then((column) => {\n\t\t\t\treturn column.getComponent();\n\t\t\t});\n\t}\n\t\n\tdeleteColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.delete();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Delete Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tupdateColumnDefinition(field, definition){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.updateDefinition(definition);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Update Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tvar fromColumn = this.columnManager.findColumn(from),\n\t\ttoColumn = this.columnManager.findColumn(to);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromColumn){\n\t\t\tif(toColumn){\n\t\t\t\tthis.columnManager.moveColumn(fromColumn, toColumn, after);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", from);\n\t\t}\n\t}\n\t\n\t//scroll to column in DOM\n\tscrollToColumn(field, position, ifVisible){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this.columnManager.findColumn(field);\n\t\t\t\n\t\t\tif(column){\n\t\t\t\treturn this.columnManager.scrollToColumn(column, position, ifVisible);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - No matching column found:\", field);\n\t\t\t\treturn Promise.reject(\"Scroll Error - No matching column found\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//////////// General Public Functions ////////////\n\t//redraw list without updating data\n\tredraw(force){\n\t\tthis.initGuard();\n\n\t\tthis.columnManager.redraw(force);\n\t\tthis.rowManager.redraw(force);\n\t}\n\t\n\tsetHeight(height){\n\t\tthis.options.height = isNaN(height) ? height : height + \"px\";\n\t\tthis.element.style.height = this.options.height;\n\t\tthis.rowManager.initializeRenderer();\n\t\tthis.rowManager.redraw(true);\n\t}\n\t\n\t//////////////////// Event Bus ///////////////////\n\t\n\ton(key, callback){\n\t\tthis.externalEvents.subscribe(key, callback);\n\t}\n\t\n\toff(key, callback){\n\t\tthis.externalEvents.unsubscribe(key, callback);\n\t}\n\t\n\tdispatchEvent(){\n\t\tvar args = Array.from(arguments);\n\t\targs.shift();\n\t\t\n\t\tthis.externalEvents.dispatch(...arguments);\n\t}\n\n\t//////////////////// Alerts ///////////////////\n\n\talert(contents, type){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.alert(contents, type);\n\t}\n\n\tclearAlert(){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.clear();\n\t}\n\t\n\t////////////// Extension Management //////////////\n\tmodExists(plugin, required){\n\t\tif(this.modules[plugin]){\n\t\t\treturn true;\n\t\t}else{\n\t\t\tif(required){\n\t\t\t\tconsole.error(\"Tabulator Module Not Installed: \" + plugin);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule(key){\n\t\tvar mod = this.modules[key];\n\t\t\n\t\tif(!mod){\n\t\t\tconsole.error(\"Tabulator module not installed: \" + key);\n\t\t}\n\t\t\n\t\treturn mod;\n\t}\n}\n\nexport default Tabulator;\n","//tabulator with all modules installed\nimport {default as Tabulator} from './Tabulator.js';\nimport * as allModules from '../core/modules/optional.js';\n\nclass TabulatorFull extends Tabulator {\n\tstatic extendModule(){\n\t\tTabulator.initializeModuleBinder(allModules);\n\t\tTabulator._extendModule(...arguments);\n\t}\n\n\tstatic registerModule(){\n\t\tTabulator.initializeModuleBinder(allModules);\n\t\tTabulator._registerModule(...arguments);\n\t}\n\n\tconstructor(element, options, modules){\n\t\tsuper(element, options, allModules);\n\t}\n}\n\nexport default TabulatorFull;\n","export default class PseudoRow {\n\n\tconstructor (type){\n\t\tthis.type = type;\n\t\tthis.element = this._createElement();\n\t}\n\n\t_createElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-row\");\n\t\treturn el;\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tgetComponent(){\n\t\treturn false;\n\t}\n\n\tgetData(){\n\t\treturn {};\n\t}\n\n\tgetHeight(){\n\t\treturn this.element.outerHeight;\n\t}\n\n\tinitialize(){}\n\n\treinitialize(){}\n\n\tnormalizeHeight(){}\n\n\tgenerateCells(){}\n\n\treinitializeHeight(){}\n\n\tcalcHeight(){}\n\n\tsetCellHeight(){}\n\n\tclearCellHeight(){}\n\n\trendered(){}\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}